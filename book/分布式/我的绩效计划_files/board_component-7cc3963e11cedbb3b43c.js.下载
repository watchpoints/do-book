/*! For license information please see board_component-7cc3963e11cedbb3b43c.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[32,46,68,121],{"+4kf":function(e,t){e.exports='<div ng-init="init()" class="recruit-portal-job">\n    <div ng-if="client == \'pc\'" class="pc-content">\n        <hc-list-btn model="view_btn_model" ng-if="app_type == \'recruit\' || is_inner_recruit"></hc-list-btn>\n        <hc-recruit-job-view ng-if="lazyLoadComponent" ng-model="context.id" options="options"></hc-recruit-job-view>\n    </div>\n    <div ng-if="client == \'mobile\'" class="mobile-content">\n        <hc-recruit-job-view ng-if="lazyLoadComponent" ng-model="context.id" options="options"></hc-recruit-job-view>\n        <footer ng-if="app_type == \'recruit\' || is_inner_recruit">\n            <hc-mobile-bottom-btn model="view_btn_model" options="options"></hc-mobile-bottom-btn>\n        </footer>\n    </div>\n</div>\n'},"+YsZ":function(e,t){e.exports='<div class="hc-board-link-search">\n    <div class="search">\n        <form action="" ng-submit="$event.preventDefault()">\n            <div class="link-selector"\n                 ng-if="$ctrl.current.name"\n                 ng-click="$ctrl.openSelector($event)">\n                {{$ctrl.current.name}}\n                <span class="icon-hcm-arrow-down-solid"></span>\n            </div>\n            <input class="search-box"\n                   ng-class="{\'with-selector\': $ctrl.current.name}"\n                   ng-model="$ctrl.search_str"\n                   placeholder="{{$ctrl.placeholder}}"\n                   ng-keyup="$ctrl.keyboardClick($event)">\n            <span class="icon icon-hcm-delete" ng-click="$ctrl.clearSearchStr($event)" ng-if="$ctrl.search_str"></span>\n            <span class="icon icon-hcm-check"\n                  ng-click="$ctrl.executeSearch()"></span>\n        </form>\n    </div>\n</div>'},"/+Fq":function(e,t){e.exports='<div class="recruit-apply-result-callback">\n    <div class="block-frame">\n        <div class="icon-hcm-delete close-dialog" ng-click="closeDialog()"></div>\n        <div class="block" ng-show="info.success"\n             ng-class="{\'block-with-qrcode\':company_we_chat_info,\'block-without-qrcode\':!company_we_chat_info}">\n            <div class="icon-rec-success icon-hcm-form-finished"></div>\n            <div class="content">\n                <div class="info cc-highlight">{{\'rec_apply_success\'|translate}}</div>\n                <div class="desc">{{info.msg}}</div>\n            </div>\n            <div class="operate cc-highlight-bk tg" ng-click="goProcess()" ng-if="!disable_process">{{\'查看应聘进程\'|translate}}</div>\n            <div class="operate  cc-highlight-bk tg" ng-if="disable_process" ng-click="goJobInfo()">{{\'rec_back_job_detail\'|translate}}</div>\n        </div>\n        <div class="block" ng-show="!info.success && info.status==1"\n             ng-class="{\'block-with-qrcode\':company_we_chat_info,\'block-without-qrcode\':!company_we_chat_info}">\n            <div class="icon warning icon-hcm-attention"></div>\n            <div class="content">\n                <div class="info cc-highlight" ng-if="info.program_control_mode != 2">{{\'简历完整度\'}}{{info.info}}%，{{\'rec_apply_fail\'|translate}}</div>\n                <div class="info cc-highlight" ng-if="info.program_control_mode == 2">{{\'简历完整度\'}}{{info.info}}%</div>\n                <div class="desc detail-reason-title">{{\'您的简历完整度不足\'}}{{info.lev_limit}}%，{{\'rec_reason_is\'|translate}}：</div>\n                <div ng-repeat="_notice in info.incomplete_info_detail_list track by $index" class="desc detail-reason">\n                    {{$index + 1}}、{{_notice.item_name}}{{\'rec_no_completeness\'|translate}} <span class="detail-score">，{{\'rec_score\'|translate}}:{{_notice.grade}}</span>\n                </div>\n                <div ng-repeat="_notice in info.incomplete_sub_sets track by $index" class="desc detail-reason-other-version">\n                    {{$index + 1}}、{{_notice}}{{\'rec_no_completeness\'|translate}}\n                </div>\n            </div>\n            <div class="operate-list">\n                <div class="operate  operate-apply cc-highlight-bk tg" ng-click="go_resume()">{{info.program_control_mode == 2 ? \'完善简历\' : \'完善简历，继续投递\'}}</div>\n                <div ng-if="info.program_control_mode == 2" class="operate  operate-apply cc-highlight-bk tg" ng-click="apply()">继续投递</div>\n            </div>\n        </div>\n        <div class="block" ng-show="!info.success && info.status==2"\n             ng-class="{\'block-with-qrcode\':company_we_chat_info,\'block-without-qrcode\':!company_we_chat_info}">\n            <div class="icon warning icon-hcm-attention"></div>\n            <div class="content">\n                <div class="info cc-highlight">{{\'rec_submit_repeat\'|translate}}</div>\n                <div class="desc">{{\'您已经投递过该职位，请跟踪进度\'|translate}}</div>\n            </div>\n            <div class="operate  cc-highlight-bk tg" ng-click="goProcess()" ng-if="!disable_process">{{\'rec_check_process_detail\'|translate}}</div>\n            <div class="operate  cc-highlight-bk tg" ng-if="disable_process" ng-click="goJobInfo()">{{\'rec_back_job_detail\'|translate}}</div>\n        </div>\n        <div class="block" ng-show="!info.success && info.status==3"\n             ng-class="{\'block-with-qrcode\':company_we_chat_info,\'block-without-qrcode\':!company_we_chat_info}">\n            <div class="icon warning icon-hcm-attention"></div>\n            <div class="content">\n                <div class="info cc-highlight">{{\'rec_apply_limited\'|translate}}</div>\n                <div class="desc">{{info.msg}}</div>\n            </div>\n            <div class="operate  cc-highlight-bk tg" ng-click="goJobInfo()">{{\'rec_back_job_detail\'|translate}}</div>\n        </div>\n        <div class="block" ng-show="!info.success && info.status==4"\n             ng-class="{\'block-with-qrcode\':company_we_chat_info,\'block-without-qrcode\':!company_we_chat_info}">\n            <div class="icon warning icon-hcm-attention"></div>\n            <div class="content">\n                <div class="info cc-highlight">{{\'rec_no_activity\'|translate}}</div>\n                <div class="desc">{{info.msg|translate}}</div>\n            </div>\n            <div class="operate  cc-highlight-bk tg" ng-click="goJobInfo()">{{\'rec_back_job_detail\'|translate}}</div>\n        </div>\n        <div class="block" ng-show="!info.success && info.status==5"\n             ng-class="{\'block-with-qrcode\':company_we_chat_info,\'block-without-qrcode\':!company_we_chat_info}">\n            <div class="icon warning icon-hcm-attention"></div>\n            <div class="content">\n                <div class="info cc-highlight">职位已下线</div>\n                <div class="desc">{{info.msg}}</div>\n            </div>\n            <div class="operate  cc-highlight-bk tg" ng-click="goJobInfo()">{{\'rec_back_job_detail\'|translate}}</div>\n        </div>\n        <div class="block" ng-show="!info.success && info.status==6"\n             ng-class="{\'block-with-qrcode\':company_we_chat_info,\'block-without-qrcode\':!company_we_chat_info}">\n            <div class="icon warning icon-hcm-attention"></div>\n            <div class="content">\n                <div class="info cc-highlight">{{\'rec_apply_fail\'|translate}}</div>\n                <div class="desc">{{info.msg|translate}}</div>\n            </div>\n            <div class="operate  cc-highlight-bk tg" ng-click="go_resume()">{{\'rec_finish_apply\'|translate}}</div>\n        </div>\n        <div class="block" ng-show="info.success===false&& info.status===undefined"\n             ng-class="{\'block-with-qrcode\':company_we_chat_info,\'block-without-qrcode\':!company_we_chat_info}">\n            <div class="icon warning icon-hcm-attention"></div>\n            <div class="content">\n                <div class="info cc-highlight">{{\'rec_apply_fail\'|translate}}</div>\n                <div class="desc">{{info.msg|translate}}</div>\n            </div>\n            <div class="operate  cc-highlight-bk tg" ng-click="go_resume()">{{\'rec_back_resume\'|translate}}</div>\n        </div>\n        <div class="qrcode" ng-if="company_we_chat_info">\n            <img ng-src="{{company_we_chat_info|wxCode}}">\n            <div class="qrcode-content">\n                <div class="qrcode_info">{{\'rec_process_notice\'|translate}}</div>\n                <div class="qrcode_sec">{{\'rec_follow_us\'|translate}}</div>\n            </div>\n        </div>\n        <div class="qrcode no-qrcode" ng-if="!company_we_chat_info">\n            {{\'rec_company_not_bind_wechat\'|translate}}\n        </div>\n    </div>\n</div>\n'},"/1DX":function(e){e.exports=JSON.parse('{"tip":"","fields":[{"key":"report","label":"report_id","component":"hc-input","options":{"tip":"在此处定义报表编号","singleLine":true,"width":"col-12","placeholder":"请输入编号","required":false}},{"key":"filter","label":"过滤条件","mode":"base","component":"hc-input-compute","options":{"singleLine":false,"mode":"json","width":"col-12","placeholder":"请输入过滤条件","required":false,"need_check":false,"returnFormat":"content"}}]}')},"/76H":function(e,t){e.exports='<div ng-init="$ctrl.$onInit()" class="board-setting-dialog">\n    <div class="setting-area">\n        <hc-form model="$ctrl.form_model"></hc-form>\n        <div class="setting-panel"></div>\n        <div class="extra-panel"></div>\n    </div>\n\n    <div class="preview-area">\n        <div class="preview">\n            <hc-count options="$ctrl.setting_panel_data"></hc-count>\n        </div>\n    </div>\n</div>'},"/A5W":function(e,t){e.exports='<div class="home-widget">\n    <div class="outer">\n        <div class="countText">{{$ctrl.inner_data}}</div>\n    </div>\n</div>'},"/DKH":function(e){e.exports=JSON.parse('{"tip":"","fields":[{"key":"data","label":"数据定义","component":"hc-input-mask","options":{"tip":"在此处定义需要使用的数据源","singleLine":true,"width":"col-12","placeholder":"请输入标识","required":false}},{"key":"listConfig","label":"列表配置","component":"hc-input-json","options":{"tip":"在此处定义列表配置，即list_config","singleLine":true,"width":"col-12","placeholder":"请输入","required":false}},{"key":"needPage","label":"是否分页","component":"hc-input-switch","options":{"tip":"是否分页，请确保数据源的配置中是否分页选择的为是，不分页默认20条","singleLine":true,"width":"col-12","placeholder":"请输入","required":false}},{"key":"defaultPageSize","label":"默认条数","component":"hc-input","options":{"tip":"在此处定义列表一页返回的条数， 请确保数据源的配置中是否分页选择的为是，不分页默认20条","singleLine":true,"width":"col-12","placeholder":"请输入","required":false}},{"key":"require","label":"刷新依赖","component":"hc-input-script","options":{"singleLine":true,"mode":"json","width":"col-12","placeholder":"请输入过滤条件","required":false}}]}')},"/IKj":function(e,t,n){e.exports='<div class="model-list-style" name="{{getIdentityName()}}" ng-class="{\'view\':view}" ng-init="init()">\n    <div ng-if="client===\'pc\' && super_search_meta" class="hcm-nav-content hcm-common-super-search-pc">\n        '+n("lIXP")+'\n        <div class="hcm-content flex" ng-show="searched || !show_homepage">\n            <div class="hcm-content-top">\n                '+n("1fhX")+'\n                <div class="operate">\n                    <div class="search" ng-click="showTip($event,true)">\n                        <div ng-class="{\'input-active\':inputActive}" ng-click="searched=true">\n                            <input class="super-search-input"\n                                   placeholder="请输入搜索词..."\n                                   autocomplete="off"\n                                   ng-model="$dialog.options.keywords"\n                                   ng-model-options="{debounce:1000}"\n                                   ng-keydown="operate($event,$dialog.options.keywords)"\n                                   ng-change="keywordsChange($dialog.options.keywords)"\n                                   ng-trim="false"/>\n                            <span class="icon icon-hcm-delete" ng-click="delete()" ng-if="$dialog.options.keywords"></span>\n                            <span class="icon icon-hcm-check"\n                                  ng-click="executeSearch($event)"></span>\n                            <span class="icon icon-hcm-question"\n                                  hc-title="空格代表“并且”条件，% 代表通配符"\n                                  options="{mode: \'tip\', seconds: 0}"></span>\n                        </div>\n                        <div class="auto-complete" ng-show="resultSearchTip.length>0">\n                            <div class="tip-list">\n                                <div class="auxiliary-prompt" ng-if="tipType===\'smart\'">是否匹配以下内容</div>\n                                <div ng-click="selectTip(item)" ng-repeat="item in resultSearchTip track by $index"\n                                     ng-class="{choose:tipIndex===$index}">{{item}}\n                                </div>\n                            </div>\n                        </div>\n                        <hc-form model=\'visual_search_model\' class="visual-search-form" ng-if="open_visual_search && searched || !show_homepage"></hc-form>\n                        <div class="form-slide-up"\n                             ng-if="open_visual_search"\n                             ng-click="visualSearchSlideUp()"\n                             ng-class="{\'fold\': visual_search_form_fold, \'expand\': !visual_search_form_fold}">\n                            {{visual_search_form_fold ? \'展开条件\' : \'收起条件\'}}\n                            <span class="expand-icon" ng-class="{\'icon-hcm-arrow-up\': !visual_search_form_fold, \'icon-hcm-arrow-down\': visual_search_form_fold}"></span>\n                        </div>\n                    </div>\n                    <div class="search-history" ng-if="history_list.length > 0 && open_search_history">\n                        <div class="history-title">\n                            <span class="title-text">历史记录</span>\n                            <div class="delete-icon icon-hcm-trash" ng-click="clearHistory()">清空</div>\n                        </div>\n                        <div class="history-content">\n                            <div class="icon-left icon-hcm-arrow-left-circle"\n                                 ng-if="is_overflow && history_list.length > 0"\n                                 ng-click="contentScroll(\'left\')"></div>\n                            <div class="keywords-content">\n                                <div class="keyword"\n                                     ng-repeat="keyword in display_history_list track by $index"\n                                     ng-click="historyKeywordsClick($index)">{{keyword}}</div>\n                            </div>\n                            <div class="icon-right icon-hcm-arrow-right-circle"\n                                 ng-if="is_overflow && history_list.length > 0"\n                                 ng-click="contentScroll(\'right\')"></div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            '+n("IGAs")+'\n        </div>\n    </div>\n    <div ng-if="client === \'mobile\' && super_search_meta" class="model-mobile-container hcm-common-super-search-mobile">\n        '+n("lIXP")+'\n        <div class="model-mobile-page" ng-class="{\'state\':mode == \'state\'}">\n            <div class="model-mobile-body" ng-show="searched || !show_homepage">\n                <img ng-if="background_img_mobile" ng-src="{{background_img_mobile}}" alt="background" class="top-background">\n                <div class="operate">\n                    <div class="search">\n                        <div class="input-frame" ng-class="{\'input-active\':inputActive}" ng-click="showTip($event);" ng-show="!open_visual_search">\n                            <div ng-click="searched=true">\n                                <span class="icon icon-hcm-check" ng-click="closeTip($event)"></span>\n                                <input class="super-search-input"\n                                       placeholder="(例 出生日期:1989 员工姓名:张三,李四)"\n                                       autocomplete="off"\n                                       ng-model="$dialog.options.keywords"\n                                       ng-model-options="{debounce:1000}"\n                                       ng-keydown="operate($event,$dialog.options.keywords)"\n                                       ng-change="keywordsChange($dialog.options.keywords)"\n                                       ng-trim="false"/>\n                                <span class="icon-hcm-delete-circle-solid delete-search" ng-if="$dialog.options.keywords" ng-click="delete($event)"></span>\n                            </div>\n                        </div>\n                        <div class="input-frame" ng-class="{\'input-active\':inputActive}" ng-click="showSearchDialog()" ng-show="open_visual_search">\n                            <div ng-click="searched=true">\n                                <span class="icon icon-hcm-check" ng-click="closeTip($event)"></span>\n                                <input class="super-search-input"\n                                       placeholder="(例 出生日期:1989 员工姓名:张三,李四)"\n                                       autocomplete="off"\n                                       ng-model="$dialog.options.keywords"\n                                       ng-model-options="{debounce:1000}"\n                                       ng-keydown="operate($event,$dialog.options.keywords)"\n                                       ng-change="keywordsChange($dialog.options.keywords)"\n                                       ng-trim="false"/>\n                                <span class="icon-hcm-delete-circle-solid delete-search" ng-if="$dialog.options.keywords" ng-click="delete($event)"></span>\n                            </div>\n                        </div>\n                        <div class="auto-complete" ng-show="resultSearchTip.length>0" ng-click="closeTip()">\n                            <div class="tip-content" ng-click="$event.stopPropagation()">\n                                <div class="tip-fixed">\n                                    空格代表“并且”条件\n                                </div>\n                                <div class="tip-list">\n                                    <div ng-click="selectTip(item)" ng-repeat="item in resultSearchTip track by $index"\n                                         ng-class="{choose:tipIndex===$index}">{{item}}\n                                    </div>\n                                </div>\n                                <div class="close-tip icon-hcm-delete" ng-click="closeTip()"></div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class="super-search-list-content" ng-show="show_no_data_svg">\n                    '+n("sLJd")+'\n                </div>\n            </div>\n        </div>\n    </div>\n    <ui-view ng-if="!$dialog"></ui-view>\n</div>\n\n'},"02xJ":function(e,t){e.exports='<div class="nine-map-mini" ng-init="init()">\n    <div class="map-content">\n        <div class="map-content-left">\n            <div class="content-top">\n                <div class="content-top-left">\n                    <div class="y-name">\n                        <div class="y-name-content">{{y_name}}</div>\n                        <div class="y-name-img">\n                            <span class="y-name-top"></span>\n                            <span class="y-name-center"></span>\n                            <span class="y-name-bottom"></span>\n                        </div>\n                    </div>\n                    <span class="y-type-all"></span>\n                    <div class="y-type">\n                        <div class="y-type-top">高</div>\n                        <div class="y-type-center">中</div>\n                        <div class="y-type-bottom">低</div>\n                    </div>\n                </div>\n                <div id="jsSortCom">\n                    <div class="content-content" ng-repeat="item in nine_map_list" ng-style="{background:item.color}"\n                    ng-class="item.number===big_number?\'big-number\':\'\'" ng-if="show_result">\n                        <div class="content-title">\n                            <span title="{{item.name}}">{{item.name}}</span>\n                        </div>\n                    </div>\n                    <div class="no-result" ng-if="!show_result">\n                        <span>暂无结果</span>\n                    </div>\n                </div>\n            </div>\n            <div class="content-bottom">\n                <span class="x-type-all"></span>\n                <div class="content-bottom-right">\n                    <div class="x-type">\n                        <div class="x-type-left">低</div>\n                        <div class="x-type-center">中</div>\n                        <div class="x-type-right">高</div>\n                    </div>\n                    <div class="x-name">\n                        <div class="x-name-img">\n                            <span class="x-name-left"></span>\n                            <span class="x-name-center"></span>\n                            <span class="x-name-right"></span>\n                        </div>\n                        <div class="x-name-content">{{x_name}}</div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n'},"0H0M":function(e){e.exports=JSON.parse('{"tip":"","fields":[{"key":"employee_id","label":"数据id","component":"hc-input","options":{"singleLine":true,"width":"col-12","placeholder":"请输入数据id","required":false,"refer_data":[{"label":"可选变量"}]}}]}')},"0VIf":function(e,t){e.exports='<div class="data-list" ng-init="init()" ng-style="{\'height\':\'100%\'}">\n    <home-widget-body-list-container options="$ctrl.inner_options" no-advance-query="false" filter-dict="$ctrl.filterDict">\n    </home-widget-body-list-container>\n</div>'},"0k85":function(e,t,n){"use strict";window.app.service("risingChannelService",["dataService",function(e){return{promotionGrade:function(t){return e.callHcmOpenApi("emp.qualification.promotion.grade",{employee_id:t})},calculateFilters:function(t){var n=t.employee_id,i=t.filter_type,o=t.job_step_id;return e.callHcmOpenApi("emp.qualification.calculate.filters",{employee_id:n,filter_type:i,job_step_id:o})}}}])},"0xni":function(e,t,n){"use strict";n("07d7"),n("5s+n");var i=n("FLGM"),o=n.n(i),r=n("6UaR"),a=n.n(r),s=n("eLKs"),c=n.n(s),l=n("/FZm"),u=n.n(l),d=n("Kwsy"),p=n.n(d),h=n("MoVH"),f=n.n(h),_=(n("JAQY"),n("4l1m"),n("8Auy")),m=function(){function e(e,t,n,i){this.$scope=e,this.$rootScope=t,this.$hcDialog=n,this.$element=i}return e.prototype.$onInit=function(){var e,t=this,i=this;(this.parsedOptions=this.funcParse(i.options),this.$scope.super_go=function(e,n,i,o){t.$rootScope.super_go(e,n,i,o)},this.model&&this.model.length>1)?p()((function(){n.e(92).then(n.bind(null,"TaHA")).then((function(e){var t,n,o=e.Swiper,r=e.Pagination,a=e.Autoplay,s=e.Navigation;o.use([r,a,s]);var c=u()(t=i.$element).call(t,".swiper-container")[0];i.carousel=new o(c,{direction:"horizontal",loop:!0,pagination:{el:".swiper-pagination",clickable:!0},autoplay:{delay:(null===(n=i.parsedOptions)||void 0===n?void 0:n.delay)||3e3,disableOnInteraction:!1},on:{click:function(e){var t=e.activeIndex;i.proxyClick(e,t)}},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}})}))}),1e3):this.$scope.imgClick=c()(e=this.proxyClick).call(e,this);this.$scope.$on("collapse-menu-plugins",(function(){p()((function(){var e,t;a()(i.carousel)?null===(e=i.carousel)||void 0===e||o()(e).call(e,(function(e){e.update()})):null===(t=i.carousel)||void 0===t||t.update()}),100)})),this.$scope.$watch("$ctrl.model",(function(e,t){e!==t&&p()((function(){var e,t;a()(i.carousel)?null===(e=i.carousel)||void 0===e||o()(e).call(e,(function(e){e.update()})):null===(t=i.carousel)||void 0===t||t.update()}))}),!0)},e.prototype.funcParse=function(e){var t={SCOPE:this.$scope,$hcDialog:this.$hcDialog,WINDOW:window};return _.a.jsonEval(e,t,{})},e.prototype.proxyClick=function(e,t){var n,i;null===(i=null===(n=this.parsedOptions)||void 0===n?void 0:n.drill)||void 0===i||i.call(n,e,t)},e.$inject=["$scope","$rootScope","$hcDialog","$element"],e}();window.app.component("hcCarousel",{bindings:{model:"<?",options:"<?"},template:f.a,controller:m})},"26w8":function(e){e.exports=JSON.parse('{"fields":[{"key":"adjustable","label":"是否允许设置应用列表","component":"hc-input-radio","options":{"data_type":"boolean","singleLine":true,"list":[{"name":"允许","value":true},{"name":"不允许","value":false}],"returnFormat":"value","required":true}}]}')},"2Nch":function(e){e.exports=JSON.parse('{"fields":[{"key":"adjustable","label":"是否允许设置应用列表","component":"hc-input-radio","options":{"data_type":"boolean","singleLine":true,"tip":"隐藏右上角设置按钮","list":[{"name":"允许","value":true},{"name":"不允许","value":false}],"returnFormat":"value","required":true}}]}')},"2gqv":function(e){e.exports=JSON.parse('{"fields":[{"key":"data","label":"数据源定义","component":"hc-input-mask","options":{"tip":"在此处定义需要使用的数据源","singleLine":true,"width":"col-12","placeholder":"请输入标识","required":false}},{"key":"menu_config","label":"组件可选参数配置","component":"hc-input-json","options":{"singleLine":true,"width":"col-12","placeholder":"请输入配置参数","required":false}},{"key":"item_click","label":"点击事件配置","component":"hc-input-script","xss_ignore":true,"options":{"singleLine":true,"width":"col-12","placeholder":"请配置点击事件","required":false}}]}')},"2pS5":function(e,t){e.exports='<div class="recruit-resume-detail-view" ng-init="init()">\n    <div>\n        <hc-view model="view_model" class=""></hc-view>\n    </div>\n    <div ng-if="$ctrl.options.show_btn">\n        <hc-list-btn model="view_btn_model"></hc-list-btn>\n    </div>\n</div>\n'},"38BP":function(e,t){e.exports='<div class="hc-board-hierarchy-tree-chart-container">\n    <hc-list-btn model="$ctrl.btn_model" class="chart-btn"></hc-list-btn>\n    <div id="chart-container"></div>\n</div>'},"3iGz":function(e,t){e.exports='<home-widget-rising-channel options="$ctrl.optionsParams" get-item-id="$ctrl.getItemID" ng-if="$ctrl.$scope.getItemID"></home-widget-rising-channel>'},"3zsh":function(e){e.exports=JSON.parse('{"tip":"","fields":[]}')},"4Dz0":function(e,t){e.exports='<div class="hc-board-stat-report">\n    <div class="hcm-content-top" ng-if="$ctrl.list_model.columns.length > 0" ng-class="{\'setting-form-hidden\': $ctrl.options.hideComponents.includes(\'stat_setting_form\')}">\n        <div class="report_filter simple-form" ng-if="!$ctrl.options.hideComponents.includes(\'stat_setting_form\')">\n            <span>统计设置：</span>\n            <hc-form model="$ctrl.stat_setting"></hc-form>\n        </div>\n        <hc-list-btn model="$ctrl.btn_model"></hc-list-btn>\n    </div>\n\n    <div class="hcm-content-bottom">\n        <div class="hcm-hc-list-container">\n            <hc-list-new model="$ctrl.list_model"></hc-list-new>\n            <hc-list-no-data model="$ctrl.list_model" caption="没有找到相应的数据"></hc-list-no-data>\n        </div>\n        <div class="hcm-foot flex">\n            <div class="hcm-foot-stat flex-1"\n                ng-if="client === \'pc\' && $ctrl.meta_info.stat.length>0 && !!$ctrl.stat_data && $ctrl.meta_info.stat_config.stat_mode!=\'table-footer\'">\n                <span ng-repeat="_stat in $ctrl.meta_info.stat">\n                    <span class="stat-label">{{_stat.label}}</span>\n                    <span class="stat-data">{{$ctrl.stat_data[_stat.key]|hcNumber:((_stat.decimal===undefined ||\n                        _stat.decimal===null )?\n                        ((_stat.precision===undefined || _stat.precision===null)? 2 : _stat.precision) :\n                        _stat.decimal)}}&nbsp;&nbsp;</span>\n                </span>\n            </div>\n            <div class="hcm-foot-paging">\n                <hc-paging paging="$ctrl.paging" ng-if="$ctrl.paging.page_count>0"></hc-paging>\n            </div>\n        </div>\n    </div>\n</div>'},"6+XQ":function(e){e.exports=JSON.parse('{"fields":[{"key":"init_mode","label":"初始登录模式","component":"hc-input","options":{"tip":"初始登录模式password:密码登录，get_code:验证码登录","singleLine":true,"width":"col-12","placeholder":"请设置组件初始登录模式","required":false}},{"key":"app_type","label":"应用类型","component":"hc-input","options":{"tip":"在此处定义app_type","singleLine":true,"width":"col-12","placeholder":"请设置app_type","required":false}},{"key":"state","label":"跳转定义","component":"hc-input","options":{"tip":"在此处定义登录成功后跳转页面state","singleLine":true,"width":"col-12","placeholder":"请设置跳转state","required":false}},{"key":"state_params","label":"跳转参数定义","component":"hc-input-script","xss_ignore":true,"options":{"tip":"在此处定义登录成功后跳转页面的参数","singleLine":true,"mode":"json","width":"col-12","placeholder":"请设置跳转相关参数","required":false}},{"key":"hooks","label":"插入点配置","component":"hc-input-json","xss_ignore":true,"options":{"singleLine":true,"width":"col-12","placeholder":"请在此处定义插入点","required":false}},{"key":"extra_property","label":"额外参数","component":"hc-input-script","xss_ignore":true,"options":{"singleLine":true,"width":"col-12","mode":"json","placeholder":"请在此处定义额外参数","required":false}}]}')},"6/xw":function(e,t){e.exports='<div class="nine-map-dept" ng-init="init()">\n    <div class="map-content">\n        <div class="map-content-left">\n            <div class="content-top">\n                <div class="content-top-left">\n                    <div class="y-name">\n                        <div class="y-name-content">{{y_name}}</div>\n                        <div class="y-name-img">\n                            <span class="y-name-top"></span>\n                            <span class="y-name-center"></span>\n                            <span class="y-name-bottom"></span>\n                        </div>\n                    </div>\n                    <span class="y-type-all"></span>\n                    <div class="y-type">\n                        <div class="y-type-top">高</div>\n                        <div class="y-type-center">中</div>\n                        <div class="y-type-bottom">低</div>\n                    </div>\n                </div>\n                <div id="jsSortCom">\n                    <div class="content-content" ng-repeat="item in nine_map_list" ng-style="{background:item.color}"\n                    ng-class="item.number===big_number?\'big-number\':\'\'" ng-if="show_result">\n                        <div class="content-title">\n                            <span>{{item.name}}</span>\n                            <span>{{item.count}}人&nbsp;&nbsp;({{item.percent}}%)</span>\n                        </div>\n                    </div>\n                    <div class="no-result" ng-if="!show_result">\n                        <span>暂无结果</span>\n                    </div>\n                </div>\n            </div>\n            <div class="content-bottom">\n                <span class="x-type-all"></span>\n                <div class="content-bottom-right">\n                    <div class="x-type">\n                        <div class="x-type-left">低</div>\n                        <div class="x-type-center">中</div>\n                        <div class="x-type-right">高</div>\n                    </div>\n                    <div class="x-name">\n                        <div class="x-name-img">\n                            <span class="x-name-left"></span>\n                            <span class="x-name-center"></span>\n                            <span class="x-name-right"></span>\n                        </div>\n                        <div class="x-name-content">{{x_name}}</div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n'},"6moa":function(e,t,n){e.exports='<div class="home-widget" ng-if="!$ctrl.options.isNewStyle" ng-class="$ctrl.key">\n    <div class="countSecBox">\n        <div class="countSec">\n            <div class="num" ng-style="{color: $ctrl.boardCtrl.model.color[0]}" ng-class="{\'drill\': $ctrl.options.drill}" ng-click="$ctrl.drillDown()">{{$ctrl.countNum}}</div>\n            <div class="text">{{$ctrl.countTitle | translate}}</div>\n        </div>\n    </div>\n</div>\n\n<div class="home-widget count-sec-new-style" ng-if="$ctrl.options.isNewStyle">\n    <div class="newStyle">\n        <div class="icon-and-text">\n            <div class="icon"><img src="'+n("txwG")+'"></img></div>\n            <div class="text">{{$ctrl.countTitle | translate}}</div>\n        </div>\n        <div class="num" ng-class="{\'drill\': $ctrl.options.drill}" ng-click="$ctrl.drillDown()">{{$ctrl.countNum}}</div>\n    </div>\n</div>\n'},"6s+N":function(e,t){e.exports='<div class="board-my-favorite-app" ng-class="$ctrl.options.class">\n    <div class="no-data" ng-if="$ctrl.app_list&&$ctrl.app_list.length<1&&$ctrl.client===\'pc\' && $ctrl.options.position !== \'inner\'">\n        <hc-svg options="{icon:\'hcm-no-content\'}"></hc-svg>\n        <div class="label">{{\'common_home_widget_my_app_no_content\'|translate}}</div>  \x3c!--当前没有内容--\x3e\n    </div>\n    <div class="app-list" ng-show="$ctrl.app_list && ($ctrl.app_list.length > 0 || $ctrl.options.position === \'inner\')">\n        <div class="item-container" ng-repeat="page in $ctrl.app_pages track by $index">\n            <div class="app-item-wrapper" ng-repeat="_app in page track by $index">\n                <a class="app-item"\n                   ng-if="$ctrl.client===\'pc\'"\n                   ng-class="{\'from-role\': _app.from_role}"\n                   ng-href="{{_app.href}}"\n                   ng-click="$ctrl.go_app(_app, $event)"\n                   ng-attr-target="{{($ctrl.is_open_new_page || _app.open_new_page)?\'_blank\':\'_self\'}}">\n                    <hc-icon app="_app" options="\'icon-top\'"></hc-icon>\n                    <div class="label"\n                         hc-title="{{$ctrl.app_title_description ? _app.description : _app.name}}"\n                         options="{mode: \'tip\', showOnOverflow: !$ctrl.app_title_description}">\n                        {{_app.name}}\n                    </div>\n                </a>\n                <div class="app-item"\n                     ng-if="$ctrl.client===\'mobile\'"\n                     ng-class="{\'from-role\': _app.from_role}"\n                     ng-click="$ctrl.go_app(_app, $event)">\n                    <hc-icon app="_app" options="\'icon-top\'"></hc-icon>\n                    <div class="label" hc-title="{{$ctrl.app_title_description ? _app.description : _app.name}}"\n                         options="{mode: \'tip\', showOnOverflow: !$ctrl.app_title_description}">\n                        {{_app.name}}\n                    </div>\n                </div>\n            </div>\n            <div class="add-app"\n                 ng-repeat="operate in $ctrl.operates track by $index"\n                 ng-if="$ctrl.current_page===$ctrl.app_pages.length - 1\n                        && $ctrl.options.position === \'inner\'\n                        && $ctrl.options.adjustable === true"\n                 ng-show="$ctrl.currentTab===operate.key "\n                 ng-click="operate.func(operate)">\n                <div class="add-app-icon">\n                    <div class="icon icon-hcm-add"></div>\n                    <span class="label">添加收藏</span>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="page-index-bar" ng-if="$ctrl.app_pages.length > 1&&$ctrl.client===\'pc\'">\n        <div class="index-bar-item" ng-repeat="(index, _) in $ctrl.app_pages track by $index"\n             ng-class="{\'selected\': $ctrl.current_page === index}" ng-click="$ctrl.changePage(index)"></div>\n    </div>\n</div>\n'},"6w1o":function(e,t){e.exports='<nine-map-mini options="$ctrl.optionsParams" get-item-id="$ctrl.getItemID" ng-if="$ctrl.$scope.getItemID"></nine-map-mini>'},"7aWf":function(e,t){e.exports='<div ng-init="init()" class="org-dept-new-search-dialog">\n    <div class="tabPanes">\n        <hc-tabs value="current_tab"\n                 on-value-change="changeType">\n            <hc-tab-pane\n                ng-repeat="tab in tab_item track by $index"\n                label="tab.label"\n                name="tab.value"\n                hide-count=true\n                is-selected-new-style=true\n                is-selected-animate-style=true\n            ></hc-tab-pane>\n        </hc-tabs>\n    </div>\n    \n    <hc-search-list key="emp" options="empSearchOptions" ng-show="current_tab===\'emp\'" ng-if="isLoaded" org="params.org_id"></hc-search-list>\n    <hc-search-list key="org" options="orgSearchOptions" ng-show="current_tab===\'org\'" ng-if="isLoaded" org="params.org_id"></hc-search-list>\n</div>'},"7hkl":function(e,t){e.exports='\n\n<div class="inner-word-cloud">\n    <img ng-src="{{$ctrl.img_src}}">\n</div>\n'},"7pNK":function(e){e.exports=JSON.parse('{"fields":[{"key":"components","label":"组件定义","component":"hc-field-list","options":{"singleLine":false,"width":"col-12","required":true,"list_meta":[{"key":"name","label":"标题","field":["name"],"data_type":"string","sequence":"10"},{"key":"component","label":"组件","field":["component"],"data_type":"string","sequence":"20"}],"operate_row":[{"key":"delete","icon":"icon-hcm-trash"}],"list_btn_meta":[{"key":"new_edit","label":"新增/设置组件"}]}}],"groups":[{"key":"core","label":"基础配置","field_list":["data","base_template","dim_fields","ag_fields","chart","drill","require"]}]}')},"8JFS":function(e,t){e.exports='<div ng-init="init()">\n    <div class="rec-depart-info-pc" ng-if="client == \'pc\'">\n        <div class="depart-logo">\n            <img class="logo" ng-if="logo_address"\n                 ng-src="{{logo_address}}"\n                 alt="{{departInfo.name}}"/>\n            <div class="name">{{departInfo.name}}</div>\n        </div>\n        <div class="depart-title" ng-if="depart_meta.part_1">\n            <div class="depart-info" ng-repeat="part in depart_meta.part_1 track by $index">\n                <span class="label">{{part.label}}</span><span\n                ng-if="!part.type && part.type!=\'url\'">{{departInfo[part.key]}}</span><span\n                ng-if="departInfo.scale.search(\'人\') < 0 && part.key == \'scale\'"\n                class="staff">人</span>\n                <a ng-href="{{departInfo.web_site}}" ng-if="part.type && part.type==\'url\'&& departInfo.web_site"\n                   target="_blank">{{part.url_label || \'点击查看\'}}</a>\n                <span\n                    ng-if="part.type && part.type==\'url\'&& !departInfo.web_site"\n                    class="staff">无</span>\n            </div>\n        </div>\n        <div class="depart-tag" ng-if="depart_meta.part_2">\n            <span class="tag" ng-repeat="item in departInfo.tag track by $index">{{item}}</span>\n        </div>\n        <div class="depart-desc" ng-if="depart_meta.part_3">\n            <div class="content" ng-repeat="part in depart_meta.part_3">{{departInfo[part.key]}}</div>\n        </div>\n    </div>\n    <div class="rec-depart-info-mobile" ng-if="client == \'mobile\' ">\n        <div class="company-card"\n             ng-click="go_company()">\n            <div class="left">\n                <img class="logo" ng-if="logo_address"\n                     ng-src="{{logo_address}}"\n                     alt="{{departInfo.name}}"/>\n            </div>\n            <div class="mid">\n                <div class="name">\n                    {{departInfo.name}}\n                </div>\n                <div class="info">\n                    <span ng-show="departInfo.scale">{{departInfo.scale}}<span ng-if="departInfo.scale.search(\'人\') < 0"\n                                                                               class="staff">人</span></span>\n                    <span ng-show="departInfo.industry">{{departInfo.industry}}</span>\n                </div>\n            </div>\n            <div class="right">\n                <span class="icon icon-hcm-arrow-right"></span>\n            </div>\n        </div>\n    </div>\n</div>\n'},"8rxN":function(e,t,n){"use strict";n("sMBO");var i=n("M5Mt"),o=n.n(i),r=n("ZbhI"),a=n.n(r),s=n("5PDf"),c=n.n(s),l=n("RXMP"),u=n.n(l),d=n("WxoT"),p=n.n(d),h=n("FLGM"),f=n.n(h),_=n("Im7n"),m=n.n(_);n("8Auy");window.app.controller("MostUsedAppAdjustCtrl",["$scope","$hcConfigList","$hcDataset","contextService","$q","HomeWidgetMostUsedAppService","IndexService","$filter","$rootScope","hcAutoCopyService",function(e,t,n,i,r,s,l,d,h,_){e.init=function(){e.auth=i.getContext("auth"),e.initComponent()},e.submit=function(){var t=e.parse_app_list_order();t&&(e.$dialog.resolve_data(t),e.$dialog.dialog_close())},e.cancel=function(){e.$dialog.dialog_close()},e.cleanInvalidData=function(){var t,n=f()(t=e.invalid_id).call(t,(function(e){return s.delMostUsedApp(e)}));r.all(n).then((function(){h.show_warning("已清理"+e.invalid_id.length+"条无效记录"),e.initComponent()}))},e.copyAppList=function(){var t;_.copy(p()(f()(t=e.dataset_model.selected_list).call(t,(function(e){return{app_id:e.id,is_service:e.is_service}})))),h.show_warning("已将应用ID复制到剪贴板")},e.operate_meta=[{key:"cancel",label:"取消",func:e.cancel},{key:"submit",label:"确定",default:!0,func:e.submit},{key:"clear_invalid",default:!0,label:"清理无效记录",hide:function(){return!d("getValue")(e,["invalid_id","length"])},left:!0,func:e.cleanInvalidData},{key:"get_app_id_list",label:"复制应用列表",hide:function(){var t,n,i,o;return!((null===(t=e.auth)||void 0===t||null===(n=t.roles)||void 0===n?void 0:n.onlyoneowner)||(null===(i=e.auth)||void 0===i||null===(o=i.roles)||void 0===o?void 0:o["sys-manager"]))},left:!0,func:e.copyAppList}],e.$dialog.operates(e.operate_meta),e.initComponent=function(){var i={favor_app_list:s.getMostUsedAppList(e.auth.company.id,e.auth.employee.id),my_app:l.getMyApplication("pc")};r.all(i).then((function(i){var o,r;e.application_list=[],e.my_app=angular.copy(i.my_app),e.my_app=f()(o=e.my_app).call(o,(function(t){var n;return t.key=t.id,u()(n=t.applications).call(n,(function(t){t.key=t.id,t.label=t.name,e.application_list.push(t)})),t.fields=t.applications,t})),e.favor_app_list=[],e.invalid_id=[],e.origin_favor_app_list=angular.copy(i.favor_app_list),f()(r=i.favor_app_list.list).call(r,(function(t){var n,i=c()(n=e.application_list).call(n,(function(e){return e.id===t.app_id&&!!e.is_service==!!t.is_service}))[0];d("isValidValue")(i)?(i.sequence=t.sequence,i.favor_id=t.id,e.favor_app_list.push(i)):t.id&&e.invalid_id.push(t.id)})),e.invalid_id.length>0&&h.show_warning('存在不可用的最近应用，如需清理请点击"清理无效记录"'),e.dataset_model=n.createDataset({loader:e.getDatasetData,load_params:[]}),e.dataset_model.$initDataset(),e.dataset_model.selected_list=angular.copy(e.favor_app_list),e.config_model=t.createConfigList({meta:[{width:100,label:"名称",field:["name"]}],data:e.dataset_model.selected_list,show_index:!0,operates:[{icon:"icon-hcm-arrow-cross-up-solid",func:function(t,n){e.operateCondition.move_up(t,n)}},{icon:"icon-hcm-arrow-cross-down-solid",func:function(t,n){e.operateCondition.move_down(t,n)}},{icon:"icon-hcm-delete-circle-solid",func:function(t,n){e.operateCondition.delete(t,n)}}]})}))},e.getDatasetData=function(){var t=r.defer();return t.resolve(e.my_app),t.promise},e.parse_app_list_order=function(){var t,n,i,o;if(!(e.dataset_model.selected_list.length>32)){e.selectedAppList=f()(t=e.dataset_model.selected_list).call(t,(function(e,t){var n;return{id:e.id,sequence:t,is_service:null!==(n=e.is_service)&&void 0!==n&&n}}));var r=[],a=[];f()(n=e.selectedAppList).call(n,(function(t){var n,i=c()(n=e.favor_app_list).call(n,(function(e){return e.id===t.id}))[0];i?(i.parsed=!0,i.favor_id?(t.favor_id=i.favor_id,i.sequence!==t.sequence&&r.push(t)):a.push(t)):a.push(t)}));var s=f()(i=c()(o=e.favor_app_list).call(o,(function(e){return!e.parsed}))).call(i,(function(e){return{id:e.favor_id}}));return{data_to_add:a,data_to_modify:r,data_to_del:s}}h.show_warning("自定义保存的应用不得超过32个")},e.operateCondition={move_up:function(t){var n,i=a()(n=e.dataset_model.selected_list).call(n,t);if(0!==i){var r,s,c=o()(r=e.dataset_model.selected_list).call(r,i,1)[0];o()(s=e.dataset_model.selected_list).call(s,i-1,0,c)}},move_down:function(t){var n,i=a()(n=e.dataset_model.selected_list).call(n,t);if(i!==e.dataset_model.selected_list.length-1){var r,s,c=o()(r=e.dataset_model.selected_list).call(r,i,1)[0];o()(s=e.dataset_model.selected_list).call(s,i+1,0,c)}},delete:function(t){var n,i,r=a()(n=e.dataset_model.selected_list).call(n,t);o()(i=e.dataset_model.selected_list).call(i,r,1)}}}]),t.a={controller:"MostUsedAppAdjustCtrl",template:m.a,title:"常用应用设置"}},"8xC1":function(e,t,n){"use strict";var i=n("KHwQ").module("myApp");t.a=i},A8Uh:function(e,t){e.exports='<div ng-init="init()" class="components-container">\n    <div id="components-style" class="con{{$ctrl.key}}">\n        <div class="inner-style {{$ctrl.key}} componentsContent_{{$index}}" \n            ng-repeat="item in $ctrl.result track by $index"\n            ng-click="$ctrl.componentOnclick($index)">\n            <photo-and-name options=\'$ctrl.inner_options\' ng-if="$ctrl.inner_component === \'photo_and_name\'"\n                data=\'$ctrl.inner_data[$index]\'></photo-and-name>\n            <name options=\'$ctrl.inner_options\' ng-if="$ctrl.inner_component === \'name\'"\n                data=\'$ctrl.inner_data[$index]\'></name>\n        </div>\n    </div>\n</div>'},AGQQ:function(e,t){e.exports="<home-widget-emp-card-mobile></home-widget-emp-card-mobile>\n<home-widget-emp-card-pc></home-widget-emp-card-pc>\n"},AjBl:function(e,t){e.exports='<home-widget-emp-view-card-mobile options="options"></home-widget-emp-view-card-mobile>\n<home-widget-emp-view-card-pc options="options"></home-widget-emp-view-card-pc>\n'},BAc2:function(e,t){e.exports='<div ng-init="$ctrl.$onInit()" class="board-setting-dialog">\n    <div class="setting-area">\n        <hc-form model="$ctrl.form_model"></hc-form>\n        <div class="setting-panel"></div>\n        <div class="extra-panel"></div>\n    </div>\n\n    \x3c!-- <div class="preview-area">\n        <div ng-if="!$ctrl.preview_model" class="valid-tip">\n            <hc-svg options="{icon:\'hcm-no-content\'}" class="no-data-svg"></hc-svg>\n            请完善插件配置信息\n        </div>\n        <div ng-if="$ctrl.validate_update" class="valid-update">\n            检测到图形配置变化, 点击<span ng-click="$ctrl.refreshPreviewModelVersion($event)" class="valid-update-btn">刷新</span>\n        </div>\n        <portal-chart\n            ng-if="!!$ctrl.preview_model"\n            model=\'$ctrl.preview_model\'\n        ></portal-chart>\n    </div> --\x3e\n\n    \n</div>\n\n'},BQy6:function(e,t,n){"use strict";var i=n("1hbj"),o=(n("srGB"),n("0Xdj"));n("17i/");window.app.directive("waterfallViewBase",[function(){return{restrict:"EA",template:n("f3y0"),scope:{childModel:"=",role:"=",checkRoleFunctions:"=",getItemId:"="},controller:["$scope","$state","$rootScope","$hcDialog","$controller","contextService","BaseCRUDService",function(e,t,n,r,a,s,c){var l=c.getModelService(e.childModel.model),u=e.childModel.meta_state||t.params.meta_state||e.role;a(o.a,{$scope:e,CRUDService:l,InfoDialog:Object(i.a)(e.childModel.model,u)}),e.meta_state=u,e.setTitle=function(){},e.initBefore=function(){e.title_tip=e.childModel.tip},e.individualParse=function(t){return e.checkRoles(t.role),t},e.checkRoles=function(t){var n;null===(n=e.checkRoleFunctions)||void 0===n||n.checkRoles(t)},e.refreshChild=function(e){n.$emit("refresh_child_signal",e)},e.getItemID=function(){return e.getItemId&&e.getItemId()||e.params&&e.params.id},n.$on("base_data_change",(function(){e.fetchData()})),n.$on("waterfall_data_change",(function(){e.fetchData()})),n.$on("refresh_child",(function(t,n){n&&n===e.childModel.key&&e.fetchData()}))}]}}])},BUII:function(e,t){e.exports='<div class="resume-multi-content" ng-init="init()">\n    <div ng-if="client== \'pc\'">\n        <div class="resume-block-title"><span\n            class="arrow"\n            ng-class="{\n                        \'icon-hcm-arrow-down-solid\': !group_fold,\n                        \'icon-hcm-arrow-right-solid\': group_fold\n                     }"\n            ng-if="desc"\n            ng-click="foldClick()"\n        ></span>{{desc}}\n            <span ng-if="childModel.tip" class="tip icon icon-hcm-question"\n                  hc-title="{{childModel.tip}}"\n                  options="{\'mode\': \'tip\',\'seconds\': 0, \'direction\': \'column\', \'mobile\': true}">\n                </span>\n            <hc-list-btn model="list_btn_model" class="list_btn_model_mobile"></hc-list-btn>\n        </div>\n        {{group.fold}}\n        <div class="resume-block-content" ng-style="{\'display\':group_fold?\'none\':\'block\'}">\n            <hc-list-new model="list_model" ng-class="{\'no_list_config\':no_list_config}"></hc-list-new>\n        </div>\n    </div>\n    <div ng-if="client==\'mobile\'">\n        <div class="resume-block-head title-mobile">\n            <div class="resume-block-title">\n                <span class="mobile-arrow"\n                      ng-class="{\n                        \'icon-hcm-arrow-down-solid\': !group_fold,\n                        \'icon-hcm-arrow-right-solid\': group_fold\n                     }"\n                      ng-if="desc"\n                      ng-click="foldClick()"\n                ></span>\n                <span>{{desc}}</span>\n                <hc-list-btn model="list_btn_model" class="list_btn_model_mobile"></hc-list-btn>\n            </div>\n        </div>\n        <div class="resume-inner-work" ng-style="{\'display\':group_fold?\'none\':\'block\'}">\n            <hc-list-new model="list_model"\n                         ng-class="{\'no_list_config\':no_list_config,\'no_list_config_mobile\':client==\'mobile\' && no_list_config}"></hc-list-new>\n        </div>\n    </div>\n    <div ng-if="list_model.data.length<1" class="no-data-list">\n        <hc-list-no-data model="{\'no_content_click\':no_content_click}" caption="⊕ 无标签？创建第一个标签吧！"\n                         ng-if="list_model.name ===\'crud_model_EmpTagInformation\'"></hc-list-no-data>\n        <span ng-if="list_model.name !==\'crud_model_EmpTagInformation\'">没有相关数据</span>\n    </div>\n</div>\n\n\n'},Bqqz:function(e){e.exports=JSON.parse('{"fields":[{"label":"卡片信息模型","key":"model","component":"hc-super-selector","options":{"data_type":"string","individual_name":"name_description","placeholder":"请输入列表模型","returnFormat":"name","selectorObject":"hcm.db.object","maxlength":40,"require":true,"singleLine":true}},{"key":"state","label":"卡片信息场景","mode":"base","component":"hc-input","options":{"singleLine":true,"width":"col-12","placeholder":"请输入列表场景","required":false}},{"key":"filter_dict","label":"默认搜索条件","component":"hc-input-script","options":{"singleLine":true,"mode":"json","width":"col-12","placeholder":"请设置组件默认搜索条件","required":false}},{"key":"filter_str","label":"默认搜索字符","component":"hc-input","options":{"singleLine":true,"width":"col-12","placeholder":"请设置组件默认搜索字符","required":false}}]}')},C9a7:function(e){e.exports=JSON.parse('{"tip":"","fields":[{"key":"block_info","label":"数据源设置","component":"hc-input-mask","options":{"singleLine":true,"width":"col-12","placeholder":"点击设置数据源"}},{"key":"base_template","label":"模版选择","component":"hc-chart-type","options":{"singleLine":true,"required":true,"default":"custom","list":[{"icon":"hcm-chart-line","name":"折线图","key":"line"},{"icon":"hcm-chart-bar-x","name":"柱状图","key":"bar"}]}},{"key":"data_dim","label":"预制统计维度","dataPath":["data","dim"],"component":"hc-input-tag","options":{"singleLine":false,"width":"col-12","placeholder":"请输入维度","required":false}},{"key":"data_aggr","label":"预制统计值","dataPath":["data","aggr"],"component":"hc-input-tag","options":{"singleLine":false,"width":"col-12","placeholder":"请输入统计","required":false}},{"key":"optional_dim","label":"可选统计维度","dataPath":["optional_dim"],"component":"hc-input-tag","options":{"singleLine":false,"width":"col-12","placeholder":"请输入维度","required":false}},{"key":"optional_aggr","label":"可选统计值","dataPath":["optional_aggr"],"component":"hc-input-tag","options":{"singleLine":false,"width":"col-12","placeholder":"请输入统计","required":false}}]}')},Cevv:function(e,t){e.exports='<hc-tree-menu params="$ctrl.menu_options" ng-if="$ctrl.menu_options"></hc-tree-menu>'},CkDz:function(e,t,n){"use strict";n("sMBO");var i=n("eLKs"),o=n.n(i),r=n("FLGM"),a=n.n(r),s=n("OBge"),c=n.n(s),l=n("mrSG"),u=n("m5Re"),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.scheme_confirm=function(){t.form_model.data=t.scope.params,t.scope.$dialog.resolve_data(t.form_model.data),t.scope.$dialog.dialog_close()},t}return Object(l.d)(t,e),t.prototype.initFormBefore=function(){var e,t;return Object(l.c)(this,void 0,void 0,(function(){return Object(l.e)(this,(function(n){return null===(t=null===(e=this.scope)||void 0===e?void 0:e.$dialog)||void 0===t||t.operates([{label:"取消",func:this.scope.$dialog.dialog_close},{label:"确定",func:this.scheme_confirm,default:!0}]),this.form_meta={fields:angular.copy(u.fields),groups:angular.copy(u.groups),tip:u.tip},[2]}))}))},t.prototype.getMeta=function(){var e,t;return Object(l.c)(this,void 0,c.a,(function(){var n,i;return Object(l.e)(this,(function(r){var s,c,l;return this,n=this.form_meta.fields,i=null===(t=null===(e=this.options)||void 0===e?void 0:e.context_meta)||void 0===t?void 0:a()(t).call(t,(function(e){return{label:e.label,category:"上下文参数",value:e.key,type:"var",key:e.key}})),n.getKey("data").options.mask=o()(s=this.dataBlockMask).call(s,this),n.getKey("data").options.onClick=o()(c=this.dataBlockSetting).call(c,this),n.getKey("drill").options.refer_data=[{label:"可选变量",items:i}],n.getKey("formula").options.computeService={getFieldList:o()(l=this.getDataRefer).call(l,this),domain:"base.report"},[2,n]}))}))},t.prototype.getDataRefer=function(){return Object(l.c)(this,void 0,void 0,(function(){var e,t,n,i,o,r,s,c,u,d;return Object(l.e)(this,(function(p){switch(p.label){case 0:var h;if(e=[],this.options.context_meta)e.push({key:"context_params",name:"上下文参数",list_fields:a()(h=this.options.context_meta).call(h,(function(e){return{name:e.label,category:"上下文参数",key:e.key,type:"var"}}))});if(!this.form_model.data.data)return[3,8];n=function(n){return Object(l.e)(this,(function(o){switch(o.label){case 0:return[4,i.dataBlockService.getAvailFields(n)];case 1:return t=o.sent(),e.push({key:n.key,name:n.name?n.name:n.key,list_fields:a()(t).call(t,(function(e){return{name:e.label,category:n.name?n.name:n.key,key:"main"===n.key?e.value:n.key+"."+e.value,type:"var"}}))}),[2]}}))},i=this,p.label=1;case 1:p.trys.push([1,6,7,8]),o=Object(l.i)(this.form_model.data.data),r=o.next(),p.label=2;case 2:return r.done?[3,5]:(s=r.value,[5,n(s)]);case 3:p.sent(),p.label=4;case 4:return r=o.next(),[3,2];case 5:return[3,8];case 6:return c=p.sent(),u={error:c},[3,8];case 7:try{r&&!r.done&&(d=o.return)&&d.call(o)}finally{if(u)throw u.error}return[7];case 8:return[2,e]}}))}))},t.prototype.getGroupMeta=function(){return Object(l.c)(this,void 0,c.a,(function(){return Object(l.e)(this,(function(e){return[2,this.form_meta.groups]}))}))},t.prototype.validateTemplateData=function(){var e;return Object(l.c)(this,void 0,void 0,(function(){var t;return Object(l.e)(this,(function(n){return(t=null===(e=this.setting_panel_data.data)||void 0===e?void 0:e.getKey("main"))||this.rootScope.show_warning("可视化需要指定'main'数据块, 请前往数据定义进行指定"),[2,t]}))}))},t.prototype.refreshViewModel=function(e){return void 0===e&&(e=null),Object(l.c)(this,void 0,c.a,(function(){var t;return Object(l.e)(this,(function(n){switch(n.label){case 0:return e=e||this.setting_panel_data.chart,this.validateTemplateData(),e?(t=this.parent,[4,this.dataService.callHcmOpenApi("flex.template.calc",{template:e,block_info:this.setting_panel_data.data,params:this.options.context_data})]):[2];case 1:return t.preview_model=n.sent(),[2]}}))}))},t}(n("VxaH").a);t.a=d},"CpE+":function(e,t){e.exports='<div class="home-widget">\n    <div class="carousel-container">\n        <hc-carousel model="$ctrl.carousel_list"\n                     options="$ctrl.carousel_options"\n                     ng-if="$ctrl.carousel_list && $ctrl.carousel_list.length > 0"></hc-carousel>\n    </div>\n</div>'},EmBB:function(e,t){e.exports='<div class="resume-content-component-mobile" id="resume-content-component" ng-init="profileInit()">\n    <div class="resume-content mobile-waterfall-content">\n        <div class="resume-center">\n            <div class="resume-description" ng-if="(base_config.top_description|valueToFunc)()">\n                <div class="description" ng-bind-html="(base_config.top_description|valueToFunc)()|toTrusted"></div>\n            </div>\n            <div class="resume-block" ng-repeat="_item in nav_items |orderBy: \'sequence\' track by $index"\n                 ng-hide="_item.hide">\n                <div class="tag-head"\n                     ng-class="{\'not-rendered\':base_config.lazyLoad && !showComponentIndex.includes($index)}">\n                    \x3c!--主体内容--\x3e\n                    <resume-base class="resume-child"\n                                 ng-if="_item[\'view\']===\'base\' && (!$ctrl.$scope.base_config.lazyLoad || $ctrl.$scope.showComponentIndex.includes($index))"\n                                 child-model="_item" resume-id="$ctrl.resume_id"></resume-base>\n                    <resume-single class="resume-child"\n                                   ng-if="_item[\'view\']===\'single\' && (!$ctrl.$scope.base_config.lazyLoad || $ctrl.$scope.showComponentIndex.includes($index))"\n                                   child-model="_item" resume-id="$ctrl.resume_id"></resume-single>\n                    <resume-multi class="resume-child"\n                                  ng-if="_item[\'view\']===\'multi\' && (!$ctrl.$scope.base_config.lazyLoad || $ctrl.$scope.showComponentIndex.includes($index))"\n                                  child-model="_item" resume-id="$ctrl.resume_id"></resume-multi>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="waterfall-view-bottom-btn" ng-if="dev_btn_model.visible_actions().length > 0">\n        <div class="btn-content">\n            <hc-mobile-bottom-btn model="dev_btn_model"></hc-mobile-bottom-btn>\n        </div>\n    </div>\n    <div class="header-wrapper">\n        <div class="header-wrapper-btn" ng-click="$ctrl.scrollToTop()" style="bottom:60px;color:#666">\n            <span class="icon icon-hcm-focus-up"></span>\n        </div>\n        <div class="header-wrapper-btn" ng-click="$ctrl.showMenu()" style="bottom:136px">\n            <span class="icon icon-hcm-document-symbol"></span>\n        </div>\n    </div>\n</div>\n'},Eu2N:function(e){e.exports=JSON.parse('{"tip":"","fields":[{"key":"data","label":"数据定义","component":"hc-input-mask","options":{"tip":"在此处定义图形需要使用的数据源，要求:\\n必须有main数据块，且main数据块必须具有name,value,color字段","singleLine":true,"width":"col-12","placeholder":"请输入标识","required":false}},{"key":"max_words","label":"最大词量","component":"hc-input-number","options":{"tip":"图片中允许出现的最大单词数，默认30个","singleLine":true,"width":"col-12","required":false,"max":400,"min":1,"step":1,"defaultValue":30}},{"key":"relative_scaling","label":"词频与字体比例","component":"hc-input-number","options":{"tip":"词频和字体大小的关联性, 默认0.5","singleLine":true,"width":"col-12","required":false,"max":1,"min":0,"step":0.1,"defaultValue":0.5}},{"key":"width","label":"图片宽度","component":"hc-input-number","options":{"tip":"生成的原图的默认像素宽度，会被拉伸至容器宽度，最大1980px","singleLine":true,"width":"col-12","required":false,"max":1980,"min":10,"step":1,"defaultValue":400}},{"key":"height","label":"图片高度","component":"hc-input-number","options":{"tip":"生成的原图的默认像素高度，会被拉伸至容器宽度，最大1980px","singleLine":true,"width":"col-12","required":false,"max":1980,"min":10,"step":1,"defaultValue":400}},{"key":"index","label":"图片轮廓","component":"hc-input","options":{"width":"col-12","singleLine":true,"required":false,"tip":"词云图可以按照指定图片索引排布，可不填"}}],"groups":[{"key":"core","label":"基础配置","field_list":["data","tag_type","max_words","width","height"]}]}')},F1Dt:function(e,t){e.exports='<div ng-init="init()" class="inner-apply-naire-form">\n    <div class="naire-form" ng-style={\'height\':scorer_id?contentHeight-80+\'px\':\'100%\'}>\n        <div class="naire-title">\n            <div class="name">{{naire.name}}</div>\n            <div class="desc">{{naire.content.desc}}</div>\n        </div>\n        <div class="naire-content">\n            <hc-form model="naire_form"></hc-form>\n        </div>\n    </div>\n</div>\n'},F6Fg:function(e,t,n){"use strict";n("sMBO"),n("toAj");var i,o,r,a,s,c,l=n("5PDf"),u=n.n(l);n("d1Vp");u()(i=window.app).call(i,"timeAttendItem",(function(){return function(e,t){return e?e.result?"work_onjob"===e.result_item&&((null==e?void 0:e.status)&&-1===e.status||t)?e.shift.name:e.result.desc:e.shift?e.shift.name:"":""}})),u()(o=window.app).call(o,"timeAttendItemWithMode",(function(){return function(e,t){return e?e.result?"result"===t?e.result.desc:e.shift.name:e.shift?e.shift.name:"-":"-"}})),u()(r=window.app).call(r,"timeAttendData",(function(){return function(e){if(e){var t=0+e.work_onjob+e.overtime_normal+e.overtime_rest+e.overtime_holiday;return t>0?(t/60).toFixed(1):"-"}return"-"}})),u()(a=window.app).call(a,"timeAttendItemClass",(function(){return function(e,t){var n="";if(e){if(-1===e.shift_id&&e.result&&"work_rest"===e.result.name)return"rest";if(e.result){if(-1===e.status)return"forecast";t.length>0?n=(t=u()(t).call(t,(function(t){return e.result.priority>=t.min&&e.result.priority<t.max}))).length>0&&t[0].color||"invalid":(e.result&&e.result.priority>=60&&(n="abnormal"),e.result&&e.result.priority>=30&&e.result.priority<60&&(n="warning"))}else e.manual||(n="forecast")}else n="invalid";return n}})),u()(s=window.app).call(s,"timeAttendSchedule",(function(){return function(e){return e&&e.shift?e.shift.name:""}})),u()(c=window.app).call(c,"timeAttendResult",(function(){return function(e){return e&&e.result?e.status>=0?e.result.desc:"*"+e.result.desc:""}}))},FU4V:function(e,t){e.exports='<div class="home-widget max-container" ng-class="$ctrl.key">\n    <div class="list-content">\n        <hc-list-new model="$ctrl.listModel"></hc-list-new>\n    </div>\n    <div class="pager-content" ng-if="$ctrl.options.needPage">\n        <hc-paging paging="$ctrl.paging"></hc-paging>\n    </div>\n</div>'},FWbT:function(e,t){e.exports='<div class="hc-board-data-chart-content {{$ctrl.tableInstance.direction}}">\n    <div class="hc-board-data-chart-container"></div>\n    <div class="hc-board-data-chart-table" ng-if="$ctrl.tableInstance.list_model">\n        <hc-list-new model="$ctrl.tableInstance.list_model"></hc-list-new>\n    </div>\n</div>'},FfqB:function(e){e.exports=JSON.parse('{"tip":"","fields":[{"label":"卡片信息模型","key":"model","component":"hc-super-selector","options":{"data_type":"string","individual_name":"name_description","placeholder":"请输入列表模型","returnFormat":"name","selectorObject":"hcm.db.object","maxlength":40,"require":true,"singleLine":true}},{"key":"id","label":"数据id","component":"hc-input","options":{"singleLine":true,"width":"col-12","placeholder":"请输入数据id","required":false,"refer_data":[{"label":"可选变量"}]}},{"key":"state","label":"卡片信息场景","mode":"base","component":"hc-super-selector","options":{"data_type":"string","maxlength":40,"placeholder":"请输入列表场景","singleLine":true,"returnFormat":"name","multi":false}}]}')},Fpg2:function(e,t,n){"use strict";var i=n("mnMc"),o=n.n(i),r=n("o+MX"),a=n.n(r),s=n("FLGM"),c=n.n(s),l=n("lq6P"),u=n("goxq"),d=n.n(u);n("exzf");window.app.controller("superSearchMobileDialogCtrl",["$controller","$rootScope","$scope",function(e,t,n){var i,r;e(l.a,{$scope:n,CRUDService:""}),n.info_meta=c()(i=a()(r=[{key:"any_search",label:"任意搜索",component:"hc-input",options:{placeholder:n.params.placeholder||"请输入搜索词..."}}]).call(r,n.params.meta)).call(i,(function(e){var t;return o()(t=["hc-select","hc-super-selector","hc-tree-list-selector","hc-selector-depart"]).call(t,e.component)&&(e.options.inDrawer=!0),e})),n.submit=function(){n.$dialog.resolve_data(n.base_form.data),n.$dialog.dialog_close()},n.setFormData=function(){n.params.data&&n.params.data.id&&CRUDService.getItemInfo?n.loadData():(n.form_data_in_param&&(n.data=n.params.data),n.base_form.$setMeta(n.info_meta,n.group_meta).$setData(n.data),n.model_meta&&n.initSubList(n.model_meta.childrens),n.base_form.$getDefault().then((function(){"new"===n.mode&&n.base_form.$dealFormDataChange(n.base_form.data,{}),n.startWatch()})),n.initAfter(n.data))}}]),t.a={name:"super-search-mobile",controller:"superSearchMobileDialogCtrl",template:d.a,mask:!0}},H3Dw:function(e,t,n){"use strict";n("rB9j"),n("EnZy");var i=n("lHQ6"),o=n.n(i),r=n("FLGM"),a=n.n(r),s=n("a0dU"),c=n.n(s),l=n("5PDf"),u=n.n(l),d=(n("ls82"),n("SPx3")),p=n.n(d),h=n("1hbj"),f=(n("srGB"),n("0Xdj")),_=(n("dOAv"),n("9DwR"));window.app.directive("homeWidgetEmpCard",[function(){return{restrict:"EA",template:n("AGQQ"),scope:{},controller:[function(){}]}}]),window.app.directive("homeWidgetEmpCardPc",[function(){return{restrict:"EA",template:n("crAE"),scope:{},controller:["$scope","$state","$rootScope","$hcDialog","$controller","contextService","BaseCRUDService","dataService","$filter",function(e,t,n,i,r,s,l,d,_){var m=l.getModelService("Employee");r(f.a,{$scope:e,CRUDService:m,InfoDialog:Object(h.a)("Employee")}),e.initBeforeAsync=p()(c.a.mark((function t(){var n,i,o,r,a,s;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.callHcmOpenApi("hcm.model.list",{model:"EmployeeSlogan",filter_dict:{employee_id:e.auth.employee.id}});case 2:if(n=t.sent,e.slogan_data=n.list,!e.slogan_data.length){t.next=8;break}e.emp_slogan=n.list[0].slogan,t.next=14;break;case 8:return t.next=10,d.callHcmOpenApi("hcm.model.meta",{model:"EmployeeSlogan",biz_type:"info",state:"home"});case 10:a=t.sent,s=u()(i=a.extend).call(i,(function(e){return"company_default"===e.key})),e.company_default=s.length>0?null===(o=s[0])||void 0===o||null===(r=o.value)||void 0===r?void 0:r.default:"",e.emp_slogan=e.company_default;case 14:case"end":return t.stop()}}),t)}))),e.setTitle=function(e){},e.getMetaState=function(){return"empCard"},e.getItemID=function(){return e.auth.employee.id},e.initAfter=function(){var n,i="mobile"===e.client?4:3;e.view_btn_model.$setShowMax(i),e.emp_id=t.params.id,e.extendModel={},a()(n=e.view_model.viewMeta.extend).call(n,(function(t){e.extendModel[t.key]=t.value}))},e.individualParse=function(e){var t;return a()(t=e.fields).call(t,(function(e){if("photo"===e.key){var t=e.options.photo_size.split(",");switch(window.screen.width){case 1680:t[0]=o()(1.25*t[0]),t[1]=o()(1.25*t[1]);break;case 1920:t[0]=o()(1.5*t[0]),t[1]=o()(1.5*t[1])}e.options.photo_size=t[0]+","+t[1]}})),e},e.empProfile=function(){n.super_go("emp")},e.editSlogan=p()(c.a.mark((function t(){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.getDialog(Object(h.a)("EmployeeSlogan","home")).size("small").show({mode:e.slogan_data.length?"edit":"new",data:e.slogan_data.length?e.slogan_data[0]:null,alter:{employee_id:e.auth.employee.id}});case 2:n=t.sent,e.emp_slogan=n.slogan;case 4:case"end":return t.stop()}}),t)})))}]}}]),window.app.directive("homeWidgetEmpCardMobile",[function(){return{restrict:"EA",template:n("ysBk"),scope:{},controller:["$scope","$state","$rootScope","$hcDialog","$controller","contextService","BaseCRUDService","dataService",function(e,t,n,i,o,r,a,s){var l=a.getModelService("Employee");o(_.a,{$scope:e,CRUDService:l,InfoDialog:Object(h.a)("Employee")}),e.initBeforeAsync=p()(c.a.mark((function t(){var n,i,o,r,a,l;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.callHcmOpenApi("hcm.model.list",{model:"EmployeeSlogan",filter_dict:{employee_id:e.auth.employee.id}});case 2:return n=t.sent,t.next=5,s.callHcmOpenApi("workflow.instance.detail.get.unprocess.list.count",{});case 5:if(e.process_count=t.sent,e.slogan_data=n.list,!e.slogan_data.length){t.next=11;break}e.emp_slogan=n.list[0].slogan,t.next=17;break;case 11:return t.next=13,s.callHcmOpenApi("hcm.model.meta",{model:"EmployeeSlogan",biz_type:"info",state:"home"});case 13:a=t.sent,l=u()(i=a.extend).call(i,(function(e){return"company_default"===e.key})),e.company_default=l.length>0?null===(o=l[0])||void 0===o||null===(r=o.value)||void 0===r?void 0:r.default:"",e.emp_slogan=e.company_default;case 17:case"end":return t.stop()}}),t)}))),e.setTitle=function(e){},e.getFilterDict=function(){return{id:e.auth.employee.id}},e.getMetaState=function(){return"empCard"},e.editSlogan=p()(c.a.mark((function t(){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.getDialog(Object(h.a)("EmployeeSlogan","home")).size("small").show({mode:e.slogan_data.length?"edit":"new",data:e.slogan_data.length?e.slogan_data[0]:null,alter:{employee_id:e.auth.employee.id}});case 2:n=t.sent,e.emp_slogan=n.slogan;case 4:case"end":return t.stop()}}),t)}))),e.showProcessTask=p()(c.a.mark((function t(){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.getDialog(Object(h.a)("EmployeeSlogan","home")).size("small").show({mode:e.slogan_data.length?"edit":"new",data:e.slogan_data.length?e.slogan_data[0]:null,alter:{employee_id:e.auth.employee.id}});case 2:n=t.sent,e.emp_slogan=n.slogan;case 4:case"end":return t.stop()}}),t)})))}]}}])},HX6o:function(e,t,n){"use strict";n.r(t);var i=n("eLKs"),o=n.n(i),r=n("/FZm"),a=n.n(r),s=n("pPxq"),c=n.n(s),l=n("WxoT"),u=n.n(l),d=n("mrSG"),p=n("yDEG"),h=n("IeeE"),f=n.n(h),_=n("2R/d"),m=n("8Auy"),v=(n("sMBO"),n("toAj"),n("UtpJ")),g=n.n(v),b=n("+oHS"),y=n.n(b),w=n("FLGM"),x=n.n(w),S=n("nhkr"),k=n.n(S),j=n("RXMP"),O=n.n(j),A=n("KYsz"),L=n.n(A),P=n("526F"),D=n.n(P),N=n("BkRI"),C=n.n(N),M=n("vT+i"),I=[{key:"name",label:"分类",field:["name"],width:80,align:"center",fixed:!0},{key:"value",label:"数量",width:60,field:["value"],align:"center"},{key:"percent",label:"占比",width:60,field:["percent"],align:"center"}],E=[{key:"category",label:"分类",field:["category"],width:100,align:"center",fixed:!0}];function B(e,t){var n,i,o,r,a,s,c,l=Object(M.a)("$filter"),u=Object(M.a)("$hcListNew").createList().$setOptions(D()({show_index:!1,row_space:"cell",name:e,view:{pc:"grid",mobile:"grid"}},t.stat_list_config||{})),p=null!==(n=null==u?void 0:u.direction)&&void 0!==n?n:"mobile"===window.client?"vertical":"horizontal",h=null===(r=null===(o=null===(i=t.data)||void 0===i?void 0:i[0])||void 0===o?void 0:o.data)||void 0===r?void 0:r.dim,f=null===(c=null===(s=null===(a=t.data)||void 0===a?void 0:a[0])||void 0===s?void 0:s.data)||void 0===c?void 0:c.aggr,_=function(e){return e.series},m=function(e,t){return(e/t*100).toFixed(1)+"%"},v=function(e){return L()(e).call(e,(function(e,t){return e+t.value}),0)},b=function(e){var t,n,i,o,r,a,s,c,p,b,w,x,S,$,j,A,L,P,N,M,I=(null==e?void 0:e.reverseTable)||(null==u?void 0:u.reverse_table),B=(null==u?void 0:u.categoryFieldWidth)||100,F=(null==u?void 0:u.customFieldWidth)||80,R=C()(E);R[0].width=B;var T=[],q=_(e),U=e.dataset,z=null===(t=null==h?void 0:h[0])||void 0===t?void 0:t.label;if((z||(null===(i=null===(n=e.xAxis)||void 0===n?void 0:n[0])||void 0===i?void 0:i.name))&&(R[0].label=(null===(r=null===(o=e.xAxis)||void 0===o?void 0:o[0])||void 0===r?void 0:r.name)||z),1===(null==q?void 0:q.length)){var W;if(I){var H={category:(null===(s=null===(a=e.yAxis)||void 0===a?void 0:a[0])||void 0===s?void 0:s.name)||(null===(c=null==f?void 0:f[0])||void 0===c?void 0:c.label)||"数量"};T.push(H)}else{var K={key:"value",field:["value"],label:(null===(b=null===(p=e.yAxis)||void 0===p?void 0:p[0])||void 0===b?void 0:b.name)||(null===(w=null==f?void 0:f[0])||void 0===w?void 0:w.label)||"数量",width:F,align:"center"};R.push(K)}if(O()(W=q[0].data).call(W,(function(t,n){var i,o,r;"object"===k()(t)?(o=t.name,r=t.value):(r=t,o=null===(i=e.xAxis[0])||void 0===i?void 0:i.data[n]),I?(R.push({key:o,field:[o],label:o,width:F,align:"center"}),T[0]&&(T[0][o]=r)):T.push({category:o,value:r})})),I){var V,G,J=0;O()(V=y()(T[0])).call(V,(function(e){"category"!==e&&(J+=T[0][e])}));var Y={category:"占比"};O()(G=y()(T[0])).call(G,(function(e){"category"!==e&&(Y[e]=m(T[0][e],J))})),T.push(Y)}else{var X=v(T);O()(T).call(T,(function(e){e.percent=m(e.value,X)})),R.push({key:"percent",field:["percent"],label:"占比",width:F,align:"center"})}return[{fields:R,data:T}]}if((null==q?void 0:q.length)>1){var Q=(null===(S=null===(x=e.xAxis[0])||void 0===x?void 0:x.axisLabel)||void 0===S?void 0:S.formatter)||function(e){return e};if(null===($=q[0])||void 0===$?void 0:$.data){var Z=null===(j=e.xAxis[0])||void 0===j?void 0:j.data;O()(Z).call(Z,(function(e,t){if(I){var n={};n.category=e,n.category_index=t,T.push(n)}else R.push({key:e,field:[e],label:Q(e),width:F,align:"center"})})),O()(q).call(q,(function(e,t){if(I){var n=e.name;R.push({key:n,field:[n],label:n,width:F,align:"center"}),O()(T).call(T,(function(t){var i=t.category_index;t[n]=e.data[i]||0}))}else{var i={};i.category=e.name,O()(Z).call(Z,(function(t,n){i[t]=e.data[n]||0})),T.push(i)}}))}else if(U[0]){var ee=Object(d.f)((null===(A=U[0])||void 0===A?void 0:A.dimensions)||[]),te=ee[0],ne=g()(ee).call(ee,1);if(I){var ie;O()(ne).call(ne,(function(e,t){var n={};n.category=e,T.push(n)}));var oe=l("toObj")(T,"category");null===(L=U[0])||void 0===L||O()(ie=L.source).call(ie,(function(e,t){var n,i=e[te];O()(n=y()(e)).call(n,(function(t,n){t!==te&&(oe[t][i]=e[t])})),R.push({key:i,field:[i],label:i,width:F,align:"center"})}))}else T=Object(d.h)(null===(P=U[0])||void 0===P?void 0:P.source),te&&D()(R[0],{key:te,field:[te],label:(null===(N=e.xAxis[0])||void 0===N?void 0:N.name)||(null===(M=null==h?void 0:h[0])||void 0===M?void 0:M.label)||"分类",width:B}),O()(ne).call(ne,(function(e,t){R.push({key:e,field:[e],label:Q(e),width:F,align:"center"})}))}return[{fields:R,data:T}]}};return{direction:p,list_model:u,getTableDefinition:function(e){var t,n;switch(null===(n=null===(t=e.series)||void 0===t?void 0:t[0])||void 0===n?void 0:n.type){case"pie":return function(e){var t,n,i,o=(null==e?void 0:e.reverseTable)||(null==u?void 0:u.reverse_table),r=(null==u?void 0:u.categoryFieldWidth)||100,a=(null==u?void 0:u.customFieldWidth)||80,s=_(e),c=null===(t=null==h?void 0:h[0])||void 0===t?void 0:t.label,l=C()(I);O()(l).call(l,(function(e){"name"===e.key?e.width=r:e.width=a})),c&&(l[0].label=c);var p=null===(n=null==f?void 0:f[0])||void 0===n?void 0:n.label;if(o){var g,b=[],y=[],w={category:p||"数量"};if(b.push(w),b.push({category:"占比"}),!(null===(i=s[0])||void 0===i?void 0:i.data))return null;y.push({key:"category",label:c||"分类",field:["category"],width:r,align:"center",fixed:!0});var S=s[0].data,$=v(S);return O()(g=s[0].data).call(g,(function(e){var t,n;"object"===k()(e)&&(t=e.name,n=e.value),y.push({key:t,field:[t],label:t,width:a,align:"center"}),b[0]&&(b[0][t]=n),b[1]&&(b[1][t]=m(n,$))})),[{fields:y,data:b}]}return p&&(l[1].label=p),x()(s).call(s,(function(e){var t=e.data,n=v(t);return{fields:l,data:x()(t).call(t,(function(e){return Object(d.a)(Object(d.a)({},e),{percent:m(e.value,n)})}))}}))}(e);case"bar":return b(e);case"line":return function(e){return b(e)}(e);default:return null}}}}var F=function(e){function t(t,n,i,o,r,a,s,c,l){var u=e.call(this,o,i,a)||this;return u.$scope=t,u.element=n,u.dataService=i,u.hcDialog=o,u.portalChartService=r,u.$rootScope=a,u.$timeout=s,u.$controller=c,u.$filter=l,u.funcParse=function(e){var t={SCOPE:u.$scope,RootScope:u.$rootScope,location:window.location,history:window.history,document:document,dataService:u.dataService,ECHARTS:u.echarts};return m.a.jsonEval(e,t,{})},u}return Object(d.d)(t,e),t.prototype.$onInit=function(){var t;return Object(d.c)(this,void 0,void 0,(function(){var i,r=this;return Object(d.e)(this,(function(s){var c,l;switch(s.label){case 0:return[4,e.prototype.$onInit.call(this)];case 1:return s.sent(),this.echarts?[3,3]:(this.lib=n("E9k0"),i=this,[4,this.lib.echarts()]);case 2:i.commonEcharts=s.sent(),this.echarts=this.commonEcharts.init(a()(c=this.element).call(c,".hc-board-data-chart-container")[0]),this.echarts.on("click",o()(l=this.drillDown).call(l,this)),s.label=3;case 3:return this.setChartInterval(),this.$scope.$on("clear_interval",(function(){r.interval_id&&clearInterval(r.interval_id)})),(null===(t=this.options)||void 0===t?void 0:t.stat_list)&&(this.tableInstance=B(this.key,this.options)),[2]}}))}))},t.prototype.getSettingPanel=function(){return Object(p.c)(_.a)},t.prototype.getDrillDownParam=function(t){var n,i,o=e.prototype.getDrillDownParam.call(this,t);o.selected=t.data;var r=null===(i=null===(n=this.options.chart)||void 0===n?void 0:n.dataset)||void 0===i?void 0:i.dimensions;return 3===(null==r?void 0:r.length)&&o.selected&&(o.selected[r[0]]=t.seriesName),o},t.prototype.setChartInterval=function(){var e,t,n,i,o=this;if(null===(e=this.options)||void 0===e?void 0:e.set_interval){var r=m.a.jsonEval(null===(t=this.options)||void 0===t?void 0:t.interval_func,{},{});this.interval_id=f()((function(){o.data||(o.data=angular.copy(o.echarts.getOption())),o.echarts.setOption(r(o.data,o.echarts.getOption()))}),null!==(i=null===(n=this.options)||void 0===n?void 0:n.refresh_gap)&&void 0!==i?i:1e3)}},t.prototype.$onResize=function(){console.log("resizing..."),e.prototype.$onResize.call(this),this.echarts&&this.echarts.resize()},t.prototype.$onRender=function(e,t){return void 0===e&&(e=!1),void 0===t&&(t=!1),Object(d.c)(this,void 0,void 0,(function(){var e=this;return Object(d.e)(this,(function(t){return this.$timeout((function(){e.$onResize()})),[2]}))}))},t.prototype.renderStatTable=function(){var e,t,n=null===(e=this.tableInstance)||void 0===e?void 0:e.getTableDefinition(this.echarts.getOption());(null==n?void 0:n[0])&&(null===(t=this.tableInstance)||void 0===t||t.list_model.$setData(n[0].data).$setColumns(n[0].fields).$setOperateDefault((function(e){})))},t.$inject=["$scope","$element","dataService","$hcDialog","portalChartService","$rootScope","$timeout","$controller","$filter"],t}(p.a),R=n("CoJ3"),T=n("FWbT"),q=n.n(T);n("iegX"),n("GhsQ");function U(e,t,n,i,o,r){var a=(e+t)/2,s=e*Math.PI*2,c=t*Math.PI*2,l=a*Math.PI*2;0===e&&1===t&&(n=!1);var u=n?.1*Math.cos(l):0,d=n?.1*Math.sin(l):0,p=i?1.05:1;return{u:{min:-Math.PI,max:3*Math.PI,step:Math.PI/32},v:{min:0,max:2*Math.PI,step:Math.PI/20},x:function(e,t){return e<s?u+Math.cos(s)*(1+1*Math.cos(t))*p:e>c?u+Math.cos(c)*(1+1*Math.cos(t))*p:u+Math.cos(e)*(1+1*Math.cos(t))*p},y:function(e,t){return e<s?d+Math.sin(s)*(1+1*Math.cos(t))*p:e>c?d+Math.sin(c)*(1+1*Math.cos(t))*p:d+Math.sin(e)*(1+1*Math.cos(t))*p},z:function(e,t){return e<.5*-Math.PI?Math.sin(e):e>2.5*Math.PI?Math.sin(e)*r*.1:Math.sin(t)>0?1*r*.1:-1}}}function z(e,t,n){for(var i=[],o=0,r=0,a=0,s=[],c=void 0!==t?(1-t)/(1+t):1/3,l=0;l<e.length;l+=1){o+=e[l].value;var u={name:void 0===e[l].name?"series".concat(l):e[l].name,type:"surface",parametric:!0,wireframe:{show:!1},pieData:e[l],pieStatus:{selected:!1,hovered:!1,k:c}};if(void 0!==n){var d,p,h={};void 0!==(null===(d=n.color)||void 0===d?void 0:d[l])&&(h.color=n.color[l]),void 0!==(null===(p=n.opacity)||void 0===p?void 0:p[l])&&(h.opacity=n.opacity[l]),u.itemStyle=h}i.push(u)}for(var f=0;f<i.length;f+=1)a=r+i[f].pieData.value,i[f].pieData.startRatio=r/o,i[f].pieData.endRatio=a/o,i[f].parametricEquation=U(i[f].pieData.startRatio,i[f].pieData.endRatio,!1,!1,0,i[f].pieData.value),r=a,s.push(i[f].name);return i}var W=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(d.d)(t,e),t.prototype.$onRender=function(t,n){var i,r,s,l,p,h,f;return void 0===t&&(t=!1),void 0===n&&(n=!1),Object(d.c)(this,void 0,void 0,(function(){var _,v,g,b,y,w,x=this;return Object(d.e)(this,(function(S){switch(S.label){case 0:return this.convert?[4,e.prototype.$convertOptions.call(this)]:[3,2];case 1:return v=S.sent(),[3,3];case 2:v=this.options,S.label=3;case 3:return _=v,g=this,console.log("refresh with:"+t),(null===(i=this.options)||void 0===i?void 0:i.chart)?[4,this.checkContext()]:[2];case 4:return S.sent()?(b=(new Date).getTime(),(null===(r=this.dataFetcher)||void 0===r?void 0:r.is_loading)&&this.dataFetcher.cancel(),this.dataFetcher=this.dataService.callHcmOpenApi("flex.template.calc",{template:this.$filter("deepMerge")(angular.copy(_.chart),("pc"===window.client?_.chart_pc:_.chart_mobile)||{}),block_info:_.data,block_group:_.block_group,params:Object(d.a)(Object(d.a)({},this.context),_.filter_dict||{}),base_:_.base_template,force_refresh:t,context_key:this.contextKey},null,null,!1),[4,this.dataFetcher]):[2];case 5:return y=S.sent(),y=JSON.parse(u()(y),(function(e,t){return t&&"string"==typeof t&&c()(t).call(t,"function")?"="+t:t})),!(y=m.a.jsonEval(y,Object(d.a)(Object(d.a)(Object(d.a)({SCOPE:this},this.context),this.options.filter_dict||{}),{COLOR:function(){var e,t;return y.color||(null===(t=null===(e=x.boardCtrl)||void 0===e?void 0:e.model)||void 0===t?void 0:t.color)||[]}}),{},!0,!1)).color&&(null===(l=null===(s=this.boardCtrl)||void 0===s?void 0:s.model)||void 0===l?void 0:l.color)&&(y.color=null===(h=null===(p=this.boardCtrl)||void 0===p?void 0:p.model)||void 0===h?void 0:h.color),n||null===(f=this.echarts)||void 0===f||f.clear(),w=(new Date).getTime()-b,this.$timeout((function(){return Object(d.c)(x,void 0,void 0,(function(){var e,t,n,i,r,s,c;return Object(d.e)(this,(function(l){var u,d;switch(l.label){case 0:return g.echarts?[3,2]:(e=this,[4,this.lib.echarts()]);case 1:e.commonEcharts=l.sent(),this.echarts=this.commonEcharts.init(a()(u=this.element).call(u,".hc-board-data-chart-container")[0]),this.echarts.on("click",o()(d=this.drillDown).call(d,this)),l.label=2;case 2:return y.hcmMap?(t=y.hcmMap.mapType,this.root_map_code||(this.root_map_code=y.hcmMap.id),[4,this.portalChartService.getMap(y.hcmMap.id)]):[3,4];case 3:return n=l.sent(),this.commonEcharts.registerMap(t,n),(null===(r=null===(i=y.toolbox)||void 0===i?void 0:i.feature)||void 0===r?void 0:r.myBack)||(y.toolbox={show:!0,feature:{myBack:{show:!0,title:"返回全局地图",icon:"path://M696.888889 287.288889h-512l142.222222-122.311111c11.377778-11.377778 14.222222-28.444444 2.844445-39.822222s-28.444444-14.222222-39.822223-2.844445l-199.111111 170.666667c-5.688889 2.844444-11.377778 11.377778-11.377778 19.911111s2.844444 14.222222 8.533334 19.911111l190.577778 190.577778c5.688889 5.688889 14.222222 8.533333 19.911111 8.533333s14.222222-2.844444 19.911111-8.533333c11.377778-11.377778 11.377778-28.444444 0-39.822222l-142.222222-142.222223h517.688888c93.866667 0 170.666667 76.8 170.666667 170.666667v139.377778c0 93.866667-76.8 170.666667-170.666667 170.666666H216.177778c-17.066667 0-28.444444 11.377778-28.444445 28.444445s11.377778 28.444444 28.444445 28.444444h480.711111c125.155556 0 227.555556-102.4 227.555555-227.555555V512c0-122.311111-102.4-224.711111-227.555555-224.711111z",onclick:function(e,t){g.drillDown({data:{code:g.root_map_code}})}}}}),[3,5];case 4:if("pie3d"===y.type)return y.series=z(null===(s=y.series)||void 0===s?void 0:s.data,1,null===(c=y.series)||void 0===c?void 0:c.itemStyle),g.echarts.setOption(y),g.renderStatTable(),[2];l.label=5;case 5:return g.echarts.setOption(y),g.renderStatTable(),[2]}}))}))}),w>600?0:600-w),[4,e.prototype.$onRender.call(this)];case 6:return S.sent(),[2]}}))}))},t}(F);R.a.component("hcBoardDataChart",Object(p.b)(W,q.a));var H=n("OBge"),K=n.n(H),V=n("VxaH"),G=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(d.d)(t,e),t.prototype.initFormBefore=function(){return Object(d.c)(this,void 0,void 0,(function(){var e;return Object(d.e)(this,(function(t){switch(t.label){case 0:return[4,this.dataService.callHcmOpenApi("fetch.custom.widget.param.define",{report_number:this.setting_panel_data.define_number})];case 1:return e=t.sent(),this.form_meta={fields:angular.copy(e.fields),groups:angular.copy(e.groups),tip:e.tip},this.form_relations=e.form_relations||[],[2]}}))}))},t.prototype.getData=function(){return Object(d.c)(this,void 0,void 0,(function(){return Object(d.e)(this,(function(e){return[2,this.setting_panel_data.form_data]}))}))},t.prototype.initFormAfter=function(){return Object(d.c)(this,void 0,void 0,(function(){return Object(d.e)(this,(function(e){return this.form_model.$setFormRelations(this.form_relations),this.startWatch(),[2]}))}))},t.prototype.startWatch=function(){var e=this;this.form_data_watch&&this.form_data_watch(),this.form_data_watch=this.scope.$watch("$ctrl.form_model.data",(function(t,n){e.form_model.$dealFormDataChange(t,n),e.parent.validate_update=!0}),!0),this.preview_options_watch&&this.preview_options_watch(),this.preview_options_watch=this.scope.$watch("$ctrl.preview_options",(function(t,n){t&&n&&t.version!=n.version&&e.refreshViewModel.apply(e,[])}),!0)},t.prototype.getMeta=function(){return Object(d.c)(this,void 0,K.a,(function(){return Object(d.e)(this,(function(e){return[2,this.form_meta.fields]}))}))},t.prototype.getGroupMeta=function(){return Object(d.c)(this,void 0,K.a,(function(){return Object(d.e)(this,(function(e){var t;return[2,this.form_meta.groups||[{key:"core",label:"基础参数",field_list:x()(t=this.form_meta.fields).call(t,(function(e){return e.key}))}]]}))}))},t.prototype.$onDestory=function(){this.form_data_watch&&this.form_data_watch()},t.prototype.validateTemplateData=function(){return Object(d.c)(this,void 0,void 0,(function(){return Object(d.e)(this,(function(e){return[2]}))}))},t.prototype.refreshViewModel=function(e){var t,n;return void 0===e&&(e=null),Object(d.c)(this,void 0,K.a,(function(){var i,o;return Object(d.e)(this,(function(r){switch(r.label){case 0:return i=this,this.parent.preview_model=null,e=e||this.setting_panel_data.chart,this.validateTemplateData(),[4,this.dataService.callHcmOpenApi("flex.template.calc.custom.component",{data:i.form_model.data,number:i.setting_panel_data.define_number,force_refresh:!0},null,null,!1)];case 1:return o=r.sent(),(o=JSON.parse(u()(o),(function(e,t){return t&&"string"==typeof t&&c()(t).call(t,"function")?"="+t:t}))).version=null!==(n=null===(t=this.preview_options)||void 0===t?void 0:t.version)&&void 0!==n?n:(new Date).getTime(),this.preview_options=m.a.jsonEval(o,{SCOPE:this},{},!0,!1),this.parent.preview_model=this.preview_options,[2]}}))}))},t}(V.a),J=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(d.d)(t,e),t.prototype.getSettingPanel=function(){return Object(p.c)(G)},t.prototype.$onRender=function(t,n){var i,r,s,l,p,h;return void 0===t&&(t=!1),void 0===n&&(n=!1),Object(d.c)(this,void 0,void 0,(function(){var f,_,v,g,b,y,w=this;return Object(d.e)(this,(function(x){switch(x.label){case 0:return this.convert?[4,e.prototype.$convertOptions.call(this)]:[3,2];case 1:return _=x.sent(),[3,3];case 2:_=this.options,x.label=3;case 3:return f=_,v=this,[4,this.checkContext()];case 4:return x.sent()?(g=(new Date).getTime(),(null===(i=this.dataFetcher)||void 0===i?void 0:i.is_loading)&&this.dataFetcher.cancel(),this.dataFetcher=this.dataService.callHcmOpenApi("flex.template.calc.custom.component",{params:Object(d.a)(Object(d.a)({},this.context),f.filter_dict||{}),data:f.form_data,number:f.define_number,force_refresh:t},null,null,!1),[4,this.dataFetcher]):[2];case 5:return b=x.sent(),b=JSON.parse(u()(b),(function(e,t){return t&&"string"==typeof t&&c()(t).call(t,"function")?"="+t:t})),!(b=m.a.jsonEval(b,Object(d.a)(Object(d.a)(Object(d.a)({SCOPE:this},this.context),this.options.filter_dict||{}),{COLOR:function(){var e,t;return b.color||(null===(t=null===(e=w.boardCtrl)||void 0===e?void 0:e.model)||void 0===t?void 0:t.color)||[]}}),{},!0,!1)).color&&(null===(s=null===(r=this.boardCtrl)||void 0===r?void 0:r.model)||void 0===s?void 0:s.color)&&(b.color=null===(p=null===(l=this.boardCtrl)||void 0===l?void 0:l.model)||void 0===p?void 0:p.color),n||null===(h=this.echarts)||void 0===h||h.clear(),y=(new Date).getTime()-g,this.$timeout((function(){return Object(d.c)(w,void 0,void 0,(function(){var e,t,n,i,r,s,c;return Object(d.e)(this,(function(l){var u,d;switch(l.label){case 0:return v.echarts?[3,2]:(e=this,[4,this.lib.echarts()]);case 1:e.commonEcharts=l.sent(),this.echarts=this.commonEcharts.init(a()(u=this.element).call(u,".hc-board-data-chart-container")[0]),this.echarts.on("click",o()(d=this.drillDown).call(d,this)),l.label=2;case 2:return b.hcmMap?(t=b.hcmMap.mapType,this.root_map_code||(this.root_map_code=b.hcmMap.id),[4,this.portalChartService.getMap(b.hcmMap.id)]):[3,4];case 3:return n=l.sent(),this.commonEcharts.registerMap(t,n),(null===(r=null===(i=b.toolbox)||void 0===i?void 0:i.feature)||void 0===r?void 0:r.myBack)||(b.toolbox={show:!0,feature:{myBack:{show:!0,title:"返回全局地图",icon:"path://M696.888889 287.288889h-512l142.222222-122.311111c11.377778-11.377778 14.222222-28.444444 2.844445-39.822222s-28.444444-14.222222-39.822223-2.844445l-199.111111 170.666667c-5.688889 2.844444-11.377778 11.377778-11.377778 19.911111s2.844444 14.222222 8.533334 19.911111l190.577778 190.577778c5.688889 5.688889 14.222222 8.533333 19.911111 8.533333s14.222222-2.844444 19.911111-8.533333c11.377778-11.377778 11.377778-28.444444 0-39.822222l-142.222222-142.222223h517.688888c93.866667 0 170.666667 76.8 170.666667 170.666667v139.377778c0 93.866667-76.8 170.666667-170.666667 170.666666H216.177778c-17.066667 0-28.444444 11.377778-28.444445 28.444445s11.377778 28.444444 28.444445 28.444444h480.711111c125.155556 0 227.555556-102.4 227.555555-227.555555V512c0-122.311111-102.4-224.711111-227.555555-224.711111z",onclick:function(e,t){v.drillDown({data:{code:v.root_map_code}})}}}}),[3,5];case 4:if("pie3d"===b.type)return b.series=z(null===(s=b.series)||void 0===s?void 0:s.data,1,null===(c=b.series)||void 0===c?void 0:c.itemStyle),v.echarts.setOption(b),[2];l.label=5;case 5:return v.echarts.setOption(b),[2]}}))}))}),y>600?0:600-y),[4,e.prototype.$onRender.call(this)];case 6:return x.sent(),[2]}}))}))},t.prototype.getWhichTemplate=function(){return"custom"},t}(F);R.a.component("hcBoardCustomChart",Object(p.b)(J,q.a));var Y=n("LQlJ"),X=n.n(Y),Q=(n("52op"),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(d.d)(t,e),t.prototype.parseData=function(e){var t,n=this,i=this.options.parse;return t=e,"function"==typeof i?i(t):n.$filter("getJSON")(i,t)},t.prototype.$onRender=function(t){var n;return void 0===t&&(t=!1),Object(d.c)(this,void 0,void 0,(function(){var i;return Object(d.e)(this,(function(o){switch(o.label){case 0:return(null===(n=this.options)||void 0===n?void 0:n.card)?[4,this.checkContext()]:[2];case 1:return o.sent()?(i=this,[4,this.dataService.callHcmOpenApi("flex.template.calc",{template:this.options.card,block_info:this.options.data,params:this.context,force_refresh:t},null,null,!1)]):[2];case 2:return i.data=o.sent(),[4,e.prototype.$onRender.call(this)];case 3:return o.sent(),[2]}}))}))},t}(p.a));R.a.component("hcBoardDataCard",Object(p.b)(Q,X.a));var Z=n("sEfC"),ee=n.n(Z),te=n("0VIf"),ne=n.n(te),ie=(n("ci2F"),n("rB9j"),n("EnZy"),n("o+MX")),oe=n.n(ie),re=n("5PDf"),ae=n.n(re),se=n("M5Mt"),ce=n.n(se),le=n("duJL"),ue=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(d.d)(t,e),t.prototype.getMeta=function(){var e;return Object(d.c)(this,void 0,K.a,(function(){var t,n,i=this;return Object(d.e)(this,(function(r){var a;return t=null===(e=this.options.context_meta)||void 0===e?void 0:x()(e).call(e,(function(e){return{label:e.label,category:"上下文参数",value:e.key,type:"var",key:e.key}})),(n=le.fields).getKey("filter_dict").options.refer_data=[{label:"可选变量",items:t}],n.getKey("model").options.change=function(e,t){return Object(d.c)(i,void 0,void 0,(function(){var e,i,o,r;return Object(d.e)(this,(function(a){var s;switch(a.label){case 0:return ce()(s=n.getKey("filter_dict").options.refer_data).call(s,1,1),t?(i=(e=n.getKey("filter_dict").options.refer_data).push,o={label:"可选字段"},r="items",[4,this.getFields(t,this.form_model.data.state)]):[3,2];case 1:i.apply(e,[(o[r]=a.sent(),o)]),a.label=2;case 2:return[2]}}))}))},n.getKey("state").options.change=function(e,t){return Object(d.c)(i,void 0,void 0,(function(){var e,i,o,r;return Object(d.e)(this,(function(a){var s;switch(a.label){case 0:return ce()(s=n.getKey("filter_dict").options.refer_data).call(s,1,1),i=(e=n.getKey("filter_dict").options.refer_data).push,o={label:"可选字段"},r="items",[4,this.getFields(this.form_model.data.model,t)];case 1:return i.apply(e,[(o[r]=a.sent(),o)]),[2]}}))}))},n.getKey("query_str").options.selector=o()(a=this.queryStrSelector).call(a,this),[2,n]}))}))},t.prototype.getFields=function(e,t){return Object(d.c)(this,void 0,K.a,(function(){var t;return Object(d.e)(this,(function(n){var i;switch(n.label){case 0:return[4,this.dataService.callHcmOpenApi("hcm.model.query.fields",{model:e,state:this.options.state,biz_type:"list",append_relations:[]})];case 1:return t=n.sent(),[2,L()(i=ae()(t).call(t,(function(e){return"common_used"!==e.key}))).call(i,(function(e,t){var n,i;return oe()(e).call(e,x()(n=ae()(i=t.list_fields).call(i,(function(e){return!e.hide}))).call(n,(function(e){return{label:e.label,category:t.name,value:e.key,type:"var",key:e.key}})))}),[])]}}))}))},t.prototype.getModelStateList=function(e,t){return Object(d.c)(this,void 0,K.a,(function(){var n;return Object(d.e)(this,(function(i){var o;switch(i.label){case 0:return e?[4,this.dataService.callHcmOpenApi("hcm.paas.object.layout.list?category="+encodeURIComponent(e),{biz_type:"list",filter_dict:{model:e,biz_type:"list"},filter_str:t})]:[2,[]];case 1:return n=i.sent(),[2,x()(o=n.list).call(o,(function(e){var t=e.name.split(".");return t.length>=5?{id:g()(t).call(t,-2)[0],name:g()(t).call(t,-2)[0]}:{id:null,name:"默认"}}))]}}))}))},t.prototype.queryStrSelector=function(){return this.form_model.data.model?this.dataService.callHcmOpenApi("hcm.model.query.fields",{state:this.form_model.data.state,model:this.form_model.data.model,biz_type:"list",append_relations:[]}).then((function(e){return x()(e).call(e,(function(e){return{info_fields:e.info_fields,name:e.name,key:e.key}}))})):[]},t}(V.a),de=n("xAfy"),pe=function(e){function t(t,n,i,r,a,s,c){var l,u=e.call(this,s,r,n)||this;return u.$scope=t,u.$rootScope=n,u.$element=i,u.dataService=r,u.$state=a,u.hcDialog=s,u.queryService=c,u.client=window.client,u.inner_options={},u.times=1,u.changeFilter=ee()(o()(l=u.mergeFilterDict).call(l,u)),u}return Object(d.d)(t,e),t.prototype.$onInit=function(){return Object(d.c)(this,void 0,void 0,(function(){var t=this;return Object(d.e)(this,(function(n){switch(n.label){case 0:return[4,e.prototype.$onInit.call(this)];case 1:return n.sent(),this.$scope.super_go=function(e,n,i,o){t.$rootScope.super_go(e,n,i,o)},[2]}}))}))},t.prototype.$onResize=function(){},t.prototype.$onRender=function(){return Object(d.c)(this,void 0,void 0,(function(){return Object(d.e)(this,(function(e){return this.inner_options=this.options,this.changeFilter(),[2]}))}))},t.prototype.mergeFilterDict=function(){var e=C()(this.options.filter_dict||{}),t=C()(this.context||{});this.filterDict=this.queryService.transFilterDict([],Object(de.n)(e,t))},t.prototype.getSettingPanel=function(){return Object(p.c)(ue)},t.prototype.getWhichTemplate=function(){return"list"},t.$inject=["$scope","$rootScope","$element","dataService","$state","$hcDialog","queryService"],t}(p.a);R.a.component("hcBoardDataList",Object(p.b)(pe,ne.a));var he=n("Ldnt"),fe=n.n(he),_e=(n("hd7Z"),n("FfqB")),me=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(d.d)(t,e),t.prototype.getModelStateList=function(e,t){return Object(d.c)(this,void 0,K.a,(function(){var n;return Object(d.e)(this,(function(i){var o;switch(i.label){case 0:return e?[4,this.dataService.callHcmOpenApi("hcm.paas.object.layout.list?category="+encodeURIComponent(e),{biz_type:"view",filter_dict:{model:e,biz_type:"view"},filter_str:t})]:[2,[]];case 1:return n=i.sent(),[2,x()(o=n.list).call(o,(function(e){var t=e.name.split(".");return t.length>=5?{id:g()(t).call(t,-2)[0],name:g()(t).call(t,-2)[0]}:{id:null,name:"默认"}}))]}}))}))},t.prototype.getMeta=function(){return Object(d.c)(this,void 0,K.a,(function(){var e,t=this;return Object(d.e)(this,(function(n){return(e=_e.fields).getKey("state").options.selector=function(e){return Object(d.c)(t,void 0,void 0,(function(){var t;return Object(d.e)(this,(function(n){switch(n.label){case 0:return[4,this.getModelStateList(null===(t=this.form_model.data)||void 0===t?void 0:t.model,e)];case 1:return[2,n.sent()]}}))}))},e.getKey("state").options.selectorMapper=function(e){return Object(d.c)(t,void 0,void 0,(function(){return Object(d.e)(this,(function(t){return[2,{id:e,name:e}]}))}))},[2,e]}))}))},t}(V.a),ve=n("zl2E"),ge=n("1hbj"),be=function(e){function t(t,n,i,o,r,a,s,c,l){var u=e.call(this,o,i,r)||this;return u.element=t,u.$hcListBtn=n,u.dataService=i,u.hcDialog=o,u.$rootScope=r,u.$scope=a,u.$controller=s,u.baseCRUDService=c,u.$state=l,u}return Object(d.d)(t,e),t.prototype.$onInit=function(){var t,n;return Object(d.c)(this,void 0,void 0,(function(){var i,o=this;return Object(d.e)(this,(function(r){switch(r.label){case 0:return[4,e.prototype.$onInit.call(this)];case 1:return r.sent(),this.options.model&&(i=this.baseCRUDService.getModelService(null===(t=this.options)||void 0===t?void 0:t.model),this.$controller(ve.a,{$scope:this.$scope,CRUDService:i,InfoDialog:Object(ge.a)(null===(n=this.options)||void 0===n?void 0:n.model)}),this.$scope.getMetaState=function(){var e;return(null===(e=o.options)||void 0===e?void 0:e.state)||null},this.$scope.initAfter=function(){o.$scope.view_config.maxBtnNum&&o.$scope.view_btn_model.$setShowMax(o.$scope.view_config.maxBtnNum)}),[2]}}))}))},t.prototype.getSettingPanel=function(){return Object(p.c)(me)},t.prototype.$onResize=function(){e.prototype.$onResize.call(this)},t.prototype.$onRender=function(){return Object(d.c)(this,void 0,void 0,(function(){var t=this;return Object(d.e)(this,(function(n){switch(n.label){case 0:return[4,e.prototype.$onRender.call(this)];case 1:return n.sent(),this.$scope.getItemID=function(){var e,n=C()(t.options),i=C()(t.context);return null===(e=Object(de.n)(n,i))||void 0===e?void 0:e.id},this.$scope.init(),[2]}}))}))},t.$inject=["$element","$hcListBtn","dataService","$hcDialog","$rootScope","$scope","$controller","BaseCRUDService","$state"],t}(p.a);R.a.component("hcBoardDataView",Object(p.b)(be,fe.a));var ye=n("Kwsy"),we=n.n(ye),xe=n("ReWo"),Se=n.n(xe),ke=(n("vO4G"),n("J20j")),$e=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(d.d)(t,e),t.prototype.initFormBefore=function(){return Object(d.c)(this,void 0,void 0,(function(){return Object(d.e)(this,(function(e){return this.form_meta={fields:angular.copy(ke.fields),groups:angular.copy(ke.groups),tip:ke.tip},[2]}))}))},t.prototype.initFormAfter=function(){return Object(d.c)(this,void 0,void 0,(function(){return Object(d.e)(this,(function(e){return[2]}))}))},t.prototype.getMeta=function(){return Object(d.c)(this,void 0,K.a,(function(){var e;return Object(d.e)(this,(function(t){var n,i,r,a,s,c,l,u;return this,(e=this.form_meta.fields).getKey("advance_plan_id").options.selector=o()(n=this.selectorFunction).call(n,this),e.getKey("advance_plan_id").options.selectorMapper=o()(i=this.selectorMapperFunction).call(i,this),e.getKey("advance_plan_id").options.change=o()(r=this.changeFunction).call(r,this),e.getKey("label").options.change=o()(a=this.refreshCount).call(a,this),e.getKey("type").options.change=o()(s=this.changeFunction2).call(s,this),e.getKey("field").options.selector=o()(c=this.selectorFunction2).call(c,this),e.getKey("field").options.selectorMapper=o()(l=this.selectorMapperFunction2).call(l,this),e.getKey("field").options.change=o()(u=this.changeFunction3).call(u,this),[2,e]}))}))},t.prototype.getGroupMeta=function(){return Object(d.c)(this,void 0,K.a,(function(){return Object(d.e)(this,(function(e){return[2,this.form_meta.groups]}))}))},t.prototype.selectorFunction=function(){return Object(d.c)(this,void 0,void 0,(function(){return Object(d.e)(this,(function(e){switch(e.label){case 0:return[4,this.dataService.callHcmOpenApi("common.query.setting.my.all.list",{filter_dict:{},filter_str:null})];case 1:return[2,e.sent().list]}}))}))},t.prototype.selectorMapperFunction=function(e){return Object(d.c)(this,void 0,void 0,(function(){var t;return Object(d.e)(this,(function(n){switch(n.label){case 0:return[4,this.dataService.callHcmOpenApi("common.query.setting.my.all.list",{filter_dict:{},filter_str:null})];case 1:return t=n.sent().list,[2,a()(t).call(t,(function(t){return t.id===e}))]}}))}))},t.prototype.changeFunction=function(e,t){t?(this.scope.model=t.model,this.scope.state=t.state,this.scope.advancePlanId=t.id,this.form_model.data.model=t.model):(this.scope.model=null,this.scope.advancePlanId=null)},t.prototype.refreshCount=function(){},t.prototype.changeFunction2=function(e,t){var n,i;t&&"count"!==t?a()(n=this.form_model.fields).call(n,(function(e){return"field"===e.key})).options.readOnly=!1:(a()(i=this.form_model.fields).call(i,(function(e){return"field"===e.key})).options.readOnly=!0,this.form_model.data.field="",this.form_model.field=null);this.refreshCount()},t.prototype.selectorFunction2=function(){var e;return Object(d.c)(this,void 0,void 0,(function(){return Object(d.e)(this,(function(t){var n;switch(t.label){case 0:return[4,this.dataService.callHcmOpenApi("hcm.model.get.real.field",{model:null!==(e=this.scope.model)&&void 0!==e?e:this.scope.params.data.model,state:this.scope.state,biz_type:"list"})];case 1:return[2,x()(n=t.sent().fields).call(n,(function(e){return e.id=e.key,e.name=e.label,e}))]}}))}))},t.prototype.selectorMapperFunction2=function(e){var t;return Object(d.c)(this,void 0,void 0,(function(){var n;return Object(d.e)(this,(function(i){var o;switch(i.label){case 0:return[4,this.dataService.callHcmOpenApi("hcm.model.get.real.field",{model:null!==(t=this.scope.model)&&void 0!==t?t:this.scope.params.data.model,state:this.scope.state,biz_type:"list"})];case 1:return n=x()(o=i.sent().fields).call(o,(function(e){return e.id=e.key,e.name=e.label,e})),[2,a()(n).call(n,(function(t){return t.key===e}))]}}))}))},t.prototype.changeFunction3=function(e,t){t?this.scope.field=t.key:(this.form_model.data.field="",this.form_model.field=null),this.refreshCount()},t}(V.a),je=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.times=1,t}return Object(d.d)(t,e),t.prototype.$onRender=function(){return Object(d.c)(this,void 0,void 0,(function(){var e,t,n=this;return Object(d.e)(this,(function(i){return++this.times,e=C()(this.options),t=this.options.label,this.times>3&&(e.label="刷新中",this.options=e,we()((function(){var e=C()(n.options);e.label=t,n.options=e}),100)),[2]}))}))},t.prototype.getWhichTemplate=function(){return"count"},t.prototype.getSettingPanel=function(){return Object(p.c)($e)},t}(p.a);R.a.component("hcBoardDataCount",Object(p.b)(je,Se.a));n("UxlC");var Oe=n("STz3"),Ae=n.n(Oe),Le=n("A8Uh"),Pe=n.n(Le),De=(n("np+k"),n("NJpK")),Ne=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(d.d)(t,e),t.prototype.initFormBefore=function(){return Object(d.c)(this,void 0,void 0,(function(){return Object(d.e)(this,(function(e){return this.form_meta={fields:angular.copy(De.fields),groups:angular.copy(De.groups),tip:De.tip},[2]}))}))},t.prototype.getMeta=function(){return Object(d.c)(this,void 0,K.a,(function(){var e,t;return Object(d.e)(this,(function(n){var i,r,a;return this,e=this.form_meta.fields,t=x()(i=this.options.context_meta).call(i,(function(e){return{label:e.label,category:"上下文参数",value:e.key,type:"var",key:e.key}})),e.getKey("data").options.mask=o()(r=this.dataBlockMask).call(r,this),e.getKey("data").options.onClick=o()(a=this.dataBlockSetting).call(a,this),e.getKey("drill").options.refer_data=[{label:"可选变量",items:t}],[2,e]}))}))},t.prototype.getGroupMeta=function(){return Object(d.c)(this,void 0,K.a,(function(){return Object(d.e)(this,(function(e){return[2,this.form_meta.groups]}))}))},t.prototype.validateTemplateData=function(){var e;return Object(d.c)(this,void 0,void 0,(function(){var t;return Object(d.e)(this,(function(n){return(t=null===(e=this.setting_panel_data.data)||void 0===e?void 0:e.getKey("main"))||this.rootScope.show_warning("可视化需要指定'main'数据块, 请前往数据定义进行指定"),[2,t]}))}))},t.prototype.refreshViewModel=function(e){return void 0===e&&(e=null),Object(d.c)(this,void 0,K.a,(function(){var t;return Object(d.e)(this,(function(n){switch(n.label){case 0:return e=e||this.setting_panel_data.chart,this.validateTemplateData(),e?(t=this.parent,[4,this.dataService.callHcmOpenApi("flex.template.calc",{template:e,block_info:this.setting_panel_data.data,params:this.options.context_data})]):[2];case 1:return t.preview_model=n.sent(),[2]}}))}))},t}(V.a),Ce=function(){function e(e,t,n,i,o,r,a){var s=this;this.$scope=e,this.$rootScope=t,this.$element=n,this.dataService=i,this.$state=o,this.dataBlockService=r,this.compile=a,this.client=window.client,this.result=[],this.inner_data=[],this.html="<span></span>",this.times=1,this.contextChange=0,this.funcParse=function(e){var t={SCOPE:s.$scope,STATE:s.$state,location:window.location,history:window.history,document:document,dataService:s.dataService};return m.a.jsonEval(e,t,{})}}return e.prototype.$onInit=function(){var e,t=this;null===(e=this.boardCtrl)||void 0===e||e.componentRegister(this.key,this),this.options&&y()(this.options).length>0&&(this.inner_component=this.options.componentOptions.inner_component,this.inner_options=this.options.componentOptions.options,this.result=[]),this.$scope.$watch("$ctrl.options",(function(e,n){return Object(d.c)(t,void 0,void 0,(function(){var t,i,o,r,a=this;return Object(d.e)(this,(function(s){var c;switch(s.label){case 0:return e===n?[3,2]:(this.inner_component=this.options.componentOptions.inner_component,this.inner_options=this.options.componentOptions.options,t=[],i=C()(this.options.data),o=[],x()(i).call(i,(function(e){"main"==e.key&&(o[0]=e,a.options.data=o)})),[4,this.dataBlockService.getData(this.options.data[0],this.context,1,this.options.maxLength?+this.options.maxLength:20)]);case 1:r=s.sent(),x()(c=r.list).call(c,(function(e){t.push(e)})),this.result=t,this.rerender(),s.label=2;case 2:return[2]}}))}))}),!0),this.$scope.$watch("$ctrl.context",(function(e){Ae()(e).length>0&&(++t.contextChange,1==t.contextChange&&t.$onRender())}),!0)},e.prototype.addData=function(e){var t=e.className,n=(t=t.replace(this.key,"")).replace(/[^0-9]/gi,"");this.inner_data[n]=this.result[n]},e.prototype.rerender=function(){var e;return Object(d.c)(this,void 0,void 0,(function(){var t,n,i=this;return Object(d.e)(this,(function(o){var r;(t=this.$scope.$parent.$ctrl.model.scale)&&1!==t&&(n=1/t*100,null===(e=a()(r=this.$element).call(r,"#components-style"))||void 0===e||e.css({transform:"scale("+t+", "+t+")","transform-origin-x":0,"transform-origin-y":0,width:n+"%",height:n+"%"}));return we()((function(){for(var e=document.querySelectorAll("."+i.key),n=document.querySelector(".con"+i.key).closest(".hc-board-component").clientHeight,o=document.querySelector(".con"+i.key).closest(".hc-board-component").scrollTop,r=0;r<e.length;r++)t&&1!==t?n+o>e[r].offsetTop*t&&i.addData(e[r]):n+o>e[r].offsetTop&&i.addData(e[r]);document.querySelector(".con"+i.key).closest(".hc-board-component").onscroll=function(){for(var n=document.querySelector(".con"+i.key).closest(".hc-board-component").clientHeight,o=document.querySelector(".con"+i.key).closest(".hc-board-component").scrollTop,r=0;r<e.length;r++)t&&1!==t?n+o>e[r].offsetTop*t&&i.addData(e[r]):n+o>e[r].offsetTop&&i.addData(e[r])}}),500),[2]}))}))},e.prototype.$onRender=function(){return Object(d.c)(this,void 0,void 0,(function(){var e,t=this;return Object(d.e)(this,(function(n){return(e=C()(this.options)).label="刷新中",this.options=e,we()((function(){var e=C()(t.options);e.label="",t.options=e}),100),[2]}))}))},e.prototype.getSettingPanel=function(){return Object(p.c)(Ne)},e.prototype.getWhichTemplate=function(){},e.prototype.componentOnclick=function(e){var t,n=this,i={};for(var o in this.context)i[o]=this.context[o];i.selected=this.inner_data[e],(null===(t=this.options)||void 0===t?void 0:t.drill)&&this.dataService.callHcmOpenApi("flex.template.calc",{template:this.options.drill,block_info:this.options.data,params:i}).then((function(e){n.$rootScope.super_go(e.state,e.params,{},e.is_new_page)}))},e.$inject=["$scope","$rootScope","$element","dataService","$state","dataBlockService","$compile"],e}();R.a.component("componentsContainer",Object(p.b)(Ce,Pe.a));var Me=n("6UaR"),Ie=n.n(Me),Ee=n("6moa"),Be=n.n(Ee),Fe=(n("cGEE"),n("CkDz")),Re=function(e){function t(t,n,i,o,r,s,c,l,u){var d=e.call(this,n,r,i)||this;return d.$scope=t,d.$hcDialog=n,d.$rootScope=i,d.$element=o,d.dataService=r,d.$state=s,d.dataBlockService=c,d.compile=l,d.timeout=u,d.client=window.client,d.contextChange=0,d.funcParse=function(e){var t={SCOPE:d.$scope,STATE:d.$state,location:window.location,history:window.history,document:document,dataService:d.dataService};return m.a.jsonEval(e,t,{})},d.timeout((function(){var e,t,n=d.$element.height()-16,i=a()(e=d.$element).call(e,".home-widget").height();if(n<i){var o,r=n/i,s=1/r*100;null===(t=a()(o=d.$element).call(o,".home-widget"))||void 0===t||t.css({transform:"scale("+r+", "+r+")",width:s+"%",height:s+"%"})}})),d}return Object(d.d)(t,e),t.prototype.initData=function(e){var t,n,i,o,r=this;void 0===e&&(e=!1),this.options.autoScale&&"none"===a()(t=this.$element).call(t,".home-widget").css("transform")&&this.timeout((function(){var e,t,n=r.$element.height()-8,i=a()(e=r.$element).call(e,".home-widget").height();if(n<i){var o,s=n/i,c=1/s*100;null===(t=a()(o=r.$element).call(o,".home-widget"))||void 0===t||t.css({transform:"scale("+s+", "+s+")","transform-origin-x":0,"transform-origin-y":0,width:c+"%",height:c+"%"})}})),this.countTitle=null===(n=this.options)||void 0===n?void 0:n.countTitle,Ie()(null===(i=this.options)||void 0===i?void 0:i.data)&&(null===(o=this.options)||void 0===o?void 0:o.data.length)>0&&this.dataService.callHcmOpenApi("flex.count.calc",{block_info:this.options.data,count_key:this.options.getCountKey,formula_info:this.options.formula,params:Object(d.a)(Object(d.a)({},this.context),this.options.filter_dict||{}),context_key:this.contextKey,force_refresh:e}).then((function(e){r.countNum=e}))},t.prototype.getDrillDownParam=function(e){var t,n=angular.copy(this.context);return n.selected=((t={})[this.options.getCountKey]=this.countNum,t),n},t.prototype.$onRender=function(e){return void 0===e&&(e=!1),Object(d.c)(this,void 0,void 0,(function(){return Object(d.e)(this,(function(t){switch(t.label){case 0:return[4,this.checkContext()];case 1:return t.sent()?(this.initData(e),[2]):[2]}}))}))},t.prototype.getSettingPanel=function(){return Object(p.c)(Fe.a)},t.prototype.getWhichTemplate=function(){},t.$inject=["$scope","$hcDialog","$rootScope","$element","dataService","$state","dataBlockService","$compile","$timeout"],t}(p.a);R.a.component("countSec",Object(p.b)(Re,Be.a));var Te=n("7hkl"),qe=n.n(Te),Ue=(n("KYEb"),n("Eu2N")),ze=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.scheme_confirm=function(){t.form_model.data.category=t.scope.params,t.scope.$dialog.resolve_data(t.form_model.data),t.scope.$dialog.dialog_close()},t}return Object(d.d)(t,e),t.prototype.initFormBefore=function(){var e,t;return Object(d.c)(this,void 0,void 0,(function(){return Object(d.e)(this,(function(n){return null===(t=null===(e=this.scope)||void 0===e?void 0:e.$dialog)||void 0===t||t.operates([{label:"取消",func:this.scope.$dialog.dialog_close},{label:"确定",func:this.scheme_confirm,default:!0}]),this.form_meta={fields:angular.copy(Ue.fields),groups:angular.copy(Ue.groups),tip:Ue.tip},[2]}))}))},t.prototype.getMeta=function(){return Object(d.c)(this,void 0,K.a,(function(){var e;return Object(d.e)(this,(function(t){var n,i;return(e=this.form_meta.fields).getKey("data").options.mask=o()(n=this.dataBlockMask).call(n,this),e.getKey("data").options.onClick=o()(i=this.dataBlockSetting).call(i,this),[2,e]}))}))},t.prototype.getDataRefer=function(){return Object(d.c)(this,void 0,void 0,(function(){var e,t,n,i,o,r,a,s,c,l;return Object(d.e)(this,(function(u){switch(u.label){case 0:var p;if(e=[],this.options.context_meta)e.push({key:"context_params",name:"上下文参数",list_fields:x()(p=this.options.context_meta).call(p,(function(e){return{name:e.label,category:"上下文参数",key:e.key,type:"var"}}))});if(!this.form_model.data.data)return[3,8];n=function(n){return Object(d.e)(this,(function(o){switch(o.label){case 0:return[4,i.dataBlockService.getAvailFields(n)];case 1:return t=o.sent(),e.push({key:n.key,name:n.name?n.name:n.key,list_fields:x()(t).call(t,(function(e){return{name:e.label,category:n.name?n.name:n.key,key:"main"===n.key?e.value:n.key+"."+e.value,type:"var"}}))}),[2]}}))},i=this,u.label=1;case 1:u.trys.push([1,6,7,8]),o=Object(d.i)(this.form_model.data.data),r=o.next(),u.label=2;case 2:return r.done?[3,5]:(a=r.value,[5,n(a)]);case 3:u.sent(),u.label=4;case 4:return r=o.next(),[3,2];case 5:return[3,8];case 6:return s=u.sent(),c={error:s},[3,8];case 7:try{r&&!r.done&&(l=o.return)&&l.call(o)}finally{if(c)throw c.error}return[7];case 8:return[2,e]}}))}))},t.prototype.getGroupMeta=function(){return Object(d.c)(this,void 0,K.a,(function(){return Object(d.e)(this,(function(e){return[2,this.form_meta.groups]}))}))},t}(V.a),We=function(e){function t(t,n,i,o,r){var a=e.call(this,t,o,n)||this;return a.$hcDialog=t,a.$rootScope=n,a.$element=i,a.dataService=o,a.compile=r,a.client=window.client,a}return Object(d.d)(t,e),t.prototype.$onRender=function(){return Object(d.c)(this,void 0,void 0,(function(){var t;return Object(d.e)(this,(function(n){switch(n.label){case 0:return t=this,[4,this.dataService.callHcmOpenApi("board.report.word.cloud",Object(d.a)(Object(d.a)({},this.options),{params:this.context}))];case 1:return t.img_src=n.sent(),[4,e.prototype.$onRender.call(this)];case 2:return n.sent(),[2]}}))}))},t.prototype.getSettingPanel=function(){return Object(p.c)(ze)},t.$inject=["$hcDialog","$rootScope","$element","dataService","$state","dataBlockService","$compile","$http"],t}(p.a);R.a.component("wordCloud",Object(p.b)(We,qe.a));var He=n("/A5W"),Ke=n.n(He),Ve=(n("hV9V"),n("g7ma")),Ge=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.scheme_confirm=function(){t.form_model.data.category=t.scope.params,t.scope.$dialog.resolve_data(t.form_model.data),t.scope.$dialog.dialog_close()},t}return Object(d.d)(t,e),t.prototype.initFormBefore=function(){var e,t;return Object(d.c)(this,void 0,void 0,(function(){return Object(d.e)(this,(function(n){return null===(t=null===(e=this.scope)||void 0===e?void 0:e.$dialog)||void 0===t||t.operates([{label:"取消",func:this.scope.$dialog.dialog_close},{label:"确定",func:this.scheme_confirm,default:!0}]),this.form_meta={fields:angular.copy(Ve.fields),groups:angular.copy(Ve.groups),tip:Ve.tip},[2]}))}))},t.prototype.getMeta=function(){var e,t;return Object(d.c)(this,void 0,K.a,(function(){var n;return Object(d.e)(this,(function(i){var r,a;return this,n=this.form_meta.fields,null===(t=null===(e=this.options)||void 0===e?void 0:e.context_meta)||void 0===t?void 0:x()(t).call(t,(function(e){return{label:e.label,category:"上下文参数",value:e.key,type:"var",key:e.key}})),n.getKey("data").options.mask=o()(r=this.dataBlockMask).call(r,this),n.getKey("data").options.onClick=o()(a=this.dataBlockSetting).call(a,this),[2,n]}))}))},t.prototype.getGroupMeta=function(){return Object(d.c)(this,void 0,K.a,(function(){return Object(d.e)(this,(function(e){return[2,this.form_meta.groups]}))}))},t.prototype.validateTemplateData=function(){var e;return Object(d.c)(this,void 0,void 0,(function(){var t;return Object(d.e)(this,(function(n){return(t=null===(e=this.setting_panel_data.data)||void 0===e?void 0:e.getKey("main"))||this.rootScope.show_warning("可视化需要指定'main'数据块, 请前往数据定义进行指定"),[2,t]}))}))},t.prototype.refreshViewModel=function(e){return void 0===e&&(e=null),Object(d.c)(this,void 0,K.a,(function(){var t;return Object(d.e)(this,(function(n){switch(n.label){case 0:return e=e||this.setting_panel_data.chart,this.validateTemplateData(),e?(t=this.parent,[4,this.dataService.callHcmOpenApi("flex.template.calc",{template:e,block_info:this.setting_panel_data.data,params:this.options.context_data})]):[2];case 1:return t.preview_model=n.sent(),[2]}}))}))},t}(V.a),Je=function(){function e(e,t,n,i,o,r,a){var s=this;this.$scope=e,this.$rootScope=t,this.$element=n,this.dataService=i,this.$state=o,this.dataBlockService=r,this.compile=a,this.client=window.client,this.contextChange=0,this.funcParse=function(e){var t={SCOPE:s.$scope,STATE:s.$state,location:window.location,history:window.history,document:document,dataService:s.dataService};return m.a.jsonEval(e,t,{})}}return e.prototype.$onInit=function(){var e,t=this;null===(e=this.boardCtrl)||void 0===e||e.componentRegister(this.key,this),this.options&&y()(this.options).length,this.$scope.$watch("$ctrl.options",ee()((function(e,n){return Object(d.c)(t,void 0,void 0,(function(){return Object(d.e)(this,(function(t){return e!==n&&this.initData(),[2]}))}))}),1e3),!0),this.$scope.$watch("$ctrl.context",(function(e){Ae()(e).length>0&&(++t.contextChange,1==t.contextChange&&t.$onRender())}),!0)},e.prototype.$onResize=function(){},e.prototype.initData=function(){var e,t,n=this;if(this.options.inner_data)this.inner_data=this.options.inner_data;else{var i=C()(this.options.data),o=[];x()(i).call(i,(function(e){"main"==e.key&&(o[0]=e,n.options.data=o)})),null===(t=null===(e=this.options)||void 0===e?void 0:e.data)||void 0===t||x()(t).call(t,(function(e){n.dataBlockService.getData(e,n.context,null,null).then((function(e){for(var t in e.list[0])t==n.options.getCountKey&&(n.inner_data=e.list[0][t])}))}))}},e.prototype.onNumClick=function(){},e.prototype.$onRender=function(){return Object(d.c)(this,void 0,void 0,(function(){var e,t=this;return Object(d.e)(this,(function(n){return(e=C()(this.options)).label="刷新中",this.options=e,we()((function(){var e=C()(t.options);e.label="",t.options=e}),100),[2]}))}))},e.prototype.getSettingPanel=function(){return Object(p.c)(Ge)},e.prototype.getWhichTemplate=function(){},e.$inject=["$scope","$rootScope","$element","dataService","$state","dataBlockService","$compile"],e}();R.a.component("showText",Object(p.b)(Je,Ke.a));var Ye=n("oJNi"),Xe=n.n(Ye),Qe=(n("UooF"),n("TeQF"),n("ZbhI")),Ze=n.n(Qe),et=n("od6B"),tt=n("bQov"),nt=n("VEMl"),it=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(d.d)(t,e),t.prototype.getMeta=function(){return Object(d.c)(this,void 0,K.a,(function(){return Object(d.e)(this,(function(e){return[2,nt.fields]}))}))},t}(V.a),ot=n("26w8"),rt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(d.d)(t,e),t.prototype.getMeta=function(){return Object(d.c)(this,void 0,K.a,(function(){return Object(d.e)(this,(function(e){return[2,ot.fields]}))}))},t}(V.a),at=n("2Nch"),st=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(d.d)(t,e),t.prototype.getMeta=function(){return Object(d.c)(this,void 0,K.a,(function(){return Object(d.e)(this,(function(e){return[2,at.fields]}))}))},t}(V.a),ct=n("/DKH"),lt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.scheme_confirm=function(){t.form_model.data.category=t.scope.params,t.scope.$dialog.resolve_data(t.form_model.data),t.scope.$dialog.dialog_close()},t}return Object(d.d)(t,e),t.prototype.initFormBefore=function(){var e,t;return Object(d.c)(this,void 0,void 0,(function(){return Object(d.e)(this,(function(n){return null===(t=null===(e=this.scope)||void 0===e?void 0:e.$dialog)||void 0===t||t.operates([{label:"取消",func:this.scope.$dialog.dialog_close},{label:"确定",func:this.scheme_confirm,default:!0}]),this.form_meta={fields:angular.copy(ct.fields),groups:angular.copy(ct.groups),tip:ct.tip},[2]}))}))},t.prototype.initFormAfter=function(){return Object(d.c)(this,void 0,void 0,(function(){return Object(d.e)(this,(function(e){return this.form_model.data.needPage?this.form_meta.fields.getKey("defaultPageSize").options.hide=!1:(this.form_meta.fields.getKey("defaultPageSize").options.hide=!0,this.form_model.data.defaultPageSize=0),[2]}))}))},t.prototype.getMeta=function(){var e,t;return Object(d.c)(this,void 0,K.a,(function(){var n;return Object(d.e)(this,(function(i){var r,a,s;return this,n=this.form_meta.fields,null===(t=null===(e=this.options)||void 0===e?void 0:e.context_meta)||void 0===t?void 0:x()(t).call(t,(function(e){return{label:e.label,category:"上下文参数",value:e.key,type:"var",key:e.key}})),n.getKey("data").options.mask=o()(r=this.dataBlockMask).call(r,this),n.getKey("data").options.onClick=o()(a=this.dataBlockSetting).call(a,this),n.getKey("needPage").options.change=o()(s=this.needPageChange).call(s,this),[2,n]}))}))},t.prototype.needPageChange=function(e){e.model?this.form_meta.fields.getKey("defaultPageSize").options.hide=!1:(this.form_meta.fields.getKey("defaultPageSize").options.hide=!0,this.form_model.data.defaultPageSize=0)},t.prototype.getGroupMeta=function(){return Object(d.c)(this,void 0,K.a,(function(){return Object(d.e)(this,(function(e){return[2,this.form_meta.groups]}))}))},t.prototype.validateTemplateData=function(){var e;return Object(d.c)(this,void 0,void 0,(function(){var t;return Object(d.e)(this,(function(n){return(t=null===(e=this.setting_panel_data.data)||void 0===e?void 0:e.getKey("main"))||this.rootScope.show_warning("可视化需要指定'main'数据块, 请前往数据定义进行指定"),[2,t]}))}))},t.prototype.refreshViewModel=function(e){return void 0===e&&(e=null),Object(d.c)(this,void 0,K.a,(function(){var t;return Object(d.e)(this,(function(n){switch(n.label){case 0:return e=e||this.setting_panel_data.chart,this.validateTemplateData(),e?(t=this.parent,[4,this.dataService.callHcmOpenApi("flex.template.calc",{template:e,block_info:this.setting_panel_data.data,params:this.options.context_data})]):[2];case 1:return t.preview_model=n.sent(),[2]}}))}))},t}(V.a),ut=n("KLJy"),dt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.scheme_confirm=function(){t.form_model.data.category=t.scope.params,t.scope.$dialog.resolve_data(t.form_model.data),t.scope.$dialog.dialog_close()},t}return Object(d.d)(t,e),t.prototype.initFormBefore=function(){var e,t;return Object(d.c)(this,void 0,void 0,(function(){return Object(d.e)(this,(function(n){return null===(t=null===(e=this.scope)||void 0===e?void 0:e.$dialog)||void 0===t||t.operates([{label:"取消",func:this.scope.$dialog.dialog_close},{label:"确定",func:this.scheme_confirm,default:!0}]),this.form_meta={fields:angular.copy(ut.fields),groups:angular.copy(ut.groups),tip:ut.tip},[2]}))}))},t.prototype.initFormAfter=function(){return Object(d.c)(this,void 0,void 0,(function(){return Object(d.e)(this,(function(e){return[2]}))}))},t.prototype.getMeta=function(){var e,t;return Object(d.c)(this,void 0,K.a,(function(){var n;return Object(d.e)(this,(function(i){var r,a;return this,n=this.form_meta.fields,null===(t=null===(e=this.options)||void 0===e?void 0:e.context_meta)||void 0===t?void 0:x()(t).call(t,(function(e){return{label:e.label,category:"上下文参数",value:e.key,type:"var",key:e.key}})),n.getKey("data").options.mask=o()(r=this.dataBlockMask).call(r,this),n.getKey("data").options.onClick=o()(a=this.dataBlockSetting).call(a,this),[2,n]}))}))},t.prototype.getGroupMeta=function(){return Object(d.c)(this,void 0,K.a,(function(){return Object(d.e)(this,(function(e){return[2,this.form_meta.groups]}))}))},t.prototype.validateTemplateData=function(){var e;return Object(d.c)(this,void 0,void 0,(function(){var t;return Object(d.e)(this,(function(n){return(t=null===(e=this.setting_panel_data.data)||void 0===e?void 0:e.getKey("main"))||this.rootScope.show_warning("可视化需要指定'main'数据块, 请前往数据定义进行指定"),[2,t]}))}))},t.prototype.refreshViewModel=function(e){return void 0===e&&(e=null),Object(d.c)(this,void 0,K.a,(function(){var t;return Object(d.e)(this,(function(n){switch(n.label){case 0:return e=e||this.setting_panel_data.chart,this.validateTemplateData(),e?(t=this.parent,[4,this.dataService.callHcmOpenApi("flex.template.calc",{template:e,block_info:this.setting_panel_data.data,params:this.options.context_data})]):[2];case 1:return t.preview_model=n.sent(),[2]}}))}))},t}(V.a),pt=n("7pNK"),ht=n("sEM7"),ft=n.n(ht),_t=(n("RS6m"),n("2eYA"));window.app.controller("boardContainerSettingCtr",["$scope","$timeout","$hcBoard","$hcDialog",function(e,t,n,i){var o=this;e.init=function(){var i,o;e.model=e.params.data,e.context=e.params.context,e.board_model=n.createBoard(),e.board_model.setComponent(e.model||[]),e.initOperates(),e.board_model.setContextMeta(null===(i=e.context)||void 0===i?void 0:i.context_meta),e.board_model.setContext(null===(o=e.context)||void 0===o?void 0:o.context_data),e.board_model.setState("setup"),e.board_model.setBorderContainer(!0),t((function(){e.board_model.refreshBoard(!0),e.board_model.$ctrl.gridLayoutSetup()}),100)},e.add_plugins=function(){return Object(d.c)(o,void 0,void 0,(function(){var t,n,o;return Object(d.e)(this,(function(r){switch(r.label){case 0:return[4,i.getDialog(_t.a).size("large").title("请选择组件").show({model:"HCMBoardWidgetSelector",category_field:"category_id",disableEdit:!0,state:"setting",category_filter_dict:{},disableTotal:!0})];case 1:return t=r.sent(),n={title:t.name,is_base:t.is_base},t.is_base||(n=D()(n,{form_data:{},define_number:t.number})),o={key:this.generateComponentKey(),title:t.name,options:n,position:"1,1,6,6",component:t.component},e.board_model.addComponent(o),[2]}}))}))},e.initOperates=function(){var t=[{label:"取消",func:e.close},{label:"确定",func:e.submit,default:!0}];e.$dialog.operates(t)},e.submit=function(){e.$dialog.resolve_data(e.board_model.components),e.$dialog.dialog_close()},e.close=function(){e.$dialog.dialog_close()}}]);var mt={controller:"boardContainerSettingCtr",template:ft.a,title:"插件设置",name:"boardContainerSettingCtr"},vt=function(e){function t(t,n,i,o,r,a,s){var c=e.call(this,t,n,i,o,r,a,s)||this;return c.scope=t,c.rootScope=n,c.hcDialog=i,c.hcForm=o,c.dataService=r,c.dataBlockService=a,c.filter=s,c.scheme_confirm=function(){c.form_model.data.category=c.scope.params,c.scope.$dialog.resolve_data(c.form_model.data),c.scope.$dialog.dialog_close()},c}return Object(d.d)(t,e),t.prototype.initFormBefore=function(){var e,t;return Object(d.c)(this,void 0,void 0,(function(){return Object(d.e)(this,(function(n){return null===(t=null===(e=this.scope)||void 0===e?void 0:e.$dialog)||void 0===t||t.operates([{label:"取消",func:this.scope.$dialog.dialog_close},{label:"确定",func:this.scheme_confirm,default:!0}]),this.form_meta={fields:angular.copy(pt.fields),groups:angular.copy(pt.groups),tip:pt.tip},[2]}))}))},t.prototype.getMeta=function(){return Object(d.c)(this,void 0,K.a,(function(){var e;return Object(d.e)(this,(function(t){var n,i;return(e=this.form_meta.fields).getKey("components").options.operate_row[0].func=o()(n=this.delete).call(n,this),e.getKey("components").options.list_btn_meta[0].func=o()(i=this.newEdit).call(i,this),[2,e]}))}))},t.prototype.delete=function(e){var t;this.form_model.data.components=ae()(t=this.form_model.data.components).call(t,(function(t){return t.key!==e.key}))},t.prototype.newEdit=function(){var e=this;this.hcDialog.getDialog(mt).params({data:this.form_model.data.components,context:this.options}).show().then((function(t){t&&(e.form_model.data.components=t)}))},t.prototype.getGroupMeta=function(){return Object(d.c)(this,void 0,K.a,(function(){return Object(d.e)(this,(function(e){return[2,this.form_meta.groups]}))}))},t.$inject=["$scope","$rootScope","$hcDialog","$hcForm","dataService","dataBlockService","$filter"],t}(V.a),gt=n("UGd6"),bt=n("JzNJ"),yt=n.n(bt),wt=function(e){function t(t,n,i,o,r,a,s,c){var l=e.call(this,t,n,i,o,r,a,s)||this;return l.scope=t,l.rootScope=n,l.hcDialog=i,l.hcForm=o,l.dataService=r,l.dataBlockService=a,l.filter=s,l.boardAppListService=c,l}return Object(d.d)(t,e),t.prototype.getMeta=function(){return Object(d.c)(this,void 0,K.a,(function(){var e;return Object(d.e)(this,(function(t){var n,i,r;return(e=et.fields).getKey("components").options.operate_row[0].func=o()(n=this.delete).call(n,this),e.getKey("components").options.operate_row[1].func=o()(i=this.edit).call(i,this),e.getKey("components").options.list_btn_meta[0].func=o()(r=this.new).call(r,this),[2,e]}))}))},t.prototype.delete=function(e){var t,n,i=Ze()(t=this.form_model.data.components).call(t,e);ce()(n=this.form_model.data.components).call(n,i,1)},t.prototype.edit=function(e){return Object(d.c)(this,void 0,void 0,(function(){var t,n,i;return Object(d.e)(this,(function(o){var r;switch(o.label){case 0:return t=Ze()(r=this.form_model.data.components).call(r,e),n={options:e.data,title:e.title},[4,this.openFormDialog(e.component,n)];case 1:return i=o.sent(),this.form_model.data.components[t].data=i.options,this.form_model.data.components[t].title=i.title,[2]}}))}))},t.prototype.new=function(){return Object(d.c)(this,void 0,void 0,(function(){var e,t,n;return Object(d.e)(this,(function(i){switch(i.label){case 0:return[4,this.hcDialog.getDialog(Object(tt.a)("HCMBoardWidget","selector",!0)).params({filter_dict:{id:["00001","00003","00011","00014","00015","00022","00018","00023","00029"]}}).show()];case 1:return e=i.sent(),[4,this.openFormDialog(e.component)];case 2:return t=i.sent(),n={title:t.title,name:e.name,component:e.component,data:t.options},this.form_model.data.components?this.form_model.data.components.push(n):this.form_model.data.components=[n],[2]}}))}))},t.prototype.openFormDialog=function(e,t){return void 0===t&&(t={}),Object(d.c)(this,void 0,void 0,(function(){var n,i;return Object(d.e)(this,(function(o){switch(o.label){case 0:switch(e){case"hc-board-data-list":n=kt,i=Object(p.c)(ue);break;case"hc-board-common-used-app":n=kt,i=Object(p.c)(st);break;case"hc-board-my-service-list":n=kt,i=Object(p.c)(it);break;case"hc-board-my-favorite-app":n=kt,i=Object(p.c)(rt);break;case"hc-board-data-chart":n=kt,i=Object(p.c)(_.a);break;case"count-sec":n=kt,i=Object(p.c)(Fe.a);break;case"datasouce-list":n=kt,i=Object(p.c)(lt);break;case"datasouce-view":n=kt,i=Object(p.c)(dt);break;case"board-container":n=kt,i=Object(p.c)(vt);break;default:return[2]}return[4,this.hcDialog.getDialog(n).show({data:t,panel:i,context_meta:this.options.context_meta,context_data:this.options.context_data}).then((function(e){return e}))];case 1:return[2,o.sent()]}}))}))},t.$inject=["$scope","$rootScope","$hcDialog","$hcForm","dataService","dataBlockService","$filter","boardAppListService"],t}(V.a),xt=wt,St=[{key:"title",label:"标题",component:"hc-input",options:{singleLine:!0,width:"col-12",placeholder:"请输入标题",required:!1}}];window.app.service("dataContainerSettingController",wt);!function(e){function t(t,n,i,o,r,a,s,c,l){var u=e.call(this,t,n,i,o,r,a,s,c,l)||this;return u.scope=t,u.rootScope=n,u.hcDialog=i,u.hcForm=o,u.dataService=r,u.dataBlockService=a,u.hcPanel=s,u.$state=c,u.$filter=l,u}Object(d.d)(t,e),t.prototype.$onInit=function(){return Object(d.c)(this,void 0,void 0,(function(){return Object(d.e)(this,(function(t){return e.prototype.$onInit.call(this),[2]}))}))},t.prototype.getMeta=function(){return Object(d.c)(this,void 0,K.a,(function(){return Object(d.e)(this,(function(e){return[2,St]}))}))},t.$inject=["$scope","$rootScope","$hcDialog","$hcForm","dataService","dataBlockService","$hcPanel","$state","$filter"]}(gt.ComponentSetupController);var kt={title:"组件设置",controller:gt.ComponentSetupController,template:yt.a,size:"super-max"},$t=function(e){function t(t,n,i,o,r,a,s,c,l,u,d,p,h){var f=e.call(this,i,n,a)||this;return f.element=t,f.dataService=n,f.hcDialog=i,f.$compile=o,f.scope=r,f.rootScope=a,f.$filter=s,f.boardAppListService=c,f.boardCommonUsedAppService=l,f.boardMyServiceListService=u,f.boardMyFavoriteAppService=d,f.timeout=p,f.documentPreviewService=h,f.currentTabs="index_0",f.funcParse=function(e){var t={SCOPE:f.scope,location:window.location,history:window.history,document:document,dataService:f.dataService,rootScope:f.rootScope,WINDOW:window,documentPreviewService:f.documentPreviewService};return m.a.jsonEval(e,t,{})},f}return Object(d.d)(t,e),t.prototype.$onInit=function(){var e;return Object(d.c)(this,void 0,void 0,(function(){return Object(d.e)(this,(function(t){return null===(e=this.boardCtrl)||void 0===e||e.componentRegister(this.key,this),this.getTabs(),this.getOperates(),[2]}))}))},t.prototype.getSettingPanel=function(){return Object(p.c)(xt)},t.prototype.$onResize=function(){console.log("resizing..."),e.prototype.$onResize.call(this)},t.prototype.getTabs=function(){var e,t=this;this.tabs=null===(e=this.options.components)||void 0===e?void 0:x()(e).call(e,(function(e,n){var i;return{key:"index_"+n,label:e.title,func:o()(i=t.renderComponent).call(i,t)}}))},t.prototype.getOperates=function(){var e,t=this;this.operates=null===(e=this.options.components)||void 0===e?void 0:x()(e).call(e,(function(e,n){var i,o,r,a,s,c,l,u,d,p,h,f,_,m,v,g,b,y,w,x,S,k,$={label:null===(o=null===(i=e.data)||void 0===i?void 0:i.operates)||void 0===o?void 0:o.label,key:"index_"+n,func:t.funcParse(null===(a=null===(r=e.data)||void 0===r?void 0:r.operates)||void 0===a?void 0:a.func),target:(null===(c=null===(s=e.data)||void 0===s?void 0:s.operates)||void 0===c?void 0:c.target)||"pc"};switch(e.component){case"hc-board-app-list":return{label:t.$filter("translate")("common_home_widget_my_app_setting"),key:"index_"+n,func:t.boardAppListService.adjust_my_app(e),hide:!(null===(l=e.data)||void 0===l?void 0:l.adjustable),target:"pc"};case"hc-board-common-used-app":return(null===(u=e.data)||void 0===u?void 0:u.operates)?$:{label:t.$filter("translate")("common_home_widget_my_app_setting"),key:"index_"+n,func:t.boardCommonUsedAppService.adjust_my_app(e),hide:!(null===(d=e.data)||void 0===d?void 0:d.adjustable)||"inner"===(null===(p=e.data)||void 0===p?void 0:p.position),target:"pc"};case"hc-board-my-service-list":return(null===(h=e.data)||void 0===h?void 0:h.operates)?$:{label:t.$filter("translate")("common_home_widget_my_app_setting"),key:"index_"+n,func:t.boardMyServiceListService.adjust_my_app(e),hide:!(null===(f=e.data)||void 0===f?void 0:f.adjustable)||"inner"===(null===(_=e.data)||void 0===_?void 0:_.position),target:"pc"};case"hc-board-my-favorite-app":return(null===(m=e.data)||void 0===m?void 0:m.operates)?$:{label:t.$filter("translate")("common_home_widget_my_app_setting"),key:"index_"+n,func:t.boardMyFavoriteAppService.adjust_my_app(e),hide:!(null===(v=e.data)||void 0===v?void 0:v.adjustable)||"inner"===(null===(g=e.data)||void 0===g?void 0:g.position),target:"pc"};case"hc-board-data-list":var j=C()(null===(y=null===(b=e.data)||void 0===b?void 0:b.operates)||void 0===y?void 0:y.func);return j=t.funcParse(j),{label:null===(x=null===(w=e.data)||void 0===w?void 0:w.operates)||void 0===x?void 0:x.label,key:"index_"+n,func:j,target:(null===(k=null===(S=e.data)||void 0===S?void 0:S.operates)||void 0===k?void 0:k.target)||"pc"};default:return}}))},t.prototype.$onRender=function(){return Object(d.c)(this,void 0,void 0,(function(){return Object(d.e)(this,(function(e){return this.getTabs(),this.renderComponent(this.currentTabs),[2]}))}))},t.prototype.renderComponent=function(e){var t,n=this;this.renderElement&&this.currentTabs!==e&&(a()(t=this.element).call(t,".render").children().remove(),this.childScope.$destroy(),this.renderElement=null);this.timeout((function(){var t,i,o,r;if(!n.renderElement||n.renderElement&&n.currentTabs!==e){var s,c;n.currentTabs=e;var l=e.split("_")[1],u=n.options.components[l].component;n.renderOptions=n.options.components[l].data;var d="<"+u+" options='renderOptions' key='realKey' context='context' operates=\"operates\" current-tab=\"currentTabs\"><"+u+">";a()(s=n.element).call(s,".render").html(d),n.childScope=n.scope.$new(),n.childScope.renderOptions=n.renderOptions,n.childScope.context=n.context,n.childScope.realKey=Object(de.g)(),n.childScope.operates=n.operates,n.childScope.currentTabs=n.currentTabs,n.renderElement=n.$compile(a()(c=n.element).call(c,".render"))(n.childScope);var p=n;n.timeout((function(){var e,t,n,i;null===(i=null===(n=null===(t=null===(e=null==p?void 0:p.boardCtrl)||void 0===e?void 0:e.model)||void 0===t?void 0:t.component_controllers[p.childScope.realKey])||void 0===n?void 0:n.$onRender)||void 0===i||i.call(n)}))}else{var h=n;null===(r=null===(o=null===(i=null===(t=null==h?void 0:h.boardCtrl)||void 0===t?void 0:t.model)||void 0===i?void 0:i.component_controllers[h.childScope.realKey])||void 0===o?void 0:o.$onRender)||void 0===r||r.call(o)}}))},t.$inject=["$element","dataService","$hcDialog","$compile","$scope","$rootScope","$filter","boardAppListService","boardCommonUsedAppService","boardMyServiceListService","boardMyFavoriteAppService","$timeout","documentPreviewService"],t}(p.a);R.a.component("hcBoardDataContainer",{bindings:{key:"<",options:"=",context:"="},require:{boardCtrl:"?^hcmBoard"},controller:$t,template:Xe.a});n("mRH6");var jt=n("kcif"),Ot=n.n(jt),At=n("XVR8"),Lt=n.n(At),Pt=(n("gn3O"),n("TJlg")),Dt=n("L4uP"),Nt=n.n(Dt);window.app.controller("AppListAdjustCtrl",["$scope","$hcConfigList","$hcDataset","contextService","$q","IndexService","$filter","$rootScope","hcAutoCopyService","boardAppListService",function(e,t,n,i,o,r,s,c,l,d){e.init=function(){e.auth=i.getContext("auth"),e.initComponent()},e.submit=function(){var t=e.parse_app_list_order();t&&(e.$dialog.resolve_data(t),e.$dialog.dialog_close())},e.cancel=function(){e.$dialog.dialog_close()},e.cleanInvalidData=function(){var t,n=x()(t=e.invalid_id).call(t,(function(e){return d.delApp(e)}));o.all(n).then((function(){c.show_warning("已清理"+e.invalid_id.length+"条无效记录"),e.initComponent()}))},e.copyAppList=function(){var t;l.copy(u()(x()(t=e.dataset_model.selected_list).call(t,(function(e){return{app_id:e.id,is_service:e.is_service}})))),c.show_warning("已将应用ID复制到剪贴板")},e.operate_meta=[{key:"cancel",label:"取消",func:e.cancel},{key:"submit",label:"确定",default:!0,func:e.submit},{key:"get_app_id_list",label:"复制应用列表",hide:function(){var t,n,i,o;return!((null===(t=e.auth)||void 0===t||null===(n=t.roles)||void 0===n?void 0:n.onlyoneowner)||(null===(i=e.auth)||void 0===i||null===(o=i.roles)||void 0===o?void 0:o["sys-manager"]))},left:!0,func:e.copyAppList},{key:"clear_invalid",default:!0,label:"清理无效记录",hide:function(){return!s("getValue")(e,["invalid_id","length"])},left:!0,func:e.cleanInvalidData}],e.$dialog.operates(e.operate_meta),e.initComponent=function(){var i={app_list:d.getAppList(e.params.category_id),my_app:r.getMyApplication("pc")};o.all(i).then((function(i){var o,r;e.application_list=[],e.my_app=x()(o=angular.copy(i.my_app)).call(o,(function(t){var n;return t.key=t.id,O()(n=t.applications).call(n,(function(t){t.key=t.id,t.label=t.name,e.application_list.push(t)})),t.fields=t.applications,t})),e.app_list=[],e.invalid_id=[],x()(r=i.app_list[0].application_container).call(r,(function(t){var n,i=a()(n=e.application_list).call(n,(function(e){return e.id===t.app_id&&!!e.is_service==!!t.is_service}));s("isValidValue")(i)?(i.sequence=t.sequence,i.app_list_id=t.id,e.app_list.push(i)):t.id&&e.invalid_id.push(t.id)})),e.invalid_id.length>0&&c.show_warning('存在已停用的应用，如需清理请点击"清理无效记录"'),e.dataset_model=n.createDataset({loader:e.getDatasetData,load_params:[]}),e.dataset_model.$initDataset(),e.dataset_model.selected_list=angular.copy(e.app_list),e.config_model=t.createConfigList({meta:[{width:100,label:"名称",field:["name"]}],data:e.dataset_model.selected_list,show_index:!0,operates:[{icon:"icon-hcm-arrow-cross-up-solid",func:function(t,n){e.operateCondition.move_up(t,n)}},{icon:"icon-hcm-arrow-cross-down-solid",func:function(t,n){e.operateCondition.move_down(t,n)}},{icon:"icon-hcm-delete-circle-solid",func:function(t,n){e.operateCondition.delete(t,n)}}]})}))},e.getDatasetData=function(){var t=o.defer();return t.resolve(e.my_app),t.promise},e.parse_app_list_order=function(){var t,n,i,o;if(!(e.dataset_model.selected_list.length>32)){e.selectedAppList=x()(t=e.dataset_model.selected_list).call(t,(function(e,t){var n;return{id:e.id,sequence:t,is_service:null!==(n=e.is_service)&&void 0!==n&&n}}));var r=[],a=[];x()(n=e.selectedAppList).call(n,(function(t){var n,i=ae()(n=e.app_list).call(n,(function(e){return e.id===t.id}))[0];i?(i.parsed=!0,i.app_list_id?(t.app_list_id=i.app_list_id,i.sequence!==t.sequence&&r.push(t)):a.push(t)):a.push(t)}));var s=x()(i=ae()(o=e.app_list).call(o,(function(e){return!e.parsed}))).call(i,(function(e){return{id:e.app_list_id}}));return{data_to_add:a,data_to_modify:r,data_to_del:s}}c.show_warning("自定义保存的应用不得超过32个")},e.operateCondition={move_up:function(t){var n,i=Ze()(n=e.dataset_model.selected_list).call(n,t);if(0!==i){var o,r,a=ce()(o=e.dataset_model.selected_list).call(o,i,1)[0];ce()(r=e.dataset_model.selected_list).call(r,i-1,0,a)}},move_down:function(t){var n,i=Ze()(n=e.dataset_model.selected_list).call(n,t);if(i!==e.dataset_model.selected_list.length-1){var o,r,a=ce()(o=e.dataset_model.selected_list).call(o,i,1)[0];ce()(r=e.dataset_model.selected_list).call(r,i+1,0,a)}},delete:function(t){var n,i,o=Ze()(n=e.dataset_model.selected_list).call(n,t);ce()(i=e.dataset_model.selected_list).call(i,o,1)}}}]);var Ct={controller:"AppListAdjustCtrl",template:Nt.a},Mt=function(){function e(e,t,n,i,o){var r=this;this.baseCRUDService=e,this.dataService=t,this.$hcDialog=n,this.$q=i,this.$rootScope=o,this.categoryCrudService=this.baseCRUDService.getModelService("ApplicationContainerCategory"),this.applicationCrudService=this.baseCRUDService.getModelService("ApplicationContainer"),this.adjust_my_app=function(e){return function(){r.hcDialog.getDialog(Ct).params({category_id:e.category_id}).title(e.title+"设置").show().then((function(t){var n,i,o,a,s,c=oe()(n=oe()(i=x()(o=t.data_to_add).call(o,(function(t){return r.addApp(t.id,e.category_id)}))).call(i,x()(a=t.data_to_modify).call(a,(function(t){return t.app_list_id&&r.editApp(t.app_list_id,{app_id:t.id,category_id:e.category_id,sequence:t.sequence})})))).call(n,x()(s=t.data_to_del).call(s,(function(e){return e.id&&r.delApp(e.id)})));r.q.all(c).then((function(){r.rootScope.show_warning("修改成功！"),r.rootScope.$broadcast("refresh_app",e.category_id)}))}))}},this.hcDialog=n,this.q=i,this.rootScope=o}return e.prototype.getAppList=function(e){return void 0===e&&(e=null),this.dataService.callHcmOpenApi("hcm.application.container.my",{category_id:e})},e.prototype.createAppCategory=function(e){return this.categoryCrudService.createItem({name:e})},e.prototype.addApp=function(e,t){return this.applicationCrudService.createItem({app_id:e,category_id:t})},e.prototype.editApp=function(e,t){return this.applicationCrudService.editItem(e,t)},e.prototype.delApp=function(e){return this.applicationCrudService.removeItem(e)},e.prototype.getMeta=function(e){var t,n=Pt.fields,i=n.getKey("category_id").options,o=n.getKey("category_name").options;return(null==e?void 0:e.category_create)?(o.hide=function(){return!t},o.required=function(){return null!=t&&t},i.hide=function(){return null!=t&&t},i.required=function(){return!t}):(o.hide=function(){return!t},o.required=function(){return null==t||t},i.hide=function(){return null==t||t},i.required=function(){return!t}),n.getKey("category_create").options.change=function(e,n){t="use_exist_category"!==n},n},e.prototype.submit_form=function(e){return Object(d.c)(this,void 0,K.a,(function(){var t;return Object(d.e)(this,(function(n){switch(n.label){case 0:return e.category_name?[4,this.createAppCategory(e.category_name).then((function(e){return e.id}))]:[3,2];case 1:return t=n.sent(),delete e.category_name,e.category_create="use_exist_category",[2,angular.extend(e,{category_id:t})];case 2:return[2,e]}}))}))},e.$inject=["BaseCRUDService","dataService","$hcDialog","$q","$rootScope"],e}();R.a.service("boardAppListService",Mt);var It=function(){function e(e,t,n,i,o){this.$scope=e,this.$rootScope=t,this.contextService=n,this.IndexService=i,this.boardAppListService=o,this.current_page=0,this.client=window.client,this.go_app=function(e,t){if(e.state||!e.href)if(null==t||t.preventDefault(),this.beforeJumpToApp(e),e.is_service)this.$rootScope.super_go("my_service_summary",{id:e.id});else if(e.url)window.open(e.url);else{var n={};try{"string"==typeof e.param?e.param&&(n=JSON.parse(e.param)):n=e.param}catch(e){}e.link?window.open(location.origin+"/"+e.pathname+"#/"+e.link,"_self"):this.$rootScope.super_go(e.state,n,null,e.open_new_page)}else null==t||t.stopPropagation()},this.beforeJumpToApp=function(e,t){if(null==t||t.stopPropagation(),"show_dialog"!==e.state);else{if(null==t||t.preventDefault(),"string"==typeof e.param)return;switch(e.param.dialog_name){case"chat_robot":this.$scope.$emit("chat-robot",e.param||{});break;default:this.$rootScope.show_warning("暂不支持")}}}}return e.prototype.$onInit=function(){var e,t,n,i,o,r,a;return Object(d.c)(this,void 0,void 0,(function(){var s=this;return Object(d.e)(this,(function(c){switch(c.label){case 0:return null===(e=this.boardCtrl)||void 0===e||e.componentRegister(this.options.key,this),this.auth=this.contextService.getContext("auth"),this.is_open_new_page="pc"===this.client&&(null!==(i=null===(n=null===(t=this.auth)||void 0===t?void 0:t.company_setting)||void 0===n?void 0:n.open_new_page)&&void 0!==i?i:null),this.app_title_description=null!==(a=null===(r=null===(o=this.auth)||void 0===o?void 0:o.company_setting)||void 0===r?void 0:r.app_title_description)&&void 0!==a?a:null,[4,this.initMenu()];case 1:return c.sent(),this.$scope.$on("refresh_app",(function(e,t){return Object(d.c)(s,void 0,void 0,(function(){return Object(d.e)(this,(function(e){switch(e.label){case 0:return t!==this.options.category_id?[3,2]:[4,this.initMenu()];case 1:e.sent(),this.refreshPaging(),e.label=2;case 2:return[2]}}))}))})),[2]}}))}))},e.prototype.initMenu=function(){return Object(d.c)(this,void 0,void 0,(function(){var e,t,n,i=this;return Object(d.e)(this,(function(o){var r;switch(o.label){case 0:return[4,this.IndexService.getMyApplication("pc"===this.client?"pc":"mobile","list")];case 1:return e=o.sent(),this.my_app_dict={},O()(e).call(e,(function(e){i.my_app_dict[e.id]?i.my_app_dict[e.id].push(e):i.my_app_dict[e.id]=[e]})),t=this.options.category_id,n=this,[4,this.boardAppListService.getAppList(t).then((function(e){return e[0].application_container}))];case 2:return n.app_id_list=o.sent(),this.app_list=[],O()(r=this.app_id_list).call(r,(function(e){i.my_app_dict[e.app_id]&&i.app_list.push(i.my_app_dict[e.app_id][0])})),this.app_pages=Ot()(this.app_list,8),[2]}}))}))},e.prototype.refreshPaging=function(){this.changePage(Math.min(this.current_page,this.app_pages.length-1))},e.prototype.changePage=function(e){this.current_page=e,$(".board-app-list .item-container").css({left:"-"+100*e+"%"})},e.$inject=["$scope","$rootScope","contextService","IndexService","boardAppListService"],e}();R.a.component("hcBoardAppList",{bindings:{options:"<?"},controller:It,template:Lt.a});var Et=n("gyxr"),Bt=n.n(Et),Ft=(n("ibww"),n("eR5k")),Rt=function(){function e(e,t,n,i,o,r,a){var s=this;this.dataService=e,this.$filter=t,this.baseCRUDService=n,this.contextService=i,this.$hcDialog=o,this.$q=r,this.$rootScope=a,this.crudService=this.baseCRUDService.getModelService("HomeWidgetMostUsedApp"),this.adjust_my_app=function(e){s.auth=s.contextService.getContext("auth");var t=s.auth.employee.id,n=s.auth.company.id;return function(){s.hcDialog.getDialog(Ft.a).params({category:1}).title(e.title+"设置").show().then((function(e){var i,o,r,a,c,l=oe()(i=oe()(o=x()(r=e.data_to_add).call(r,(function(e){return s.crudService.createItem({company_id:n,employee_id:t,app_id:e.id,is_service:e.is_service,sequence:e.sequence,category:1,target:0})}))).call(o,x()(a=e.data_to_modify).call(a,(function(e){return e.favor_id&&s.crudService.editItem(e.favor_id,{company_id:n,employee_id:t,app_id:e.id,sequence:e.sequence})})))).call(i,x()(c=e.data_to_del).call(c,(function(e){return e.id&&s.crudService.removeItem(e.id)})));s.q.all(l).then((function(){s.rootScope.show_warning(s.$filter("translate")("common_home_widget_my_app_modify_success")),s.rootScope.$broadcast("refresh_most_used_app",s)}))}))}},this.hcDialog=o,this.q=r,this.rootScope=a}return e.prototype.getAllMostUsedAppList=function(e,t){return this.dataService.callHcmOpenApi("hcm.home.widget.most.used.app.my.all",{category:e,target:t})},e.$inject=["dataService","$filter","BaseCRUDService","contextService","$hcDialog","$q","$rootScope"],e}();window.app.service("boardCommonUsedAppService",Rt);var Tt=function(){function e(e,t,n,i,o,r,a,s,c,l,u){this.$scope=e,this.$rootScope=t,this.contextService=n,this.IndexService=i,this.boardCommonUsedAppService=o,this.CompanyMetaService=r,this.templateService=a,this.$q=s,this.$filter=c,this.$hcDialog=l,this.$element=u,this.current_page=0,this.hideMobile={target:"mobile"},this.client=window.client,this.go_app=function(e,t){if(e.state||!e.href)if(null==t||t.preventDefault(),this.beforeJumpToApp(e),e.is_service)this.$rootScope.super_go("my_service_summary",{id:e.id});else if(e.url)window.open(e.url);else{var n={};try{"string"==typeof e.param?e.param&&(n=JSON.parse(e.param)):n=e.param}catch(e){}e.link?window.open(location.protocol+"//"+window.location.host+"/"+e.pathname+"#/"+e.link,"_self"):this.$rootScope.super_go(e.state,n,null,e.open_new_page)}else null==t||t.stopPropagation()},this.beforeJumpToApp=function(e,t){if(null==t||t.stopPropagation(),"show_dialog"!==e.state);else switch(null==t||t.preventDefault(),e.param.dialog_name){case"chat_robot":this.$scope.$emit("chat-robot",e.param||{});break;default:this.$rootScope.show_warning("暂不支持")}}}return e.prototype.$onInit=function(){var e,t,n,i,o,r,a;return Object(d.c)(this,void 0,void 0,(function(){var s=this;return Object(d.e)(this,(function(c){return null===(e=this.boardCtrl)||void 0===e||e.componentRegister(this.options.key,this),this.auth=this.contextService.getContext("auth"),this.is_open_new_page="pc"===this.client&&(null!==(i=null===(n=null===(t=this.auth)||void 0===t?void 0:t.company_setting)||void 0===n?void 0:n.open_new_page)&&void 0!==i?i:null),this.app_title_description=null!==(a=null===(r=null===(o=this.auth)||void 0===o?void 0:o.company_setting)||void 0===r?void 0:r.app_title_description)&&void 0!==a?a:null,this.initMenu(),this.$scope.$on("refresh_most_used_app",(function(){s.getMostUsedApps()})),[2]}))}))},e.prototype.initMenu=function(){var e=this;this.IndexService.getMyApplication("pc"===this.client?"pc":"mobile","list").then((function(t){var n=t;e.my_app_dic={},O()(n).call(n,(function(t){e.my_app_dic[t.id]?e.my_app_dic[t.id].push(t):e.my_app_dic[t.id]=[t]})),e.getMostUsedApps()}))},e.prototype.getMostUsedApps=function(){var e=this;this.boardCommonUsedAppService.getAllMostUsedAppList(["favorite"],"pc"===this.client?"pc":"mobile").then((function(t){var n,i,o,r,s=[];try{var c,l="string"==typeof t.role_apps?null!==(n=JSON.parse(t.role_apps||"{}").role_apps)&&void 0!==n?n:{}:null!==(i=t.role_apps)&&void 0!==i?i:{},u=null!==(r=null===(o=null==t?void 0:t.role_app_recommend)||void 0===o?void 0:o.template_config)&&void 0!==r?r:{};angular.extend(l,u),s=L()(c=y()(e.auth.roles)).call(c,(function(t,n){var i=e.$filter("getValue")(l,[n]);return null==i||O()(i).call(i,(function(e){e.from_role=!0})),oe()(t).call(t,i||[])}),[])}catch(e){s=[]}var d=oe()(s).call(s,t.personal_apps.list);e.app_list=[],x()(d).call(d,(function(t){var n,i=angular.copy(a()(n=e.my_app_dic[t.app_id]||[]).call(n,(function(e){return!!e.is_service==!!t.is_service})));e.$filter("isValidValue")(i)&&(i.from_role=t.from_role,e.app_list.push(i))})),e.refreshPaging()}))},e.prototype.refreshPaging=function(){this.app_pages=Ot()(this.app_list,8),this.app_list.length%8==0&&"inner"===this.options.position&&this.app_pages.push([]),this.changePage(Math.min(this.current_page,this.app_pages.length-1))},e.prototype.changePage=function(e){this.current_page=e,$(".board-common-used-app .item-container").css({left:"-"+100*e+"%"})},e.$inject=["$scope","$rootScope","contextService","IndexService","boardCommonUsedAppService","CompanyMetaService","templateService","$q","$filter","$hcDialog","$element"],e}();R.a.component("hcBoardCommonUsedApp",{bindings:{options:"<?",operates:"=?",currentTab:"=?"},controller:Tt,template:Bt.a});var qt=n("r8NO"),Ut=n.n(qt),zt=(n("/rCB"),function(){function e(e,t,n,i,o,r,a){var s=this;this.dataService=e,this.$filter=t,this.baseCRUDService=n,this.contextService=i,this.$hcDialog=o,this.$q=r,this.$rootScope=a,this.crudService=this.baseCRUDService.getModelService("HomeWidgetMostUsedApp"),this.adjust_my_app=function(e){s.auth=s.contextService.getContext("auth");var t=s.auth.employee.id,n=s.auth.company.id;return function(){s.hcDialog.getDialog(Ft.a).params({category:0}).title(e.title+"设置").show().then((function(e){var i,o,r,a,c,l=oe()(i=oe()(o=x()(r=e.data_to_add).call(r,(function(e){return s.crudService.createItem({company_id:n,employee_id:t,app_id:e.id,is_service:e.is_service,sequence:e.sequence,category:0,target:0})}))).call(o,x()(a=e.data_to_modify).call(a,(function(e){return e.favor_id&&s.crudService.editItem(e.favor_id,{company_id:n,employee_id:t,app_id:e.id,sequence:e.sequence})})))).call(i,x()(c=e.data_to_del).call(c,(function(e){return e.id&&s.crudService.removeItem(e.id)})));s.q.all(l).then((function(){s.rootScope.show_warning(s.$filter("translate")("common_home_widget_my_app_modify_success")),s.rootScope.$broadcast("refresh_most_used_app",s)}))}))}},this.hcDialog=o,this.q=r,this.rootScope=a}return e.prototype.getAllMostUsedAppList=function(e,t){return this.dataService.callHcmOpenApi("hcm.home.widget.most.used.app.my.all",{category:e,target:t})},e.$inject=["dataService","$filter","BaseCRUDService","contextService","$hcDialog","$q","$rootScope"],e}());window.app.service("boardMyServiceListService",zt);var Wt=function(){function e(e,t,n,i,o,r,a,s,c,l,u){this.$scope=e,this.$rootScope=t,this.contextService=n,this.IndexService=i,this.boardMyServiceListService=o,this.CompanyMetaService=r,this.templateService=a,this.$q=s,this.$filter=c,this.$hcDialog=l,this.$element=u,this.current_page=0,this.hideMobile={target:"mobile"},this.client=window.client,this.go_app=function(e){if(this.beforeJumpToApp(e),e.is_service)this.$rootScope.super_go("my_service_summary",{id:e.id});else if(e.url)window.open(e.url);else{var t={};try{"string"==typeof e.param?e.param&&(t=JSON.parse(e.param)):t=e.param}catch(e){}e.link?window.open(location.protocol+"//"+window.location.host+"/"+e.pathname+"#/"+e.link,"_self"):this.$rootScope.super_go(e.state,t,null,e.open_new_page)}},this.beforeJumpToApp=function(e,t){if(null==t||t.stopPropagation(),"show_dialog"!==e.state);else switch(null==t||t.preventDefault(),e.param.dialog_name){case"chat_robot":this.$scope.$emit("chat-robot",e.param||{});break;default:this.$rootScope.show_warning("暂不支持")}}}return e.prototype.$onInit=function(){var e,t,n,i,o,r,a;return Object(d.c)(this,void 0,void 0,(function(){var s=this;return Object(d.e)(this,(function(c){return null===(e=this.boardCtrl)||void 0===e||e.componentRegister(this.options.key,this),this.auth=this.contextService.getContext("auth"),this.is_open_new_page="pc"===this.client&&(null!==(i=null===(n=null===(t=this.auth)||void 0===t?void 0:t.company_setting)||void 0===n?void 0:n.open_new_page)&&void 0!==i?i:null),this.app_title_description=null!==(a=null===(r=null===(o=this.auth)||void 0===o?void 0:o.company_setting)||void 0===r?void 0:r.app_title_description)&&void 0!==a?a:null,this.initMenu(),this.$scope.$on("refresh_most_used_app",(function(){s.getMostUsedApps()})),[2]}))}))},e.prototype.initMenu=function(){var e=this;this.IndexService.getMyApplication("pc"===this.client?"pc":"mobile","list").then((function(t){var n=t;e.my_app_dic={},O()(n).call(n,(function(t){e.my_app_dic[t.id]?e.my_app_dic[t.id].push(t):e.my_app_dic[t.id]=[t]})),e.getMostUsedApps()}))},e.prototype.getMostUsedApps=function(){var e=this;this.boardMyServiceListService.getAllMostUsedAppList(["myservice"],"pc"===this.client?"pc":"mobile").then((function(t){var n,i,o,r,s=[];try{var c,l="string"==typeof t.role_apps?null!==(n=JSON.parse(t.role_apps||"{}").role_apps)&&void 0!==n?n:{}:null!==(i=t.role_apps)&&void 0!==i?i:{},u=null!==(r=null===(o=null==t?void 0:t.role_app_recommend)||void 0===o?void 0:o.template_config)&&void 0!==r?r:{};angular.extend(l,u),s=L()(c=y()(e.auth.roles)).call(c,(function(t,n){var i=e.$filter("getValue")(l,[n]);return null==i||O()(i).call(i,(function(e){e.from_role=!0})),oe()(t).call(t,i||[])}),[])}catch(e){s=[]}var d=oe()(s).call(s,t.personal_apps.list);e.app_list=[],x()(d).call(d,(function(t){var n,i=angular.copy(a()(n=e.my_app_dic[t.app_id]||[]).call(n,(function(e){return!!e.is_service==!!t.is_service})));e.$filter("isValidValue")(i)&&(i.from_role=t.from_role,e.app_list.push(i))})),e.refreshPaging()}))},e.prototype.refreshPaging=function(){this.app_pages=Ot()(this.app_list,8),this.app_list.length%8==0&&"inner"===this.options.position&&this.app_pages.push([]),this.changePage(Math.min(this.current_page,this.app_pages.length-1))},e.prototype.changePage=function(e){this.current_page=e,$(".board-my-service-list .item-container").css({left:"-"+100*e+"%"})},e.$inject=["$scope","$rootScope","contextService","IndexService","boardMyServiceListService","CompanyMetaService","templateService","$q","$filter","$hcDialog","$element"],e}();R.a.component("hcBoardMyServiceList",{bindings:{options:"<?",operates:"=?",currentTab:"=?"},controller:Wt,template:Ut.a});var Ht=n("6s+N"),Kt=n.n(Ht),Vt=(n("qULE"),n("8rxN")),Gt=function(){function e(e,t,n,i,o,r,a){var s=this;this.dataService=e,this.$filter=t,this.baseCRUDService=n,this.contextService=i,this.$hcDialog=o,this.$q=r,this.$rootScope=a,this.crudService=this.baseCRUDService.getModelService("HomeWidgetMostUsedApp"),this.adjust_my_app=function(e){s.auth=s.contextService.getContext("auth");var t=s.auth.employee.id,n=s.auth.company.id;return function(){s.hcDialog.getDialog(Vt.a).title(e.title+"设置").show().then((function(e){var i,o,r,a,c,l=oe()(i=oe()(o=x()(r=e.data_to_add).call(r,(function(e){return s.crudService.createItem({company_id:n,employee_id:t,app_id:e.id,is_service:e.is_service,sequence:e.sequence,target:0})}))).call(o,x()(a=e.data_to_modify).call(a,(function(e){return e.favor_id&&s.crudService.editItem(e.favor_id,{company_id:n,employee_id:t,app_id:e.id,sequence:e.sequence})})))).call(i,x()(c=e.data_to_del).call(c,(function(e){return e.id&&s.crudService.removeItem(e.id)})));s.q.all(l).then((function(){s.rootScope.show_warning(s.$filter("translate")("common_home_widget_my_app_modify_success")),s.rootScope.$broadcast("refresh_most_used_app",s)}))}))}},this.hcDialog=o,this.q=r,this.rootScope=a}return e.prototype.getAllMostUsedAppList=function(e,t){return this.dataService.callHcmOpenApi("hcm.home.widget.most.used.app.my.all",{category:e,target:t})},e.$inject=["dataService","$filter","BaseCRUDService","contextService","$hcDialog","$q","$rootScope"],e}();window.app.service("boardMyFavoriteAppService",Gt);var Jt=function(){function e(e,t,n,i,o,r,a,s,c,l,u){this.$scope=e,this.$rootScope=t,this.contextService=n,this.IndexService=i,this.boardMyFavoriteAppService=o,this.CompanyMetaService=r,this.templateService=a,this.$q=s,this.$filter=c,this.$hcDialog=l,this.$element=u,this.current_page=0,this.hideMobile={target:"mobile"},this.client=window.client,this.go_app=function(e,t){if(e.state||!e.href)if(null==t||t.preventDefault(),this.beforeJumpToApp(e),e.is_service)this.$rootScope.super_go("my_service_summary",{id:e.id});else if(e.url)window.open(e.url);else{var n={};try{"string"==typeof e.param?e.param&&(n=JSON.parse(e.param)):n=e.param}catch(e){}e.link?window.open(location.protocol+"//"+window.location.host+"/"+e.pathname+"#/"+e.link,"_self"):this.$rootScope.super_go(e.state,n,null,e.open_new_page)}else null==t||t.stopPropagation()},this.beforeJumpToApp=function(e,t){if(null==t||t.stopPropagation(),"show_dialog"!==e.state);else switch(null==t||t.preventDefault(),e.param.dialog_name){case"chat_robot":this.$scope.$emit("chat-robot",e.param||{});break;default:this.$rootScope.show_warning("暂不支持")}}}return e.prototype.$onInit=function(){var e,t,n,i,o,r,a;return Object(d.c)(this,void 0,void 0,(function(){var s=this;return Object(d.e)(this,(function(c){return null===(e=this.boardCtrl)||void 0===e||e.componentRegister(this.options.key,this),this.auth=this.contextService.getContext("auth"),this.is_open_new_page="pc"===this.client&&(null!==(i=null===(n=null===(t=this.auth)||void 0===t?void 0:t.company_setting)||void 0===n?void 0:n.open_new_page)&&void 0!==i?i:null),this.app_title_description=null!==(a=null===(r=null===(o=this.auth)||void 0===o?void 0:o.company_setting)||void 0===r?void 0:r.app_title_description)&&void 0!==a?a:null,this.initMenu(),this.$scope.$on("refresh_most_used_app",(function(){s.getMostUsedApps()})),[2]}))}))},e.prototype.initMenu=function(){var e=this;this.IndexService.getMyApplication("pc"===this.client?"pc":"mobile","list").then((function(t){var n=t;e.my_app_dic={},O()(n).call(n,(function(t){e.my_app_dic[t.id]?e.my_app_dic[t.id].push(t):e.my_app_dic[t.id]=[t]})),e.getMostUsedApps()}))},e.prototype.getMostUsedApps=function(){var e=this;this.boardMyFavoriteAppService.getAllMostUsedAppList(["favorite","myservice"],"pc"===this.client?"pc":"mobile").then((function(t){var n,i,o,r,s=[];try{var c,l="string"==typeof t.role_apps?null!==(n=JSON.parse(t.role_apps||"{}").role_apps)&&void 0!==n?n:{}:null!==(i=t.role_apps)&&void 0!==i?i:{},u=null!==(r=null===(o=null==t?void 0:t.role_app_recommend)||void 0===o?void 0:o.template_config)&&void 0!==r?r:{};angular.extend(l,u),s=L()(c=y()(e.auth.roles)).call(c,(function(t,n){var i=e.$filter("getValue")(l,[n]);return null==i||O()(i).call(i,(function(e){e.from_role=!0})),oe()(t).call(t,i||[])}),[])}catch(e){s=[]}var d=oe()(s).call(s,t.personal_apps.list);e.app_list=[],x()(d).call(d,(function(t){var n,i=angular.copy(a()(n=e.my_app_dic[t.app_id]||[]).call(n,(function(e){return!!e.is_service==!!t.is_service})));e.$filter("isValidValue")(i)&&(i.from_role=t.from_role,e.app_list.push(i))})),e.refreshPaging()}))},e.prototype.refreshPaging=function(){this.app_pages=Ot()(this.app_list,8),this.app_list.length%8==0&&"inner"===this.options.position&&this.app_pages.push([]),this.changePage(Math.min(this.current_page,this.app_pages.length-1))},e.prototype.changePage=function(e){this.current_page=e,$(".board-my-favorite-app .item-container").css({left:"-"+100*e+"%"})},e.$inject=["$scope","$rootScope","contextService","IndexService","boardMyFavoriteAppService","CompanyMetaService","templateService","$q","$filter","$hcDialog","$element"],e}();R.a.component("hcBoardMyFavoriteApp",{bindings:{options:"<?",operates:"=?",currentTab:"=?"},controller:Jt,template:Kt.a});n("4mDm"),n("07d7"),n("5s+n"),n("JfAA"),n("PKPk"),n("3bBZ");var Yt=n("TEMH"),Xt=n.n(Yt),Qt=n("mnMc"),Zt=n.n(Qt),en=n("i5y0"),tn=n.n(en),nn=n("38BP"),on=n.n(nn),rn=(n("4yby"),n("wOnQ")),an=n.n(rn),sn=n("i680"),cn=n("RYFT"),ln=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(d.d)(t,e),t.prototype.initFormBefore=function(){return Object(d.c)(this,void 0,void 0,(function(){return Object(d.e)(this,(function(e){return this.form_meta={fields:angular.copy(cn.fields)},[2]}))}))},t.prototype.getMeta=function(){return Object(d.c)(this,void 0,K.a,(function(){var e;return Object(d.e)(this,(function(t){var n,i;return(e=this.form_meta.fields).getKey("data").options.mask=o()(n=this.dataBlockMask).call(n,this),e.getKey("data").options.onClick=o()(i=this.dataBlockSetting).call(i,this),[2,e]}))}))},t}(V.a),un=function(e){function t(t,n,i,o,r,a,s,c,l){var u=e.call(this,o,i,s)||this;return u.$scope=t,u.element=n,u.dataService=i,u.hcDialog=o,u.hcListBtn=r,u.dataBlockService=a,u.$rootScope=s,u.$timeout=c,u.$compile=l,u.root_node_history=[],u.nodeDrill=!1,u}return Object(d.d)(t,e),t.prototype.initChart=function(e){var t,n;return void 0===e&&(e=""),Object(d.c)(this,void 0,void 0,(function(){var i,o,r;return Object(d.e)(this,(function(a){switch(a.label){case 0:return this.initBtn(),i={visibleLevel:2,parentNodeSymbol:"",nodeTitle:"title",createNode:this.createNode},e&&(this.context=D()({},this.context,{node_id:e})),[4,this.getData()];case 1:return o=a.sent(),(r=this.optionParse(null===(t=C()(this.options))||void 0===t?void 0:t.options,o,this.context)).data||(r.data=Ae()(o[0])[0]),this.current_root=r.data.id,this.nodeDrill=r.nodeDrill,this.vertical_depth=r.vertical_depth,this.export_scale=r.export_scale,this.buildChartOptions(null==r?void 0:r.data),"flex"===(null===(n=this.options.card_meta)||void 0===n?void 0:n.view)&&(r.nodeTemplate=this.nodeFlexTemplate),this.orgChart?this.orgChart.init(r):this.orgChart=$("#chart-container").orgchart(D()(i,r)),this.$timeout((function(){$(".hc-board-hierarchy-tree-chart-container .orgchart").css("display","block")})),[2]}}))}))},t.prototype.initBtn=function(){var e,t,n=this;this.btn_model=this.hcListBtn.createListBtn().$setMeta([{key:"backToPrevious",label:"返回上一级",hide:function(){return 0===n.root_node_history.length},func:o()(e=this.backToPrevious).call(e,this)},{key:"export",label:"导出",func:o()(t=this.export).call(t,this)}])},t.prototype.getData=function(){var e,t;return Object(d.c)(this,void 0,K.a,(function(){var n=this;return Object(d.e)(this,(function(i){switch(i.label){case 0:return[4,K.a.all(null===(t=null===(e=this.options)||void 0===e?void 0:e.data)||void 0===t?void 0:x()(t).call(t,(function(e){return Object(d.c)(n,void 0,void 0,(function(){var t,n;return Object(d.e)(this,(function(i){switch(i.label){case 0:return n={},t=e.key,[4,this.dataBlockService.getData(e,this.context,1,1)];case 1:return[2,(n[t]=i.sent().list[0],n)]}}))}))})))];case 1:return[2,i.sent()]}}))}))},t.prototype.optionParse=function(e,t,n){var i;return O()(i=tn()(e)).call(i,(function(i){var o,r=Object(d.f)(i,2),s=r[0],l=r[1];if("string"==typeof l&&c()(l).call(l,"=")){var u=g()(l).call(l,1);e[s]=(null===(o=a()(t).call(t,(function(e){return y()(e)[0]===u})))||void 0===o?void 0:o[u])||null,null===e[s]&&(e[s]=n[u])}})),e},t.prototype.getSettingPanel=function(){return Object(p.c)(ln)},t.prototype.$onResize=function(){console.log("resizing..."),e.prototype.$onResize.call(this)},t.prototype.buildChartOptions=function(e){var t,n,i,o=this,r=this;(e.tree_context=this,"flex"===(null===(t=this.options.card_meta)||void 0===t?void 0:t.view))&&(e.card_meta=r.options.card_meta.content,e.fields=L()(n=r.options.fields).call(n,(function(e,t){return e[t.key]=t,e}),r.options.fields),e.scope=r.$scope,e.$compile=r.$compile);e&&e.children&&O()(i=e.children).call(i,(function(t){t.difference=t.depth-e.depth,t.depth>=r.vertical_depth&&(t.vertical=!0,e.depth<r.vertical_depth-1&&(t.horizontal_node_num=r.vertical_depth-e.depth+1+Math.floor(t.depth-r.vertical_depth),t.vertical_node_num=Math.ceil(t.depth-r.vertical_depth))),o.buildChartOptions(t)}))},t.prototype.createNode=function(e,t){var n,i=this;if(e.children(".topEdge").addClass("hidden"),e.children(".leftEdge").addClass("hidden"),e.children(".rightEdge").addClass("hidden"),e.children(".title").css({background:t.color}),t.vertical&&t.difference%1==0){var o,r=44,a=130,s=30,c=void 0;Zt()(o=[void 0,null,""]).call(o,t.horizontal_node_num)?(c=t.difference*(r+s)+(t.difference-1)*(a+s)+9,e.addClass("direction-vertical"),e.addClass("vertical-difference-"+t.difference),e.append("<style>.orgchart > ul > li > ul li >.vertical-difference-"+t.difference+"::before{height: "+c+"px;}</style>")):(c=t.horizontal_node_num*(r+s)+t.vertical_node_num*(a+s)+9,e.addClass("direction-vertical"),e.addClass("vertical-cross-horizontal-"+t.horizontal_node_num+"-"+t.vertical_node_num),e.append("<style>.orgchart > ul > li > ul li >.vertical-cross-horizontal-"+t.horizontal_node_num+"-"+t.vertical_node_num+"::before{height: "+c+"px;}</style>"))}else if(this.vertical_depth&&t.depth>this.vertical_depth&&t.difference%1!=0){var l;r=44,a=130,s=30,c=void 0;if(Zt()(l=[void 0,null,""]).call(l,t.horizontal_node_num)){c=(t.difference-.5)*(r+s+a+s)+9;var u="vertical-difference-"+t.difference.toString().replace(".","-");e.addClass(u),e.append("<style>.orgchart > ul > li > ul li >."+u+"::before{height: "+c+"px;}</style>")}else c=t.horizontal_node_num*(r+s)+t.vertical_node_num*(a+s)+9,e.addClass("vertical-cross-horizontal-"+t.horizontal_node_num+"-"+t.vertical_node_num),e.append("<style>.orgchart > ul > li > ul li >.vertical-cross-horizontal-"+t.horizontal_node_num+"-"+t.vertical_node_num+"::before{height: "+c+"px;}</style>")}else{s=30,c=(t.difference/.5-1)*(44+s)+9;if(t.difference){u="difference-"+t.difference.toString().replace(".","-");e.addClass(u),e.append("<style>.orgchart > ul > li > ul li >."+u+"::before{height: "+c+"px;}</style>")}}t.hierarchy&&e.prepend('<div class="hierarchy-card hierarchy-card-'+t.depth+' ">\n                         <div class="title hierarchy-title" style="'+(t.hierarchy_color?"background:"+t.hierarchy_color:"")+'">'+t.hierarchy+"</div>\n                       </div>"),t.content&&e.children(".title").append("<div class='card-content'>"+t.content+"</div>"),t.html&&(e.children(".title").css("display","none"),e.prepend('<div class="html-template">'+t.html+"</div>")),(null===(n=t.tree_context)||void 0===n?void 0:n.nodeDrill)&&e.click((function(){return Object(d.c)(i,void 0,void 0,(function(){return Object(d.e)(this,(function(e){var n;switch(e.label){case 0:return 0!==t.tree_context.root_node_history.length&&g()(n=t.tree_context.root_node_history).call(n,-1)[0]===t.tree_context.current_root?[3,2]:(t.tree_context.root_node_history.push(t.tree_context.current_root),[4,t.tree_context.initChart(t.id)]);case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.nodeFlexTemplate=function(e){var t=$('<div class="node-flex-template"></div>');t.html('<hc-smart-card \n                         meta="card_meta"\n                         data="data"\n                         columns-metas="fields"\n                      ></hc-smart-card>');var n=e.scope.$new();return n.card_meta=e.card_meta,n.data=e,n.fields=e.fields,e.$compile(t)(n),t},t.prototype.export=function(){var e,t,n,i=this;this.$rootScope.show_warning("后台导出中，完成后自动下载","info",500);var o=$("#chart-container"),r=a()(o).call(o,".hierarchy-card"),s=[],c=function(e){var t=e.getAttribute("class").split(" ")[1].split("-")[2];~Xt()(s).call(s,(function(e){return e===t}))?e.setAttribute("data-html2canvas-ignore","true"):s.push(t)};try{for(var l=Object(d.i)(r),u=l.next();!u.done;u=l.next()){c(u.value)}}catch(e){t={error:e}}finally{try{u&&!u.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}var p=a()(e=o.addClass("canvasContainer")).call(e,'.orgchart:not(".hidden")').get(0);an()(p,{width:p.clientWidth,height:p.clientHeight,scale:this.export_scale||1}).then((function(e){var t,n,a,s=Math.floor(e.width),c=Math.floor(e.height);a=s>c?new sn.a({orientation:"landscape",unit:"px",format:[s,c]}):new sn.a({orientation:"portrait",unit:"px",format:[c,s]});try{a.addImage(e.toDataURL(),"png",0,0)}catch(e){i.$rootScope.show_warning("图片过长无法导出，请缩小缩放倍数")}a.save("组织架构图.pdf"),o.removeClass("canvasContainer");try{for(var l=Object(d.i)(r),u=l.next();!u.done;u=l.next()){u.value.removeAttribute("data-html2canvas-ignore")}}catch(e){t={error:e}}finally{try{u&&!u.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}}),(function(){o.removeClass("canvasContainer")}))},t.prototype.backToPrevious=function(){return Object(d.c)(this,void 0,void 0,(function(){return Object(d.e)(this,(function(e){switch(e.label){case 0:return[4,this.initChart(this.root_node_history.pop())];case 1:return e.sent(),[2]}}))}))},t.prototype.$onRender=function(){return Object(d.c)(this,void 0,void 0,(function(){return Object(d.e)(this,(function(e){switch(e.label){case 0:return[4,this.initChart()];case 1:return e.sent(),[2]}}))}))},t.$inject=["$scope","$element","dataService","$hcDialog","$hcListBtn","dataBlockService","$rootScope","$timeout","$compile"],t}(p.a);R.a.component("hcBoardHierarchyTreeChart",Object(p.b)(un,on.a));var dn=n("CpE+"),pn=n.n(dn),hn=(n("0xni"),n("IzgG"),n("U2sM")),fn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(d.d)(t,e),t.prototype.initFormBefore=function(){return Object(d.c)(this,void 0,void 0,(function(){return Object(d.e)(this,(function(e){return this.form_meta={fields:angular.copy(hn.fields)},[2]}))}))},t.prototype.getMeta=function(){return Object(d.c)(this,void 0,K.a,(function(){var e;return Object(d.e)(this,(function(t){var n,i;return(e=this.form_meta.fields).getKey("data").options.mask=o()(n=this.dataBlockMask).call(n,this),e.getKey("data").options.onClick=o()(i=this.dataBlockSetting).call(i,this),[2,e]}))}))},t}(V.a),_n=function(e){function t(t,n,i,o,r){var a=e.call(this,n,i)||this;return a.$scope=t,a.hcDialog=n,a.timeout=i,a.$filter=o,a.dataBlockService=r,a}return Object(d.d)(t,e),t.prototype.init=function(){return Object(d.c)(this,void 0,void 0,(function(){var e,t,n,i,o;return Object(d.e)(this,(function(r){switch(r.label){case 0:return[4,this.getData()];case 1:var a,s;if(e=r.sent(),t=this.options.index_field,n=this.options.description_field,i=this.options.options,o=this.options.default_photo,0!==e.list.length)this.carousel_list=x()(a=e.list).call(a,(function(e){return{index:""+window.cdn_domain+window.hcm_wengen+(i.img_handler||"/img")+"?index="+e[t]+window.hcm_env_post,description:e[n]}}));else this.carousel_list=x()(s=o.split("#")).call(s,(function(e){return{index:""+window.cdn_domain+window.hcm_wengen+(i.img_handler||"/img")+"?index="+e+window.hcm_env_post}}));return this.carousel_options=Object(d.a)({use_navigation:!0},i),[2]}}))}))},t.prototype.getData=function(){var e;return Object(d.c)(this,void 0,K.a,(function(){return Object(d.e)(this,(function(t){var n;switch(t.label){case 0:return[4,this.dataBlockService.getData(null===(e=this.options)||void 0===e?void 0:ae()(n=e.data).call(n,(function(e){return"main"===e.key}))[0],this.context,1,999)];case 1:return[2,t.sent()]}}))}))},t.prototype.$onResize=function(){this.$scope.$broadcast("collapse-menu-plugins")},t.prototype.getSettingPanel=function(){return Object(p.c)(fn)},t.prototype.$onRender=function(){return Object(d.c)(this,void 0,void 0,(function(){return Object(d.e)(this,(function(t){switch(t.label){case 0:return[4,e.prototype.$onRender.call(this)];case 1:return t.sent(),[4,this.init()];case 2:return t.sent(),[2]}}))}))},t.$inject=["$scope","$hcDialog","$timeout","$filter","dataBlockService"],t}(p.a);R.a.component("hcBoardCarousel",Object(p.b)(_n,pn.a));var mn=n("x1GB"),vn=n.n(mn),gn=n("DzJC"),bn=n.n(gn),yn=n("ytNu"),wn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(d.d)(t,e),t.prototype.getModelStateList=function(e,t){return Object(d.c)(this,void 0,K.a,(function(){var n;return Object(d.e)(this,(function(i){var o;switch(i.label){case 0:return e?[4,this.dataService.callHcmOpenApi("hcm.paas.object.layout.list?category="+encodeURIComponent(e),{biz_type:"list",filter_dict:{model:e,biz_type:"list"},filter_str:t})]:[2,[]];case 1:return n=i.sent(),[2,x()(o=n.list).call(o,(function(e){var t=e.name.split(".");return t.length>=5?{id:g()(t).call(t,-2)[0],name:g()(t).call(t,-2)[0]}:{id:null,name:"默认"}}))]}}))}))},t.prototype.getMeta=function(){return Object(d.c)(this,void 0,K.a,(function(){var e,t=this;return Object(d.e)(this,(function(n){return(e=yn.fields).getKey("state").options.selector=function(e){return Object(d.c)(t,void 0,void 0,(function(){var t;return Object(d.e)(this,(function(n){switch(n.label){case 0:return[4,this.getModelStateList(null===(t=this.form_model.data)||void 0===t?void 0:t.model,e)];case 1:return[2,n.sent()]}}))}))},e.getKey("state").options.selectorMapper=function(e){return Object(d.c)(t,void 0,void 0,(function(){return Object(d.e)(this,(function(t){return[2,{id:e,name:e}]}))}))},[2,e]}))}))},t}(V.a),xn=n("6hxS"),Sn=n("yW4K"),kn=n.n(Sn),$n=(n("BQy6"),n("yO+l"),n("WAt5"),n("0Rs3"),function(e){function t(t,n,i,o,r,a,s){var c=e.call(this,i,n,o)||this;return c.$hcListBtn=t,c.dataService=n,c.hcDialog=i,c.$rootScope=o,c.$scope=r,c.$controller=a,c.baseCRUDService=s,c.getItemID=function(){return c.id},c}return Object(d.d)(t,e),t.prototype.$onInit=function(){var t,n,i,o,r,a,s,c,l;return Object(d.c)(this,void 0,void 0,(function(){var u,p,h=this;return Object(d.e)(this,(function(f){switch(f.label){case 0:return[4,e.prototype.$onInit.call(this)];case 1:return f.sent(),u=this,this.id=(null===(t=this.options)||void 0===t?void 0:t.id)||(Ie()(null===(n=this.context)||void 0===n?void 0:n[null===(i=this.options)||void 0===i?void 0:i.id_require])?null===(o=this.context)||void 0===o?void 0:o[null===(r=this.options)||void 0===r?void 0:r.id_require][0]:null===(a=this.context)||void 0===a?void 0:a[null===(s=this.options)||void 0===s?void 0:s.id_require]),this.options.model&&(p=this.baseCRUDService.getModelService(null===(c=this.options)||void 0===c?void 0:c.model),this.$controller(xn.a,{$scope:this.$scope,CRUDService:p,InfoDialog:Object(ge.a)(null===(l=this.options)||void 0===l?void 0:l.model)}),this.client=this.$scope.client,this.$scope.getMetaState=function(){var e;return(null===(e=h.options)||void 0===e?void 0:e.state)||null},this.$scope.getItemInfo=function(){return Object(d.c)(h,void 0,void 0,(function(){var e;return Object(d.e)(this,(function(t){switch(t.label){case 0:return this.id?(e=this.$scope,[4,p.getItemInfo(this.id,this.$scope.getFrom(),this.$scope.getExtraProperty())]):[3,2];case 1:e.item_info=t.sent(),t.label=2;case 2:return[2]}}))}))},this.$scope.init(),this.$scope.$watch((function(){var e,t;return null===(e=u.context)||void 0===e?void 0:e[null===(t=u.options)||void 0===t?void 0:t.id_require]}),(function(e,t){var n,i,o,r,a,s,c;e!==t&&(u.id=(null===(n=u.options)||void 0===n?void 0:n.id)||(Ie()(null===(i=u.context)||void 0===i?void 0:i[null===(o=u.options)||void 0===o?void 0:o.id_require])?null===(r=u.context)||void 0===r?void 0:r[null===(a=u.options)||void 0===a?void 0:a.id_require][0]:null===(s=u.context)||void 0===s?void 0:s[null===(c=u.options)||void 0===c?void 0:c.id_require]))})),this.$scope.$watch((function(){return u.id}),(function(e,t){e!==t&&u.$rootScope.$broadcast("waterfall_data_change")})),this.$scope.$watch("current_nav",bn()((function(e,t){"pc"===h.client&&e!==t&&$(".waterfall-view-nav").animate({scrollTop:56*h.$scope.current_nav})}),500)),this.$scope.goChild=function(e){var t=$(".view-component")[e].offsetTop;h.$scope.current_nav=e,$(".waterfall-view-body").animate({scrollTop:t-64-60})},document.addEventListener("mousewheel",(function(){var e,t;if("pc"===h.client){for(var n=$(".waterfall-view-body").scrollTop(),i=[],o=document.getElementsByClassName("view-component").length,r=0;r<o;r++)i.push(document.getElementsByClassName("view-component")[r].offsetTop-90);i[0]=0,vn()(i).call(i,(function(e,t){return!(n>=e&&n<i[t+1])||(h.$scope.current_nav=t,!1)}))}else if("mobile"===h.client){try{for(var a=Object(d.i)($(".floating-btn")),s=a.next();!s.done;s=a.next()){var c=s.value;c.style.animation="btn-in 0.5s ease-in-out",c.style.right="20px",c.style.opacity=1}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}clearTimeout($.data(h,"timer")),$.data(h,"timer",we()((function(){var e,t;try{for(var n=Object(d.i)($(".floating-btn")),i=n.next();!i.done;i=n.next()){var o=i.value;o.style.right="-30px",o.style.animation="btn-out 0.5s ease-in-out",o.style.opacity=.6}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}}),600))}}))),[2]}}))}))},t.prototype.getSettingPanel=function(){return Object(p.c)(wn)},t.prototype.$onResize=function(){e.prototype.$onResize.call(this)},t.prototype.$onRender=function(){return Object(d.c)(this,void 0,void 0,(function(){return Object(d.e)(this,(function(t){switch(t.label){case 0:return[4,e.prototype.$onRender.call(this)];case 1:return t.sent(),[2]}}))}))},t.$inject=["$hcListBtn","dataService","$hcDialog","$rootScope","$scope","$controller","BaseCRUDService"],t}(p.a));R.a.component("hcBoardWaterfallView",Object(p.b)($n,kn.a));var jn=n("PwKs"),On=n.n(jn),An=n("6+XQ"),Ln=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(d.d)(t,e),t.prototype.initFormBefore=function(){return Object(d.c)(this,void 0,void 0,(function(){return Object(d.e)(this,(function(e){return this.form_meta={fields:angular.copy(An.fields)},[2]}))}))},t.prototype.getMeta=function(){return Object(d.c)(this,void 0,K.a,(function(){return Object(d.e)(this,(function(e){return[2,this.form_meta.fields]}))}))},t}(V.a),Pn=function(e){function t(t,n,i,o,r,a,s){var c=e.call(this,t,n,i)||this;return c.hcDialog=t,c.dataService=n,c.$rootScope=i,c.$scope=o,c.$state=r,c.$hcDialog=a,c.contextService=s,c.funcParse=function(e){var t={SCOPE:c.$scope,STATE:c.$state,AUTH:c.auth,RootScope:c.$rootScope,location:window.location,history:window.history,document:document,$hcDialog:c.$hcDialog,dataService:c.dataService,CommonModelListDialog:tt.a,CategoryListSelectorInfo:_t.a,CONTEXT:c.context};return m.a.jsonEval(e,t,{})},c}return Object(d.d)(t,e),t.prototype.$onInit=function(){return Object(d.c)(this,void 0,void 0,(function(){return Object(d.e)(this,(function(t){switch(t.label){case 0:return[4,e.prototype.$onInit.call(this)];case 1:return t.sent(),this.auth=this.contextService.getContext("auth"),this.login_options=this.funcParse(this.options),[2]}}))}))},t.prototype.getSettingPanel=function(){return Object(p.c)(Ln)},t.$inject=["$hcDialog","dataService","$rootScope","$scope","$state","$hcDialog","contextService"],t}(p.a);R.a.component("hcBoardLogin",Object(p.b)(Pn,On.a));var Dn=n("Cevv"),Nn=n.n(Dn),Cn=n("2gqv"),Mn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(d.d)(t,e),t.prototype.initFormBefore=function(){return Object(d.c)(this,void 0,void 0,(function(){return Object(d.e)(this,(function(e){return this.form_meta={fields:angular.copy(Cn.fields)},[2]}))}))},t.prototype.getMeta=function(){return Object(d.c)(this,void 0,K.a,(function(){var e;return Object(d.e)(this,(function(t){var n,i;return(e=this.form_meta.fields).getKey("data").options.mask=o()(n=this.dataBlockMask).call(n,this),e.getKey("data").options.onClick=o()(i=this.dataBlockSetting).call(i,this),[2,e]}))}))},t}(V.a),In=function(e){function t(t,n,i,o,r,a,s,c){var l=e.call(this,t,n,i)||this;return l.hcDialog=t,l.dataService=n,l.$rootScope=i,l.$scope=o,l.$state=r,l.$filter=a,l.$hcDialog=s,l.dataBlockService=c,l.funcParse=function(e){var t={SCOPE:l.$scope,STATE:l.$state,RootScope:l.$rootScope,location:window.location,history:window.history,document:document,$hcDialog:l.$hcDialog,dataService:l.dataService,CommonModelListDialog:tt.a,CategoryListSelectorInfo:_t.a,CONTEXT:l.context};return m.a.jsonEval(e,t,{})},l}return Object(d.d)(t,e),t.prototype.$onInit=function(){return Object(d.c)(this,void 0,void 0,(function(){return Object(d.e)(this,(function(t){switch(t.label){case 0:return[4,e.prototype.$onInit.call(this)];case 1:return t.sent(),[4,this.initData()];case 2:return t.sent(),[2]}}))}))},t.prototype.initData=function(e){return void 0===e&&(e=!1),Object(d.c)(this,void 0,void 0,(function(){var t=this;return Object(d.e)(this,(function(n){return this.dataBlockService.getAllData(this.options.data,this.context,this.contextKey,e).then((function(e){var n;t.menu_options=t.funcParse(t.options),t.menu_options.data=t.$filter("TreeSearch")(t.$filter("treeIdFill")(null===(n=e.main)||void 0===n?void 0:n.list))})),[2]}))}))},t.prototype.getSettingPanel=function(){return Object(p.c)(Mn)},t.$inject=["$hcDialog","dataService","$rootScope","$scope","$state","$filter","$hcDialog","dataBlockService"],t}(p.a);R.a.component("hcBoardTreeMenu",Object(p.b)(In,Nn.a));var En=n("Bqqz"),Bn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(d.d)(t,e),t.prototype.getMeta=function(){return Object(d.c)(this,void 0,K.a,(function(){return Object(d.e)(this,(function(e){return[2,En.fields]}))}))},t}(V.a),Fn=n("s78J"),Rn=n("fVuE"),Tn=n.n(Rn),qn=(n("2rRY"),function(e){function t(t,n,i,o,r,a){var s=e.call(this,n,t,i)||this;return s.dataService=t,s.hcDialog=n,s.$rootScope=i,s.$scope=o,s.$controller=r,s.baseCRUDService=a,s.getItemID=function(){return s.id},s}return Object(d.d)(t,e),t.prototype.$onInit=function(){var t;return Object(d.c)(this,void 0,void 0,(function(){var n,i=this;return Object(d.e)(this,(function(o){switch(o.label){case 0:return[4,e.prototype.$onInit.call(this)];case 1:return o.sent(),this.options.model&&(n=this.baseCRUDService.getModelService(null===(t=this.options)||void 0===t?void 0:t.model),this.$controller(Fn.a,{$scope:this.$scope,CRUDService:n,InfoDialog:null}),this.client=this.$scope.client,this.$scope.getMetaState=function(){var e;return(null===(e=i.options)||void 0===e?void 0:e.state)||null},this.$scope.setTitle=function(){},this.$scope.getFormData=function(){var e;return(null===(e=i.options)||void 0===e?void 0:e.filter_dict)||""},this.$scope.getFilterDict=function(){var e;return(null===(e=i.options)||void 0===e?void 0:e.filter_dict)||""},this.$scope.getDefaultFilterStr=function(){var e;return null===(e=i.options)||void 0===e?void 0:e.filter_str},this.$scope.init()),[2]}}))}))},t.prototype.getSettingPanel=function(){return Object(p.c)(Bn)},t.prototype.$onResize=function(){e.prototype.$onResize.call(this)},t.prototype.$onRender=function(){return Object(d.c)(this,void 0,void 0,(function(){return Object(d.e)(this,(function(t){switch(t.label){case 0:return[4,e.prototype.$onRender.call(this)];case 1:return t.sent(),[2]}}))}))},t.$inject=["dataService","$hcDialog","$rootScope","$scope","$controller","BaseCRUDService"],t}(p.a));R.a.component("hcBoardSearchList",Object(p.b)(qn,Tn.a));var Un=n("aWyg"),zn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(d.d)(t,e),t.prototype.getMeta=function(){return Object(d.c)(this,void 0,K.a,(function(){return Object(d.e)(this,(function(e){return[2,Un.fields]}))}))},t}(V.a),Wn=n("+YsZ"),Hn=n.n(Wn),Kn=(n("oa47"),function(e){function t(t,n,i,o,r,a){var s=e.call(this,n,t,i)||this;return s.dataService=t,s.hcDialog=n,s.$rootScope=i,s.$scope=o,s.$state=r,s.$element=a,s.funcParse=function(e){var t={SCOPE:s.$scope,STATE:s.$state,RootScope:s.$rootScope,location:window.location,history:window.history,$hcDialog:s.hcDialog,dataService:s.dataService,CONTEXT:s.context};return m.a.jsonEval(e,t,{})},s}return Object(d.d)(t,e),t.prototype.init=function(){var e,t;this.parsedOptions=this.funcParse(this.options),this.link_list=null===(e=this.parsedOptions)||void 0===e?void 0:e.link_list,this.current=null===(t=this.link_list)||void 0===t?void 0:t[0]},t.prototype.openSelector=function(e){var t;e.stopPropagation();var n=this;this.hcDialog.dropdownList(this.link_list,this.current,a()(t=this.$element).call(t,".link-selector"),{itemStyles:{width:"100px"}}).then((function(e){n.current=e}))},t.prototype.keyboardClick=function(e){var t;13===(null!==(t=e.keyCode)&&void 0!==t?t:e.which)&&this.executeSearch()},t.prototype.executeSearch=function(){this.current.func(this.search_str)},t.prototype.clearSearchStr=function(){this.search_str=""},t.prototype.getSettingPanel=function(){return Object(p.c)(zn)},t.prototype.$onResize=function(){e.prototype.$onResize.call(this)},t.prototype.$onRender=function(){return Object(d.c)(this,void 0,void 0,(function(){return Object(d.e)(this,(function(t){switch(t.label){case 0:return[4,e.prototype.$onRender.call(this)];case 1:return t.sent(),this.init(),[2]}}))}))},t.$inject=["dataService","$hcDialog","$rootScope","$scope","$state","$element"],t}(p.a));R.a.component("hcBoardLinkSearch",Object(p.b)(Kn,Hn.a));var Vn=n("FU4V"),Gn=n.n(Vn),Jn=(n("BkWc"),function(e){function t(t,n,i,o,r,a,s,c,l){var u=e.call(this,l,a,r)||this;return u.$scope=t,u.$state=n,u.$hcPaging=i,u.$element=o,u.$rootScope=r,u.dataService=a,u.dataBlockService=s,u.$hcListNew=c,u.hcDialog=l,u.client=window.client,u.contextChange=0,u.current_page=1,u.funcParse=function(e){var t={SCOPE:u.$scope,STATE:u.$state,location:window.location,history:window.history,document:document,dataService:u.dataService};return m.a.jsonEval(e,t,{})},u}return Object(d.d)(t,e),t.prototype.initData=function(e){var t,n,i=this;void 0===e&&(e=!1);var o=C()(this.options.data),r=[];x()(o).call(o,(function(e){"main"==e.key&&(r[0]=e,i.options.data=r)})),null===(n=null===(t=this.options)||void 0===t?void 0:t.data)||void 0===n||x()(n).call(n,(function(t){i.dataBlockService.getData(t,i.context,1,+i.options.defaultPageSize||20,e).then((function(e){i.renderList(e)}))}))},t.prototype.getMetaFromData=function(e){var t;if(!(null==e?void 0:e.length))return[];var n=null===(t=y()((null==e?void 0:e[0])||{}))||void 0===t?void 0:x()(t).call(t,(function(e){return{label:e,key:e,field:[e]}}));if("list"===this.options.data[0].class&&"list"===this.options.data[0].data.type){var i,o=[];x()(i=this.options.data).call(i,(function(e){var t,n;null===(n=e.data)||void 0===n||x()(t=n.field).call(t,(function(e){o.push(e.key)}))}));var r=[];return null==o||x()(o).call(o,(function(e){null==n||x()(n).call(n,(function(t){t.key===e&&r.push(t)}))})),r}return n},t.prototype.renderList=function(e){var t,n,i;this.listData=e.list,this.listCount=e.count,(null===(n=this.options.listConfig)||void 0===n?void 0:n.operate_default)&&(this.operate_default=this.funcParse(null===(i=this.options.listConfig)||void 0===i?void 0:i.operate_default)),this.listModel=this.$hcListNew.createList().$setColumns(this.getMetaFromData(this.listData)).$setOptions(this.funcParse(this.options.listConfig)).$setOperateDefault(this.operate_default).$setData(this.listData),this.paging=this.$hcPaging.createPaging({current_page:this.current_page,page_size:+this.options.defaultPageSize||20,_total_count:this.listCount,_page_count:Math.ceil(this.listCount/(+this.options.defaultPageSize||20)),onPagingChange:o()(t=this.pageChange).call(t,this)})},t.prototype.pageChange=function(){var e,t,n=this;this.current_page=this.paging.current_page,this.page_size=this.paging._page_size,null===(t=null===(e=this.options)||void 0===e?void 0:e.data)||void 0===t||x()(t).call(t,(function(e){n.dataBlockService.getData(e,n.context,n.current_page,n.page_size).then((function(e){n.listData=e.list,n.listCount=e.count,n.listModel.$setData(n.listData)}))}))},t.prototype.$onRender=function(e){return void 0===e&&(e=!1),Object(d.c)(this,void 0,void 0,(function(){return Object(d.e)(this,(function(t){switch(t.label){case 0:return[4,this.checkContext()];case 1:return t.sent()?(this.initData(e),[2]):[2]}}))}))},t.prototype.getSettingPanel=function(){return Object(p.c)(lt)},t.prototype.getWhichTemplate=function(){},t.$inject=["$scope","$state","$hcPaging","$element","$rootScope","dataService","dataBlockService","$hcListNew","$hcDialog"],t}(p.a));R.a.component("datasouceList",Object(p.b)(Jn,Gn.a));var Yn=n("qtx4"),Xn=n.n(Yn),Qn=n("0H0M"),Zn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(d.d)(t,e),t.prototype.getModelStateList=function(e,t){return Object(d.c)(this,void 0,K.a,(function(){var n;return Object(d.e)(this,(function(i){var o;switch(i.label){case 0:return e?[4,this.dataService.callHcmOpenApi("hcm.paas.object.layout.list?category="+encodeURIComponent(e),{biz_type:"list",filter_dict:{model:e,biz_type:"list"},filter_str:t})]:[2,[]];case 1:return n=i.sent(),[2,x()(o=n.list).call(o,(function(e){var t=e.name.split(".");return t.length>=5?{id:g()(t).call(t,-2)[0],name:g()(t).call(t,-2)[0]}:{id:null,name:"默认"}}))]}}))}))},t.prototype.getMeta=function(){return Object(d.c)(this,void 0,K.a,(function(){return Object(d.e)(this,(function(e){return[2,Qn.fields]}))}))},t}(V.a),ei=function(e){function t(t,n,i,o,r,a,s,c,l){var u=e.call(this,i,n,o)||this;return u.$hcListBtn=t,u.dataService=n,u.hcDialog=i,u.$rootScope=o,u.$scope=r,u.$controller=a,u.baseCRUDService=s,u.$compile=c,u.$element=l,u.client=window.client,u}return Object(d.d)(t,e),t.prototype.init=function(){var t,n,i,o;(e.prototype.$onInit.call(this),a()(t=this.$element).call(t,"#emp-view-card").children().remove(),"pc"===this.client)?a()(i=this.$element).call(i,"#emp-view-card").html('\n            <home-widget-emp-view-card-pc options="$ctrl.optionsParams"></home-widget-emp-view-card-pc>'):a()(o=this.$element).call(o,"#emp-view-card").html('\n            <home-widget-emp-view-card-mobile options="$ctrl.optionsParams"></home-widget-emp-view-card-mobile>');this.$compile(a()(n=this.$element).call(n,"#emp-view-card"))(this.$scope)},t.prototype.getSettingPanel=function(){return Object(p.c)(Zn)},t.prototype.$onResize=function(){e.prototype.$onResize.call(this)},t.prototype.$onRender=function(){return Object(d.c)(this,void 0,void 0,(function(){var t,n,i=this;return Object(d.e)(this,(function(o){switch(o.label){case 0:return this.$scope.getItemID=function(){var e;return null===(e=Object(de.n)(i.options,i.context))||void 0===e?void 0:e.employee_id},t=C()(this.options),n=C()(this.context),this.optionsParams=Object(de.n)(t,n),[4,e.prototype.$onRender.call(this)];case 1:return o.sent(),this.init(),[2]}}))}))},t.$inject=["$hcListBtn","dataService","$hcDialog","$rootScope","$scope","$controller","BaseCRUDService","$compile","$element"],t}(p.a);R.a.component("hcEmpViewCard",Object(p.b)(ei,Xn.a));n("qePV");var ti=n("3iGz"),ni=n.n(ti),ii=n("O6hi"),oi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(d.d)(t,e),t.prototype.getModelStateList=function(e,t){return Object(d.c)(this,void 0,K.a,(function(){var n;return Object(d.e)(this,(function(i){var o;switch(i.label){case 0:return e?[4,this.dataService.callHcmOpenApi("hcm.paas.object.layout.list?category="+encodeURIComponent(e),{biz_type:"list",filter_dict:{model:e,biz_type:"list"},filter_str:t})]:[2,[]];case 1:return n=i.sent(),[2,x()(o=n.list).call(o,(function(e){var t=e.name.split(".");return t.length>=5?{id:g()(t).call(t,-2)[0],name:g()(t).call(t,-2)[0]}:{id:null,name:"默认"}}))]}}))}))},t.prototype.getMeta=function(){return Object(d.c)(this,void 0,K.a,(function(){return Object(d.e)(this,(function(e){return[2,ii.fields]}))}))},t}(V.a),ri=function(e){function t(t,n,i,o,r,a,s,c){var l=e.call(this,i,n,o)||this;return l.$hcListBtn=t,l.dataService=n,l.hcDialog=i,l.$rootScope=o,l.$scope=r,l.$controller=a,l.baseCRUDService=s,l.q=c,l.getItemID=function(){var e,t=C()(l.options),n=C()(l.context);return l.optionsParams=Object(de.n)(t,n),Number(null===(e=l.optionsParams)||void 0===e?void 0:e.employee_id)},l}return Object(d.d)(t,e),t.prototype.$onInit=function(){return Object(d.c)(this,void 0,void 0,(function(){return Object(d.e)(this,(function(t){switch(t.label){case 0:return[4,e.prototype.$onInit.call(this)];case 1:return t.sent(),[2]}}))}))},t.prototype.getSettingPanel=function(){return Object(p.c)(oi)},t.prototype.$onResize=function(){e.prototype.$onResize.call(this)},t.prototype.$onRender=function(){var t=this,n=this.q.defer();return this.$scope.getItemID=function(){var e;return null===(e=Object(de.n)(t.options,t.context))||void 0===e?void 0:e.employee_id},e.prototype.$onRender.call(this).then((function(){n.resolve()})),n.promise},t.$inject=["$hcListBtn","dataService","$hcDialog","$rootScope","$scope","$controller","BaseCRUDService","$q"],t}(p.a);R.a.component("hcRisingChannel",Object(p.b)(ri,ni.a));var ai=n("6w1o"),si=n.n(ai),ci=n("ITDg"),li=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(d.d)(t,e),t.prototype.getModelStateList=function(e,t){return Object(d.c)(this,void 0,K.a,(function(){var n;return Object(d.e)(this,(function(i){var o;switch(i.label){case 0:return e?[4,this.dataService.callHcmOpenApi("hcm.paas.object.layout.list?category="+encodeURIComponent(e),{biz_type:"list",filter_dict:{model:e,biz_type:"list"},filter_str:t})]:[2,[]];case 1:return n=i.sent(),[2,x()(o=n.list).call(o,(function(e){var t=e.name.split(".");return t.length>=5?{id:g()(t).call(t,-2)[0],name:g()(t).call(t,-2)[0]}:{id:null,name:"默认"}}))]}}))}))},t.prototype.getMeta=function(){return Object(d.c)(this,void 0,K.a,(function(){return Object(d.e)(this,(function(e){return[2,ci.fields]}))}))},t}(V.a),ui=function(e){function t(t,n,i,o,r,a,s){var c=e.call(this,i,n,o)||this;return c.$hcListBtn=t,c.dataService=n,c.hcDialog=i,c.$rootScope=o,c.$scope=r,c.$controller=a,c.baseCRUDService=s,c.getItemID=function(){var e,t=C()(c.options),n=C()(c.context);return c.optionsParams=Object(de.n)(t,n),Number(null===(e=c.optionsParams)||void 0===e?void 0:e.employee_id)},c}return Object(d.d)(t,e),t.prototype.$onInit=function(){return Object(d.c)(this,void 0,void 0,(function(){return Object(d.e)(this,(function(t){switch(t.label){case 0:return[4,e.prototype.$onInit.call(this)];case 1:return t.sent(),[2]}}))}))},t.prototype.getSettingPanel=function(){return Object(p.c)(li)},t.prototype.$onResize=function(){e.prototype.$onResize.call(this)},t.prototype.$onRender=function(){return Object(d.c)(this,void 0,void 0,(function(){var t=this;return Object(d.e)(this,(function(n){switch(n.label){case 0:return this.$scope.getItemID=function(){var e;return null===(e=Object(de.n)(t.options,t.context))||void 0===e?void 0:e.employee_id},[4,e.prototype.$onRender.call(this)];case 1:return n.sent(),[2]}}))}))},t.$inject=["$hcListBtn","dataService","$hcDialog","$rootScope","$scope","$controller","BaseCRUDService"],t}(p.a);R.a.component("hcNineMap",Object(p.b)(ui,si.a));var di=n("TQpF"),pi=n.n(di),hi=n("Xpi4"),fi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(d.d)(t,e),t.prototype.getModelStateList=function(e,t){return Object(d.c)(this,void 0,K.a,(function(){var n;return Object(d.e)(this,(function(i){var o;switch(i.label){case 0:return e?[4,this.dataService.callHcmOpenApi("hcm.paas.object.layout.list?category="+encodeURIComponent(e),{biz_type:"list",filter_dict:{model:e,biz_type:"list"},filter_str:t})]:[2,[]];case 1:return n=i.sent(),[2,x()(o=n.list).call(o,(function(e){var t=e.name.split(".");return t.length>=5?{id:g()(t).call(t,-2)[0],name:g()(t).call(t,-2)[0]}:{id:null,name:"默认"}}))]}}))}))},t.prototype.getMeta=function(){return Object(d.c)(this,void 0,K.a,(function(){return Object(d.e)(this,(function(e){return[2,hi.fields]}))}))},t}(V.a),_i=function(e){function t(t,n,i,o,r){var a=e.call(this,i,n,o)||this;return a.$hcListBtn=t,a.dataService=n,a.hcDialog=i,a.$rootScope=o,a.$scope=r,a.getItemID=function(){var e,t=C()(a.options),n=C()(a.context);return a.optionsParams=Object(de.n)(t,n),Number(null===(e=a.optionsParams)||void 0===e?void 0:e.depart_id)},a}return Object(d.d)(t,e),t.prototype.$onInit=function(){return Object(d.c)(this,void 0,void 0,(function(){return Object(d.e)(this,(function(t){switch(t.label){case 0:return[4,e.prototype.$onInit.call(this)];case 1:return t.sent(),[2]}}))}))},t.prototype.getSettingPanel=function(){return Object(p.c)(fi)},t.prototype.$onResize=function(){e.prototype.$onResize.call(this)},t.prototype.$onRender=function(){return Object(d.c)(this,void 0,void 0,(function(){var t=this;return Object(d.e)(this,(function(n){switch(n.label){case 0:return this.$scope.getItemID=function(){var e;return null===(e=Object(de.n)(t.options,t.context))||void 0===e?void 0:e.depart_id},[4,e.prototype.$onRender.call(this)];case 1:return n.sent(),[2]}}))}))},t.$inject=["$hcListBtn","dataService","$hcDialog","$rootScope","$scope"],t}(p.a);R.a.component("hcNineMapDept",Object(p.b)(_i,pi.a));var mi=n("p7ys"),vi=n.n(mi),gi=(n("7ek6"),n("0NRB"),n("Q9ul"),n("T7vg")),bi=n("/IKj"),yi=n.n(bi);window.app.controller("CommonSuperSearchDialogController",["$controller","$scope","$hcPaging",function(e,t,n){e(gi.default,{$scope:t}),t.getMetaState=function(){return t.$dialog.options.meta_state},t.refresh=function(){t.$dialog.options.keywords=t.keywords,t.getData()},t.setSearchTip=function(){var e=t.matchFilterItem(t.keywords);if(t.resultSearchTip=[],t.tipIndex=null,e.search_key&&e.op&&"value"===t.tipType||(document.getElementsByClassName("tip-list")[0].scrollTop=0),e.search_key)if(e.op)t.setDictionaryTip(e);else{var n;~Ze()(n=["integer","float","date","number"]).call(n,e.match_info.control_type)?t.setOpTip():e.match_info.is_compare?t.setOpTip("string"):(t.keywords=t.keywords+":",t.$dialog.options.keywords=t.keywords,t.setDictionaryTip(e))}else"模糊搜索"!==e.search_name||e.op?t.setTypeTip(e.content):(t.keywords=t.keywords+":",t.$dialog.options.keywords=t.keywords)},t.initSuperSearchPaging=function(){var e,i;t.paging=n.createPaging({total_count:0,page_size:(null===(e=t.params)||void 0===e?void 0:e.page_size)||20,current_page:null===(i=t.params)||void 0===i?void 0:i.page_index,onPagingChange:t.getData}),"pc"===window.client?t.paging.template='<div>共计<span class="number"> {{paging.total_count || 0}} </span>人</div>':"mobile"===window.client&&(t.paging.template='<div>共<span class="number"> <span class="high-light">{{paging.total_count || 0}} </span>人</div>')},t.getAllFilterDict=function(){var e,n,i,o,r,a=t.setFilterParams();return angular.extend(a.filters,{selector:t.search_key,role:null===(e=t.params)||void 0===e?void 0:e.role,position_status_ids:(null===(n=t.params)||void 0===n?void 0:n.position_status_ids)&&JSON.parse("["+(null===(i=t.params)||void 0===i?void 0:i.position_status_ids)+"]"),on_job:null===(o=t.params)||void 0===o?void 0:o.on_job},(null===(r=t.getExtraFilterDict)||void 0===r?void 0:r.call(t,t.getEnvironmentParams()))||{})}}]);var wi=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return{controller:"CommonSuperSearchDialogController",template:yi.a,meta_state:e,keywords:t}},xi=n("ymmX"),Si=function(e){function t(t,n,i,o,r,a,s,c,l,p){var h=e.call(this,s,r,a)||this;return h.$scope=t,h.$hcView=n,h.dataBlockService=i,h.$state=o,h.dataService=r,h.$rootScope=a,h.$hcDialog=s,h.contextService=c,h.element=l,h.timeout=p,h.client=window.client,h.funcParse=function(e){var t={SCOPE:h.$scope,STATE:h.$state,RootScope:h.$rootScope,location:window.location,history:window.history,document:document,$hcDialog:h.$hcDialog,dataService:h.dataService,CommonModelListDialog:tt.a,CategoryListSelectorInfo:_t.a,CONTEXT:h.context,ELEMENT:h.element,orgDeptNewSearchDailog:xi.a,CommonSuperSearchDialog:wi};return m.a.jsonEval(e,t,{})},h.initMetaHooks=function(){if(h.options.hooks&&"{}"!==u()(h.options.hooks)){var e;h.hooks_meta=h.funcParse(h.options.hooks);var t=h;O()(e=y()(h.hooks_meta)).call(e,(function(e){"function"==typeof t.hooks_meta[e]&&(t[e]=t.hooks_meta[e])}))}else h.initBeforeAsync=function(){return Object(d.c)(h,void 0,void 0,(function(){return Object(d.e)(this,(function(e){return[2,!0]}))}))}},t.auth=c.getContext("auth"),t.super_go=function(e,t,n,i){a.super_go(e,t,n,i)},h}return Object(d.d)(t,e),t.prototype.initData=function(e){return void 0===e&&(e=!1),Object(d.c)(this,void 0,void 0,(function(){var t=this;return Object(d.e)(this,(function(n){switch(n.label){case 0:return[4,this.initBeforeAsync()];case 1:return n.sent(),this.options.data&&0!==this.options.data.length?this.dataBlockService.getAllData(this.options.data,Object(d.a)(Object(d.a)({},this.context),this.options.filter_dict||{}),this.contextKey,e).then((function(e){var n,i;t.renderView(null===(i=null===(n=e.main)||void 0===n?void 0:n.list)||void 0===i?void 0:i[0])})):this.renderView({}),[2]}}))}))},t.prototype.renderView=function(e){var t,n=this;this.options.autoScale&&"none"===a()(t=this.element).call(t,".home-widget").css("transform")&&this.timeout((function(){var e,t,i=n.element.height()-8,o=a()(e=n.element).call(e,".home-widget").height();if(i<o){var r,s=i/o,c=1/s*100;null===(t=a()(r=n.element).call(r,".home-widget"))||void 0===t||t.css({transform:"scale("+s+", "+s+")","transform-origin-x":0,"transform-origin-y":0,width:c+"%",height:c+"%"})}})),this.viewMeta=this.$hcView.createView(),this.viewMeta.$setData(e);var i={fields:this.options.fields,groups:this.options.groups,view_config:this.options.viewConfig};this.viewMeta.setViewMeta(this.funcParse(i))},t.prototype.$onRender=function(e){return void 0===e&&(e=!1),Object(d.c)(this,void 0,void 0,(function(){return Object(d.e)(this,(function(t){switch(t.label){case 0:return[4,this.checkContext()];case 1:return t.sent()?(this.initMetaHooks(),[4,this.initData(e)]):[2];case 2:return t.sent(),[2]}}))}))},t.prototype.getSettingPanel=function(){return Object(p.c)(dt)},t.prototype.getWhichTemplate=function(){},t.$inject=["$scope","$hcView","dataBlockService","$state","dataService","$rootScope","$hcDialog","contextService","$element","$timeout"],t}(p.a);R.a.component("datasouceView",Object(p.b)(Si,vi.a));var ki=n("SBuG"),$i=n.n(ki),ji=(n("sQOJ"),n("/1DX")),Oi=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.scheme_confirm=function(){t.form_model.data.category=t.scope.params,t.scope.$dialog.resolve_data(t.form_model.data),t.scope.$dialog.dialog_close()},t}return Object(d.d)(t,e),t.prototype.initFormBefore=function(){var e,t;return Object(d.c)(this,void 0,void 0,(function(){return Object(d.e)(this,(function(n){return null===(t=null===(e=this.scope)||void 0===e?void 0:e.$dialog)||void 0===t||t.operates([{label:"取消",func:this.scope.$dialog.dialog_close},{label:"确定",func:this.scheme_confirm,default:!0}]),this.form_meta={fields:angular.copy(ji.fields),groups:angular.copy(ji.groups),tip:ji.tip},[2]}))}))},t.prototype.initFormAfter=function(){return Object(d.c)(this,void 0,void 0,(function(){return Object(d.e)(this,(function(e){return[2]}))}))},t.prototype.getMeta=function(){return Object(d.c)(this,void 0,K.a,(function(){var e;return Object(d.e)(this,(function(t){var n;return(e=this.form_meta.fields).getKey("filter").options.computeService={getFieldList:o()(n=this.getDataRefer).call(n,this),domain:"base.report"},[2,e]}))}))},t.prototype.getDataRefer=function(){return Object(d.c)(this,void 0,void 0,(function(){var e;return Object(d.e)(this,(function(t){var n;(e=[],this.options.context_meta)&&e.push({key:"context_params",name:"上下文参数",list_fields:x()(n=this.options.context_meta).call(n,(function(e){return{name:e.label,category:"上下文参数",key:e.key,type:"var"}}))});return[2,e]}))}))},t.prototype.getGroupMeta=function(){return Object(d.c)(this,void 0,K.a,(function(){return Object(d.e)(this,(function(e){return[2,this.form_meta.groups]}))}))},t.prototype.validateTemplateData=function(){var e;return Object(d.c)(this,void 0,void 0,(function(){return Object(d.e)(this,(function(t){return[2,null===(e=this.setting_panel_data.data)||void 0===e?void 0:e.getKey("main")]}))}))},t.prototype.refreshViewModel=function(e){return void 0===e&&(e=null),Object(d.c)(this,void 0,K.a,(function(){var t;return Object(d.e)(this,(function(n){switch(n.label){case 0:return e=e||this.setting_panel_data.chart,this.validateTemplateData(),e?(t=this.parent,[4,this.dataService.callHcmOpenApi("flex.template.calc",{template:e,block_info:this.setting_panel_data.data,params:this.options.context_data})]):[2];case 1:return t.preview_model=n.sent(),[2]}}))}))},t}(V.a),Ai=function(e){function t(t,n,i,o,r,a,s,c,l){var u=e.call(this,l,a,n)||this;return u.$scope=t,u.$rootScope=n,u.$element=i,u.$hcPaging=o,u.$controller=r,u.dataService=a,u.$hcForm=s,u.dataBlockService=c,u.hcDialog=l,u.client=window.client,u.renderAfterInit=!1,u}return Object(d.d)(t,e),t.prototype.$onInit=function(){return Object(d.c)(this,void 0,void 0,(function(){var t,i=this;return Object(d.e)(this,(function(o){switch(o.label){case 0:return[4,e.prototype.$onInit.call(this)];case 1:return o.sent(),[4,Promise.all([n.e(0),n.e(183)]).then(n.bind(null,"GM3S"))];case 2:return t=o.sent(),this.$controller(t.default,{$scope:this.$scope}),this.$scope.init=function(){return Object(d.c)(i,void 0,void 0,(function(){var e,t,n=this;return Object(d.e)(this,(function(i){switch(i.label){case 0:return"mobile"===window.client&&(document.getElementById("viewportForBoard").setAttribute("content","width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=1.0, maximum-scale=3.0"),this.$scope.$on("$destroy",(function(){document.getElementById("viewportForBoard").setAttribute("content","width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=1.0, maximum-scale=1.0")}))),this.$scope.filter=this.$hcForm.createForm("filter_panel"),[4,this.$scope.initBefore()];case 1:return i.sent(),this.options.report?[4,this.dataService.callHcmOpenApi("report.platform.info.by.number",{number:this.options.report})]:[2];case 2:return(e=i.sent())||this.$rootScope.show_warning("找不到该报表"),this.$scope.report_info=e,this.$scope.meta_info=e.meta_info,this.$scope.meta_info.second_check_passwd?(this.$scope.hide_refresh=!0,[4,this.$scope.secondCheckPassword(this.$scope.meta_info.second_check_passwd.category,this.$scope.meta_info.second_check_passwd.expire)]):[3,4];case 3:i.sent(),this.$scope.hide_refresh=!1,i.label=4;case 4:return this.$scope.auto_recalc_time=(null===(t=e.meta_info)||void 0===t?void 0:t.auto_recalc_time)||this.$scope.auto_recalc_time,this.$scope.report_type=e.report_type,this.$scope.initMeta(),this.$scope.is_report_html_loading=!0,[4,this.$scope.initAfter()];case 5:return i.sent(),this.$scope.is_report_html_loading=!1,this.$scope.initCategory(),this.$scope.componnetMounted=!0,this.renderAfterInit&&this.$onRender(),we()((function(){var e;n.$scope.meta_info.paging||a()(e=n.$element).call(e,".flex-report-instance").css("height","100%")}),1e3),[2]}}))}))},this.$scope.initMeta=function(){i.$scope.initFilterMeta()},this.$scope.initFilter=function(){return Object(d.c)(i,void 0,void 0,(function(){var e=this;return Object(d.e)(this,(function(t){switch(t.label){case 0:return[4,this.dataService.callHcmOpenApi("flex.template.calc",{template:ae()(this.options)||{},block_info:{},params:this.context}).then((function(t){ae()(e.$scope).$setData(t)}))];case 1:return t.sent(),[2]}}))}))},this.$scope.initPaging=function(){var e,t,n=null===(t=null===(e=i.$scope.report_info.meta_info.configs)||void 0===e?void 0:e.paging_config)||void 0===t?void 0:t.default_page_size;i.$scope.paging=i.$hcPaging.createPaging({current_page:ae()(i.$scope).data.PAGE_INDEX||1,page_size:n||(ae()(i.$scope).data.PAGE_SIZE||20),onPagingChange:function(){return Object(d.c)(i,void 0,void 0,(function(){return Object(d.e)(this,(function(e){switch(e.label){case 0:return[4,this.$scope.loadReport()];case 1:return e.sent(),[2]}}))}))}})},this.$scope.refreshPaging=function(){we()((function(){i.$scope.meta_info.paging&&i.dataService.callHcmOpenApi("flex.report.get.page.counts",{report_id:i.$scope.report_info.id,filter_dict:angular.extend({},i.$scope.getFilterDict(),i.$scope.categroy_filter)}).then((function(e){i.$scope.paging&&(i.$scope.paging.total_count=e.count)}))}),1e3)},this.$scope.$watch("$ctrl.options",ee()((function(e,t){return Object(d.c)(i,void 0,void 0,(function(){var n;return Object(d.e)(this,(function(i){switch(i.label){case 0:return e===t?[3,2]:[4,this.$scope.initFilter()];case 1:i.sent(),null===(n=this.$scope.loadReport())||void 0===n||n.then((function(){})),i.label=2;case 2:return[2]}}))}))}),1e3),!0),[4,this.$scope.init()];case 3:return o.sent(),[2]}}))}))},t.prototype.$onResize=function(){},t.prototype.$onRender=function(){var e,t,n,i,o;return Object(d.c)(this,void 0,void 0,(function(){return Object(d.e)(this,(function(r){switch(r.label){case 0:return(null===(e=this.$scope)||void 0===e?void 0:e.componnetMounted)||(this.renderAfterInit=!0),[4,null===(n=null===(t=this.$scope)||void 0===t?void 0:t.initFilter)||void 0===n?void 0:n.call(t)];case 1:return r.sent(),null===(o=null===(i=this.$scope)||void 0===i?void 0:i.loadReport)||void 0===o||o.call(i),[2]}}))}))},t.prototype.getSettingPanel=function(){return Object(p.c)(Oi)},t.prototype.getWhichTemplate=function(){},t.$inject=["$scope","$rootScope","$element","$hcPaging","$controller","dataService","$hcForm","dataBlockService","$hcDialog"],t}(p.a);R.a.component("hcBoardFlexReport",Object(p.b)(Ai,$i.a));var Li=n("n3XB"),Pi=n.n(Li),Di=(n("KdR7"),n("3zsh")),Ni=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.scheme_confirm=function(){t.form_model.data.category=t.scope.params,t.scope.$dialog.resolve_data(t.form_model.data),t.scope.$dialog.dialog_close()},t}return Object(d.d)(t,e),t.prototype.initFormBefore=function(){var e,t;return Object(d.c)(this,void 0,void 0,(function(){return Object(d.e)(this,(function(n){return null===(t=null===(e=this.scope)||void 0===e?void 0:e.$dialog)||void 0===t||t.operates([{label:"取消",func:this.scope.$dialog.dialog_close},{label:"确定",func:this.scheme_confirm,default:!0}]),this.form_meta={fields:angular.copy(Di.fields),groups:angular.copy(Di.groups),tip:Di.tip},[2]}))}))},t.prototype.initFormAfter=function(){return Object(d.c)(this,void 0,void 0,(function(){return Object(d.e)(this,(function(e){return[2]}))}))},t.prototype.getMeta=function(){return Object(d.c)(this,void 0,K.a,(function(){return Object(d.e)(this,(function(e){return[2,this.form_meta.fields]}))}))},t.prototype.getGroupMeta=function(){return Object(d.c)(this,void 0,K.a,(function(){return Object(d.e)(this,(function(e){return[2,this.form_meta.groups]}))}))},t.prototype.validateTemplateData=function(){return Object(d.c)(this,void 0,void 0,(function(){return Object(d.e)(this,(function(e){return[2]}))}))},t.prototype.refreshViewModel=function(e){return void 0===e&&(e=null),Object(d.c)(this,void 0,K.a,(function(){return Object(d.e)(this,(function(e){return[2]}))}))},t}(V.a),Ci=function(e){function t(t,n,i,o,r){var a=e.call(this,i,o,r)||this;return a.$scope=t,a.dataBlockService=n,a.hcDialog=i,a.dataService=o,a.rootScope=r,a.client=window.client,a.initData=function(){var e,t=C()(a.options),n=C()(a.options),i=C()(a.context),o=null===(e=Object(de.n)(t,i))||void 0===e?void 0:e.id;a.params=n,a.params.id=null,we()((function(){a.params.id=o}),500)},a}return Object(d.d)(t,e),t.prototype.$onInit=function(){return Object(d.c)(this,void 0,K.a,(function(){return Object(d.e)(this,(function(t){return"mobile"===this.client&&$("hcm-board").scroll((function(){$("hc-data-model-view").offset().top<=0?$(".tabStyles").eq(0).addClass("nav-to-top"):$(".tabStyles").eq(0).removeClass("nav-to-top")})),e.prototype.$onInit.call(this),[2]}))}))},t.prototype.$onRender=function(){return Object(d.c)(this,void 0,void 0,(function(){return Object(d.e)(this,(function(e){return this.initData(),[2]}))}))},t.prototype.getSettingPanel=function(){return Object(p.c)(Ni)},t.prototype.getWhichTemplate=function(){},t.$inject=["$scope","dataBlockService","$hcDialog","dataService","$rootScope"],t}(p.a);R.a.component("hcDataModelView",Object(p.b)(Ci,Pi.a));n("mG0u");var Mi=n("U9/P"),Ii=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(d.d)(t,e),t.prototype.initFormBefore=function(){return Object(d.c)(this,void 0,void 0,(function(){return Object(d.e)(this,(function(e){return this.form_meta={fields:angular.copy(Mi.fields),groups:angular.copy(Mi.groups),tip:Mi.tip},[2]}))}))},t.prototype.getDataRefer=function(){return Object(d.c)(this,void 0,void 0,(function(){var e;return Object(d.e)(this,(function(t){var n;(e=[],this.options.context_meta)&&e.push({key:"context_params",name:"上下文参数",list_fields:x()(n=this.options.context_meta).call(n,(function(e){return{name:e.label,category:"上下文参数",key:e.key,type:"var"}}))});return[2,e]}))}))},t.prototype.getMeta=function(){return Object(d.c)(this,void 0,K.a,(function(){var e;return Object(d.e)(this,(function(t){var n;return(e=this.form_meta.fields).getKey("params").options.computeService={getFieldList:o()(n=this.getDataRefer).call(n,this),domain:"base.report"},[2,e]}))}))},t.prototype.getGroupMeta=function(){return Object(d.c)(this,void 0,K.a,(function(){return Object(d.e)(this,(function(e){return[2,this.form_meta.groups]}))}))},t.prototype.validateTemplateData=function(){return Object(d.c)(this,void 0,void 0,(function(){return Object(d.e)(this,(function(e){return[2]}))}))},t.prototype.refreshViewModel=function(e){return void 0===e&&(e=null),Object(d.c)(this,void 0,K.a,(function(){return Object(d.e)(this,(function(e){return[2]}))}))},t}(V.a),Ei=function(){function e(e,t,n,i,o){var r=this;this.$scope=e,this.dataBlockService=t,this.$element=n,this.$compile=i,this.dataService=o,this.client=window.client,this.initData=function(){if(r.options.componentName){var e="<"+r.options.componentName+" ";r.dataService.callHcmOpenApi("flex.template.calc",{template:r.options.params,block_info:{},params:r.context}).then((function(t){var n;x()(n=y()(t)).call(n,(function(n){e+=" "+n+" = "+u()(t[n])})),e+=" ></"+r.options.componentName+">",r.$element.html(e),r.$compile(r.$element.contents())(r.$scope)})),we()((function(){var e;x()(e=y()(r.options.css)).call(e,(function(e){var t;x()(t=y()(r.options.css[e])).call(t,(function(t){var n;a()(n=r.$element).call(n,e).css("cssText",t+": "+r.options.css[e][t])}))}))}),500)}}}return e.prototype.$onInit=function(){var e,t=this;null===(e=this.boardCtrl)||void 0===e||e.componentRegister(this.key,this),this.options&&y()(this.options).length,this.$scope.$watch("$ctrl.options",ee()((function(e,n){return Object(d.c)(t,void 0,void 0,(function(){return Object(d.e)(this,(function(t){return e!==n&&this.initData(),[2]}))}))}),1e3),!0)},e.prototype.$onRender=function(){return Object(d.c)(this,void 0,void 0,(function(){return Object(d.e)(this,(function(e){return this.initData(),[2]}))}))},e.prototype.getSettingPanel=function(){return Object(p.c)(Ii)},e.prototype.getWhichTemplate=function(){},e.$inject=["$scope","dataBlockService","$element","$compile","dataService"],e}();R.a.component("hcConvertComponent",Object(p.b)(Ei,""));n("p532");var Bi=n("04Ix"),Fi=n.n(Bi),Ri=n("4Dz0"),Ti=n.n(Ri),qi=(n("egYW"),n("Bs8B"),n("oVuX"),n("zvNk")),Ui=n("qYgS"),zi=n("/EOG"),Wi=n("UmGy"),Hi=n("LB+2"),Ki=n("1Puc"),Vi=n("J23k"),Gi=function(e){function t(t,n,i,o,r,a,s,c,l){var u=e.call(this,t,n,i,o,r,a,s)||this;return u.scope=t,u.rootScope=n,u.hcDialog=i,u.hcForm=o,u.dataService=r,u.dataBlockService=a,u.filter=s,u.metaVisService=c,u.baseCRUDService=l,u.visItemMeta=[{key:"dim",condition:"aggr",info:zi.a},{key:"dim2",condition:"aggr",info:zi.a},{key:"aggr",condition:"aggr",info:Wi.a}],u.scheme_confirm=function(){u.form_model.data.category=u.scope.params,u.scope.$dialog.resolve_data(u.form_model.data),u.scope.$dialog.dialog_close()},u}return Object(d.d)(t,e),t.prototype.initFormBefore=function(){var e,t;return Object(d.c)(this,void 0,void 0,(function(){return Object(d.e)(this,(function(n){return null===(t=null===(e=this.scope)||void 0===e?void 0:e.$dialog)||void 0===t||t.operates([{label:"取消",func:this.scope.$dialog.dialog_close},{label:"确定",func:this.scheme_confirm,default:!0}]),this.form_meta={fields:angular.copy(qi.fields),groups:angular.copy(qi.groups),tip:qi.tip},[2]}))}))},t.prototype.initFormAfter=function(){return Object(d.c)(this,void 0,void 0,(function(){return Object(d.e)(this,(function(e){return[2]}))}))},t.prototype.getMeta=function(){return Object(d.c)(this,void 0,K.a,(function(){var e,t,n=this;return Object(d.e)(this,(function(i){var r,a,s;(e=this.form_meta.fields,t=this,e.getKey("block_info"))&&(e.getKey("block_info").options.onClick=o()(s=this.dataSourceSetting).call(s,this));return O()(r=this.visItemMeta).call(r,(function(i){e.getKey("data_"+i.key)&&(e.getKey("data_"+i.key).options.itemMask=function(e){return e.label},e.getKey("data_"+i.key).options.newSelector=function(){return Object(d.c)(n,void 0,void 0,(function(){var e,n;return Object(d.e)(this,(function(o){var r;switch(o.label){case 0:return Ze()(r=["aggr"]).call(r,i.key)>-1?[4,this.hcDialog.confirm("字段类型",[{caption:"标准字段",value:0},{caption:"公式字段",value:1},{caption:"后加工字段",value:2}])]:[3,5];case 1:return 1!==(e=o.sent()).value?[3,3]:[4,t.visComputeFieldAdd(i.key)];case 2:return[2,o.sent()];case 3:return 2!==e.value?[3,5]:[4,t.visFormulaFieldAdd(i.key)];case 4:return(n=o.sent()).field=[n.key],[2,n];case 5:return[4,t.visItemAdd(i.key)];case 6:return[2,o.sent()]}}))}))},e.getKey("data_"+i.key).options.editSelector=function(e){return Object(d.c)(n,void 0,void 0,(function(){var n,o;return Object(d.e)(this,(function(r){switch(r.label){case 0:return"list"!==(null===(o=null===(n=t.form_model.data)||void 0===n?void 0:n.data)||void 0===o?void 0:o.type)&&"aggr"!==i.key?[3,4]:e.compute_field?[4,t.visComputeFieldEdit(i.key,e)]:[3,2];case 1:return[2,r.sent()];case 2:return e.expression?[4,t.visFormulaFieldEdit(i.key,e)]:[3,4];case 3:return[2,r.sent()];case 4:return[4,t.hcDialog.getDialog(i.info).show({data:e,options:{data:t.form_model}})];case 5:return[2,r.sent()]}}))}))})})),O()(a=this.visItemMeta).call(a,(function(i){e.getKey("optional_"+i.key)&&(e.getKey("optional_"+i.key).options.itemMask=function(e){return e.label},e.getKey("optional_"+i.key).options.newSelector=function(){return Object(d.c)(n,void 0,void 0,(function(){return Object(d.e)(this,(function(e){var n,o;switch(e.label){case 0:return[4,t.visItemAdd(c()(n=i.key).call(n,"dim")?g()(o=i.key).call(o,0,3):i.key)];case 1:return[2,e.sent()]}}))}))},e.getKey("optional_"+i.key).options.editSelector=function(e){return Object(d.c)(n,void 0,void 0,(function(){return Object(d.e)(this,(function(n){switch(n.label){case 0:return[4,t.hcDialog.getDialog(i.info).show({data:e,options:{data:t.form_model}})];case 1:return[2,n.sent()]}}))}))})})),[2,e]}))}))},t.prototype.visComputeFieldAdd=function(e){return Object(d.c)(this,void 0,void 0,(function(){return Object(d.e)(this,(function(t){switch(t.label){case 0:return[4,this.computeFieldSetDialog(e,null)];case 1:return[2,t.sent()]}}))}))},t.prototype.visFormulaFieldAdd=function(e){return Object(d.c)(this,void 0,void 0,(function(){return Object(d.e)(this,(function(t){switch(t.label){case 0:return[4,this.formulaFieldSetDialog(e,null)];case 1:return[2,t.sent()]}}))}))},t.prototype.visItemAdd=function(e){return Object(d.c)(this,void 0,void 0,(function(){var t,n,i,o,r=this;return Object(d.e)(this,(function(a){switch(a.label){case 0:return i=(n=this.metaVisService).meta2VisMeta,[4,this.dataBlockService.getListMeta(this.form_model.data)];case 1:return[4,i.apply(n,[a.sent()])];case 2:return t=a.sent(),[4,this.hcDialog.getDialog(Vi.a).size("middle").show({treeLoader:function(e){return Object(d.c)(r,void 0,void 0,(function(){return Object(d.e)(this,(function(n){switch(n.label){case 0:return[4,this.metaVisService.getTreeLoaderByModelRelation(e,t.model_relation)];case 1:return[2,n.sent()]}}))}))},dblclick:!0})];case 3:return o=a.sent(),[2,this.metaVisService.getVisItemByNode(o,e)]}}))}))},t.prototype.formulaFieldSetDialog=function(e,t){return Object(d.c)(this,void 0,void 0,(function(){var n,i,o;return Object(d.e)(this,(function(r){return n="aggr"===e?"aggr":"field",i=C()(this.form_model.data),(o=angular.copy(Ki)).getKey("expression").options.computeService={domain:"base.report",getFieldList:function(){return[{key:"selected_fields",name:"列表已选字段",fields:i.data[n]||[]}]}},[2,this.hcDialog.simpleForm("公式字段编辑器",o,t,{size:"large"})]}))}))},t.prototype.computeFieldSetDialog=function(e,t){return Object(d.c)(this,void 0,void 0,(function(){var n,i,o;return Object(d.e)(this,(function(r){switch(r.label){case 0:var a,s;if(n=C()(this.form_model.data),i="aggr"===e?"aggr":"field","aggr"===e)O()(a=n.data.aggr).call(a,(function(e){!e.expression&&(e.key=e.aggr.field)}));else O()(s=n.data.field).call(s,(function(e){!e.expression&&(e.key=e.field.join("."))}));return o={model:null,relations:null},"analyze"!==n.source.type?[3,2]:[4,this.dataService.callHcmOpenApi("analyze.model.fetch.script",{analyze:n.source.analyze})];case 1:return o=r.sent(),[3,3];case 2:"meta"===n.source.type&&(o=n.source.meta),r.label=3;case 3:return[4,this.hcDialog.getDialog(Hi.a).params({function_type:"standard",dataset_meta:{loader:this.baseCRUDService.getModelService("model"===n.source.type?n.source.model:o.model).getQueryFields,append_relations:"model"===n.source.type?null:o.relations},selected_fields:"aggr"!==e?n.data[i]:null,compute_type:{},need_check:"aggr"!==i,compute_field:null,filter_dict:{},meta_type:n.data.type,relations:"model"===n.source.type?null:o.relations,service:this.baseCRUDService.getModelService("model"===n.source.type?n.source.model:o.model),data:t}).show()];case 4:return[2,r.sent()]}}))}))},t.prototype.visComputeFieldEdit=function(e,t){return Object(d.c)(this,void 0,void 0,(function(){return Object(d.e)(this,(function(n){switch(n.label){case 0:return[4,this.computeFieldSetDialog(e,t)];case 1:return[2,n.sent()]}}))}))},t.prototype.visFormulaFieldEdit=function(e,t){return Object(d.c)(this,void 0,void 0,(function(){var n;return Object(d.e)(this,(function(i){switch(i.label){case 0:return[4,this.formulaFieldSetDialog(e,t)];case 1:return(n=i.sent()).field=[n.key],[2,n]}}))}))},t.prototype.getGroupMeta=function(){return Object(d.c)(this,void 0,K.a,(function(){return Object(d.e)(this,(function(e){return[2,this.form_meta.groups]}))}))},t.prototype.dataSourceSetting=function(){return Object(d.c)(this,void 0,void 0,(function(){var e=this;return Object(d.e)(this,(function(t){return this.hcDialog.getDialog(Ui.a).show({data:this.form_model.data.block_info,options:{mode:"base",context:this.options.context_meta}}).then((function(t){return Object(d.c)(e,void 0,void 0,(function(){return Object(d.e)(this,(function(e){return this.form_model.data.block_info=t,this.form_model.data.class=t.class,this.form_model.data.source=t.source,[2]}))}))})),[2]}))}))},t.prototype.refreshViewModel=function(e){return void 0===e&&(e=null),Object(d.c)(this,void 0,K.a,(function(){return Object(d.e)(this,(function(e){return[2]}))}))},t.$inject=["$scope","$rootScope","$hcDialog","$hcForm","dataService","dataBlockService","$filter","metaVisService","BaseCRUDService"],t}(V.a),Ji=n("kwAS"),Yi=n("RvvD"),Xi=n("yATM"),Qi=n("3bjL"),Zi=function(e){function t(t,n,i,o,r,a,s,c,l,u,p,h,f,_,v,g,b,y,w,S,$,j,O,A){var L=e.call(this,r,b,t)||this;return L.rootScope=t,L.scope=n,L.$state=i,L.listReportService=o,L.hcDialog=r,L.hcForm=a,L.$hcQueryNew=s,L.hcListBtn=c,L.hcListNew=l,L.dataBlockService=u,L.$hcPaging=p,L.metaVisService=h,L.hcPanel=f,L.timeout=_,L.$q=v,L.$filter=g,L.dataService=b,L.commonSelectorService=y,L.componentDefaultService=w,L.contextService=S,L.listGlobalConfigService=$,L.$controller=j,L.$hcListBtn=O,L.hcmCRUDImpExpService=A,L.client=window.client,L.parseFilter=function(e,t){if("string"==typeof e){var n=m.a.jsonEval(angular.copy(e),t);return"function"==typeof n?n():n}if("object"===k()(e)){if(e instanceof Object){var i={};for(var o in e){var r=L.parseFilter(e[o],t);r instanceof Array?0!==r.length&&(i[o]=r):"__total__"!==r&&"__avg__"!==r&&(i[o]=r)}return i}if(e instanceof Array)return x()(e).call(e,(function(e){return L.parseFilter(e,t)}))}return e},L.getAllFilterDict=function(){return Object(d.a)({},L.context)},L}return Object(d.d)(t,e),t.prototype.$onInit=function(){return Object(d.c)(this,void 0,void 0,(function(){var t,n=this;return Object(d.e)(this,(function(i){switch(i.label){case 0:return[4,e.prototype.$onInit.call(this)];case 1:return i.sent(),t=this,[4,this.getReportInfo()];case 2:return t.report_info=i.sent(),this.meta_info=angular.copy(this.report_info.meta_info),this.initBtn(),this.initPaging(),this.initList(),this.scope.$watch("$ctrl.options",ee()((function(e,t){return Object(d.c)(n,void 0,void 0,(function(){return Object(d.e)(this,(function(n){switch(n.label){case 0:return e===t?[3,2]:[4,this.refreshData()];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))}),1e3),!0),this.scope.$watch("$ctrl.stat_setting.data",(function(e,t){return Object(d.c)(n,void 0,void 0,(function(){var n,i,o,r=this;return Object(d.e)(this,(function(s){var c;switch(s.label){case 0:if(u()(e)===u()(t)||!0!==this.stat_setting.$validData()||void 0===t)return[3,3];var l,d;if(n=[],O()(c=["dim_field1","dim_field2"]).call(c,(function(t){if(e[t]){var i,o,s=t.split("_")[0],c="1"===g()(i=t.split("_")[1]).call(i,5)?"":g()(o=t.split("_")[1]).call(o,5);if(r.options["optional_"+s+c]){var l;(u=angular.copy(a()(l=r.options["optional_"+s+c]).call(l,(function(n){return n.dim.field===e[t]})))).formatter="strMask:__total__,合计;,无;__avg__,平均",n.push(u)}else{var u;(u=angular.copy(r.scope.stat_field_list.getKey(e[t]))).key=u.field_key;var d=r.metaVisService.getVisItemByNode(u,"dim");d.formatter="strMask:__total__,合计;,无;__avg__,平均",n.push(d)}}})),this.meta_info.dim=n,i={},this.options.optional_aggr)i=angular.copy(a()(l=this.options.optional_aggr).call(l,(function(t){return t.aggr.field===e.aggr_field})));else(o=angular.copy(this.scope.stat_field_list.getKey(e.aggr_field))).key=o.field_key,i=this.metaVisService.getVisItemByNode(o,"aggr");if(i.aggr.ag=e.ag_type,this.options.data.aggr&&this.options.data.aggr[0].drill&&!i.drill)O()(d=["drill","drill_type","drill_model","drill_filter","drill_state","jump_state","jump_params","open_new_page"]).call(d,(function(e){r.options.data.aggr[0].hasOwnProperty(e)&&(i[e]=r.options.data.aggr[0][e])}));return this.meta_info.aggr=[i],this.scope.$emit("board_change",{key:this.key,context:{dim:n,aggr_field:i}}),[4,this.refreshListMeta()];case 1:return s.sent(),[4,this.refreshData()];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}),!0),[2]}}))}))},t.prototype.initList=function(){var e=this;this.list_model=this.hcListNew.createList().$setStyle("full row-select").$setRowSelector(0).$setView({pc:"grid",mobile:"grid"}).$setFixedWidth(!0).$setOptions({customCellClass:function(t,n){return"cross"!==e.options.report_style&&!0===n.drill?"blue":null}})},t.prototype.initBtn=function(){var e;this.btn_model=this.$hcListBtn.createListBtn().$setMeta([{key:"common_export",label:"导出",func:o()(e=this.common_export).call(e,this)}])},t.prototype.getCrossTableData=function(){var e;return this.dataService.callHcmOpenApi("hcm.model.list",{model:"PivotTableData",filter_dict:D()({},this.getAllFilterDict(),{block_info:{class:"list",source:this.meta_info.data.source,filter_dict:this.meta_info.data.filter_dict,query_str:this.meta_info.data.query_str,page_count:!0,data:{type:"aggr",dim:this.meta_info.dim,aggr:this.meta_info.aggr},cache_support:this.meta_info.data.cache_support,total_include:null===(e=this.meta_info.total_include)||void 0===e||e}},{display_all_column:this.options.display_all_column}),page_index:this.paging.current_page,page_size:this.paging.page_size})},t.prototype.getCrossTableMeta=function(){var e;return this.dataService.callHcmOpenApi("hcm.model.meta",{model:"PivotTableData",filter_dict:this.context||{},display_all_column:this.options.display_all_column,block_info:{class:"list",source:this.meta_info.data.source,filter_dict:this.meta_info.data.filter_dict,query_str:this.meta_info.data.query_str,page_count:!0,data:{type:"aggr",dim:this.meta_info.dim,aggr:this.meta_info.aggr},cache_support:this.meta_info.data.cache_support,total_include:null===(e=this.meta_info.total_include)||void 0===e||e},biz_type:"list"},null,!1,!0)},t.prototype.getCrossTableDataEngine=function(){var e=this;return this.getCrossTableData().then((function(t){e.paging.total_count=t.count,e.list_model.$setData(t.list)}))},t.prototype.refreshMeta=function(){return Object(d.c)(this,void 0,void 0,(function(){return Object(d.e)(this,(function(e){switch(e.label){case 0:return[4,this.refreshListMeta()];case 1:return e.sent(),[4,this.refreshStatMeta()];case 2:return e.sent(),[2]}}))}))},t.prototype.initFilter=function(){var e=ae()(this.$state.params)?Xi.a.load(ae()(this.$state.params)):{};this.filter_model=this.hcForm.createForm("filter_panel").$setData(e)},t.prototype.refreshStatMeta=function(){var e,t,n,i;return Object(d.c)(this,void 0,void 0,(function(){var o,r,a,s,c,l,u,p,h=this;return Object(d.e)(this,(function(d){var f,_,m;switch(d.label){case 0:return[4,this.dataBlockService.getListMeta(this.options.block_info)];case 1:return(o=d.sent())?[4,this.metaVisService.meta2VisMeta(o)]:[3,5];case 2:return r=d.sent(),this.scope.stat_model_relation=r.model_relation,[4,this.metaVisService.getMultiModelFields(x()(f=r.model_relation).call(f,(function(e){return e.model})))];case 3:return a=d.sent(),s=[],O()(_=r.model_relation).call(_,(function(e){var t;s=oe()(s).call(s,x()(t=ae()(a).call(a,(function(t){return t.model===e.model}))).call(t,(function(t){return{key:"master"===e.key?t.key:e.key+"."+t.key,name:e.name+"."+t.name+"("+e.model+"."+t.key+")",short_name:t.name+(t.object?"(主键)":""),model:e.model,model_key:e.key,model_name:e.name,type:t.type,field_key:t.key}})))})),[4,this.metaVisService.getModelFieldBizMeta(x()(s).call(s,(function(e){return{model:e.model,field:e.field_key}})),"list")];case 4:c=d.sent(),l=s.toObject((function(e){return e.model+"."+e.key}),(function(e,t){return c[t]})),x()(s).call(s,(function(e){e.meta=l[e.model+"."+e.key]})),this.scope.stat_field_list=s,d.label=5;case 5:return u=angular.copy(Ji),O()(m=["dim_field1","dim_field2","aggr_field"]).call(m,(function(e){if(u.getKey(e)){var t,n=e.split("_")[0],i=g()(t=e.split("_")[1]).call(t,5);u.getKey(e).options.list=h.getFieldTreeLoader.call(h,n,i)}"cross"===h.options.report_style&&"dim_field2"===e&&(u.getKey(e).options.required=!0)})),p={},this.options.data.dim.length>0&&(p.dim_field1=null===(e=this.options.data.dim[0].dim)||void 0===e?void 0:e.field,this.options.data.dim.length>1&&(p.dim_field2=null===(t=this.options.data.dim[1].dim)||void 0===t?void 0:t.field)),this.options.data.aggr.length>0&&(p.aggr_field=null===(n=this.options.data.aggr[0].aggr)||void 0===n?void 0:n.field,p.ag_type=null===(i=this.options.data.aggr[0].aggr)||void 0===i?void 0:i.ag),this.stat_setting=this.hcForm.createForm().$setMeta(u).$setData(p),[2]}}))}))},t.prototype.getFieldTreeLoader=function(e,t){var n,i;return(n=this.options["optional_"+e+t]?0===this.options["optional_"+e+t].length?this.options["optional_"+e]:this.options["optional_"+e+t]:this.options["optional_"+e])?x()(n).call(n,(function(t){return{key:t[e].field,id:t[e].field,name:t.label}})):x()(i=this.scope.stat_field_list).call(i,(function(e){return{key:e.key,name:e.short_name,id:e.key}}))},t.prototype.refreshListMeta=function(){return Object(d.c)(this,void 0,void 0,(function(){var e,t,n=this;return Object(d.e)(this,(function(i){var o,r,a,s,c,l,u;switch(i.label){case 0:return"cross"!==this.options.report_style?[3,2]:[4,this.getCrossTableMeta()];case 1:return e=i.sent(),t=x()(o=e.fields).call(o,(function(e){return n.getDrillEngine(D()({},e,n.options.drill),n.meta_info)})),this.list_model.$setColumns(t).$setShowIndex(!1),[3,3];case 2:this.meta_info.dim=this.meta_info.dim||[],this.meta_info.aggr=this.meta_info.aggr||[],x()(r=this.meta_info.aggr).call(r,(function(e){return n.getDrillEngine(e)})),this.dim_mask={},x()(a=this.meta_info.dim).call(a,(function(e){if(e.mask)for(var t in n.dim_mask[e.key]={},e.mask)n.dim_mask[e.key][e.mask[t]]=t})),(t=oe()(s=x()(c=this.meta_info.dim).call(c,(function(e){return e.formatter||(e.formatter="strMask:__total__,合计;,无;__avg__,平均"),e}))).call(s,this.meta_info.aggr)).buildSequence("sequence",0),this.list_model.$setColumns(t,this.meta_info.dim.length,null,x()(l=ae()(u=this.meta_info.dim).call(u,(function(e){return!e.hide}))).call(l,(function(e){return e.key}))),i.label=3;case 3:return[2]}}))}))},t.prototype.openDefaultList=function(e,t){var n;return Object(d.c)(this,void 0,void 0,(function(){var i,o,r,a,s,c=this;return Object(d.e)(this,(function(l){var u,d;switch(l.label){case 0:return i=angular.copy(this.getAllFilterDict())||{},o=angular.copy(t.drill_model),r=t.drill_state&&"默认"!==t.drill_state?angular.copy(t.drill_state):null,[4,this.dataService.callHcmOpenApi("hcm.model.meta",{model:o,biz_type:"list",state:r})];case 1:return a=l.sent(),s=Fi()({class:"list",source:angular.copy(this.meta_info.data.source),filter_dict:angular.copy(this.meta_info.data.filter_dict)||{},query_str:angular.copy(this.meta_info.data.query_str),page_count:!0,data:{type:"list",field:ae()(u=a.fields).call(u,(function(e){return e.label&&e.field&&e.key&&!e.hide}))},total_include:null===(n=this.meta_info.total_include)||void 0===n||n},"query_str",angular.copy(this.meta_info.data.query_str)),x()(d=this.meta_info.dim).call(d,(function(n){e.hasOwnProperty([n.key])&&"__total__"!==e[n.key]&&"__avg__"!==e[n.key]?s.filter_dict[n.dim.field]=e[n.key]:"cross"===c.options.report_style&&("null"===t.key?s.filter_dict[n.dim.field]=[null]:"合计"!==t.key&&(s.filter_dict[n.dim.field]=t.key))})),[2,this.hcDialog.getDialog(Object(Yi.a)(o,null,!0,!0)).show({block_info:s,filter_dict:i,state:r})]}}))}))},t.prototype.getDrillEngine=function(e,t){var n=this;return void 0===t&&(t={}),e.drill?e.func=function(i,o){return Object(d.c)(n,void 0,void 0,(function(){var n,r,a,s,c,l,p,h,f,_,m;return Object(d.e)(this,(function(d){for(r in n=angular.copy(i))(null===(m=this.dim_mask)||void 0===m?void 0:m[r])&&n[r]&&(n[r]=this.dim_mask[r][n[r]]||n[r]);switch(a={},"{}"!==u()(t)&&("null"===o.key?((f={})[t.dim[1].key]=[null],a=f):"合计"!==o.key&&((_={})[t.dim[1].key]=o.key,a=_)),s={},e.drill_filter&&(h=angular.copy(this.getAllFilterDict()),s=angular.copy(e.drill_filter),s=this.parseFilter(s,D()({},h,{FILTER:h,ROW:n,COL:a}))),c=e.drill_state&&"默认"!==e.drill_state?angular.copy(e.drill_state):null,e.drill_type){case"DEFAULT":return[2,this.openDefaultList(n,o)];case"DIALOG_LIST":return[2,this.commonSelectorService.categoryListSelectorDialog({selectorModel:e.drill_model,state:c,filter_dict:s||{},selectorType:0})];case"JUMP_LIST":l="common_model_list",p={model:e.drill_model,meta_state:c,filter_dict:s},this.rootScope.super_go(l,p||{},null,e.open_new_page);break;case"JUMP_STATE":l=angular.copy(e.jump_state),p=angular.copy(e.jump_params),h=angular.copy(this.getAllFilterDict()),p=this.parseFilter(p,D()({},h,{FILTER:h,ROW:n,COL:a})),this.rootScope.super_go(l,p||{},null,e.open_new_page)}return[2]}))}))}:e.func=null,e},t.prototype.refreshData=function(){return Object(d.c)(this,void 0,void 0,(function(){return Object(d.e)(this,(function(e){switch(e.label){case 0:return e.trys.push([0,,5,6]),this.rootScope.show_waiting(),"cross"!==this.options.report_style?[3,2]:[4,this.getCrossTableDataEngine()];case 1:return e.sent(),[3,4];case 2:return[4,this.getDataEngine()];case 3:e.sent(),e.label=4;case 4:return[3,6];case 5:return this.rootScope.hide_waiting(),[7];case 6:return[2]}}))}))},t.prototype.getDataEngine=function(){var e,t=this;return this.dataBlockService.getData({class:"list",source:this.meta_info.data.source,filter_dict:this.meta_info.data.filter_dict,query_str:this.meta_info.data.query_str,page_count:!0,data:{type:"aggr",dim:this.meta_info.dim,aggr:this.meta_info.aggr},total_include:null===(e=this.meta_info.total_include)||void 0===e||e},this.getAllFilterDict(),this.paging.current_page,this.paging.page_size).then((function(e){t.paging.total_count=e.count,t.list_model.$setData(e.list)}))},t.prototype.initPaging=function(){var e,t,n;this.paging=this.$hcPaging.createPaging({current_page:1,page_size:(null===(n=null===(t=this.meta_info)||void 0===t?void 0:t.paging)||void 0===n?void 0:n.page_size)||20,onPagingChange:o()(e=this.refreshData).call(e,this)})},t.prototype.$onResize=function(){},t.prototype.$onRender=function(){return Object(d.c)(this,void 0,void 0,(function(){return Object(d.e)(this,(function(e){switch(e.label){case 0:return[4,this.checkContext()];case 1:return e.sent()?[4,this.refreshMeta()]:[2];case 2:return e.sent(),[4,this.refreshData()];case 3:return e.sent(),[2]}}))}))},t.prototype.getSettingPanel=function(){return Object(p.c)(Gi)},t.prototype.getWhichTemplate=function(){},t.prototype.getReportInfo=function(){return Object(d.c)(this,void 0,void 0,(function(){return Object(d.e)(this,(function(e){return[2,{meta_info:Object(d.a)({data:this.options.block_info},this.options.data)}]}))}))},t.prototype.common_export=function(){var e=this,t=this.$q.defer();this.rootScope.show_waiting();var n="PivotTableData";return this.dataService.callHcmOpenApi("imp.check.status?category="+n,{category:n},null,!0).then((function(i){var o,r;if(i.running)e.hcDialog.getDialog(Qi.a).params({title:"汇总表导出结果",category:n}).size("middle").show(),e.rootScope.hide_waiting();else{e.dataService.callHcmOpenWebSocket("dynamic.common.list.export",{category:n,extend_property:{index_by_id:!1,filter_dict:Object(d.a)(Object(d.a)({},e.getAllFilterDict()),{block_info:{class:"list",source:e.meta_info.data.source,filter_dict:e.meta_info.data.filter_dict,query_str:e.meta_info.data.query_str,page_count:!0,data:{type:"aggr",dim:e.meta_info.dim,aggr:e.meta_info.aggr},total_include:null===(o=e.meta_info.total_include)||void 0===o||o}})},file_name:"汇总表导出结果",is_from_config:!1,celery_mode:!0,column_defs:[],is_column_defs:!1,message:"send",filter_dict:e.context||{},block_info:{class:"list",source:e.meta_info.data.source,filter_dict:e.meta_info.data.filter_dict,query_str:e.meta_info.data.query_str,page_count:!0,data:{type:"aggr",dim:e.meta_info.dim,aggr:e.meta_info.aggr},total_include:null===(r=e.meta_info.total_include)||void 0===r||r}},n).then((function(i){e.hcDialog.getDialog(Qi.a).params({title:"汇总表导出结果",category:n,file_name:i}).size("middle").show(),t.resolve(!0)}),(function(n){e.rootScope.show_warning(n),!0,t.resolve(!1)}),(function(e){({value:e.progress,message:e.info})})).finally((function(t){e.rootScope.hide_waiting()}))}})),t.promise},t.$inject=["$rootScope","$scope","$state","ListReportService","$hcDialog","$hcForm","$hcQueryNew","$hcListBtn","$hcListNew","dataBlockService","$hcPaging","metaVisService","$hcPanel","$timeout","$q","$filter","dataService","commonSelectorService","componentDefaultService","contextService","listGlobalConfigService","$controller","$hcListBtn","HCMCRUDImpExpService"],t}(p.a);R.a.component("hcBoardStatReport",Object(p.b)(Zi,Ti.a));var eo=n("lNtv"),to=n.n(eo),no=(n("LYg1"),n("UHXY")),io=n("C9a7"),oo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(d.d)(t,e),t.prototype.initFormBefore=function(){var e,t;return Object(d.c)(this,void 0,void 0,(function(){return Object(d.e)(this,(function(n){return null===(t=null===(e=this.scope)||void 0===e?void 0:e.$dialog)||void 0===t||t.operates([{label:"取消",func:this.scope.$dialog.dialog_close},{label:"确定",func:this.scheme_confirm,default:!0}]),this.form_meta={fields:angular.copy(io.fields),groups:angular.copy(io.groups),tip:io.tip},[2]}))}))},t}(Gi),ro=function(e){function t(t,n,i,o,r,a,s,c,l,u){var d=e.call(this,t,n,i,o,r,a)||this;return d.element=t,d.dataService=n,d.hcDialog=i,d.portalChartService=o,d.$rootScope=r,d.$timeout=a,d.dataBlockService=s,d.metaVisService=c,d.hcForm=l,d.$scope=u,d}return Object(d.d)(t,e),t.prototype.$onInit=function(){return Object(d.c)(this,void 0,void 0,(function(){var t=this;return Object(d.e)(this,(function(n){switch(n.label){case 0:return[4,e.prototype.$onInit.call(this)];case 1:return n.sent(),[4,this.refreshStatMeta()];case 2:return n.sent(),this.$scope.$watch("$ctrl.stat_setting.data",(function(e,n){return Object(d.c)(t,void 0,void 0,(function(){var t,i,o=this;return Object(d.e)(this,(function(r){var a;switch(r.label){case 0:return u()(e)===u()(n)||!0!==this.stat_setting.$validData()?[3,2]:(t=[],O()(a=["dim_field1","dim_field2"]).call(a,(function(n){if(e[n]){var i=angular.copy(o.stat_field_list.getKey(e[n]));i.key=i.field_key;var r=o.metaVisService.getVisItemByNode(i,"dim");r.formatter="strMask:__total__,合计;,无;__avg__,平均",t.push(r)}})),this.$scope.dim=t,(i=angular.copy(this.stat_field_list.getKey(e.aggr_field))).key=i.field_key,(i=this.metaVisService.getVisItemByNode(i,"aggr")).aggr.ag=e.ag_type,this.$scope.aggr=[i],this.$scope.base_template=e.base_template,[4,this.$onRender()]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))}),!0),[2]}}))}))},t.prototype.getSettingPanel=function(){return Object(p.c)(oo)},t.prototype.refreshStatMeta=function(){var e,t,n,i;return Object(d.c)(this,void 0,void 0,(function(){var o,r,a,s,c,l,u,p,h=this;return Object(d.e)(this,(function(d){var f,_,m;switch(d.label){case 0:return this.options.block_info?[4,this.dataBlockService.getListMeta(this.options.block_info)]:[2];case 1:return(o=d.sent())?[4,this.metaVisService.meta2VisMeta(o)]:[3,5];case 2:return r=d.sent(),this.stat_model_relation=r.model_relation,[4,this.metaVisService.getMultiModelFields(x()(f=r.model_relation).call(f,(function(e){return e.model})))];case 3:return a=d.sent(),s=[],O()(_=r.model_relation).call(_,(function(e){var t;s=oe()(s).call(s,x()(t=ae()(a).call(a,(function(t){return t.model===e.model}))).call(t,(function(t){return{key:"master"===e.key?t.key:e.key+"."+t.key,name:e.name+"."+t.name+"("+e.model+"."+t.key+")",short_name:t.name+(t.object?"(主键)":""),model:e.model,model_key:e.key,model_name:e.name,type:t.type,field_key:t.key}})))})),[4,this.metaVisService.getModelFieldBizMeta(x()(s).call(s,(function(e){return{model:e.model,field:e.field_key}})),"list")];case 4:c=d.sent(),l=s.toObject((function(e){return e.model+"."+e.key}),(function(e,t){return c[t]})),x()(s).call(s,(function(e){e.meta=l[e.model+"."+e.key]})),this.stat_field_list=s,d.label=5;case 5:return u=angular.copy(no),O()(m=["dim_field1","dim_field2","aggr_field"]).call(m,(function(e){if(u.getKey(e)){var t=e.split("_")[0];u.getKey(e).options.list=h.getFieldTreeLoader.call(h,t)}})),p={},this.options.data.dim.length>0&&(p.dim_field1=null===(e=this.options.data.dim[0].dim)||void 0===e?void 0:e.field,this.options.data.dim.length>1&&(p.dim_field2=null===(t=this.options.data.dim[1].dim)||void 0===t?void 0:t.field)),this.options.data.aggr.length>0&&(p.aggr_field=null===(n=this.options.data.aggr[0].aggr)||void 0===n?void 0:n.field,p.ag_type=null===(i=this.options.data.aggr[0].aggr)||void 0===i?void 0:i.ag),p.base_template=this.options.base_template,this.stat_setting=this.hcForm.createForm().$setMeta(u).$setData(p),[2]}}))}))},t.prototype.getFieldTreeLoader=function(e){var t,n=this.options["optional_"+e];return n?x()(n).call(n,(function(t){return{key:t[e].field,id:t[e].field,name:t.label}})):x()(t=this.stat_field_list).call(t,(function(e){return{key:e.key,name:e.short_name,id:e.key}}))},t.prototype.$onResize=function(){console.log("resizing..."),e.prototype.$onResize.call(this),this.echarts&&this.echarts.resize()},t.prototype.$onRender=function(e){var t,i,r,s,l,p,h,f,_,v,g,b;return void 0===e&&(e=!1),Object(d.c)(this,void 0,void 0,(function(){var y,w,x,S,k,$,j,O,A=this;return Object(d.e)(this,(function(L){switch(L.label){case 0:return y=this,console.log("refresh with:"+e),(null===(t=this.options)||void 0===t?void 0:t.base_template)||(null===(i=this.options)||void 0===i?void 0:i.block_info)||(null===(l=null===(s=null===(r=this.options)||void 0===r?void 0:r.data)||void 0===s?void 0:s.dim)||void 0===l?void 0:l.length)||(null===(f=null===(h=null===(p=this.options)||void 0===p?void 0:p.data)||void 0===h?void 0:h.aggr)||void 0===f?void 0:f.length)?[4,this.checkContext()]:[2];case 1:return L.sent()?(w=(new Date).getTime(),(null===(_=this.dataFetcher)||void 0===_?void 0:_.is_loading)&&this.dataFetcher.cancel(),x=this.$scope.dim||this.options.data.dim,S=this.$scope.aggr||this.options.data.aggr,this.dataFetcher=this.dataService.callHcmOpenApi("flex.template.stat.calc",{chart_type:this.$scope.base_template||this.options.base_template,block_info:this.options.block_info,data:{dim:x,aggr:S},params:this.context,force_refresh:e},null,null,!1),[4,this.dataFetcher]):[2];case 2:return k=L.sent(),k=JSON.parse(u()(k),(function(e,t){return t&&"string"==typeof t&&c()(t).call(t,"function")?"="+t:t})),k=m.a.jsonEval(k,Object(d.a)(Object(d.a)({},this.context),this.options.filter_dict||{}),{},!0,!1),this.commonEcharts&&k.hcmMap?($=k.hcmMap.mapType,this.root_map_code||(this.root_map_code=k.hcmMap.id),[4,this.portalChartService.getMap(k.hcmMap.id)]):[3,4];case 3:j=L.sent(),this.commonEcharts.registerMap($,j),(null===(g=null===(v=k.toolbox)||void 0===v?void 0:v.feature)||void 0===g?void 0:g.myBack)||(k.toolbox={show:!0,feature:{myBack:{show:!0,title:"返回全局地图",icon:"path://M696.888889 287.288889h-512l142.222222-122.311111c11.377778-11.377778 14.222222-28.444444 2.844445-39.822222s-28.444444-14.222222-39.822223-2.844445l-199.111111 170.666667c-5.688889 2.844444-11.377778 11.377778-11.377778 19.911111s2.844444 14.222222 8.533334 19.911111l190.577778 190.577778c5.688889 5.688889 14.222222 8.533333 19.911111 8.533333s14.222222-2.844444 19.911111-8.533333c11.377778-11.377778 11.377778-28.444444 0-39.822222l-142.222222-142.222223h517.688888c93.866667 0 170.666667 76.8 170.666667 170.666667v139.377778c0 93.866667-76.8 170.666667-170.666667 170.666666H216.177778c-17.066667 0-28.444444 11.377778-28.444445 28.444445s11.377778 28.444444 28.444445 28.444444h480.711111c125.155556 0 227.555556-102.4 227.555555-227.555555V512c0-122.311111-102.4-224.711111-227.555555-224.711111z",onclick:function(e,t){y.drillDown({data:{code:y.root_map_code}})}}}}),L.label=4;case 4:return null===(b=this.echarts)||void 0===b||b.clear(),O=(new Date).getTime()-w,this.$timeout((function(){return Object(d.c)(A,void 0,void 0,(function(){var e,t;return Object(d.e)(this,(function(i){var r,s;switch(i.label){case 0:return y.echarts?[3,2]:(e=n("E9k0"),t=this,[4,e.echarts()]);case 1:t.commonEcharts=i.sent(),this.echarts=this.commonEcharts.init(a()(r=this.element).call(r,".hc-board-data-chart-container")[0]),this.echarts.on("click",o()(s=this.drillDown).call(s,this)),i.label=2;case 2:return y.echarts.setOption(k),[2]}}))}))}),O>600?0:600-O),[2]}}))}))},t.$inject=["$element","dataService","$hcDialog","portalChartService","$rootScope","$timeout","dataBlockService","metaVisService","$hcForm","$scope"],t}(W);R.a.component("hcBoardDataChartCustom",Object(p.b)(ro,to.a));var ao=n("zeMa"),so=n.n(ao),co=(n("xTCa"),n("cU/3"),function(){function e(e,t,n,i){this.$scope=e,this.$hcBoard=t,this.timeout=n,this.$filter=i,this.client=window.client}return e.prototype.$onInit=function(){var e,t,n,i,o,r=this;null===(e=this.boardCtrl)||void 0===e||e.componentRegister(this.key,this),this.board_model=this.$hcBoard.createBoard(),this.board_model.setComponent([]),(null===(n=null===(t=this.boardCtrl)||void 0===t?void 0:t.model)||void 0===n?void 0:n.color)&&this.board_model.setColor(null===(o=null===(i=this.boardCtrl)||void 0===i?void 0:i.model)||void 0===o?void 0:o.color),this.$scope.$watch("$ctrl.options",ee()((function(e,t){return Object(d.c)(r,void 0,void 0,(function(){return Object(d.e)(this,(function(n){return e!==t&&this.initData(),[2]}))}))}),1e3),!0)},e.prototype.initData=function(){var e,t=this;this.board_model.setComponent(x()(e=this.options.components||[]).call(e,(function(e){return e.hide&&"string"==typeof e.hide?e.hidden=m.a.jsonEval(e.hide,{$FILTER:t.$filter,$CTRL:t,SCOPE:t,$FILTER_DATA:t.context,WINDOW:window}):e.hidden=e.hide,e}))),this.board_model.setContextMeta(this.boardCtrl.model.context_meta),this.board_model.setContext(this.boardCtrl.model.context),this.board_model.setBorderContainer(!0),this.timeout((function(){t.board_model.refreshBoard(!0)}),100)},e.prototype.$onRender=function(){return Object(d.c)(this,void 0,void 0,(function(){return Object(d.e)(this,(function(e){return this.initData(),[2]}))}))},e.prototype.getSettingPanel=function(){return Object(p.c)(vt)},e.prototype.getWhichTemplate=function(){return null},e.$inject=["$scope","$hcBoard","$timeout","$filter"],e}());R.a.component("boardContainer",Object(p.b)(co,so.a));var lo=n("dpZS"),uo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(d.d)(t,e),t.prototype.initFormBefore=function(){return Object(d.c)(this,void 0,void 0,(function(){return Object(d.e)(this,(function(e){return this.form_meta={fields:angular.copy(lo.fields),groups:angular.copy(lo.groups),tip:lo.tip},[2]}))}))},t.prototype.getMeta=function(){return Object(d.c)(this,void 0,K.a,(function(){var e,t=this;return Object(d.e)(this,(function(n){var i,r;return this,(e=this.form_meta.fields).getKey("data").options.mask=o()(i=this.dataBlockMask).call(i,this),e.getKey("data").options.onClick=o()(r=this.dataBlockSetting).call(r,this),e.getKey("action").options.hide=function(){return"1"===t.form_model.data.mode},[2,e]}))}))},t.prototype.getGroupMeta=function(){return Object(d.c)(this,void 0,K.a,(function(){return Object(d.e)(this,(function(e){return[2,this.form_meta.groups]}))}))},t.prototype.validateTemplateData=function(){var e;return Object(d.c)(this,void 0,void 0,(function(){return Object(d.e)(this,(function(t){var n;return Zt()(n=["custom","",null,void 0]).call(n,this.setting_panel_data.base_template)||(null===(e=this.setting_panel_data.data)||void 0===e?void 0:e.getKey("main"))||this.rootScope.show_warning("请前往数据定义指定'main'数据块"),[2]}))}))},t}(V.a),po=function(e){function t(t,n,i,o,r,a,s,c,l){var u=e.call(this,o,i,r)||this;return u.$scope=t,u.element=n,u.dataService=i,u.hcDialog=o,u.$rootScope=r,u.$timeout=a,u.$compile=s,u.dataBlockService=c,u.$commonAction=l,u.funcParse=function(e){var t={SCOPE:u.$scope,RootScope:u.$rootScope,location:window.location,history:window.history,document:document,dataService:u.dataService,$hcDialog:u.hcDialog,CONTEXT:u.context,ELEMENT:u.element};return m.a.jsonEval(e,t,{})},u}return Object(d.d)(t,e),t.prototype.$onInit=function(){return Object(d.c)(this,void 0,void 0,(function(){return Object(d.e)(this,(function(t){switch(t.label){case 0:return this.options.action&&(this.action=this.funcParse(this.options.action)),this.mode=this.options.mode||"2",[4,e.prototype.$onInit.call(this)];case 1:return t.sent(),[2]}}))}))},t.prototype.getSettingPanel=function(){return Object(p.c)(uo)},t.prototype.getDrillDownParam=function(t){var n=e.prototype.getDrillDownParam.call(this,t);return n.selected=t.data,n},t.prototype.$onResize=function(){console.log("resizing..."),e.prototype.$onResize.call(this)},t.prototype.$onRender=function(t,n){return void 0===t&&(t=!1),void 0===n&&(n=!1),Object(d.c)(this,void 0,void 0,(function(){return Object(d.e)(this,(function(t){return e.prototype.$onRender.call(this),[2]}))}))},t.$inject=["$scope","$element","dataService","$hcDialog","$rootScope","$timeout","$compile","dataBlockService","$commonAction"],t}(p.a),ho=n("c5Ft"),fo=n.n(ho),_o=(n("7u9Q"),n("/GMb"),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(d.d)(t,e),t.prototype.$onRender=function(t,n){var i;return void 0===t&&(t=!1),void 0===n&&(n=!1),Object(d.c)(this,void 0,void 0,(function(){var n,r,s,c,l;return Object(d.e)(this,(function(u){var p,h,f,_;switch(u.label){case 0:return(null===(i=this.dataFetcher)||void 0===i?void 0:i.is_loading)&&this.dataFetcher.cancel(),"1"!==this.mode?[3,2]:(this.dataFetcher=this.dataService.callHcmOpenApi("flex.template.calc",{template:{template_string:this.options.template},block_info:this.options.data,params:Object(d.a)(Object(d.a)({},this.context),this.options.filter_dict||{}),base_:"render_html",force_refresh:t,context_key:this.contextKey},null,null,!1),[4,this.dataFetcher]);case 1:return n=u.sent().rendered_html,r=a()(p=this.element).call(p,"#iframe")[0],(s=r.contentDocument||r.contentWindow.document).open(),s.write(n),s.close(),[3,6];case 2:if("2"!==this.mode)return[3,6];var m;if(this.options.data&&(this.dataFetcher=this.dataBlockService.getAllData(this.options.data,Object(d.a)(Object(d.a)({},this.context),this.options.filter_dict||{}),this.contextKey,t)),this.renderElement)a()(m=this.element).call(m,".render").children().remove(),this.childScope.$destroy(),this.renderElement=null;return this.dataFetcher?[4,this.dataFetcher]:[3,4];case 3:return l=u.sent(),[3,5];case 4:l=null,u.label=5;case 5:c=l,a()(h=this.element).call(h,".render").html(this.options.template),this.childScope=this.$scope.$new(),this.childScope.data=c,this.childScope.actionHandler=o()(f=this.dealAction).call(f,this),this.renderElement=this.$compile(a()(_=this.element).call(_,".render"))(this.childScope),u.label=6;case 6:return[4,e.prototype.$onRender.call(this)];case 7:return u.sent(),[2]}}))}))},t.prototype.dealAction=function(e,t){var n,i=null===(n=this.action)||void 0===n?void 0:a()(n).call(n,(function(t){return t.key===e}));this.parseAction(i,null,null,t)},t}(po));R.a.component("hcBoardDataTemplate",Object(p.b)(_o,fo.a));n("hByQ");var mo=n("lHQ6"),vo=n.n(mo),go=n("a0dU"),bo=n.n(go),yo=(n("ls82"),n("SPx3")),wo=n.n(yo),xo=n("/+Fq"),So=n.n(xo),ko=n("jD8t"),$o=n.n(ko),jo=(n("6MXt"),n("bQgN")),Oo=n("jEgQ");R.a.directive("recruitPortalJob",(function(){return{restrict:"EA",template:n("+4kf"),scope:{options:"=",context:"<?"},require:{boardCtrl:"?^hcmBoard"},link:function(e,t,n,i){var o;jo.a.loadComponent("hcRecruitJobView").then((function(){e.lazyLoadComponent=!0})),e.$onResize=function(){},e.app_type=window.app_type,null===(o=i.boardCtrl)||void 0===o||o.componentRegister(e.options.key,e)},controller:"recruit"===window.app_type?["$scope","dataService","contextService","$hcDialog","BaseCRUDService","$controller","$rootScope","weChatService","AuthService","companyRecruitService","$state","$filter","$location","$compile","MyResumeService",function(e,t,n,i,o,r,a,s,c,l,u,d,p,h,f){var _,m,v=o.getModelService("ReleaseJobMgr");r(ve.a,{$scope:e,CRUDService:v,InfoDialog:null}),a.is_new_optimized=!0,e.getItemID=function(){return e.context.id},e.meta_state="portal",e.contract_unit=e.context.contract_unit,e.job_id=e.context.id,e.exclusive_activity_id=null===(_=e.context)||void 0===_?void 0:_.batch_activity_id,e.bgStyle={background:"url('"+window.cdn_domain+window.hcm_wengen+"/img?type=image&index=recruit_wx_share') no-repeat"},e.is_wechat_web=-1!==Ze()(m=window.navigator.userAgent.toLowerCase()).call(m,"micromessenger"),e.initBeforeAsync=wo()(bo.a.mark((function n(){var i,o;return bo.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.callHcmOpenApi("recruit.get.apply.info.by.job",{job_id:e.job_id,except:[51006]},null,!0);case 2:return e.applyInfo=n.sent,n.next=5,t.callHcmOpenApi("hcm.model.get",{model:"ReleaseJobMgr",id_:e.job_id},null,!0);case 5:if(e.jobInfo=n.sent,a.companyInfo){n.next=12;break}return n.next=9,t.callHcmOpenApi("recruit.get.company.info",{contract_unit:null!==(o=u.params.contract_unit)&&void 0!==o?o:null,share_wechat:!0},null,!0);case 9:e.companyInfo=n.sent,n.next=13;break;case 12:e.companyInfo=angular.extend(a.companyInfo,{});case 13:return(null===(i=e.companyInfo)||void 0===i?void 0:i.organ_setting)&&(e.disable_process=null==e?void 0:e.companyInfo.organ_setting.recruitProcessClose,e.apply_tip=null==e?void 0:e.companyInfo.organ_setting.REC_RESUME_APPLY_TIP,e.custom_text=null==e?void 0:e.companyInfo.organ_setting.REC_PROMPT_MDIFICATION_DELIVERING_RESUME,e.eliminate_re_apply_custom_text=null==e?void 0:e.companyInfo.organ_setting.REC_ELIMINATE_DELIVERING_RESUME_AGAIN),n.next=16,f.getModelMeta("list","ApplyJobRecords","portalProgress");case 16:e.apply_meta=n.sent,e.showEliminateResumeReApplyButton=g();case 18:case"end":return n.stop()}}),n)})));var g=function(){if(!e.applyInfo)return!1;if(0!==e.applyInfo.recruit_course)return!1;if(e.applyInfo.is_black_list)return!1;if(e.apply_meta){var t,n=ae()(t=e.apply_meta.fields).call(t,(function(e){return"state_code"===e.key})),i=n&&n[0]&&n[0].mask;e.state_display_name=i[e.applyInfo.state_code]||e.applyInfo.st&&e.applyInfo.st.display_name||e.applyInfo.st&&e.applyInfo.st.name||e.applyInfo.state_name;var o=e.auth.company_setting.rec_use_sub_state&&"yes"===e.auth.company_setting.rec_use_sub_state,r=0;if(o||!o&&"eliminate"==e.applyInfo.state_code){var a,s=ae()(a=e.apply_meta.extend).call(a,(function(e){return"rec_portal_resume"===e.key})),c=(new Date).getTime();r=s&&s[0]&&s[0].value&&s[0].value.pre_eliminate_time||0;var l=e.applyInfo.apply_date.replace(/-/g,"/");r>0&&Date.parse(l)+36e5*r>c?e.state_display_name=o?e.state_display_name:i.pre_eliminate||"评估中":e.state_display_name=i.eliminate||e.state_display_name}if("淘汰"!==e.state_display_name){if(-1===r)return!1;var u=e.applyInfo.apply_date.replace(/-/g,"/");if(Date.parse(u)+36e5*r>(new Date).getTime())return!1}}return!0};e.fetchDataSuccess=function(n){var i;e.job_detail=angular.extend({},n),e.isHaveActivity=!1,e.is_bind_activity=!0,e.jobIsOffline=!1,"2"===e.job_detail.status&&(e.jobIsOffline=!0),e.jobCategory=null,e.offline_apply=null,e.detail_path=null,null!=e.job_detail.job_categ&&(e.jobCategory=e.job_detail.job_categ.group),e.student_type=null,(null===(i=e.companyInfo)||void 0===i?void 0:i.organ_setting)?"no"===(null==e?void 0:e.companyInfo.organ_setting.REC_CAMPUS_BIND_ACTIVITY)&&(e.is_bind_activity=!1):t.callHcmOpenApi("recruit.portal.setting.get.portal.info.by.name",{setting_name:"REC_CAMPUS_BIND_ACTIVITY",organ_id:e.contract_unit},null,!0).then((function(t){e.is_bind_activity=!1})),"校园招聘"!==e.job_detail.job_class||2===vo()(e.job_detail.status)&&"allow"!==e.offline_apply||!e.is_bind_activity||t.callHcmOpenApi("recruit.get.activity.by.job.id",{job_id:e.job_detail.id},null,!0).then((function(t){var n;e.activity_list=t,e.activity_list.activity_view&&x()(n=e.activity_list.activity_view).call(n,(function(t){t&&t.is_enable&&(e.isHaveActivity=!0)}))})),l.addJobBrowserNumber(n.id).then((function(t){e.browser_info=t})),j()},e.back_to_job_list=function(){a.super_go("portal_job",{contract_unit:e.contract_unit,job_class:"社会招聘"===e.job_detail.job_class?"social":"校园招聘"===e.job_detail.job_class?"campus":"intern"})},e.upload_attachment=function(){if(e.job_detail.job_attach){var t=e.job_detail.job_attach.split("#");O()(angular).call(angular,t,(function(e){window.open(location.protocol+"//"+location.host+"/document/loadsourcedocument/"+e+window.hcm_env_pre)}))}else a.show_warning("该职位暂无职位附件")},e.jobApply=function(){var o=s.isWeChat(),r=location.hostname.split(".");if(r.length>0&&o&&"mobile"===window.client&&r[0].length<18)return e.is_wechat_no_app=!1,!1;event.stopPropagation();var c=n.getContext("auth");if(!n.has_login("candidate"))return b(),!1;var l=function(){if(e.apply_tip)if(c.candidate.full_time_grate_time)w(c.candidate.full_time_grate_time);else{var n={model:"EduExperience",filter_dict:{resume_id:c.candidate.id}};t.callHcmOpenApi("hcm.model.list",n).then((function(e){if(!e)return a.show_warning("请先完善您的简历在进行投递"),!1;var t,n=null;x()(t=e.list).call(t,(function(e){e.is_full_time&&e.end_date&&(n=n&&n>e.end_date?n:e.end_date)})),w(n)}))}else S()};if(c.company_setting.portal_apply_job_need_promise){var u="社会招聘"===e.job_detail.job_class?"apply_social":"校园招聘"===e.job_detail.job_class?"apply_campus":"apply_intern";t.callHcmOpenApi("recruit.get.apply.promise",{promise_type:u},null,!0).then((function(e){e?i.getDialog({template:$o.a,controller:["$scope",function(e){e.announcement=angular.extend({},e.params.model),e.$dialog.operates([{label:"确认并同意",default:!0,func:function(){e.$dialog.resolve_data(),e.$dialog.dialog_close()}}])}]}).params({model:e}).size("large-middle").title("").show().then((function(){l()})):l()}))}else l()};var b=function(){t.callHcmOpenApi("recruit.portal.setting.get.fixed.param",{organ_id:e.contract_unit},null,!0).then((function(t){i.confirm("您目前还未登录，请先注册或登录系统再投递简历",[{caption:"确定",func:function(){c.reLogin(null,("1"===t?"&mode=GETCODE":"&mode=PWD")+(e.contract_unit?"&contract_unit="+e.contract_unit:""))}}])}))},w=function(t){var n=new Date,o={},r=n.getFullYear().toString()+"-"+(n.getMonth()+1>=10?(n.getMonth()+1).toString():"0"+n.getMonth().toString());("校园招聘"===e.job_detail.job_class||"实习生招聘"===e.job_detail.job_class)&&t&&t<r?(o.type="往届生",o.go_state="社会招聘",e.student_type="social"):("社会招聘"===e.job_detail.job_class||"临时工招聘"===e.job_detail.job_class)&&t&&t>=r&&(o.type="应届生",o.go_state="校园招聘",e.student_type="school"),y()(o).length>0?i.confirm("您投递的职位为 【 "+e.job_detail.name+" 】 , 根据您的最近毕业时间，您属于"+o.type+"，是否需要前往"+o.go_state+"进行投递职位?",[{caption:"继续投递",func:function(){S()}},{caption:"前往",func:function(){"社会招聘"===o.go_state?e.goSearch():e.goCampusJobs(null)}}]):S()},S=function(){var t=wo()(bo.a.mark((function t(){var o,r,s,c,u,d;return bo.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.job_detail.jump_link){t.next=3;break}return window.open(e.job_detail.jump_link,"_blank"),t.abrupt("return",!1);case 3:if(o=null,o=angular.isUndefined(e.custom_text)||""===e.custom_text||null==e.custom_text?"感谢您的关注，确认投递"+e.job_detail.name+"？":e.custom_text,"校园招聘"!==e.job_detail.job_class||e.exclusive_activity_id){t.next=40;break}if(n.has_login("candidate")){t.next=10;break}b(),t.next=38;break;case 10:if(e.is_bind_activity&&"实习生招聘"!==e.job_detail.job_class){t.next=30;break}if(r={job_id:e.job_detail.id,contract_unit:e.contract_unit,detail_path:e.detail_path,job_category:e.jobCategory},"mobile"!==e.client){t.next=17;break}"social"===e.student_type?a.super_go("recruit_apply",r):i.confirm(o).then((function(){a.super_go("recruit_apply",r)})),t.next=28;break;case 17:if("social"!==e.student_type){t.next=27;break}return t.next=20,k();case 20:if((s=t.sent)&&(r.naire_info=s),!e.job_detail.naire_template_id||s){t.next=24;break}return t.abrupt("return",s);case 24:i.getDialog({controller:"RecruitApplyCtrl",template:So.a}).params(r).size("middle").show().then((function(t){e.applyInfo=t})),t.next=28;break;case 27:i.confirm(o).then(wo()(bo.a.mark((function t(){var n;return bo.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k();case 2:if((n=t.sent)&&(r.naire_info=n),!e.job_detail.naire_template_id||n){t.next=6;break}return t.abrupt("return",n);case 6:i.getDialog({controller:"RecruitApplyCtrl",template:So.a}).params(r).size("middle").show().then((function(t){e.applyInfo=t}));case 7:case"end":return t.stop()}}),t)}))));case 28:t.next=38;break;case 30:if(!e.activity_list||!e.activity_list.activity_view){t.next=36;break}e.isHaveActivity=!1,e.activity_list.activity_view&&e.activity_list.activity_view.length>0&&x()(c=e.activity_list.activity_view).call(c,(function(t){t&&t.is_enable&&(e.isHaveActivity=!0)})),e.isHaveActivity?l.chooseActivity(e.activity_list).then(function(){var t=wo()(bo.a.mark((function t(n){var o,r;return bo.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=11;break}return o={job_id:e.job_detail.id,activity_id:n,intern:e.offline_apply,detail_path:e.detail_path,job_category:e.jobCategory,contract_unit:e.contract_unit},t.next=4,k();case 4:if((r=t.sent)&&(o.naire_info=r),!e.job_detail.naire_template_id||r){t.next=8;break}return t.abrupt("return",r);case 8:"mobile"===e.client?a.super_go("recruit_apply",o):i.getDialog({controller:"RecruitApplyCtrl",template:So.a}).params(o).size("middle").show().then((function(t){e.applyInfo=t})),t.next=12;break;case 11:a.show_warning("对不起，请重试！");case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()):a.show_warning("对不起，该职位尚未绑定招聘活动，暂不支持投递"),t.next=38;break;case 36:return a.show_warning("对不起，该职位尚未绑定招聘活动，暂不支持投递"),t.abrupt("return",!1);case 38:t.next=60;break;case 40:if(n.has_login("candidate")){t.next=44;break}b(),t.next=60;break;case 44:if(u={job_id:e.job_detail.id,contract_unit:e.contract_unit,intern:e.offline_apply,detail_path:e.detail_path,job_category:e.jobCategory,activity_id:e.exclusive_activity_id},"mobile"!==e.client){t.next=49;break}"school"===e.student_type?a.super_go("recruit_apply",u):i.confirm(o).then((function(){a.super_go("recruit_apply",u)})),t.next=60;break;case 49:if("school"!==e.student_type){t.next=59;break}return t.next=52,k();case 52:if((d=t.sent)&&(u.naire_info=d),!e.job_detail.naire_template_id||d){t.next=56;break}return t.abrupt("return",d);case 56:i.getDialog({controller:"RecruitApplyCtrl",template:So.a}).params(u).size("middle").show().then((function(t){e.applyInfo=t})),t.next=60;break;case 59:i.confirm(o).then(wo()(bo.a.mark((function t(){var n;return bo.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k();case 2:if((n=t.sent)&&(u.naire_info=n),!e.job_detail.naire_template_id||n){t.next=6;break}return t.abrupt("return",n);case 6:i.getDialog({controller:"RecruitApplyCtrl",template:So.a}).params(u).size("middle").show().then((function(t){e.applyInfo=t}));case 7:case"end":return t.stop()}}),t)}))));case 60:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),k=function(){var t=wo()(bo.a.mark((function t(){var n;return bo.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.job_detail.naire_template_id){t.next=11;break}return t.next=3,l.jobNaireDialog(e.job_detail.naire_template_id);case 3:if(n=t.sent){t.next=8;break}return t.abrupt("return",!1);case 8:return t.abrupt("return",n);case 9:t.next=12;break;case 11:return t.abrupt("return",!1);case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();e.goProcess=function(){a.super_go("progress_detail",{id:e.applyInfo.id,status:null,contract_unit:e.contract_unit}),event.stopPropagation()},e.jobApplyByEliminate=function(){var t=s.isWeChat(),o=location.hostname.split(".");if(o.length>0&&t&&"mobile"===window.client&&o[0].length<18)return e.is_wechat_no_app=!1,!1;if(event.stopPropagation(),e.job_detail.jump_link&&"mobile"===e.client)return window.open(e.job_detail.jump_link,"_self"),!1;n.has_login("candidate")||l.recruitNotLogin("company_recruit",{id:e.job_id},e.contract_unit);var r=null;r=angular.isUndefined(e.eliminate_re_apply_custom_text)||""===e.eliminate_re_apply_custom_text||null==e.eliminate_re_apply_custom_text?"您已投递过该职位，确认要重新投递吗？重新投递会将您的简历移入“新简历”阶段。此操作不可逆转，请谨慎操作！":e.eliminate_re_apply_custom_text;var a={apply_id:e.applyInfo.id,job_id:e.job_id,is_board:!0};i.confirm(r).then((function(){i.getDialog({controller:"RecruitEliminateReApplyCtrl",template:So.a}).params(a).size("middle").show()}))},e.outerShare=wo()(bo.a.mark((function t(){var o,r,a;return bo.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.has_login("candidate")){t.next=4;break}b(),t.next=14;break;case 4:if(!((o=n.getContext("auth")).candidate.mobile&&o.candidate.name&&o.candidate.email)){t.next=9;break}i.getDialog(Object(ge.a)("RecruitmentVirtualModel","recChooseResumeWay")).params().size("small").show({mode:"new",data:{job:e.job_detail}}),t.next=14;break;case 9:return r=angular.extend(angular.copy(o.candidate),{job:e.job_detail}||{}),t.next=12,i.getDialog(Object(ge.a)("ResumeMgr","outerRecommendUpdateInfo")).params().size("small").show({mode:"edit",data:r});case 12:(a=t.sent)&&(o.candidate=a,i.getDialog(Object(ge.a)("RecruitmentVirtualModel","recChooseResumeWay")).params().size("small").show({mode:"new",data:{job:e.job_detail}}));case 14:case"end":return t.stop()}}),t)}))),e.share_job=function(){if("pc"!==e.client&&e.is_wechat_web){$("body").append(h('<div class="wx-share" ng-style="bgStyle" ng-click="close_weChat_mask()"></div>')(e))}else l.showShareNode().then((function(e){j(e)}))},e.close_weChat_mask=function(){$(".wx-share").remove()};var j=function(n){var i,o=e.companyInfo.name+"，正在直聘"+e.job_detail.name,r=e.job_detail.job_desc,a=e.companyInfo.is_new_portal_type?d("commonImage")(e.companyInfo.logo,["hcZsbImage","80,80"]):d("commonImage")(e.companyInfo.logo,["hcImage","80,80"]),c=location.protocol+"//"+location.host+location.pathname+"#"+p.url(),l=null===(i=p.search())||void 0===i?void 0:i.company_id;c+=l=l?"&company_id="+l:"",e.code_url=c,s.setShareOption(o,r,c,a,(function(){t.callHcmOpenApi("recruit.job.share",{job_id:e.job_id},null,!0).then((function(){t.callHcmOpenApi("recruit.get.share_members",{job_id:e.job_id,except:[51006]},null,!0)}))}))}}]:["$scope","dataService","contextService","$hcDialog","BaseCRUDService","$controller","$rootScope","weChatService","AuthService","$state","$filter","$location",function(e,t,n,i,o,r,a,s,c,l,u,d){var p,h,f=o.getModelService("ReleaseJobMgr");r(ve.a,{$scope:e,CRUDService:f,InfoDialog:null}),e.getItemID=function(){return e.context.id},e.meta_state="portal",e.contract_unit=e.context.contract_unit,e.job_id=e.context.id,e.is_inner_recruit=null!==(p=null===(h=e.context)||void 0===h?void 0:h.is_inner_recruit)&&void 0!==p&&p,e.fetchDataSuccess=function(n){e.is_inner_recruit&&(t.callHcmOpenApi("recruit.portal.setting.get.portal.info.by.name",{setting_name:"REC_INNER_RECRUIT_APPLY_NEED_APPROVE",organ_id:e.contract_unit},null,!0).then((function(t){e.need_approve=e.auth&&t.portal_setting_info.content})),t.callHcmOpenApi("rec.get.resume.by.employee",{employee_id:e.auth.employee.id,resume_id:null},null,!0).then((function(t){t.success?(e.resume_info=t.data,e.resume_id=e.resume_info.basis.id,e.checkApply()):a.show_warning(t.data)}))),t.callHcmOpenApi("recruit.add.job.browser.number",{job_id:e.job_id},null,!0).then((function(t){e.browser_info=t}))},e.checkApply=function(){t.callHcmOpenApi("recruit.has.apply.for.inside",{job_id:e.job_id,resume_id:e.resume_id},null,!0).then((function(t){t?(e.apply_info=t,!0===e.apply_info.is_apply||!1===e.apply_info.is_apply&&e.apply_info.inner_approve_id?e.isApply="is_apply":!1!==e.apply_info.is_apply||e.apply_info.inner_approve_id||(e.isApply="re_approve")):e.isApply="no_apply"}))},e.showApply=function(){"2"!==e.view_model.data.status?i.confirm("您确定要投递该职位？",[{caption:"继续投递",func:function(){a.show_waiting(),t.callHcmOpenApi("recruit.apply.inside.job",{job_id:e.job_id,resume_id:e.resume_id,need_approve:e.need_approve,program_control_mode:null},null,!0).then((function(t){t.success?(a.hide_waiting(),"yes"===e.need_approve?a.show_warning("已发起审批，及时关注流程中心状态"):a.show_warning("投递成功"),e.checkApply(),window.location.reload()):1===t.status?(t.job_id=e.view_model.data.id,t.need_approve=e.need_approve,i.getDialog(Oo.default).size("middle").params({apply_info:t,resume_info:e.resume_info,contract_unit:e.contract_unit,is_inner_recruit:e.is_inner_recruit}).title("投递结果").show().then((function(){e.checkApply()}))):(null==t?void 0:t.msg)&&a.show_warning(t.msg)}))}}]):a.show_warning("该职位已下线！","warning")},e.submit_approve=function(){i.confirm("您确定要发起投递审批？",[{caption:"发起审批",func:function(){a.show_waiting(),t.callHcmOpenApi("recruit.inner.submit.approve",{resume_id:e.resume_id,job_id:e.job_id,apply_id:e.apply_info.id},null,!0).then((function(t){t.success&&(a.hide_waiting(),a.show_warning(t.msg),e.checkApply())}))}}])}}]}}));n("VekZ"),n("+hqv");R.a.directive("nineMapMini",[function(){return{restrict:"AE",scope:{options:"=",getItemId:"=",model:"=ngModel",key:"="},require:{boardCtrl:"?^hcmBoard"},link:function(e,t,n,i){var o;null===(o=i.boardCtrl)||void 0===o||o.componentRegister(e.key,e)},template:n("02xJ"),controller:["$scope","$rootScope","$stateParams","dataService","contextService",function(e,t,n,i,o){e.init=function(){i.callHcmOpenApi("talent.review.activity.get.talent.review.activity.list",{employee_id:r()}).then((function(t){t.return_list.length>0?(e.show_result=!0,e.x_name=t.x_y_name[t.return_list[0].id].x_name,e.y_name=t.x_y_name[t.return_list[0].id].y_name,i.callHcmOpenApi("hcm.model.list",{model:"talent_review_card."+t.return_list[t.return_list.length-1].scheme_number+"+nine_map_calibrate",filter_dict:{act_id:t.return_list[t.return_list.length-1].id}}).then((function(t){e.nine_map_list=t.list;for(var i=0;i<t.list.length;i++)if(t.list[i].card_List.length>0)for(var o=0;o<t.list[i].card_List.length;o++)n.employee_id?Number(n.employee_id)===t.list[i].card_List[o].obj.id&&(e.big_number=t.list[i].number):Number(e.options.employee_id)===t.list[i].card_List[o].obj.id&&(e.big_number=t.list[i].number)}))):e.show_result=!1}))};var r=function(){return e.getItemId&&e.getItemId()||n.employee_id||e.options.employee_id}}]}}]);n("KZIG");R.a.directive("nineMapDept",[function(){return{restrict:"AE",scope:{options:"=",getItemId:"=",model:"=ngModel",key:"="},require:{boardCtrl:"?^hcmBoard"},link:function(e,t,n,i){var o;null===(o=i.boardCtrl)||void 0===o||o.componentRegister(e.key,e)},template:n("6/xw"),controller:["$scope","$rootScope","$stateParams","dataService","contextService",function(e,t,n,i,o){e.init=function(){i.callHcmOpenApi("talent.review.activity.get.talent.review.activity.list.by.org",{depart_id:r()}).then((function(t){t.return_list.length>0?(e.show_result=!0,e.x_name=t.x_y_name[t.return_list[0].id].x_name,e.y_name=t.x_y_name[t.return_list[0].id].y_name,i.callHcmOpenApi("hcm.model.list",{model:"talent_review_card."+t.return_list[t.return_list.length-1].scheme_number+"+nine_map_calibrate",filter_dict:{act_id:t.return_list[t.return_list.length-1].id,depart_id:{child_include:r()}}}).then((function(t){e.nine_map_list=t.list}))):e.show_result=!1}))};var r=function(){return e.getItemId&&e.getItemId()||n.depart_id||e.options.depart_id}}]}}]);var Ao=n("QBkC"),Lo=n.n(Ao),Po=(n("+2Ea"),function(){function e(e,t,n,i,o,r){this.$element=e,this.$rootScope=t,this.dataService=n,this.$state=i,this.$hcDialog=o,this.$filter=r}return e.prototype.$onInit=function(){var e,t,n=this;n.client=window.client,n.video_data=n.$filter("valueToFunc")(n.options.video_data)();var i=n.video_data.ai_interview_result;n.ai_interview_result=n.video_data.ai_interview_result,n.extend_bar=!1,i={record_info:i.instance,answer_record:i.question},n.questions=x()(e=i.answer_record).call(e,(function(e){return{question_id:e.question.id,question_content:e.question.content,question_type:e.question.question_type,question_options:e.question.question_options}})),n.dataService.callHcmOpenApi("recruit.get.domain",{app_type:"service",wx_domain:!1,only_domain:!0}).then((function(e){n.screen_shot_index_full=e.domain_url+"/img?index="+(n.ai_interview_result.instance.screen_shot_index||n.ai_interview_result.instance.photo_index)})),n.ai_interview_video_list=x()(t=i.answer_record).call(t,(function(e){var t,i,o,r={question_id:e.answer.question_id,video_url:e.answer.video_url,answer_content:e.answer.answer_content,question_score:e.answer.question_score,subjective_score:e.answer.subjective_score,question_type:e.question.question_type,screen_pic_show_state:!!(e.question.question_type&&e.question.question_type<3)},a=ae()(t=n.questions).call(t,(function(t){return t.question_id===e.answer.question_id})),s="";if(a&&(2===a[0].question_type||1===a[0].question_type)){var c=function(e){var t,n=ae()(t=a[0].question_options).call(t,(function(t){return t.option===e}));s+=e+":"+n[0].content+"; "};try{for(var l=Object(d.i)(e.answer.answer_content),u=l.next();!u.done;u=l.next()){c(u.value)}}catch(e){i={error:e}}finally{try{u&&!u.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}r.answer_content=s}return r})),n.current_video=n.questions[0].question_id,n.current_video_index=0},e.prototype.subject_judge_score=function(){var e=this.params.video_data.id;if(this.ai_interview_video_list[this.current_video_index].subjective_score)if(this.ai_interview_video_list[this.current_video_index].subjective_score>100)this.$rootScope.show_warning("分值不能大于100");else{this.ai_interview_result.question[this.current_video_index].answer.subjective_score=this.ai_interview_video_list[this.current_video_index].subjective_score;var t={id_:e,info:{ai_interview_result:this.ai_interview_result},model:"RecAIInterviewRecord"};this.dataService.callHcmOpenApi("hcm.model.edit",t,null,!0)}},e.prototype.choose_question=function(e,t){this.current_video=e,this.current_video_index=t},e.prototype.extend_content=function(){this.extend_bar=!this.extend_bar,this.extend_bar?document.getElementsByClassName("ai-question-list-nav-mobile")[0].style.width="90%":document.getElementsByClassName("ai-question-list-nav-mobile")[0].style.width="24px"},e.$inject=["$element","$rootScope","dataService","$state","$hcDialog","$filter"],e}());R.a.component("hcRecruitShowAiResult",{bindings:{model:"=ngModel",options:"<?"},controller:Po,template:Lo.a});var Do=n("Y3iY"),No=n.n(Do),Co=(n("MkoH"),function(){function e(e,t,n,i,o){this.$scope=e,this.$element=t,this.dataService=n,this.$state=i,this.$rootScope=o,this.is_show_board=!0,this.client=window.client}return e.prototype.$onInit=function(){var e,t=this,n=JSON.parse(this.$state.params.params);this.apply_id=null!==(e=n.id)&&void 0!==e?e:n.obj_id,this.dataService.callHcmOpenApi("recruit.get.apply.info",{id:this.apply_id}).then((function(e){var n;t.dataService.callHcmOpenApi("hcm.model.get",{model:"ReleaseJobMgr",id_:e.job_id}).then((function(e){t.job_info=angular.extend({},e)})),t.needViewJob=null===(n=t.options.needViewJob)||void 0===n||n}))},e.prototype.viewJob=function(){var e,t={id:this.job_info.id},n=null===(e=this.options.needOpenNewPage)||void 0===e||e;this.needViewJob&&this.$rootScope.super_go("recruit_job_view_center.view",t,{},n)},e.$inject=["$scope","$element","dataService","$state","$rootScope"],e}());R.a.component("hcRecruitJobCard",{bindings:{model:"=ngModel",options:"<?"},controller:Co,template:No.a});var Mo=n("g59H"),Io=n.n(Mo),Eo=(n("yBew"),function(){function e(e,t,n,i){this.$scope=e,this.$element=t,this.dataService=n,this.$state=i,this.client=window.client,this.label_options={col:"col-1",list:this.list}}return e.prototype.$onInit=function(){var e,t,n,i,o=this;this.apply_id=this.context.id,this.title_label=null!==(t=null===(e=this.options)||void 0===e?void 0:e.title_label)&&void 0!==t?t:"个人标签",this.title_icon=null!==(i=null===(n=this.options)||void 0===n?void 0:n.title_icon)&&void 0!==i?i:"icon-hcm-mark",this.dataService.callHcmOpenApi("recruit.get.apply.info",{id:this.apply_id}).then((function(e){o.label_list=e.resume.judge_label,o.resume_id=e.resume.id})),this.$scope.$on("hcInputLabelMultiAdd",(function(e,t){o.dataService.callHcmOpenApi("recruit.resume.set.tag",{resume_id:o.resume_id,tag:t.join("|")},null,!0)})),this.$scope.$on("hcInputLabelMultiRemove",(function(e,t){o.dataService.callHcmOpenApi("recruit.resume.set.tag",{resume_id:o.resume_id,tag:t.join("|")},null,!0)}))},e.$inject=["$scope","$element","dataService","$state"],e}());R.a.component("hcRecruitJudgeLabel",{bindings:{key:"<?",options:"<?",context:"<?"},controller:Eo,template:Io.a});var Bo=n("mGZk"),Fo=n.n(Bo),Ro=(n("ddC0"),function(e){function t(t,n,i,o,r,a){var s=e.call(this,n,i)||this;return s.$scope=t,s.hcDialog=n,s.timeout=i,s.dataService=o,s.element=r,s.contextService=a,s.client=window.client,s}return Object(d.d)(t,e),t.prototype.$onInit=function(){var e;return Object(d.c)(this,void 0,void 0,(function(){var t=this;return Object(d.e)(this,(function(n){return null===(e=this.boardCtrl)||void 0===e||e.componentRegister(this.key,this),this.apply_id=this.context.id,this.recChat={params:{biz_id:"recruit:"+this.apply_id,length:10},at:!0,to_employee_id:this.context.resume_emp_id,resumeId:this.context.resume_id,contract_unit:this.context.contract_unit},this.dataService.callHcmOpenApi("recruit.portal.setting.get.portal.info.by.name",{setting_name:"REC_RESUME_ARTICLE_ROLE_SETTING",organ_id:this.context.contract_unit},null,!0).then((function(e){var n=e.portal_setting_info.content;t.auth=t.contextService.getContext("auth"),t.show_article=!0,"all"!==n&&(t.show_article=!!t.auth.roles[n])})),[2]}))}))},t.prototype.$onRender=function(){return Object(d.c)(this,void 0,void 0,(function(){return Object(d.e)(this,(function(t){switch(t.label){case 0:return[4,e.prototype.$onRender.call(this)];case 1:return t.sent(),[2]}}))}))},t.$inject=["$scope","$hcDialog","$timeout","dataService","$element","contextService"],t}(p.a));R.a.component("hcRecruitArticleList",{bindings:{key:"<?",options:"<?",context:"<?"},require:{boardCtrl:"?^hcmBoard"},controller:Ro,template:Fo.a});var To=n("Ide5"),qo=n.n(To),Uo=(n("5JnA"),function(e){function t(t,n,i,o,r){var a=e.call(this,n,i)||this;return a.$scope=t,a.hcDialog=n,a.timeout=i,a.dataService=o,a.element=r,a.client=window.client,a}return Object(d.d)(t,e),t.prototype.$onInit=function(){var e,t;return Object(d.c)(this,void 0,void 0,(function(){var n,i,o=this;return Object(d.e)(this,(function(r){return null===(e=this.boardCtrl)||void 0===e||e.componentRegister(this.key,this),n=this.context.id,i=this,this.dataService.callHcmOpenApi("recruit.get.apply.info",{id:n}).then((function(e){i.model=e.state,o.dataService.callHcmOpenApi("rec.get.process.node.by.state",{state:e.state}).then((function(e){var t,n;o.node_detail=angular.extend({},e.node_detail),o.node_list=oe()(t=[]).call(t,e.node_list),x()(n=o.node_list).call(n,(function(e,t){e.id===o.node_detail.id&&(o.node_detail.current_node_index=t+1)}))}))})),this.showStyle=null!==(t=this.options.showStyle)&&void 0!==t?t:"node",[2]}))}))},t.prototype.viewAllNodeList=function(){var e,t={theme:"light-theme",style:"center",operates:[{label:"确定",key:"close"}],client:this.client};this.hcDialog.timeLine(null!==(e=this.node_list)&&void 0!==e?e:[],this.node_detail,t)},t.prototype.$onRender=function(){return Object(d.c)(this,void 0,void 0,(function(){return Object(d.e)(this,(function(t){switch(t.label){case 0:return[4,e.prototype.$onRender.call(this)];case 1:return t.sent(),this.$onInit(),[2]}}))}))},t.$inject=["$scope","$hcDialog","$timeout","dataService","$element"],t}(p.a));R.a.component("hcRecruitProcessNodePanel",{bindings:{key:"<?",options:"<?",context:"<?"},require:{boardCtrl:"?^hcmBoard"},controller:Uo,template:qo.a});n("kOnF"),n("lFlx");window.app.directive("recruitDepartInfo",(function(){return{restrict:"EA",template:n("8JFS"),scope:{options:"=",context:"<?"},require:{boardCtrl:"?^hcmBoard"},link:function(e,t,n,i){var o;e.app_type=window.app_type,e.$onResize=function(){},null===(o=i.boardCtrl)||void 0===o||o.componentRegister(e.options.key,e)},controller:["$scope","dataService","contextService","$hcDialog","$filter","$rootScope",function(e,t,i,o,r,a){e.init=wo()(bo.a.mark((function e(){return bo.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s();case 2:c();case 3:case"end":return e.stop()}}),e)})));var s=function(){var n=wo()(bo.a.mark((function n(){var i;return bo.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.client=window.client,e.contract_unit=e.context.contract_unit,e.depart_id=e.context.depart_id,a.companyInfo){n.next=9;break}return n.next=6,t.callHcmOpenApi("recruit.get.company.info",{contract_unit:e.contract_unit});case 6:e.company_info=n.sent,n.next=10;break;case 9:e.company_info=angular.extend(a.companyInfo,{});case 10:return e.is_new=e.company_info.is_new_portal_type,n.next=13,t.callHcmOpenApi("recruit.portal.setting.get.portal.info.by.name",{setting_name:"RE_DOOR_SHOW_RECRUIT_DEPARTMENT",organ_id:e.contract_unit},null,!0);case 13:return i=n.sent,n.next=16,t.callHcmOpenApi("recruit.depart.get.depart.info",{depart_id:e.depart_id,contract_unit:e.contract_unit,is_tree_type:"tree"===i.portal_setting_info.content},null,!0);case 16:return e.departInfo=n.sent,e.logo_address="/img?type=image&index=no-company-logo",e.departInfo.logo&&""!==e.departInfo.logo&&(e.logo_address=e.is_new?r("hcZsbImage")(e.departInfo.logo,"80,80","company-logo"):r("hcImage")(e.departInfo.logo,"80,80","company-logo")),n.next=21,t.callHcmOpenApi("hcm.model.meta",{biz_type:"view",model:"RecruitmentVirtualModel",state:"portal_depart_info"});case 21:e.depart_meta=n.sent;case 22:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),c=function(){var t=[{value:0,label:"0-50"},{value:1,label:"50-150"},{value:2,label:"150-500"},{value:3,label:"500-1000"},{value:4,label:"1000-5000"},{value:5,label:"5000-10000"},{value:6,label:"10000人以上"}];e.departInfo.scale&&angular.isNumber(e.departInfo.scale)&&O()(t).call(t,(function(t){t.value===e.departInfo.scale&&(e.departInfo.scale=t.label)})),e.departInfo.descpt=e.departInfo.descpt?e.departInfo.descpt:e.departInfo.descript,e.depart_meta=e.depart_meta.extend[0].value};e.go_company=function(){o.getDialog({template:n("p0ch"),controller:["$scope",function(e){e.client=window.client,e.init=function(){e.departInfo=angular.extend({},e.params.depart_info),e.is_new=e.params.is_new,e.depart_meta=angular.extend({},e.params.depart_meta)}}]}).params({depart_meta:e.depart_meta,depart_info:e.departInfo,is_new:e.is_new}).size("bottom-dialog-90").title("公司详情").show()}}]}}));var zo=n("kXgk"),Wo=n.n(zo),Ho=(n("QR1J"),function(e){function t(t,n,i,o,r,a,s,c){var l=e.call(this,n,o,c)||this;return l.$scope=t,l.hcDialog=n,l.timeout=i,l.dataService=o,l.element=r,l.contextService=a,l.hcImageService=s,l.$rootScope=c,l.client=window.client,l}return Object(d.d)(t,e),t.prototype.$onInit=function(){var e,t,n,i,r;return Object(d.c)(this,void 0,void 0,(function(){return Object(d.e)(this,(function(a){var s;return null===(e=this.boardCtrl)||void 0===e||e.componentRegister(this.key,this),this.auth=this.contextService.getContext("auth"),this.hide_internal=null!==(n=null===(t=this.options)||void 0===t?void 0:t.hide_internal)&&void 0!==n&&n,this.hide_resume_type=null!==(r=null===(i=this.options)||void 0===i?void 0:i.hide_resume_type)&&void 0!==r&&r,this.resume_id="service"===window.app_type?this.auth.employee.id:this.auth.candidate.id,this.$scope.$ctrl=this,this.$scope.selectImg=o()(s=this.selectImg).call(s,this),this.getResumeInfo(this.resume_id),[2]}))}))},t.prototype.getResumeInfo=function(e){var t=this;"recruit"===window.app_type?this.dataService.callHcmOpenApi("recruit.get.basis.info",{resume_id:e}).then((function(e){t.resume_info=e,t.getDegree()})):this.dataService.callHcmOpenApi("rec.get.resume.by.employee",{employee_id:e}).then((function(e){var n;t.resume_info=null===(n=null==e?void 0:e.data)||void 0===n?void 0:n.basis,t.getDegree()}))},t.prototype.getDegree=function(){var e=this;this.dataService.callHcmOpenApi("rec.resume.integrity.portal.cal",{job_class:"service"===window.app_type?"内部招聘":null,job_id:null,contract_unit:null,resume_id:this.resume_info.id,is_update:!0}).then((function(t){e.percent=t.num;var n="rotate("+(e.percent<50?.01*e.percent*180*2-135:.01*(e.percent-50)*180*2-135)+"deg)";switch(!0){case 50===e.percent:$(".right-circle").css({transform:"rotate(45deg)"});break;case 100===e.percent:$(".circleProgress").css({transform:"rotate(45deg)"});break;case e.percent<50:$(".right-circle").css({transform:n}),$(".left-circle").css({transform:"rotate(-135deg)"});break;case e.percent>50:$(".left-circle").css({transform:n}),$(".right-circle").css({transform:"rotate(45deg)"})}"mobile"===window.client&&$(".top").css({width:e.percent+"%"})}))},t.prototype.selectImg=function(e){return Object(d.c)(this,void 0,void 0,(function(){var t;return Object(d.e)(this,(function(n){switch(n.label){case 0:return this.resume_info.is_locked?[3,2]:[4,this.hcImageService.uploadImg(e)];case 1:return t=n.sent(),this.resume_info.photo=t,this.dataService.callHcmOpenApi("hcm.model.edit",{model:"ResumeMgr",id_:this.resume_info.id,info:{photo:t}}),[3,3];case 2:this.$rootScope.show_warning("简历已被锁定，不允许修改"),n.label=3;case 3:return[2]}}))}))},t.prototype.$onRender=function(){return Object(d.c)(this,void 0,void 0,(function(){return Object(d.e)(this,(function(t){switch(t.label){case 0:return this.getResumeInfo(this.resume_id),[4,e.prototype.$onRender.call(this)];case 1:return t.sent(),[2]}}))}))},t.$inject=["$scope","$hcDialog","$timeout","dataService","$element","contextService","hcImageService","$rootScope"],t}(p.a));R.a.component("hcRecruitResumeCard",{bindings:{key:"<?",options:"<?",context:"<?"},require:{boardCtrl:"?^hcmBoard"},controller:Ho,template:Wo.a});var Ko=n("xlHU"),Vo=n.n(Ko),Go=n("0lTi"),Jo=n.n(Go),Yo=n("pNd2"),Xo=n.n(Yo),Qo=n("EmBB"),Zo=n.n(Qo),er=(n("fkU1"),n("B7QB"),n("v1R4")),tr=n.n(er);n("4Br7");app.controller("resumeMenuCtrl",["BaseCRUDService","$controller","$rootScope","$scope",function(e,t,n,i){i.init=function(){i.nav_items=i.params.data},i.chooseItems=function(e){i.$dialog.resolve_data(e),i.$dialog.dialog_close()}}]);var nr=function(e){function t(t,n,i,o,r,a,s,c){var l=e.call(this,i,n,o)||this;return l.$hcListBtn=t,l.dataService=n,l.hcDialog=i,l.$rootScope=o,l.$scope=r,l.$controller=a,l.baseCRUDService=s,l.$timeout=c,r.initBeforeAsync=function(){return Object(d.c)(l,void 0,void 0,(function(){var e,t,n;return Object(d.e)(this,(function(i){switch(i.label){case 0:return"recruit"!==window.app_type?[3,1]:(this.resume_id=this.$scope.auth.candidate.id,[3,3]);case 1:return[4,this.dataService.callHcmOpenApi("rec.get.resume.by.employee",{employee_id:this.$scope.auth.employee.id})];case 2:e=i.sent(),this.$scope.resume_info=null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.basis,this.resume_id=null===(n=null==e?void 0:e.data)||void 0===n?void 0:n.basis.id,i.label=3;case 3:return[2]}}))}))},l}return Object(d.d)(t,e),t.prototype.$onInit=function(){var t,n,i,o;return Object(d.c)(this,void 0,void 0,(function(){var r,a,s=this;return Object(d.e)(this,(function(c){switch(c.label){case 0:return[4,e.prototype.$onInit.call(this)];case 1:return c.sent(),r=this.baseCRUDService.getModelService(null===(t=this.options)||void 0===t?void 0:t.model),this.$controller(xn.a,{$scope:this.$scope,CRUDService:r,InfoDialog:Object(ge.a)(null===(n=this.options)||void 0===n?void 0:n.model)}),document.title=null!==(o=null===(i=this.options)||void 0===i?void 0:i.title)&&void 0!==o?o:"我的简历",this.client=this.$scope.client,a=this,this.$scope.init(),this.$scope.getMetaState=function(){var e;return(null===(e=a.options)||void 0===e?void 0:e.state)||null},this.$scope.lazyLoad=bn()((function(){var e,t=document.getElementsByClassName("resume-block");O()(e=Jo()(t)).call(e,(function(e,t){s.$scope.renderComponent(e,t)}))}),300),this.$scope.renderComponent=function(e,t){var n;s.$scope.isShow(e)&&(!Zt()(n=s.$scope.showComponentIndex).call(n,t)&&s.$scope.showComponentIndex.push(t))},this.$scope.isShow=function(e){var t,n,i,o=0;switch(k()(null===(t=s.$scope.base_config)||void 0===t?void 0:t.cacheRender)){case"number":o=null===(n=s.$scope.base_config)||void 0===n?void 0:n.cacheRender;break;case"boolean":(null===(i=s.$scope.base_config)||void 0===i?void 0:i.cacheRender)&&(o=2)}var r=window.innerHeight+500*o+20,a=e.getBoundingClientRect();return a.top<r&&a.bottom>0},this.$scope.goChild=function(e){var t=function(){var t=$(".resume-child")[e].offsetTop;s.$scope.current_nav=e,$(".resume-content-center").animate({scrollTop:t-64-26})};if(s.$scope.base_config.lazyLoad){var n=document.getElementsByClassName("resume-block");s.$scope.buildArr(n.length),s.$timeout((function(){t()}),300)}else t()},this.$scope.scrollToTop=function(){$(".user-profile-content").animate({scrollTop:0})},window.addEventListener("mousewheel",(function(){var e,t;if("pc"===a.client){for(var n=$(".resume-content-center").scrollTop(),i=[],o=document.getElementsByClassName("resume-child").length,r=0;r<o;r++)i.push(document.getElementsByClassName("resume-child")[r].offsetTop-90);i[0]=0,vn()(i).call(i,(function(e,t){return!(n>=e&&n<i[t+1])||(a.$scope.current_nav=t,!1)}))}else if("mobile"===a.$scope.client){try{for(var s=Object(d.i)($(".header-wrapper-btn")),c=s.next();!c.done;c=s.next()){var l=c.value;l.style.animation="btn-in 0.5s ease-in-out",l.style.right="20px",l.style.opacity=1}}catch(t){e={error:t}}finally{try{c&&!c.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}clearTimeout($.data(this,"timer")),$.data(this,"timer",we()((function(){var e,t;try{for(var n=Object(d.i)($(".header-wrapper-btn")),i=n.next();!i.done;i=n.next()){var o=i.value;o.style.right="-30px",o.style.animation="btn-out 0.5s ease-in-out",o.style.opacity=.6}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}}),600))}})),document.addEventListener("touchmove",(function(e){var t,n;if("mobile"===a.$scope.client){try{for(var i=Object(d.i)($(".header-wrapper-btn")),o=i.next();!o.done;o=i.next()){var r=o.value;r.style.animation="btn-in 0.5s ease-in-out",r.style.right="20px",r.style.opacity=1}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}clearTimeout($.data(this,"timer")),$.data(this,"timer",we()((function(){var e,t;try{for(var n=Object(d.i)($(".header-wrapper-btn")),i=n.next();!i.done;i=n.next()){var o=i.value;o.style.right="-30px",o.style.animation="btn-out 0.5s ease-in-out",o.style.opacity=.6}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}}),4e3))}}),!1),this.$scope.initAfter=function(){var e;x()(e=a.$scope.nav_items).call(e,(function(e){e.meta_state="resumeDetail_internal"}))},[2]}}))}))},t.prototype.buildArr=function(e){var t;this.$scope.showComponentIndex=Object(d.h)(Vo()(t=Array(e)).call(t))},t.prototype.$onRender=function(){return Object(d.c)(this,void 0,void 0,(function(){return Object(d.e)(this,(function(t){switch(t.label){case 0:return[4,e.prototype.$onRender.call(this)];case 1:return t.sent(),[2]}}))}))},t.prototype.scrollToTop=function(){$(".resume-content").animate({scrollTop:0})},t.prototype.showMenu=function(){var e=this;this.hcDialog.getDialog({controller:"resumeMenuCtrl",template:tr.a,name:"resume-menu",maskClose:!0}).params({data:this.$scope.nav_items}).size("large").slideInConfig("left",!1).show().then((function(t){var n=function(){var e=$(".resume-child")[t].offsetTop;$(".resume-content").animate({scrollTop:e-16})};if(e.$scope.base_config.lazyLoad){var i=document.getElementsByClassName("resume-block");e.$scope.buildArr(i.length),e.$timeout((function(){n()}),300)}else n()}))},t.$inject=["$hcListBtn","dataService","$hcDialog","$rootScope","$scope","$controller","BaseCRUDService","$timeout"],t}(p.a);R.a.component("hcRecruitResumeContent",{bindings:{key:"<?",options:"<?",context:"<?"},require:{boardCtrl:"?^hcmBoard"},controller:nr,template:"pc"===window.client?Xo.a:Zo.a});n("srGB");var ir=n("0Xdj");R.a.directive("resumeBase",[function(){return{restrict:"EA",template:n("Nwb5"),scope:{childModel:"=",resumeId:"="},controller:["$scope","$state","$rootScope","$hcDialog","$controller","contextService","BaseCRUDService",function(e,t,n,i,o,r,a){var s=a.getModelService(e.childModel.model),c=e.childModel.meta_state||t.params.meta_state,l=null;o(ir.a,{$scope:e,CRUDService:s,InfoDialog:Object(ge.a)(e.childModel.model,c)}),e.meta_state=c,e.setTitle=function(){},e.initBefore=function(){e.title_tip=e.childModel.tip},e.metaLoaded=function(){"pc"===e.client?e.view_btn_model.$setShowMax(3):e.view_btn_model.$setShowMax(2)},e.getItemID=function(){return e.resumeId},e.fetchDataSuccess=function(){null!==l&&e.$parent.$parent.$ctrl.boardCtrl.refreshComponent("resume_card"),l=!0}}]}}]);var or=n("9DwR");R.a.directive("resumeMulti",[function(){return{restrict:"EA",template:n("BUII"),scope:{childModel:"=",resumeId:"="},controller:["$scope","$state","$rootScope","$hcDialog","$controller","$hcDialog","contextService","BaseCRUDService","$filter",function(e,t,n,i,o,r,a,s,c){var l=s.getModelService(e.childModel.model),u=e.childModel.meta_state||t.params.meta_state||e.role,d=null;o(or.a,{$scope:e,CRUDService:l,InfoDialog:Object(ge.a)(e.childModel.model,u)}),e.page_size=999,e.meta_state=u,e.setTitle=function(){},e.initBefore=function(){e.group_fold=e.childModel.default_fold},e.metaLoaded=function(t){var n,i;(null==t||null===(n=t.list_config)||void 0===n||null===(i=n.detail_meta)||void 0===i?void 0:i.hide_title)||(e.desc=e.childModel.label),e.list_btn_model.$setShowMax(3)},e.getFilterDict=function(){var t={};return t.resume_id=e.resumeId,t},e.initAfter=function(){e.list_btn_model.max=3,e.has_wf_submit_flag=!1},e.defaultAction=function(t){var n,i=ae()(n=e.list_btn_model.actions).call(n,(function(e){return e.default}));i.length>0&&e.parseAction(i[0],t)},e.foldClick=function(){return e.group_fold=!e.group_fold},e.fetchDataSuccess=function(){null!==d&&e.$parent.$parent.$ctrl.boardCtrl.refreshComponent("resume_card"),d=!0}}]}}]);var rr=n("YvK2");R.a.directive("resumeSingle",[function(){return{restrict:"EA",template:n("Nwb5"),scope:{childModel:"=",resumeId:"="},controller:["$scope","$state","$rootScope","$hcDialog","$controller","contextService","BaseCRUDService","$filter",function(e,t,n,i,o,r,a,s){var c=a.getModelService(e.childModel.model),l=e.childModel.meta_state||t.params.meta_state||e.role,u=null;o(rr.a,{$scope:e,CRUDService:c,InfoDialog:Object(ge.a)(e.childModel.model,l)}),e.meta_state=l,e.setTitle=function(){},e.initBefore=function(){e.title_tip=e.childModel.tip},e.getFilterDict=function(){var t={};return t.resume_id=e.resumeId,t},e.metaLoaded=function(){e.has_wf_submit_flag=!1,"pc"===e.client?e.view_btn_model.$setShowMax(3):e.view_btn_model.$setShowMax(2)},e.fetchDataSuccess=function(){null!==u&&e.$parent.$parent.$ctrl.boardCtrl.refreshComponent("resume_card"),u=!0}}]}}]);n("+H/w"),n("0k85"),n("g0BH");var ar=n("mshF");window.app.directive("homeWidgetRisingChannel",[function(){return{restrict:"EA",template:n("R6vt"),scope:{options:"=",getItemId:"="},require:{boardCtrl:"?^hcmBoard"},link:function(e,t,n,i){var o,r;null===(o=i.boardCtrl)||void 0===o||o.componentRegister(null===(r=e.options)||void 0===r?void 0:r.key,e)},controller:["$scope","$state","$rootScope","$hcDialog","risingChannelService","contextService","$q","dataService",function(e,t,n,i,o,r,a,s){e.init=function(){e.getData(),e.getTabList()},e.getData=function(){o.promotionGrade(c()).then((function(t){e.total_data=t,x()(t).call(t,(function(t,n){"current"===t.type&&(e.current_index=n)})),t.length>=3&&e.current_index>0?e.simple_data=[t[e.current_index-1],t[e.current_index],t[e.current_index+1]]:t.length>=3&&0===e.current_index?e.simple_data=[t[0],t[1],t[2]]:t.length<3&&(e.simple_data=t),e.channel_model={data:e.simple_data}}))},e.getTabList=function(){e.auth_job=r.getContext("auth").jobs[0],e.job_step_id=e.auth_job.job_step_id,e.position_id=e.auth_job.position_id,s.callHcmOpenApi("hcm.model.list",{filter_dict:{employee_id:c(),on_job:1,position_type:1},model:"JobInformationMaster",extra_property:{state:"channel"}}).then((function(t){var n,i,o,r,a=t.list;e.tab_list=[null===(n=a[0])||void 0===n||null===(i=n.position)||void 0===i||null===(o=i.position_type)||void 0===o?void 0:o.name,null===(r=a[0])||void 0===r?void 0:r.position_sequence.name]}))},e.showTotalChannel=function(){ar.a.getCustomDialogCtrl("ringChannelDialogCtrl").then((function(t){i.getDialog(t).params({total_data:e.total_data,employee_id:c()}).size("large").show().then((function(e){}))}))};var c=function(){return e.getItemId&&e.getItemId()||t.params.employee_id||e.options.employee_id}}]}}]);n("sbDh");window.app.service("EmpChangeService",["dataService",function(e){return{getEmpInPosition:function(t){return e.callHcmOpenApi("emp.jobinformation.get.by.position",{position_id:t})}}}]);window.app.directive("homeWidgetEmpChange",[function(){return{restrict:"EA",template:n("Tm5i"),scope:{options:"="},require:{boardCtrl:"?^hcmBoard"},link:function(e,t,n,i){var o;null===(o=i.boardCtrl)||void 0===o||o.componentRegister(e.options.key,e)},controller:["$scope","$state","$rootScope","$hcDialog","EmpChangeService","contextService","$q","dataService",function(e,t,n,i,o,r,a,s){e.init=function(){e.position_id=t.params.position_id||e.options.position_id,e.getData()},e.getData=function(){o.getEmpInPosition(e.position_id).then((function(t){e.channel_model={data:t}}))}}]}}]);n("vIIC");window.app.directive("homeWidgetWordCloud",[function(){return{restrict:"EA",template:n("pgN0"),scope:{options:"="},controller:["$scope","dataService","$state",function(e,t,n){e.init=wo()(bo.a.mark((function i(){var o,r;return bo.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,t.callHcmOpenApi("emp.tag.get.work.cloud",{employee_id:n.params.employee_id,picture_index:null===(o=e.options)||void 0===o?void 0:o.background_img});case 2:r=i.sent,e.img=r.img;case 4:case"end":return i.stop()}}),i)})))}]}}]);n("9oQC");window.app.directive("homeWidgetEmpViewCard",[function(){return{restrict:"EA",template:n("AjBl"),scope:{options:"="},require:{boardCtrl:"?^hcmBoard"},controller:[function(){}],link:function(e,t,n,i){var o;null===(o=i.boardCtrl)||void 0===o||o.componentRegister(e.options.key,e)}}}]),window.app.directive("homeWidgetEmpViewCardPc",[function(){return{restrict:"EA",template:n("K8HG"),scope:{options:"="},controller:["$scope","$state","$rootScope","$hcDialog","$controller","contextService","BaseCRUDService","dataService","$filter","weChatService",function(e,t,n,i,o,r,a,s,c,l){var u=a.getModelService("Employee");o(ir.a,{$scope:e,CRUDService:u,InfoDialog:Object(ge.a)("Employee")}),e.setTitle=function(e){},e.getMetaState=function(){var t;return(null===(t=e.options)||void 0===t?void 0:t.state)||"homeEmpViewCard"},e.getItemID=function(){var n;return e.options.employee_id||(null===(n=t.params)||void 0===n?void 0:n.employee_id)||e.auth.employee.id},e.initAfter=function(){var t,n;e.view_btn_model.$setShowMax(3),e.extendModel={},x()(t=e.view_model.viewMeta.extend).call(t,(function(t){e.extendModel[t.key]=t.value})),x()(n=e.view_meta).call(n,(function(e){return e.width="col-12"})),e.view_model.$setMeta(e.view_meta,e.view_groups||null)},e.individualParse=function(e){var t;return x()(t=e.fields).call(t,(function(e){if("photo"===e.key){var t=e.options.photo_size.split(",");switch(window.screen.width){case 1680:t[0]=vo()(1.25*t[0]),t[1]=vo()(1.25*t[1]);break;case 1920:t[0]=vo()(1.5*t[0]),t[1]=vo()(1.5*t[1])}e.options.photo_size=t[0]+","+t[1]}})),e},e.wxShare=function(){var t,n,i;l.setShareOption((null===(t=e.base_model)||void 0===t?void 0:t.data.name)+" 的卡片","部门："+(null===(n=e.base_model.data)||void 0===n?void 0:n.department)+"\n\n来自HCM Cloud",null,c("hcPhoto")(null===(i=e.base_model)||void 0===i?void 0:i.data.photo,"200,200"))},e.newArticle=function(){var i;e.$emit("article-new",{to_employee:(null===(i=t.params)||void 0===i?void 0:i.employee_id)||e.auth.employee.id,callback:function(e){n.super_go("feed",{biz_id:e.feed.biz_id})}})},e.showNameCard=function(){n.super_go("calling_card",{id:e.getItemID()})},e.showNameCard=function(){n.super_go("user_profile",{id:e.getItemID()})}}]}}]),window.app.directive("homeWidgetEmpViewCardMobile",[function(){return{restrict:"EA",template:n("lpDn"),scope:{options:"="},controller:["$scope","$state","$rootScope","$hcDialog","$controller","contextService","BaseCRUDService","dataService",function(e,t,n,i,o,r,a,s){var c=a.getModelService("Employee");o(or.a,{$scope:e,CRUDService:c,InfoDialog:Object(ge.a)("Employee")}),e.setTitle=function(e){},e.getFilterDict=function(){var n;return{id:e.options.employee_id||(null===(n=t.params)||void 0===n?void 0:n.employee_id)||e.auth.employee.id}},e.getMetaState=function(){var t;return(null===(t=e.options)||void 0===t?void 0:t.state)||"homeEmpViewCard"}}]}}]);n("XNyo"),n("H3Dw"),t.default={}},IHfz:function(e){e.exports=JSON.parse('{"tip":"","fields":[{"key":"title","label":"标题","component":"hc-input","options":{"singleLine":true,"width":"col-12","placeholder":"请输入标题","required":false}},{"key":"operates","label":"操作定义","component":"hc-input-json","options":{"data_type":"JSON","singleLine":true,"mode":"json"}},{"key":"description","label":"描述","component":"hc-text-area","options":{"singleLine":true,"width":"col-12","placeholder":"请输入描述","required":false}},{"key":"position","label":"定位","component":"hc-input","options":{"singleLine":true,"width":"col-12","placeholder":"请输入定位","required":false}},{"key":"m_position","label":"移动定位","component":"hc-input","options":{"singleLine":true,"width":"col-12","placeholder":"请输入移动定位","required":false}},{"key":"scale","label":"缩放比例","component":"hc-input-number","options":{"singleLine":true,"width":"col-12","required":false,"max":1,"min":0.1,"step":0.1,"defaultValue":1}},{"key":"extend_key","label":"对应的扩展参数key值","component":"hc-input-script","options":{"singleLine":true,"mode":"json","width":"col-12","placeholder":"请输入对应的扩展key值","required":false}},{"key":"board_background_image","label":"仪表板背景图片","component":"hc-input-upload-multiple","options":{"type":"img","length":1,"file_type":["jpeg"],"src_type":"img","upload_img":true}},{"key":"board_background_style","label":"仪表板背景样式","component":"hc-input-json","options":{"singleLine":true,"width":"col-12","placeholder":"请设置背景样式"}},{"key":"theme_border_bg","label":"主题模式下是否需要边框背景图","component":"hc-input-radio","options":{"tip":"","singleLine":false,"default":true,"list":[{"name":"是","value":true},{"name":"否","value":false}],"items_inline":true}},{"key":"theme_board_bg","label":"主题模式下的背景图片路径","component":"hc-input","options":{"tip":"数据源view及计数组件默认背景图url路径为/static/resources/images/tech/board_bg.png","singleLine":false,"placeholder":"请输入背景图片对应的url路径，例如/img?index=(背景图对应的index值)"}},{"key":"options","component":"hc-input","options":{"hide":true},"xss_ignore":true}],"groups":[{"label":"标题相关","key":"board_component","default_fold":false,"field_list":["title","operates"]},{"label":"组件相关","key":"board_component","default_fold":true,"field_list":["description","position","m_position","scale","extend_key","board_background_image","board_background_style"]},{"label":"主题设置相关","key":"theme_setting","default_fold":true,"field_list":["theme_border_bg","theme_board_bg"]}]}')},ITDg:function(e){e.exports=JSON.parse('{"tip":"","fields":[{"key":"employee_id","label":"数据id","component":"hc-input","options":{"singleLine":true,"width":"col-12","placeholder":"请输入数据id","required":false,"refer_data":[{"label":"可选变量"}]}}]}')},Ide5:function(e,t){e.exports='<div class="recruit-process-list-component">\n    \x3c!--节点模式--\x3e\n    <div class="process-show-style-node" ng-show="$ctrl.showStyle == \'node\' && $ctrl.client == \'mobile\'">\n        <div class="left-area">\n            <div class="node-line">\n                <div class="node-left"><span class="icon-hcm-right"></span></div>\n                <div class="left-line"></div>\n                <div class="node-center">{{$ctrl.node_detail.current_node_index}}</div>\n                <div class="center-line"></div>\n                <div class="right-line"></div>\n                <div class="node-right">\n                    <div class="circle"></div>\n                </div>\n            </div>\n            <div class="node-name">{{$ctrl.node_detail.name}}</div>\n        </div>\n        <div class="right-area" ng-click="$ctrl.viewAllNodeList()">\n            <span>共</span><span class="total-node-number">{{$ctrl.node_list.length}}</span><span>阶段</span>\n        </div>\n    </div>\n    \x3c!--线状模式--\x3e\n    <div class="process-show-style-line" ng-show="$ctrl.showStyle == \'line\'">\n        <div class="node-item" ng-repeat="node in $ctrl.node_list track by $index"\n             ng-class="{\'current-state\': $ctrl.model === node.id}">\n            <span class="node-name">{{node.name}}</span>\n            <span class="middle-line" ng-if="$index !== $ctrl.node_list.length - 1">—</span>\n        </div>\n    </div>\n    \x3c!--最新版本PC端--\x3e\n    <div class="process-new-node-style" ng-show="$ctrl.showStyle == \'node\' && $ctrl.client == \'pc\'">\n        <div class="top-area">\n            <div class="new-node"\n                 ng-class="{\'new-node-three\': $ctrl.node_list.length == 3, \'new-node-four\': $ctrl.node_list.length == 4, \'new-node-five\':$ctrl.node_list.length >= 5}"\n                 ng-repeat="node in $ctrl.node_list track by $index">\n                <div class="node"\n                     ng-class="{\'future\': $ctrl.node_detail.current_node_index-1 <= $index,\n                                \'end\': ($index+1)%5 == 0 || $index+1 == $ctrl.node_list.length}">\n\n                    \x3c!--                    <div class="apply-time" ng-if="$index == 0">{{$ctrl.apply_info.apply_date.slice(0, 10)}}</div>--\x3e\n                    \x3c!--                    <div class="apply-time" ng-if="$index != 0"></div>--\x3e\n                    <div\n                        ng-class="{\'passed-node\':$ctrl.node_detail.current_node_index-1 > $index, \'current-node\':$ctrl.node_detail.current_node_index-1 == $index, \'future-node\': $ctrl.node_detail.current_node_index-1 < $index}">\n                        <span class="icon icon-hcm-right"\n                              ng-if="$ctrl.node_detail.current_node_index-1 > $index"></span>\n                        <span class="core" ng-if="$ctrl.node_detail.current_node_index-1 < $index"></span>\n                    </div>\n                    <div class="node-name"\n                         ng-class="{\'current-node-name\':$ctrl.node_detail.current_node_index-1 == $index}">{{node.name}}</div>\n                </div>\n            </div>\n        </div>\n        <div class="bottom-area">\n            <div><span>共</span><span class="total-node-number">{{$ctrl.node_list.length}}</span><span>阶段</span></div>\n        </div>\n    </div>\n</div>\n'},Im7n:function(e,t){e.exports='<div ng-init="init()" class="hcm-nav-content">\n    <div class="hcm-nav full-height">\n        <div class="hcm-nav-fixed">\n            <hc-dataset model="dataset_model"></hc-dataset>\n        </div>\n    </div>\n\n    <div class="hcm-content">\n        <div class="hcm-hc-list-container">\n            <hc-config-list model="config_model"></hc-config-list>\n        </div>\n    </div>\n</div>'},J20j:function(e){e.exports=JSON.parse('{"tip":"","fields":[{"key":"advance_plan_id","label":"过滤方案","component":"hc-super-selector","options":{"required":true}},{"key":"label","label":"统计标题","component":"hc-input","options":{"placeholder":"统计标题","required":true,"hover":false,"data_type":"string"}},{"key":"type","label":"统计方式","component":"hc-super-selector","options":{"list":[{"value":"count","label":"计数"},{"value":"sum","label":"合计"},{"value":"distinct_count","label":"去重计数"},{"value":"avg","label":"平均数"}]}},{"key":"field","label":"选择字段","component":"hc-super-selector","options":{"readOnly":true}}]}')},JzNJ:function(e,t){e.exports='<div ng-init="$ctrl.$onInit()" class="board-setting-dialog">\n    <div class="setting-area">\n        <hc-form model="$ctrl.form_model"></hc-form>\n        <div class="setting-panel"></div>\n        <div class="extra-panel"></div>\n    </div>\n\n    <div class="preview-area">\n        <div ng-if="!$ctrl.preview_model" class="valid-tip">\n            <hc-svg options="{icon:\'hcm-no-content\'}" class="no-data-svg"></hc-svg>\n            请完善插件配置信息\n        </div>\n        <div ng-if="$ctrl.validate_update" class="valid-update">\n            检测到图形配置变化, 点击<span ng-click="$ctrl.refreshPreviewModelVersion($event)" class="valid-update-btn">刷新</span>\n        </div>\n        <portal-chart\n            ng-if="!!$ctrl.preview_model"\n            model=\'$ctrl.preview_model\'\n        ></portal-chart>\n    </div>\n</div>\n\n'},K8HG:function(e,t){e.exports='<div class="home-widget-emp-view-card-info" ng-init="init()" ng-if="client===\'pc\'">\n    <div class="profile-info-content">\n        <div class="photo" ng-if="view_meta_object.photo">\n            <hc-primary-photo options="view_meta_object.photo.options" ng-model="view_model.data.photo"\n                              class="hc_primary_photo_body"></hc-primary-photo>\n        </div>\n        <div class="desc">\n            <div class="name">{{view_model.data.name}}</div>\n            <div class="extend">\n                <div class="extend-item {{(view_meta_object[item_].options||{}).color}}"\n                     ng-repeat="item_ in extendModel.show_fields.list">\n                <span\n                    ng-bind-html="view_model.data|hcListCellData:view_meta_object[item_]|infoDefault|toTrusted"></span>\n                    <span class="hcm-tip" ng-if="(view_meta_object[item_].options||{}).tip">\n                        <span class="tip icon icon-hcm-question"></span>\n                        <span class="tip-detail">{{(view_meta_object[item_].options.tip|valueToFunc)()}}</span>\n                </span>\n                </div>\n            </div>\n        </div>\n        <div class="user-profile-btn">\n            <hc-circlet-btn model="view_btn_model" is-fix=true class="view_btn_model_mobile"></hc-circlet-btn>\n        </div>\n        <div class="hcm-content-body">\n            <div class="hcm-content-title">{{model_meta.description}}</div>\n            <hc-view model="view_model"></hc-view>\n        </div>\n        <div class="user-profile-sign" ng-if="!extendModel.show_sign.hide">\n            <span class="text">{{emp_slogan}}</span>\n            <span class="icon icon-hcm-edit" ng-click="editSlogan()"></span>\n        </div>\n    </div>\n</div>\n'},KDs0:function(e,t){e.exports='<div class="new-inner-resume-content-view rec-worktable-view apply-view" ng-init="init()">\n    <div class="body rec-resume-preview" ng-if="resume_info">\n        <div class="rec-main-info">\n            <span class="icon-user-move rebuild-resume" ng-if="is_locked" ng-click="rebuild_resume()">初始化简历</span>\n            <div class="photo-block">\n                <img ng-if="resume_info.basis.photo"\n                     ng-src="{{ (resume_info.basis.photo||\'\') | hcPhoto:\'120,120\'}}">\n                <div ng-if="!resume_info.basis.photo" class="resume-head"\n                     ng-class="{1:\'boy\',2:\'girl\',3:\'boy\'}[resume_info.basis.gender]">\n                    {{ resume_info.basis.name.substring(0,1) }}\n                </div>\n            </div>\n            <div class="rec-resume-detail-childs">\n                <div class="rec-resume-detail-child" ng-repeat="_item in resumeBaseMetaList track by $index"\n                     ng-if="!_item.hide">\n                    <rec-base-info ng-if="_item[\'view\']===\'base\'" model_detail="_item"\n                                   show_bar="false"\n                                   resume_id="resume_id" contract_unit="contract_unit"></rec-base-info>\n                    <rec-single-info ng-if="_item[\'view\']===\'single\'" model_detail="_item"\n                                     show_bar="false"\n                                     resume_id="resume_id"\n                                     contract_unit="contract_unit"></rec-single-info>\n                    <rec-multi-info ng-if="_item[\'view\']===\'multi\'" model_detail="_item"\n                                    resume_id="resume_id"\n                                    contract_unit="contract_unit"></rec-multi-info>\n                    <rec-attachment-info ng-if="_item[\'view\']===\'attachment\'" model_detail="_item"\n                                         resume_id="resume_id"\n                                         contract_unit="contract_unit"></rec-attachment-info>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n\n'},KLJy:function(e){e.exports=JSON.parse('{"tip":"","fields":[{"key":"data","label":"数据定义","component":"hc-input-mask","options":{"tip":"在此处定义需要使用的数据源","singleLine":true,"width":"col-12","placeholder":"请输入标识","required":false}},{"key":"viewConfig","label":"viewConfig配置","component":"hc-input-json","xss_ignore":true,"options":{"tip":"在此处定义列表配置，即view_config","singleLine":true,"width":"col-12","placeholder":"请输入","required":false}},{"key":"groups","label":"groups配置","component":"hc-input-json","xss_ignore":true,"options":{"tip":"在此处定义列表配置，即groups","singleLine":true,"width":"col-12","placeholder":"请输入","required":false}},{"key":"hooks","label":"hooks配置","component":"hc-input-json","xss_ignore":true,"options":{"tip":"在此处定义元数据hooks配置","singleLine":true,"width":"col-12","placeholder":"请输入","required":false}},{"key":"fields","label":"fields配置","component":"hc-input-json","xss_ignore":true,"options":{"tip":"在此处定义列表配置，即fields","singleLine":true,"width":"col-12","placeholder":"请输入","required":false}},{"key":"require","label":"刷新依赖","component":"hc-input-script","options":{"singleLine":true,"mode":"json","width":"col-12","placeholder":"请输入过滤条件","required":false}}]}')},L4uP:function(e,t){e.exports='<div ng-init="init()" class="hcm-nav-content">\n    <div class="hcm-nav full-height">\n        <div class="hcm-nav-fixed">\n            <hc-dataset model="dataset_model"></hc-dataset>\n        </div>\n    </div>\n\n    <div class="hcm-content">\n        <div class="hcm-hc-list-container">\n            <hc-config-list model="config_model"></hc-config-list>\n        </div>\n    </div>\n</div>\n'},LQlJ:function(e,t){e.exports='<div class="hc-board-data-card-title" ng-if="$ctrl.data.tip">{{$ctrl.data.tip}}</div>\n<div class="hc-board-data-card-data" ng-click="$ctrl.drillDown()">\n    <div>{{$ctrl.data.data}}</div>\n</div>\n\n'},Ldnt:function(e,t){e.exports='<div ng-init="init()"\n     ng-class="{\'data-view-pc\': $ctrl.$scope.client==\'pc\', \'data-view-mobile\': $ctrl.$scope.client==\'mobile\'}">\n    <hc-circlet-btn class="btn-circlet" model="$ctrl.$scope.view_btn_model" is-fix=true\n                    ng-if="$ctrl.$scope.model_meta.view_config.isBtnShow"></hc-circlet-btn>\n    <hc-view model="$ctrl.$scope.view_model"></hc-view>\n</div>\n'},MoVH:function(e,t){e.exports='<div class="swiper-container">\n    <div class="swiper-wrapper">\n        <div class="swiper-slide" ng-repeat="_src in $ctrl.model track by $index">\n            <img ng-src="{{_src.index}}" ng-click="imgClick(null, 0)">\n            <span class="description" ng-if="_src.description">{{_src.description}}</span>\n        </div>\n    </div>\n    <div class="swiper-pagination"></div>\n    <div class="swiper-button-next" ng-if="$ctrl.parsedOptions.use_navigation"></div>\n    <div class="swiper-button-prev" ng-if="$ctrl.parsedOptions.use_navigation"></div>\n</div>'},NJpK:function(e){e.exports=JSON.parse('{"tip":"","fields":[{"key":"data","label":"数据定义","component":"hc-input-mask","options":{"tip":"在此处定义图形需要使用的数据源","singleLine":true,"width":"col-12","placeholder":"请输入标识","required":false}},{"key":"componentOptions","label":"自定义组件参数","component":"hc-input-json","options":{"data_type":"JSON","singleLine":true}},{"key":"drill","label":"穿透定义","component":"hc-input-script","options":{"singleLine":true,"mode":"json","width":"col-12","placeholder":"请输入穿透定义","required":false}},{"key":"maxLength","label":"返回条数","component":"hc-input","options":{"singleLine":true,"width":"col-12","placeholder":"请选择分页，默认20条","required":false}}]}')},NR7K:function(e,t){e.exports='<div ng-init="init()" class="hcm-nav-content">\n    <div class="hcm-nav full-height">\n        <div class="hcm-nav-fixed">\n            <hc-dataset model="dataset_model"></hc-dataset>\n        </div>\n    </div>\n\n    <div class="hcm-content">\n        <div class="hcm-hc-list-container">\n            <hc-config-list model="config_model" ng-if="config_model"></hc-config-list>\n        </div>\n    </div>\n</div>'},Nwb5:function(e,t){e.exports='<div class="resume-single-content" ng-init="init()">\n    <div ng-if="client==\'pc\'">\n        <div class="resume-block-title"><span\n            class="arrow"\n            ng-class="{\n                        \'icon-hcm-arrow-down-solid\': !group.fold,\n                        \'icon-hcm-arrow-right-solid\': group.fold\n                     }"\n            ng-click="group.fold = !group.fold"\n            ng-init="group.fold = childModel.default_fold"></span>{{childModel.label}}\n            <span ng-if="childModel.tip" class="tip icon icon-hcm-question"\n                  hc-title="{{childModel.tip}}"\n                  options="{\'mode\': \'tip\',\'seconds\': 0, \'direction\': \'column\', \'mobile\': true}">\n                </span>\n            <hc-list-btn model="view_btn_model" class="view_btn_model_mobile"></hc-list-btn>\n        </div>\n        <div class="resume-block-content" ng-style="{\'display\':group.fold?\'none\':\'block\'}">\n            <hc-view model="view_model" class="view_model"></hc-view>\n        </div>\n    </div>\n    <div ng-if="client==\'mobile\'" class="mobile">\n        <div class="resume-block-content title-mobile">\n            <div class="resume-block-title"><span\n                class="mobile-arrow"\n                ng-class="{\n                        \'icon-hcm-arrow-down-solid\': !group.fold,\n                        \'icon-hcm-arrow-right-solid\': group.fold\n                     }"\n                ng-click="group.fold = !group.fold"\n                ng-init="group.fold = childModel.default_fold"></span>\n                <span>{{childModel.label}}</span>\n                <span ng-if="childModel.tip" class="tip icon icon-hcm-question"\n                      hc-title="{{childModel.tip}}"\n                      options="{\'mode\': \'tip\',\'seconds\': 0, \'direction\': \'column\', \'mobile\': true}">\n                </span>\n                <hc-list-btn model="view_btn_model" class="view_btn_model_mobile"></hc-list-btn>\n            </div>\n        </div>\n        <div class="resume-block-content" ng-style="{\'display\':group.fold?\'none\':\'block\'}">\n            <hc-view model="view_model" class="view_model_mobile"></hc-view>\n        </div>\n    </div>\n</div>\n'},O6hi:function(e){e.exports=JSON.parse('{"tip":"","fields":[{"key":"employee_id","label":"数据id","component":"hc-input","options":{"singleLine":true,"width":"col-12","placeholder":"请输入数据id","required":false,"refer_data":[{"label":"可选变量"}]}}]}')},PwKs:function(e,t){e.exports='<hc-login params="$ctrl.login_options" ng-if="$ctrl.login_options"></hc-login>'},QBkC:function(e,t){e.exports='\n<div class="kai_video">\n    \x3c!-- ai面试视频   --\x3e\n    <div class="ai-video-content" ng-repeat="video in $ctrl.ai_interview_video_list"\n         ng-if="video.question_id === $ctrl.current_video">\n\x3c!--        <video class="video" ng-if="!video.screen_pic_show_state" ng-src="{{video.video_url}}" controls="controls" autoplay preload>--\x3e\n\x3c!--        </video>--\x3e\n        <video class="video" ng-if="!video.screen_pic_show_state" ng-src="http://1251419987.vod2.myqcloud.com/02d154b1vodcq1251419987/998636f2387702305699042255/f0.mp4" controls="controls" autoplay preload>\n        </video>\n        <img ng-if="video.screen_pic_show_state" class="video" alt="应聘者作答过程中截屏照片" ng-src="{{$ctrl.screen_shot_index_full}}">\n    </div>\n    \x3c!-- ai面试题目   --\x3e\n    <div class="ai-question-list-nav" ng-if="$ctrl.client !==\'mobile\'">\n        <div class="ai-question-list">\n            <ul>\n                <li ng-repeat="question in $ctrl.questions track by $index" ng-class="{\'has_choose\': question.question_id === $ctrl.current_video}"\n                    ng-click="$ctrl.choose_question(question.question_id, $index)">{{question.question_content}}</li>\n            </ul>\n        </div>\n        <div class="video-text" ng-if="$ctrl.ai_interview_video_list[$ctrl.current_video_index].answer_content">\n            <div class="video-answer">\n                {{"回答内容：" + $ctrl.ai_interview_video_list[$ctrl.current_video_index].answer_content}}\n            </div>\n        </div>\n    </div>\n\n    <div class="ai-question-list-nav-mobile" ng-if="$ctrl.client === \'mobile\'">\n        <div class="extend-bar" ng-click="$ctrl.extend_content()">\n            <span ng-if="!$ctrl.extend_bar" class="icon-hcm-arrow-left-double"></span>\n            <span ng-if="$ctrl.extend_bar" class="icon-hcm-arrow-right-double"></span>\n        </div>\n        <div class="list-content" ng-if="$ctrl.extend_bar">\n            <div class="ai-question-list">\n                <ul>\n                    <li ng-repeat="question in $ctrl.questions track by $index" ng-class="{\'has_choose\': question.question_id === $ctrl.current_video}"\n                        ng-click="$ctrl.choose_question(question.question_id, $index)">{{question.question_content}}</li>\n                </ul>\n            </div>\n\x3c!--            <div id="resize-bar" ng-click="resize_text_content($event)">--\x3e\n\x3c!--                <div class="resize-bar"></div>--\x3e\n\x3c!--            </div>--\x3e\n            <div class="video-text" ng-if="$ctrl.ai_interview_video_list[$ctrl.current_video_index].answer_content">\n\n                <div class="video-answer">\n                    {{"回答内容：" + $ctrl.ai_interview_video_list[$ctrl.current_video_index].answer_content}}\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n\n'},R6vt:function(e,t){e.exports='<div class="home-widget-rising-channel" ng-init="init()">\n    <div class="body">\n        <div class="content" ng-if="channel_model">\n            <hc-time-line-horizontal ng-model="channel_model" ng-if="channel_model"></hc-time-line-horizontal>\n            <div class="operate">\n                <button ng-click="showTotalChannel()">查看任职资格</button>\n            </div>\n        </div>\n        <div class="tab-content">\n            <div class="tab_list">\n                <div class="tab" ng-repeat="v_ in tab_list">{{v_}}</div>\n            </div>\n        </div>\n    </div>\n</div>\n'},RYFT:function(e){e.exports=JSON.parse('{"fields":[{"key":"data","label":"数据定义","component":"hc-input-mask","options":{"tip":"在此处定义数据源","singleLine":false,"width":"col-12","placeholder":"请设置数据源","required":false}},{"key":"options","label":"参数定义","component":"hc-input-script","options":{"singleLine":true,"mode":"json","width":"col-12","placeholder":"请设置树图相关参数","required":false}},{"key":"card_meta","label":"弹性模版meta定义","component":"hc-input-json","options":{"singleLine":true,"width":"col-12","placeholder":"请配置弹性模版meta","required":false}},{"key":"fields","label":"弹性模版fields定义","component":"hc-input-json","options":{"singleLine":true,"width":"col-12","placeholder":"请配置弹性模版取数fields","required":false}}]}')},ReWo:function(e,t){e.exports='<div class="home-widget">\n    <div class="home-widget-body">\n        <hc-count options="$ctrl.options"></count>\n    </div>\n</div>'},RvvD:function(e,t,n){"use strict";n("07d7"),n("5s+n"),n("p532");var i=n("LYCE"),o=n.n(i),r=n("HnXd"),a=n.n(r),s=n("qjzJ"),c=n.n(s),l=n("RXMP"),u=n.n(l),d=n("fHi0"),p=n.n(d),h=n("OWCx"),f=n.n(h),_=n("+oHS"),m=n.n(_),v=n("o+MX"),g=n.n(v),b=n("FLGM"),y=n.n(b),w=n("5PDf"),x=n.n(w),S=n("04Ix"),k=n.n(S),$=n("yZ58"),j=n.n($),O=n("tq+l"),A=n.n(O),L=(n("srGB"),n("uuav"));function P(e,t){var n=m()(e);if(f.a){var i=f()(e);t&&(i=x()(i).call(i,(function(t){return p()(e,t).enumerable}))),n.push.apply(n,i)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n,i=null!=arguments[t]?arguments[t]:{};if(t%2)u()(n=P(Object(i),!0)).call(n,(function(t){k()(e,t,i[t])}));else if(c.a)a()(e,c()(i));else{var r;u()(r=P(Object(i))).call(r,(function(t){o()(e,t,p()(i,t))}))}}return e}window.app.controller("StatListDialogCtrl",["$scope","$controller","$rootScope","$q","dataService","BaseCRUDService","$filter",function(e,t,n,i,o,r,a){var s=r.getModelService(e.$dialog.options.model_name);t(L.a,{$scope:e,CRUDService:s,InfoDialog:null}),e.meta_state=e.params.state,e.individualParse=function(e){return e.list_config=D(D({},e.list_config),{hideComponents:["hcm-content-indicator"],selector_type:0,operate_default:null,stat_config:null}),e},e.initAfter=function(){var t,n;e.separate_list_count=!1,e.list_model.$setColumns(x()(t=y()(n=e.list_meta).call(n,(function(e){return angular.extend({},e,{field:[e.key]})}))).call(t,(function(e){return e.label&&e.field&&e.key}))),e.list_btn_model.$setMeta([{key:"export",label:"导出",is_important:!0,func:function(){e.exportData()}}])},e.exportData=function(){var t;e.show_warning("准备开始导出..."),e.show_waiting();var i=a("dateFormat")(new Date,"yyyyMMddhhmmss"),r=g()(t="".concat(e.$dialog.options.title,"_")).call(t,i);o.callHcmOpenWebSocket("flex.data.block.export",{block_info:e.params.block_info,filter_dict:e.params.filter_dict}).then((function(e){var t,n=document.createElement("a");n.href=window.hcm_wengen+g()(t="/document/temp/download?index=".concat(e.index,".xlsx&name=")).call(t,r,".xlsx")+window.hcm_env_post,n.click()}),(function(e){n.show_warning("计算错误："+e,"warning")})).finally((function(){e.hide_waiting()}))},e.getDataEngine=function(){return function(e,t,n,i){return o.callHcmOpenApi("flex.data.block.data",{block_info:e,filter_dict:t,page_index:n,page_size:i})}},e.getLoadDataParams=function(){return[e.params.block_info,e.params.filter_dict,e.paging.current_page,e.paging.page_size]}}]),t.a=function(e,t,n){return{controller:"StatListDialogCtrl",model_name:e,meta_state:t,template:n?A.a:j.a}}},SBuG:function(e,t){e.exports='<div class="hc-board-flex-report">\n    <div class="flex-report-instance hcm-nav-content">\n        <div class="hcm-content flex" ng-class="{true:\'multi_view\'}[is_multi_view]">\n            <div class="hcm-content-bottom view mobile-content-body"\n                ng-if="report_state==\'view\'"\n                ng-include="\'report_table_view.html\'" id="water-mask"></div>\n        </div>\n    </div>\n\n    <div class="hcm-foot-paging" ng-if="paging.total_count>0">\n        <hc-paging paging="paging"></hc-paging>\n    </div>\n    \n    \x3c!--查看界面--\x3e\n    <script type="text/ng-template" id="report_table_view.html">\n        <div ng-if="filter_valid&&!report_last_modify&&!hide_refresh" class="none-report">\n            <span ng-if="is_report_html_loading">{{ \'Loading report\' | translate }}...</span>\n            <span ng-if="!is_report_html_loading">{{ \'Report calculation has not been run temporarily\' | translate }}，</span>\n            <span class=\'calc\' ng-click="calcReport()" ng-if="!is_report_html_loading">{{ \'Run Now\' | translate }}</span>\n        </div>\n    \n        <div ng-if="!filter_valid" class="none-report">\n            <span>{{ \'Please select report conditions\' | translate }}</span>\n        </div>\n    \n        <hc-report-table class=\'view hide-{{report_info.meta_info.headerLine}}\'  id="forZoom"\n                ng-model="report_table"></hc-report-table>\n    <\/script>\n</div>'},T7vg:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var core_js_modules_es_array_iterator__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("4mDm"),core_js_modules_es_array_iterator__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_array_iterator__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es_array_join__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("oVuX"),core_js_modules_es_array_join__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_array_join__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("sMBO"),core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("07d7"),core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_es_promise__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("5s+n"),core_js_modules_es_promise__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es_promise__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_es_promise_finally__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("p532"),core_js_modules_es_promise_finally__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es_promise_finally__WEBPACK_IMPORTED_MODULE_5__),core_js_modules_es_regexp_constructor__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("TWNs"),core_js_modules_es_regexp_constructor__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_es_regexp_constructor__WEBPACK_IMPORTED_MODULE_6__),core_js_modules_es_regexp_exec__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("rB9j"),core_js_modules_es_regexp_exec__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(core_js_modules_es_regexp_exec__WEBPACK_IMPORTED_MODULE_7__),core_js_modules_es_regexp_to_string__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("JfAA"),core_js_modules_es_regexp_to_string__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(core_js_modules_es_regexp_to_string__WEBPACK_IMPORTED_MODULE_8__),core_js_modules_es_string_iterator__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("PKPk"),core_js_modules_es_string_iterator__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(core_js_modules_es_string_iterator__WEBPACK_IMPORTED_MODULE_9__),core_js_modules_es_string_match__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("Rm1S"),core_js_modules_es_string_match__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(core_js_modules_es_string_match__WEBPACK_IMPORTED_MODULE_10__),core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("UxlC"),core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_11__),core_js_modules_es_string_split__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("EnZy"),core_js_modules_es_string_split__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(core_js_modules_es_string_split__WEBPACK_IMPORTED_MODULE_12__),core_js_modules_web_dom_collections_iterator__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("3bBZ"),core_js_modules_web_dom_collections_iterator__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(core_js_modules_web_dom_collections_iterator__WEBPACK_IMPORTED_MODULE_13__),_babel_runtime_corejs3_core_js_stable_object_assign__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("526F"),_babel_runtime_corejs3_core_js_stable_object_assign__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_assign__WEBPACK_IMPORTED_MODULE_14__),_babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("UtpJ"),_babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_15__),_babel_runtime_corejs3_core_js_stable_instance_sort__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("guyh"),_babel_runtime_corejs3_core_js_stable_instance_sort__WEBPACK_IMPORTED_MODULE_16___default=__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_sort__WEBPACK_IMPORTED_MODULE_16__),_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("04Ix"),_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_17___default=__webpack_require__.n(_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_17__),_babel_runtime_corejs3_core_js_stable_parse_int__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("lHQ6"),_babel_runtime_corejs3_core_js_stable_parse_int__WEBPACK_IMPORTED_MODULE_18___default=__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_parse_int__WEBPACK_IMPORTED_MODULE_18__),_babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("ZbhI"),_babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_19___default=__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_19__),_babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("/FZm"),_babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_20___default=__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_20__),_babel_runtime_corejs3_core_js_stable_instance_trim__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("RKTd"),_babel_runtime_corejs3_core_js_stable_instance_trim__WEBPACK_IMPORTED_MODULE_21___default=__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_trim__WEBPACK_IMPORTED_MODULE_21__),_babel_runtime_corejs3_core_js_stable_object_entries__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__("i5y0"),_babel_runtime_corejs3_core_js_stable_object_entries__WEBPACK_IMPORTED_MODULE_22___default=__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_entries__WEBPACK_IMPORTED_MODULE_22__),_babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__("6UaR"),_babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_23___default=__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_23__),_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__("+oHS"),_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_24___default=__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_24__),_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__("RXMP"),_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_25___default=__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_25__),_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__("FLGM"),_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_26___default=__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_26__),_babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__("WxoT"),_babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_27___default=__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_27__),_babel_runtime_corejs3_core_js_stable_promise__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__("OBge"),_babel_runtime_corejs3_core_js_stable_promise__WEBPACK_IMPORTED_MODULE_28___default=__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_promise__WEBPACK_IMPORTED_MODULE_28__),_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__("5PDf"),_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_29___default=__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_29__),lodash_merge__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__("QkVN"),lodash_merge__WEBPACK_IMPORTED_MODULE_30___default=__webpack_require__.n(lodash_merge__WEBPACK_IMPORTED_MODULE_30__),_common_framework_base_base_crud_service__WEBPACK_IMPORTED_MODULE_31__=__webpack_require__("srGB"),_common_framework_base_base_list_controller__WEBPACK_IMPORTED_MODULE_32__=__webpack_require__("+hqv"),_model_dialog_controller__WEBPACK_IMPORTED_MODULE_33__=__webpack_require__("1hbj"),_style_target_scss__WEBPACK_IMPORTED_MODULE_34__=__webpack_require__("Q9ul"),_style_target_scss__WEBPACK_IMPORTED_MODULE_34___default=__webpack_require__.n(_style_target_scss__WEBPACK_IMPORTED_MODULE_34__),_mobile_search_dialog_controller__WEBPACK_IMPORTED_MODULE_35__=__webpack_require__("Fpg2"),_components_business_component_lazy_component_loader__WEBPACK_IMPORTED_MODULE_36__=__webpack_require__("bQgN");__webpack_require__("mtYn"),window.app.controller("CommonSuperSearchController",["BaseCRUDService","$controller","contextService","$timeout","$scope","$rootScope","$state","$filter","$q","$hcPaging","dataService","formStructureService","HCMCRUDImpExpService","watermark","commonSuperSearchService","$hcForm","$hcDialog",function(BaseCRUDService,$controller,contextService,$timeout,$scope,$rootScope,$state,$filter,$q,$hcPaging,dataService,formStructureService,HCMCRUDImpExpService,watermark,commonSuperSearchService,$hcForm,$hcDialog){var superSearchService=BaseCRUDService.getModelService("EmpElasticSearch");$controller(_common_framework_base_base_list_controller__WEBPACK_IMPORTED_MODULE_32__.a,{$scope:$scope,CRUDService:superSearchService,InfoDialog:Object(_model_dialog_controller__WEBPACK_IMPORTED_MODULE_33__.a)("EmpElasticSearch")}),$scope.isHideShare=!contextService.getContext("auth").company_setting.IS_CIRCLE_PAUSE,$scope.isHideExport="pc"!==window.client,$scope.use_more_paging.mobile=!0,$scope.initBefore=function(){var e,t;$scope.auth=contextService.getContext("auth"),$scope.client=window.client,$scope.searched=!(!(null===(e=$state.params)||void 0===e?void 0:e.keywords)&&!(null===(t=$scope.$dialog)||void 0===t?void 0:t.options.keywords)),$scope.visual_search_form_fold=!1,$scope.loadHistory(),$scope.loadModelMeta().then((function(){$q.all([$scope.initSearchFrame()]).then((function(){var e,t;$scope.keywords=(null===(e=$state.params)||void 0===e?void 0:e.keywords)||(null===(t=$scope.$dialog)||void 0===t?void 0:t.options.keywords)||"",$scope.initDictionary().then((function(){var e;$scope.open_visual_search&&$scope.initVisualSearch(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_29___default()(e=$scope.extend_meta).call(e,(function(e){return"visual_search"===e.key}))[0].value),$scope.initSuperSearchPaging(),$scope.keywords&&$scope.getData()}))}))})),_babel_runtime_corejs3_core_js_stable_promise__WEBPACK_IMPORTED_MODULE_28___default.a.all([_components_business_component_lazy_component_loader__WEBPACK_IMPORTED_MODULE_36__.a.loadComponent("superSearchQueryPanel"),_components_business_component_lazy_component_loader__WEBPACK_IMPORTED_MODULE_36__.a.loadComponent("perfTest")]).then((function(){$scope.isLoaded=!0,$scope.$apply()}))},"pc"===$scope.client&&$scope.$watch("visual_search_model.data",(function(e){e&&"{}"!==_babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_27___default()(e)&&($scope.transFormDataToKeywords(e),$scope.getCompareFieldList($scope.keywords).then((function(){$scope.keywordsChange($scope.keywords),$scope.searched=!0})))}),!0),"pc"===$scope.client&&$scope.$watch("keywords",(function(e,t){e!==t&&$scope.visual_search_model&&$scope.refreshVisualSearch()})),$scope.individualParse=function(e){var t,n,i,o,r,a,s;return $scope.super_search_meta=e,$scope.show_homepage=null===(t=e.list_config)||void 0===t||null===(n=t.super_search_config)||void 0===n?void 0:n.homepage,$scope.open_visual_search=null===(i=e.list_config)||void 0===i||null===(o=i.super_search_config)||void 0===o?void 0:o.visual_search,$scope.open_search_history=null===(r=null===(a=e.list_config)||void 0===a||null===(s=a.super_search_config)||void 0===s?void 0:s.open_search_history)||void 0===r||r,$timeout((function(){$scope.checkOverflow()})),e},$scope.initVisualSearch=function(e){commonSuperSearchService.getSearchInfo().then((function(t){$scope.dealSearchInfoMeta(t),$scope.search_form_meta=_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_26___default()(e).call(e,(function(e){var t,n=_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_29___default()(t=$scope.allSearchInfoMeta).call(t,(function(t){return t.key===e.key}));return 0===n.length?{}:lodash_merge__WEBPACK_IMPORTED_MODULE_30___default()({},n[0],e)})),$scope.parseSearchFormMeta(),$scope.visual_search_model=$hcForm.createForm().$setMeta($scope.search_form_meta).$setData($scope.transKeywordsToFormData($scope.keywords))}))},$scope.dealSearchInfoMeta=function(e){$scope.allSearchInfoMeta=_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_26___default()(e).call(e,(function(e){var t=e.options;switch(t.required=!1,t.singleLine="pc"===client,t.width="col-12",t.readOnly=!1,t.tip="",e.key!==e.search_key&&(e.key=e.search_key),e.component){case"hc-input":switch(t.data_type){case"number":case"integer":case"float":e.component="pc"===$scope.client?"super-search-range-panel":"hc-query-panel",t.component="hc-input",t.advance_operate_list=[{label:"等于",value:"="},{label:"大于",value:">"},{label:"大于等于",value:">="},{label:"小于",value:"<"},{label:"小于等于",value:"<="}]}break;case"hc-input-datetime":e.component="pc"===$scope.client?"super-search-range-panel":"hc-query-panel",t.inputLock=!0,t.component="hc-input-datetime";break;case"hc-super-selector":e.is_compare?(e.component="hc-query-panel",t.component="hc-input",t.advance_operate_list="integer"===t.data_type?[{label:"等于",value:"="},{label:"大于",value:">"},{label:"大于等于",value:">="},{label:"小于",value:"<"},{label:"小于等于",value:"<="}]:[{label:"等于",value:"="},{label:"大于等于",value:">="},{label:"小于等于",value:"<="}]):(t.returnFormat="name",t.multi=!0,t.type="outside");break;case"hc-standard-tree-selector":e.component="hc-input",t.change="",t.data_type="string";break;case"hc-category-list-selector":e.component="hc-tag-new",t.inDrawer=!0,t.data_type="string"}return e}))},$scope.parseSearchFormMeta=function(){var e;_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_25___default()(e=$scope.search_form_meta).call(e,(function(e){if(e.list&&e.list.length>0){var t=e.options;switch(e.component="hc-super-selector",t.list=e.list,t.type="outside",t.data_type){case"string":t.multi=!0;break;case"number":case"integer":case"float":t.data_type="string"}}(e.default&&e.default.length>0&&(e.options.default=e.default),e.include_in_parent)&&(e.options.component=e.component,e.component="super-search-query-panel");if(e.is_compare){var n=e.options;n.component="",n.multi=!1,n.returnFormat="value"}}))},$rootScope.$on("win_body_click_event",(function(){$scope.inputActive=!1})),$scope.initPaging=function(){},$scope.transFormDataToKeywords=function(e){var t,n,i;$scope.keywords="",_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_25___default()(t=_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_29___default()(n=_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_24___default()(e)).call(n,(function(t){return!!e[t]}))).call(t,(function(t){var n;if("any_search"===t)$scope.keywords=$scope.keywords+e[t]+" ";else{var i,o=_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_29___default()(i=$scope.search_form_meta).call(i,(function(e){return e.key===t}))[0],r=o.options;switch(o.component){case"hc-query-panel":case"super-search-range-panel":switch(r.component){case"hc-input":case"hc-input-datetime":if(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_24___default()(e[t]).length>1){var a=e[t].gte?o.label+">="+e[t].gte:"",s=e[t].lte?o.label+"<="+e[t].lte:"";$scope.keywords=$scope.keywords+a+" "+s+" "}else{var c=_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_24___default()(e[t])[0];$scope.keywords=$scope.keywords+o.label+{eq:":",gt:">",gte:">=",lt:"<",lte:"<="}[c]+e[t][c]+" "}}break;case"super-search-query-panel":var l=_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_24___default()(e[t])[0];e[t][l]&&($scope.keywords=$scope.keywords+o.label+{all_satisfied:"⊆",partly_satisfied:"⊂"}[l]+e[t][l].toString()+" ");break;case"hc-super-selector":case"hc-tag-new":if(o.list&&o.list.length>0&&!r.multi){var u,d;if(_babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_23___default()(e[t]))_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_25___default()(u=e[t]).call(u,(function(e){$scope.keywords=$scope.keywords+o.label+e+" "}));else _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_25___default()(d=e[t].split(" ")).call(d,(function(e){$scope.keywords=$scope.keywords+o.label+e+" "}))}else{var p,h={};h[o.label]=e[t],$scope.keywords=$scope.keywords+_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_26___default()(p=_babel_runtime_corejs3_core_js_stable_object_entries__WEBPACK_IMPORTED_MODULE_22___default()(h)).call(p,(function(e){return e.join(":")})).join(" ")+" "}break;case"hc-input":case"hc-standard-tree-list-selector":default:var f={};f[o.label]=e[t],$scope.keywords=$scope.keywords+_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_26___default()(n=_babel_runtime_corejs3_core_js_stable_object_entries__WEBPACK_IMPORTED_MODULE_22___default()(f)).call(n,(function(e){return e.join(":")})).join(" ")+" "}}})),$scope.keywords=_babel_runtime_corejs3_core_js_stable_instance_trim__WEBPACK_IMPORTED_MODULE_21___default()(i=$scope.keywords).call(i)},$scope.transKeywordsToFormData=function(e){var t,n={};return e&&_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_25___default()(t=_babel_runtime_corejs3_core_js_stable_instance_trim__WEBPACK_IMPORTED_MODULE_21___default()(e).call(e).split(/\s+/)).call(t,(function(e){var t,i,o,r=$scope.matchFilterItem(e);if(r.search_key){var a=_babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_20___default()(t=$scope.search_form_meta).call(t,(function(e){return e.key===r.search_key})),s=_babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_20___default()(i=$scope.search_form_meta).call(i,(function(e){return e.key===r.search_key})).options;if(s.list&&!s.multi)n[r.search_key]?n[r.search_key]=n[r.search_key]+" "+r.op+r.value:n[r.search_key]=r.op+r.value;else if(~_babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_19___default()(o=["integer","float","date","number"]).call(o,r.match_info.control_type)){r.value="date"===r.match_info.control_type?r.value:_babel_runtime_corejs3_core_js_stable_parse_int__WEBPACK_IMPORTED_MODULE_18___default()(r.value);var c={":":"eq",">":"gt",">=":"gte","<":"lt","<=":"lte"};n[r.search_key]?n[r.search_key][c[r.op]]=r.value:n[r.search_key]=_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_17___default()({},c[r.op],r.value)}else if(a.include_in_parent){var l,u,d={"⊆":"all_satisfied","⊂":"partly_satisfied"};if(n[r.search_key])n[r.search_key][d[r.op]]=null===(l=r.value)||void 0===l?void 0:l.split(",");else n[r.search_key]=_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_17___default()({},d[r.op],null===(u=r.value)||void 0===u?void 0:u.split(","))}else{var p;n[r.search_key]=null===(p=r.value)||void 0===p?void 0:p.split(",")}}else"mobile"===$scope.client&&(n.any_search=r.content)})),n},$scope.refreshVisualSearch=function(){$scope.visual_search_model.$setData($scope.transKeywordsToFormData($scope.keywords))},$scope.showSearchDialog=function(){var e;$scope.refreshVisualSearch(),$hcDialog.getDialog(_mobile_search_dialog_controller__WEBPACK_IMPORTED_MODULE_35__.a).params({meta:$scope.visual_search_model.fields,data:$scope.visual_search_model.data,all_info_meta:_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_29___default()(e=$scope.allSearchInfoMeta).call(e,(function(e){return!e.options.hide}))}).slideInConfig("right").show().then((function(e){$scope.transFormDataToKeywords(e),$scope.keywordsChange($scope.keywords),$scope.searched=!0}))},$scope.visualSearchSlideUp=function(){var e=$(".visual-search-form");$scope.visual_search_form_fold?e.slideDown(200):e.slideUp(200),$scope.visual_search_form_fold=!$scope.visual_search_form_fold},$scope.getCompareFieldList=function(e){var t,n=$q.defer();e?_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_25___default()(t=_babel_runtime_corejs3_core_js_stable_instance_trim__WEBPACK_IMPORTED_MODULE_21___default()(e).call(e).split(/\s+/)).call(t,(function(e){var t=$scope.matchFilterItem(e);t.match_info.is_compare?$scope.getFileSelect(t).then((function(e){if(e){var i=t.match_info.compare_key||"value";_babel_runtime_corejs3_core_js_stable_instance_sort__WEBPACK_IMPORTED_MODULE_16___default()(e).call(e,(function(e,t){return e[i]>t[i]?1:-1})),t.match_info.list=_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_26___default()(e).call(e,(function(e){return e.name||e.value}))}n.resolve()})):n.resolve()})):n.resolve();return n.promise},$scope.loadHistory=function(){var e;$scope.history_list=commonSuperSearchService.loadHistory(),$scope.display_history_list=_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_26___default()(e=$scope.history_list).call(e,(function(e){return e.length>12&&(e=_babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_15___default()(e).call(e,0,5)+"..."+_babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_15___default()(e).call(e,e.length-4)),e}))},$scope.clearHistory=function(){$scope.history_list=[],$scope.display_history_list=[],commonSuperSearchService.clearHistory()},$scope.checkOverflow=function(){var e=document.getElementsByClassName("keywords-content")[0];$scope.is_overflow=(null==e?void 0:e.scrollWidth)>(null==e?void 0:e.clientWidth)},$scope.contentScroll=function(e){var t=document.getElementsByClassName("keywords-content")[0];t.scroll("right"===e?t.scrollWidth:-t.scrollWidth,0)},$scope.initSuperSearchPaging=function(){$scope.paging=$hcPaging.createPaging({total_count:0,page_size:$state.params.page_size||20,current_page:$state.params.page_index,onPagingChange:$scope.getData}),"pc"===window.client?$scope.paging.template='<div>共计<span class="number"> {{paging.total_count || 0}} </span>人</div>':"mobile"===window.client&&($scope.paging.template='<div>共<span class="number"> <span class="high-light">{{paging.total_count || 0}} </span>人</div>')},$scope.initSearchFrame=function(){var e=$q.defer();return commonSuperSearchService.getSearchTip().then((function(t){var n,i;$scope.tipIndex=null,$scope.originSearchTip=_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_29___default()(n=_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_26___default()(t).call(t,(function(e){var t,n=_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_29___default()(t=$scope.parsed_filters).call(t,(function(t){return t.key===e.search_key}));return lodash_merge__WEBPACK_IMPORTED_MODULE_30___default()({},n[0],e)}))).call(n,(function(e){var t;return!(null===(t=e.options)||void 0===t?void 0:t.hide)})),$scope.tipName=_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_26___default()(i=$scope.originSearchTip).call(i,(function(e){return e.name})),$scope.resultSearchTip=[],e.resolve(!0)})),e.promise},$scope.initDictionary=function(){var e,t,n,i=$q.defer(),o=_babel_runtime_corejs3_core_js_stable_instance_trim__WEBPACK_IMPORTED_MODULE_21___default()(e=$scope.keywords).call(e),r=0,a=0;o?(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_26___default()(t=_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_29___default()(n=o.split(/\s+/)).call(n,(function(e){return e}))).call(t,(function(e){var t=$scope.matchFilterItem(e);t.match_info&&t.match_info.is_compare&&(r++,$scope.setDictionaryTip(t).then((function(){a++,r===a&&i.resolve()})))})),0===r&&i.resolve()):i.resolve();return i.promise},$scope.showTip=function(e){e&&e.stopPropagation(),$scope.open_visual_search||($scope.inputActive=!0,$(".super-search-input").focus(),$scope.setSearchTip())},$scope.inputClick=function(e){e&&e.stopPropagation(),$scope.searched=!0,$scope.showTip(e)},$scope.delete=function(e){e&&e.stopPropagation(),$scope.keywords="",$scope.refresh(),$scope.setSearchTip()},$scope.closeTip=function(e){e&&e.stopPropagation(),$scope.inputActive=!1,$scope.resultSearchTip=[],$(".super-search-input").blur()},$scope.executeSearch=function(e){$scope.forcedFetch=!0,$scope.getData(),$scope.closeTip(e)},$scope.operate=function(e){var t=window.event?e.keyCode:e.which;13===t?null!=$scope.tipIndex?$scope.selectTip($scope.resultSearchTip[$scope.tipIndex]):$scope.executeSearch():38===t?(e.preventDefault(),$scope.tipIndex=$scope.tipIndex>0?$scope.tipIndex-1:null,$scope.tipLocate($scope.tipIndex)):40===t&&(e.preventDefault(),(!$scope.tipIndex||$scope.tipIndex<$scope.resultSearchTip.length-1)&&($scope.tipIndex=null===$scope.tipIndex?0:$scope.tipIndex+1,$scope.tipLocate($scope.tipIndex)))},$scope.keywordsChange=function(e){$scope.simplifyKeywords(e),$scope.refresh(),$scope.showTip(),$scope.loadHistory(),$timeout((function(){$scope.checkOverflow()}))},$scope.simplifyKeywords=function(e){if(!e)return"";e=(e=e.replace(/([\s]*)([：:《》<>]+)([\s]*)/g,(function(e,t,n){return n}))).replace(/[：:]+/g,":").replace(/《/g,"<").replace(/》/g,">"),$scope.keywords=e},$scope.matchFilterItem=function(e){e=(e=e.split(/\s+/))[e.length-1];var t={};return e&&e.replace(/([\u4e00-\u9fa5_]*)(:|>=|<=|>|<|⊆|⊂)?([\s\S]+)?/,(function(n,i,o,r){var a,s,c,l=new RegExp(i);!o&&"type"===$scope.tipType&&_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_29___default()(a=$scope.tipName).call(a,(function(e){return l.test(e)})).length>1||(s=$scope.originSearchTip[_babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_19___default()(c=$scope.tipName).call(c,i)]);t={search_name:i,search_key:s&&s.search_key,op:o,value:r,match_info:s,content:e}})),t},$scope.setSearchTip=function(){var e=$scope.matchFilterItem($scope.keywords);if($scope.resultSearchTip=[],$scope.tipIndex=null,e.search_key&&e.op&&"value"===$scope.tipType||(document.getElementsByClassName("tip-list")[0].scrollTop=0),e.search_key)if(e.op)$scope.setDictionaryTip(e);else{var t;~_babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_19___default()(t=["integer","float","date","number"]).call(t,e.match_info.control_type)?$scope.setOpTip():e.match_info.is_compare?$scope.setOpTip("string"):($scope.keywords=$scope.keywords+":",$scope.setDictionaryTip(e))}else"模糊搜索"!==e.search_name||e.op?$scope.setTypeTip(e.content):$scope.keywords=$scope.keywords+":"},$scope.setTypeTip=function(e){var t;$scope.tipType="type";var n=new RegExp(e);$scope.resultSearchTip=_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_29___default()(t=$scope.tipName).call(t,(function(e){return n.test(e)}))},$scope.setOpTip=function(e){$scope.tipType="op",$scope.resultSearchTip="string"===e?[":",">=","<="]:[":",">",">=","<","<="]},$scope.setDictionaryTip=function(e){var t,n=$q.defer();return $scope.tipType="value",~_babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_19___default()(t=["baseitem_to_str","baseitem_multi_value","link","baseitem"]).call(t,e.match_info.control_type)||e.match_info.selectorModel?$scope.getFileSelect(e).then((function(t){if(t){if(e.match_info.is_compare){var i=e.match_info.compare_key||"value";_babel_runtime_corejs3_core_js_stable_instance_sort__WEBPACK_IMPORTED_MODULE_16___default()(t).call(t,(function(e,t){return e[i]>t[i]?1:-1}))}$scope.resultSearchTip=_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_26___default()(t).call(t,(function(e){return e.name||e.value})),e.match_info.list=angular.copy($scope.resultSearchTip)}n.resolve()})):n.resolve(),n.promise},$scope.getFileSelect=function(e){var t=$q.defer();return e.match_info.selectorModel?dataService.callHcmOpenApi("hcm.model.list",{model:e.match_info.selectorModel,page_index:1,page_size:2e3,filter_dict:{enable:!0}}).then((function(e){t.resolve(e.list)})):e.match_info.key&&formStructureService.getFileSelect(e.match_info.key).then((function(e){t.resolve(e)})),t.promise},$scope.selectTip=function(e){var t=$scope.matchFilterItem($scope.keywords);if("type"===$scope.tipType)if($scope.resultSearchTip.length!==$scope.tipName.length){var n=new RegExp(t.search_name+"$");$scope.keywords=$scope.keywords.replace(n,(function(){return e}))}else $scope.keywords+=" "+e;else"op"===$scope.tipType?$scope.keywords+=e:$scope.keywords+=(t.value?",":"")+e;$scope.tipType=null,$(".super-search-input").focus(),$scope.keywordsChange($scope.keywords)},$scope.tipLocate=function(e){document.getElementsByClassName("tip-list")[0].scrollTop=34*(e||0)-70},$scope.refresh=function(){$rootScope.super_go($state.current.name,{keywords:$scope.keywords,position_status_ids:$state.params.position_status_ids,on_job:$state.params.on_job},{notify:!1,location:"replace"}),$scope.paging.setPagingInfo={current_page:1}},$scope.setFilterParams=function(){var _context30,_context31,keywords=_babel_runtime_corejs3_core_js_stable_instance_trim__WEBPACK_IMPORTED_MODULE_21___default()(_context30=$scope.keywords).call(_context30),any_search_key="",filters={};return keywords&&_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_26___default()(_context31=keywords.split(/\s+/)).call(_context31,(function(_item){var item=$scope.matchFilterItem(_item);if(item.search_key){if(item.op&&item.value)if(":"===item.op)if(item.value=item.value.split(/[,，]/gi),item.value.length>1)filters[item.search_key]={in:item.value};else{var original_str=item.value[0],search_str=original_str.replace(/%/g,""),op;op=original_str.match(/^%.+%$/)?"like":original_str.match(/^%.+$/)?"llike":original_str.match(/^.+%$/)?"rlike":commonSuperSearchService.useBlur()?"like":"=",filters[item.search_key]=_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_17___default()({},op,search_str)}else if(item.match_info.is_compare){item.value=item.value.split(/[,，]/gi);var temp_array=item.match_info.list;if(temp_array){var result_index=_babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_19___default()(temp_array).call(temp_array,item.value[0]);if(result_index<0)return;filters[item.search_key]={in:_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_29___default()(temp_array).call(temp_array,(function(data_item,index){return eval(index+item.op+result_index)}))}}}else if("⊆"===item.op||"⊂"===item.op){var _item$value4,operate_dict={"⊆":"all_satisfied","⊂":"partly_satisfied"};filters[item.search_key]=_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_17___default()({},operate_dict[item.op],null===(_item$value4=item.value)||void 0===_item$value4?void 0:_item$value4.split(","))}else{var mergeCriteria=function(e,t){if(filters[item.search_key]){var n=_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_24___default()(filters[item.search_key]);if(filters[item.search_key][">"]||filters[item.search_key][">="])if(">"===item.op||">="===item.op){var i,o=t(filters[item.search_key][item.op],e).bigger,r=null!==(i=_babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_20___default()(n).call(n,(function(e){return filters[item.search_key][e]===o})))&&void 0!==i?i:item.op;_babel_runtime_corejs3_core_js_stable_object_assign__WEBPACK_IMPORTED_MODULE_14___default()(filters[item.search_key],_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_17___default()({},r,o))}else _babel_runtime_corejs3_core_js_stable_object_assign__WEBPACK_IMPORTED_MODULE_14___default()(filters[item.search_key],_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_17___default()({},item.op,e));else if(filters[item.search_key]["<"]||filters[item.search_key]["<="])if("<"===item.op||"<="===item.op){var a,s=t(filters[item.search_key][item.op],e).smaller,c=null!==(a=_babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_20___default()(n).call(n,(function(e){return filters[item.search_key][e]===s})))&&void 0!==a?a:item.op;_babel_runtime_corejs3_core_js_stable_object_assign__WEBPACK_IMPORTED_MODULE_14___default()(filters[item.search_key],_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_17___default()({},c,s))}else _babel_runtime_corejs3_core_js_stable_object_assign__WEBPACK_IMPORTED_MODULE_14___default()(filters[item.search_key],_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_17___default()({},item.op,e))}else filters[item.search_key]=_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_17___default()({},item.op,e)};if("date"===item.match_info.control_type){var compareDate=function(e,t){var n=new Date(e),i=new Date(t);return{bigger:n>i?e:t,smaller:n<i?e:t}};/^[\d]{4}(-[\d]{1,2}){0,2}$/.test(item.value)&&mergeCriteria(item.value,compareDate)}else{var comparator=function(e,t){return{bigger:e>t?e:t,smaller:e<t?e:t}};mergeCriteria(_babel_runtime_corejs3_core_js_stable_parse_int__WEBPACK_IMPORTED_MODULE_18___default()(item.value),comparator)}}}else{var temp_key=("模糊搜索"===item.search_name?item.value:_item)||"";temp_key&&(temp_key=temp_key.replace(/,/i," "),temp_key=temp_key.replace(/，/i," ")),any_search_key+=" "+temp_key}})),""===any_search_key&&(any_search_key=null),{any_search_key:any_search_key,filters:filters}},$scope.share=function(){$scope.$emit("article-new",{attachments:[{class:"share-circle",data:_babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_27___default()({name:"高级查询",iconName:"icon-hcm-relationship",state:$state.current.name,params:$state.params})}],callback:function(){$rootScope.show_warning("分享成功！")}})},$scope.checkEmptyParams=function(e){return null===e[0]&&"{}"===_babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_27___default()(e[1])},$scope.getAllFilterDict=function(){var e,t=$scope.setFilterParams();return angular.extend(t.filters,{selector:$scope.search_key,role:$state.params.role,position_status_ids:$state.params.position_status_ids&&JSON.parse("["+$state.params.position_status_ids+"]"),on_job:$state.params.on_job},(null===(e=$scope.getExtraFilterDict)||void 0===e?void 0:e.call($scope,$scope.getEnvironmentParams()))||{})},$scope.getFilterStr=function(){return $scope.setFilterParams().any_search_key},$scope.getDataParams=function(){return[$scope.getFilterStr(),angular.extend({},$scope.getAllFilterDict()),$scope.paging.current_page,$scope.paging.page_size,angular.extend($scope.getExtraProperty(),{only_list:$scope.separate_list_count},$scope.alter_extra_property),$scope.getBizType()]},$scope.customer_export=function(e){var t=e||{};HCMCRUDImpExpService.customer_export({celery_mode:!!t.celery_mode||t.celery_mode,customer_params:t.customer_params,category:t.category,export_class:t.export_class,message:t.message||!1,extend_property:$scope.getDataParams(),file_name:t.file_name})},$scope.getData=function(){var e,t=$scope.getDataParams();if(_babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_27___default()(t)===$scope.preParams&&!$scope.forcedFetch)return!1;(null===(e=$scope.list_config)||void 0===e?void 0:e.required_filter_str)&&$scope.checkEmptyParams(t)?$scope.show_no_data_svg=!1:($scope.show_no_data_svg=!0,$scope.preParams=_babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_27___default()(t),$scope.forcedFetch=!1,$rootScope.tergetUuid=$scope.isolatedUuid,$rootScope.show_waiting(),commonSuperSearchService.getEmpList(t).then((function(e){$rootScope.hide_waiting(),commonSuperSearchService.pushHistory($scope.keywords),$scope.paging.setPagingInfo={total_count:e.count},$scope.list_model.current_page=$scope.paging.current_page,$scope.list_model.page_size=$scope.paging.page_size,$scope.list_model.$setData(e.list),$scope.$dialog||$scope.super_go($state.current.name,angular.extend($state.params||{},{page_index:$scope.paging.current_page,page_size:$scope.paging.page_size}),{location:"replace",notify:!1})})))},$scope.setSortMeta=function(e){if(e.key){var t,n=_babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_20___default()(t=$scope.list_meta).call(t,(function(t){return t.key===e.key}));$scope.sort_meta=n?[{key:n.sort_key||n.field.join("."),type:e.type}]:[]}else $scope.sort_meta=[];$scope.getData()},$scope.switchVersion=function(){$scope.is_dynamic=contextService.getContext("auth").company_setting.emp_use_dynamic_mode},$scope.historyKeywordsClick=function(e){$scope.searched=!0,$scope.keywords=$scope.history_list[e],$scope.keywordsChange($scope.keywords)},$scope.export=function(e){var t="super_search",n="人员高级查询";$rootScope.show_waiting(),HCMCRUDImpExpService.getCheckStatus(t).then((function(i){i.running?(HCMCRUDImpExpService.getShowTip(n,t),$rootScope.hide_waiting()):commonSuperSearchService.empExport(angular.extend($scope.getDataParams(),e?{page_size:null}:{})).then((function(e){HCMCRUDImpExpService.getShowTip(n,t,e)}),(function(){}),(function(e){({value:e.progress,message:e.info})})).finally((function(){$rootScope.hide_waiting()}))}))},watermark.addWatermarkWhenConfig({watermark_txt:$scope.auth.employee.name+" \n "+$scope.auth.user.cell_phone,ele_selector:".emp-super-search",watermark_fontsize:"20px"})}]),__webpack_exports__.default="CommonSuperSearchController"},TJlg:function(e){e.exports=JSON.parse('{"fields":[{"label":"应用分类新增方式","key":"category_create","component":"hc-input-radio","options":{"list":[{"value":"use_exist_category","name":"使用已有分类"},{"value":"create_new_category","name":"新增分类"}],"data_type":"string","placeholder":"请选择新增方式","returnFormat":"name","maxlength":40,"required":true,"singleLine":true}},{"key":"category_id","label":"应用分类","component":"hc-super-selector","options":{"data_type":"integer","singleLine":true,"placeholder":"请选择应用分类","selectorModel":"ApplicationContainerCategory"}},{"key":"category_name","label":"新增应用分类","component":"hc-input","options":{"data_type":"string","singleLine":true,"placeholder":"请输入应用分类名","maxlength":40}},{"key":"adjustable","label":"是否允许设置应用列表","component":"hc-input-radio","options":{"data_type":"boolean","singleLine":true,"tip":"隐藏右上角设置按钮","list":[{"name":"允许","value":true},{"name":"不允许","value":false}],"returnFormat":"value","required":true}}]}')},TQpF:function(e,t){e.exports='<nine-map-dept options="$ctrl.optionsParams" get-item-id="$ctrl.getItemID" ng-if="$ctrl.$scope.getItemID"></nine-map-dept>'},Tm5i:function(e,t){e.exports='<div class="home-widget-emp-change" ng-init="init()">\n    <div class="body">\n        <div class="content" ng-if="channel_model">\n            <home-widget-emp-change-timeline ng-model="channel_model" ng-if="channel_model"></home-widget-emp-change-timeline>\n        </div>\n    </div>\n</div>\n'},U2sM:function(e){e.exports=JSON.parse('{"fields":[{"key":"data","label":"数据定义","component":"hc-input-mask","options":{"tip":"在此处定义数据源","singleLine":false,"width":"col-12","placeholder":"请设置数据源","required":false}},{"key":"options","label":"参数定义","component":"hc-input-script","options":{"singleLine":true,"mode":"json","width":"col-12","placeholder":"请设置轮播组件相关配置参数","required":false}},{"key":"index_field","label":"索引字段定义","component":"hc-input","options":{"singleLine":true,"width":"col-12","placeholder":"请在此处指定轮播数据的索引字段","required":false}},{"key":"description_field","label":"描述字段定义","component":"hc-input","options":{"singleLine":true,"width":"col-12","placeholder":"请在此处指定轮播数据的描述文本所在字段","required":false}},{"key":"default_photo","label":"默认图片","component":"hc-input-upload-multiple","options":{"singleLine":true,"type":"img","src_type":"img","upload_img":true}}]}')},"U9/P":function(e){e.exports=JSON.parse('{"tip":"","fields":[{"key":"componentName","label":"组件名称","component":"hc-input","options":{"singleLine":true,"width":"col-12","placeholder":"请输入","required":false,"tip":"例如： hc-model-view"}},{"key":"params","label":"组件参数","component":"hc-input-compute","options":{"mode":"json","singleLine":true,"width":"col-12","placeholder":"请输入组件参数","required":false,"need_check":false,"returnFormat":"content","tip":"eg: {\\"params\\": {\\"id\\": \\"=EMPLOYEE_ID\\",\\"model\\": \\"Employee\\"}}"}},{"key":"css","label":"样式调整","component":"hc-input-json","options":{"singleLine":true,"width":"col-12","placeholder":"请输入css","required":false,"tip":"eg: {\\".hcm-nav-content\\": {\\"position\\": \\"unset\\"},\\".hcm-content-body\\": {\\"margin\\": \\"unset !important\\"}}"}}]}')},UGd6:function(e,t,n){"use strict";n.r(t),n.d(t,"ComponentSetupController",(function(){return I})),n.d(t,"componentSetupDialog",(function(){return E})),n.d(t,"componentSetupDialogList",(function(){return B})),n.d(t,"componentSetupDialogCount",(function(){return F})),n.d(t,"componentSetupDialogComponents",(function(){return R}));n("sMBO"),n("07d7"),n("JfAA");var i=n("526F"),o=n.n(i),r=n("eLKs"),a=n.n(r),s=n("FLGM"),c=n.n(s),l=n("Kwsy"),u=n.n(l),d=n("+oHS"),p=n.n(d),h=n("/FZm"),f=n.n(h),_=n("OBge"),m=n.n(_),v=n("WxoT"),g=n.n(v),b=n("BkRI"),y=n.n(b),w=n("mrSG"),x=n("/PXk"),S=n("IHfz"),k=n("JzNJ"),$=n.n(k),j=n("x0Zu"),O=n.n(j),A=n("/76H"),L=n.n(A),P=n("BAc2"),D=n.n(P),N=n("1GJp"),C=n("8Auy"),M=n("xAfy"),I=function(e){function t(t,n,i,o,r,a,s,c,l){var u=e.call(this,t,n,i,o,l)||this;return u.scope=t,u.rootScope=n,u.hcDialog=i,u.hcForm=o,u.dataService=r,u.dataBlockService=a,u.hcPanel=s,u.$state=c,u.$filter=l,u.funcParse=function(e){var t={SCOPE:u.scope,STATE:u.$state,location:window.location,history:window.history,document:document,dataService:u.dataService};return C.a.jsonEval(e,t,{})},u.generate_default_drill=function(){var e=u;u.setting_panel_data.drill&&"{}"!==g()(u.setting_panel_data.drill)?u.hcDialog.confirm("已存在穿透定义，是否继续生成并覆盖原来数据？",[{caption:"继续",func:function(){return Object(w.c)(this,void 0,void 0,(function(){var t,n,i;return Object(w.e)(this,(function(o){switch(o.label){case 0:return t=e.$state.params.id,[4,e.parseData()];case 1:return n=o.sent(),[4,e.dataService.callHcmOpenApi("report.platform.generate.default.drill",{report_id:t,component_data:n})];case 2:return i=o.sent(),e.setting_panel_data.drill=i,[2]}}))}))}}]):u.hcDialog.confirm("初始化默认穿透",[{caption:"继续",func:function(){return Object(w.c)(this,void 0,void 0,(function(){var t,n,i;return Object(w.e)(this,(function(o){switch(o.label){case 0:return t=e.$state.params.id,[4,e.parseData()];case 1:return n=o.sent(),[4,e.dataService.callHcmOpenApi("report.platform.generate.default.drill",{report_id:t,component_data:n})];case 2:return i=o.sent(),e.setting_panel_data.drill=i,[2]}}))}))}}])},u}return Object(w.d)(t,e),t.prototype.getMeta=function(){return Object(w.c)(this,void 0,m.a,(function(){var e;return Object(w.e)(this,(function(t){var n,i;switch(e=angular.copy(S),this.scope.params.theme){case"tech":switch(this.scope.params.data.component){case"datasouce-view":case"count-sec":f()(n=e.fields).call(n,(function(e){return"theme_border_bg"===e.key})).options.default=!1,f()(i=e.fields).call(i,(function(e){return"theme_board_bg"===e.key})).options.default="/static/resources/images/tech/board_bg.png"}}return[2,e.fields]}))}))},t.prototype.getGroupMeta=function(){return Object(w.c)(this,void 0,m.a,(function(){return Object(w.e)(this,(function(e){return[2,S.groups]}))}))},t.prototype.$onInit=function(){return Object(w.c)(this,void 0,void 0,(function(){var t=this;return Object(w.e)(this,(function(n){switch(n.label){case 0:return this.setting_panel_data=angular.copy(this.scope.params.data.options||{}),this.setting_panel_data&&p()(this.setting_panel_data).length>0&&(this.tabs=[{label:this.setting_panel_data.title,key:""}],u()((function(){var e,n,i,o,r=y()(null===(e=t.setting_panel_data)||void 0===e?void 0:e.filter_dict),a=y()(null===(o=null===(i=null===(n=t.setting_panel_model)||void 0===n?void 0:n.$ctrl)||void 0===i?void 0:i.options)||void 0===o?void 0:o.context_data);t.filterDict=Object(M.n)(r,a)}),1e3),this.operates=this.funcParse(this.setting_panel_data.operates)),this.scope.$watch("$ctrl.setting_panel_data",(function(e,n){var i;e&&e.operates&&c()(i=e.operates).call(i,(function(e){e.key=""})),e!==n&&(t.tabs=[{label:t.setting_panel_data.title,key:""}],u()((function(){var e=y()(t.setting_panel_data.filter_dict),n=y()(t.setting_panel_model.$ctrl.options.context_data);t.filterDict=Object(M.n)(e,n)}),1e3),t.operates=t.funcParse(t.setting_panel_data.operates))}),!0),[4,e.prototype.$onInit.call(this)];case 1:return n.sent(),[2]}}))}))},t.prototype.initForm=function(){return Object(w.c)(this,void 0,void 0,(function(){return Object(w.e)(this,(function(t){var n;switch(t.label){case 0:return[4,e.prototype.initForm.call(this)];case 1:return t.sent(),this.setting_panel_model=this.hcPanel.getPanel(this.scope.params.panel),this.setting_panel_model.showPanel(f()(n=this.scope.$dialog.options.element).call(n,".setting-panel"),{parent:this,data:this.setting_panel_data,options:{context_meta:this.scope.params.context_meta,context_data:this.scope.params.context_data}}),[2]}}))}))},t.prototype.refreshPreviewModelVersion=function(e){null==e||e.stopPropagation(),this.preview_model.version=(new Date).getTime(),this.validate_update=!1},t.prototype.parseData=function(){return Object(w.c)(this,void 0,void 0,(function(){var e;return Object(w.e)(this,(function(t){return(e=this.form_model.data).options=this.setting_panel_data,[2,e]}))}))},t.prototype.check_preview_model=function(){return Object(w.c)(this,void 0,void 0,(function(){var e;return Object(w.e)(this,(function(t){return e=g()(this.preview_model,(function(e,t){return"function"==typeof t?t.toString():t})),this.hcDialog.getDialog(N.a).show({readOnly:!0,data:e}),[2]}))}))},t.prototype.check_preview_data=function(){return Object(w.c)(this,void 0,void 0,(function(){var e;return Object(w.e)(this,(function(t){switch(t.label){case 0:return[4,this.dataService.callHcmOpenApi("flex.template.base.mock.data",{base_:this.form_model.data.options.base_template||this.setting_panel_data.base_template})];case 1:return e=t.sent(),this.hcDialog.getDialog(N.a).show({readOnly:!0,data:e}),[2]}}))}))},t.prototype.show_check_preview_model=function(){var e,t;switch(null===(t=null===(e=this.form_model)||void 0===e?void 0:e.data)||void 0===t?void 0:t.component){case"hc-board-data-chart":return!1;default:return!0}},t.prototype.getAlterOperator=function(){return Object(w.c)(this,void 0,m.a,(function(){return Object(w.e)(this,(function(e){var t,n,i,o,r,s,c;return[2,[{label:"高级",func:a()(t=this.advanceEdit).call(t,this),left:!0},{label:"参考预制数据",func:a()(n=this.check_preview_data).call(n,this),hide:a()(i=this.show_check_preview_model).call(i,this),left:!1},{label:"检查渲染配置",func:a()(o=this.check_preview_model).call(o,this),hide:a()(r=this.show_check_preview_model).call(r,this),left:!1},{label:"生成穿透定义",func:a()(s=this.generate_default_drill).call(s,this),hide:a()(c=function(){var e,t;return this.show_check_preview_model()||"board-report"!==(null===(t=null===(e=this.$state)||void 0===e?void 0:e.current)||void 0===t?void 0:t.name)}).call(c,this),left:!1}]]}))}))},t.prototype.advanceEdit=function(){var e=this;this.hcDialog.getDialog(N.a).show({readOnly:!1,data:g()(this.form_model.data)}).then((function(t){o()(e.form_model.data,JSON.parse(t)),e.setting_panel_data=JSON.parse(t).options}))},t.$inject=["$scope","$rootScope","$hcDialog","$hcForm","dataService","dataBlockService","$hcPanel","$state","$filter"],t}(x.a),E={title:"组件设置",controller:I,template:$.a,size:"super-max"},B={title:"组件设置",controller:I,template:O.a,size:"super-max"},F={title:"组件设置",controller:I,template:L.a,size:"super-max"},R={title:"组件设置",controller:I,template:D.a,size:"super-max"}},UHXY:function(e){e.exports=JSON.parse('[{"key":"base_template","label":"模版选择","component":"hc-super-selector","options":{"required":true,"list":[{"name":"折线图","id":"line"},{"name":"柱状图","id":"bar"}]}},{"key":"dim_field1","label":"维度1","component":"hc-super-selector","options":{"singleLine":true,"required":true,"width":"col-6","placeholder":"请选择维度字段"}},{"key":"dim_field2","label":"维度2","component":"hc-super-selector","options":{"singleLine":true,"width":"col-6","placeholder":"请选择维度字段"}},{"key":"aggr_field","label":"统计","component":"hc-super-selector","options":{"singleLine":true,"required":true,"width":"col-6","placeholder":"请选择统计字段"}},{"key":"ag_type","label":"统计方式","component":"hc-super-selector","options":{"singleLine":true,"required":true,"width":"col-6","list":[{"value":"count","label":"计数"},{"value":"sum","label":"合计"},{"value":"distinct_count","label":"去重计数"},{"value":"avg","label":"平均数"}]}}]')},Ueye:function(e,t){e.exports='<div class="hc-time-line-horizontal" ng-init="init()">\n    <div class="line-content">\n        <div class="border">\n            <div class="operate" ng-click="$ctrl.rollNode(\'left\')" ng-hide="$ctrl.left_flag">\n                <div class="icon-hcm-arrow-left"></div>\n            </div>\n        </div>\n        <div class="center">\n            <div class="time-horizontal"></div>\n            <div class="center-line">\n                <div class="node" ng-repeat="item_ in $ctrl.model.data" ng-click="$ctrl.nodeClick(item_)">\n                    <div ng-if="item_.type===\'finish\'">\n                        <div class="icon-finish"></div>\n                        <div class="text-normal">{{item_.name}}</div>\n                    </div>\n                    <div ng-if="item_.type===\'current\'">\n                        <div class="text-normal bold current-text">当前</div>\n                        <div class="icon-current"></div>\n                        <div class="text-normal bold">{{item_.name}}</div>\n                    </div>\n                    <div ng-if="item_.type===\'future\'">\n                        <div class="icon-future icon-hcm-none-circle"></div>\n                        <div class="text-normal">{{item_.name}}</div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class="border">\n            <div class="operate" ng-click="$ctrl.rollNode(\'right\')" ng-hide="$ctrl.right_flag">\n                <div class="icon-hcm-arrow-right"></div>\n            </div>\n        </div>\n    </div>\n</div>\n'},VEMl:function(e){e.exports=JSON.parse('{"fields":[{"key":"adjustable","label":"是否允许设置应用列表","component":"hc-input-radio","options":{"data_type":"boolean","singleLine":true,"tip":"隐藏右上角设置按钮","list":[{"name":"允许","value":true},{"name":"不允许","value":false}],"returnFormat":"value","required":true}}]}')},WAt5:function(e,t,n){"use strict";var i=n("5PDf"),o=n.n(i),r=n("1hbj"),a=(n("srGB"),n("y1uC"),n("9DwR"));window.app.directive("waterfallViewMulti",[function(){return{restrict:"EA",template:n("siud"),scope:{childModel:"=",role:"=",checkRoleFunctions:"=",getItemId:"="},controller:["$scope","$state","$rootScope","$hcDialog","$controller","$hcDialog","contextService","BaseCRUDService","$filter","AuthService",function(e,t,n,i,s,c,l,u,d,p){var h=u.getModelService(e.childModel.model),f=e.childModel.meta_state||t.params.meta_state||e.role;s(a.a,{$scope:e,CRUDService:h,InfoDialog:Object(r.a)(e.childModel.model,f)}),e.page_size=500,e.meta_state=f,e.cancel_history_back_action=!0,e.setTitle=function(){},e.setState=function(){},e.initBefore=function(){e.group_fold=e.childModel.default_fold,e.no_data_fold=e.childModel.no_data_fold,e.title_tip=e.childModel.tip,e.hide_title=e.childModel.hide_title},e.checkRoles=function(t){var n;if(null===(n=e.checkRoleFunctions)||void 0===n||n.checkRoles(t),null==t?void 0:t.role)try{p.checkRole(t.role)}catch(t){e.dealRolesErr(t)}},e.metaLoaded=function(t){var n,i;(null==t||null===(n=t.list_config)||void 0===n||null===(i=n.detail_meta)||void 0===i?void 0:i.hide_title)||(e.desc=e.childModel.label),"mobile"===e.client&&e.list_btn_model.$setShowMax(3)},e.getFilterDict=function(){var t,n={};return n[(null===(t=e.childModel)||void 0===t?void 0:t.parent_id)||"origin_id"]=d("tryInteger")(_()),n},e.defaultAction=function(t){var n,i=o()(n=e.list_btn_model.actions).call(n,(function(e){return e.default}));i.length>0&&e.parseAction(i[0],t)},e.initAfter=function(){var t,n,i,r,a;if(e.select_actions=o()(t=e.list_btn_meta).call(t,(function(e){return"ITEM"===e.condition&&!d("valueToFunc")(e.hide)()})).length,e.multi_select_actions=o()(n=e.list_btn_meta).call(n,(function(e){return"MULTI_ITEM"===e.condition&&!d("valueToFunc")(e.hide)()})).length,(null===(i=e.list_config)||void 0===i?void 0:i.selector_type)||!e.multi_select_actions&&!e.select_actions||(e.list_model.$setOptions({selector_type:e.multi_select_actions?2:e.select_actions?1:0}),e.list_model&&(e.list_model.select_status=!0),e.show_select_operates=!0),null===(r=e.model_meta)||void 0===r||null===(a=r.list_config)||void 0===a?void 0:a.max_row){var s,c,l,u,p,h=(null===(s=e.model_meta)||void 0===s||null===(c=s.list_config)||void 0===c?void 0:c.max_row)||5;e.list_model.$setMaxRow(h),e.max_height=((null===(l=e.model_meta)||void 0===l||null===(u=l.list_config)||void 0===u||null===(p=u.row_config)||void 0===p?void 0:p.moderate)||48)*h+48+12,e.list_model.$setMaxHeight(e.max_height)}},e.individualParse=function(e){return e.advance_query.close||(e.advance_query.close=!0),e},e.fetchDataSuccess=function(t){e.no_data_fold&&0===(null==t?void 0:t.list.length)&&(e.group_fold=!0)},e.foldClick=function(){return e.group_fold=!e.group_fold},e.refreshChild=function(e){n.$emit("refresh_child_signal",e)};var _=function(){return e.getItemId&&e.getItemId()};n.$on("waterfall_data_change",(function(){e.fetchData()})),n.$on("refresh_child",(function(t,n){n&&n===e.childModel.key&&e.fetchData()}))}]}}])},WQ5H:function(e,t){e.exports='<div class="inner-apply-info-dialog">\n    <div class="score">简历完整度{{apply_info.info}}%，投递失败</div>\n    <div class="title">您的简历完整度不足{{apply_info.lev_limit}}%，原因如下</div>\n    <div class="detail">\n        <div ng-repeat="_notice in apply_info.incomplete_info_detail_list track by $index" class="detail-item">\n            {{$index+1}}、{{_notice.item_name}}未填写，<span class="detail-score">所占分数为:{{_notice.grade}}</span></div>\n    </div>\n</div>\n'},XNyo:function(e,t,n){"use strict";n("4mDm"),n("07d7"),n("5s+n"),n("PKPk"),n("3bBZ");var i,o=n("FLGM"),r=n.n(o),a=n("+oHS"),s=n.n(a),c=n("RXMP"),l=n.n(c),u=n("OBge"),d=n.n(u),p=n("mrSG"),h=n("8xC1"),f=n("wd/R"),_=n.n(f),m=n("lPa1"),v=n.n(m),g=(n("7tsL"),n("9BZJ"),n("bmIa"),n("F6Fg"),n("yDEG")),b=n("p4uW");!function(e){e.y="y",e.m="m"}(i||(i={}));var y=function(){function e(e,t,n,i,o,r,a){this.$rootScope=e,this.homeWidgetCalendarService=t,this.$q=n,this.contextService=i,this.TimeCommonService=o,this.scope=r,this.templateService=a,this.weeks=["一","二","三","四","五","六","日"],this.calendarCategories=[{id:"moon",label:"日历"},{id:"attend",label:"考勤"}]}return e.prototype.$onInit=function(){var e,t,n,i,o;return Object(p.c)(this,void 0,void 0,(function(){var r,a=this;return Object(p.e)(this,(function(s){switch(s.label){case 0:return null===(e=this.boardCtrl)||void 0===e||e.componentRegister(this.key,this),this.calendar_category=(null===(t=this.options)||void 0===t?void 0:t.calendar_category)||"moon",this.selected_date=this.current_date=_()().format("YYYY-MM-DD"),this.calendar_year=_()(this.current_date).year(),this.calendar_month=_()(this.current_date).month()+1,this.employee_id=this.contextService.getContext("auth").employee.id,[4,this.setCalendar(this.calendar_year,this.calendar_month)];case 1:return s.sent(),[4,this.templateService.getTemplate("time_attend_calendar_config.json")];case 2:return r=s.sent(),this.show_tip=null===(o=null===(i=null===(n=null==r?void 0:r.template_config)||void 0===n?void 0:n.portal_plugin)||void 0===i?void 0:i.attend_tip_show)||void 0===o||o,this.scope.$watch("$ctrl.calendar_category",(function(e){"attend"===e&&a.getCalendarData()})),[2]}}))}))},e.prototype.setCalendar=function(e,t){return Object(p.c)(this,void 0,void 0,(function(){var n;return Object(p.e)(this,(function(i){switch(i.label){case 0:return n=this,[4,this.homeWidgetCalendarService.getCalendarWithLunar(e,t)];case 1:return n.calendar_data=i.sent(),[2]}}))}))},e.prototype.selectDate=function(e){if(this.selected_date=e,"attend"===this.calendar_category){var t={employee_id:this.employee_id,date:e};this.$rootScope.super_go("time_view_employee",t)}},e.prototype.calendarMinus=function(e){return Object(p.c)(this,void 0,void 0,(function(){return Object(p.e)(this,(function(t){switch(t.label){case 0:return"m"===e?1===this.calendar_month?(this.calendar_month=12,this.calendar_year=this.calendar_year-1):this.calendar_month=this.calendar_month-1:this.calendar_year=this.calendar_year-1,[4,this.setCalendar(this.calendar_year,this.calendar_month)];case 1:return t.sent(),"attend"===this.calendar_category&&this.getCalendarData(),[2]}}))}))},e.prototype.calendarPlus=function(e){return Object(p.c)(this,void 0,void 0,(function(){return Object(p.e)(this,(function(t){switch(t.label){case 0:return"m"===e?12===this.calendar_month?(this.calendar_month=1,this.calendar_year=this.calendar_year+1):this.calendar_month=this.calendar_month+1:this.calendar_year=this.calendar_year+1,[4,this.setCalendar(this.calendar_year,this.calendar_month)];case 1:return t.sent(),"attend"===this.calendar_category&&this.getCalendarData(),[2]}}))}))},e.prototype._fetchSchedule=function(e,t){var n=this,i=this.$q.defer(),o=[this.homeWidgetCalendarService.getDataList(e,t,[this.employee_id]),this.homeWidgetCalendarService.getDataListByEmp(e,t,this.employee_id)];return d.a.all(o).then((function(e){var t,o={};l()(t=e[0].list).call(t,(function(e){o[e.date]=e})),n.schedule_month=e[1].count_month,n.shift_month=e[1].shift_month,n.work_unusual=e[1]._countType,n.work_onjob_count=e[1].work_onjob_count,n.work_onjob=e[1].work_onjob,n.detail=e[1]._detail;var a=s()(e[1]._detail);r()(a).call(a,(function(t){n.detail[t].count=e[1]._detail[t]._count,n.detail[t].sum=e[1]._detail[t]._sum})),i.resolve(o)})),i.promise},e.prototype.$onResize=function(){},e.prototype.getSettingPanel=function(){return Object(g.c)(b.a)},e.prototype.getCalendarData=function(){var e=this;this._fetchSchedule(this.TimeCommonService.getMonthBegin(this.calendar_year,this.calendar_month),this.TimeCommonService.getMonthEnd(this.calendar_year,this.calendar_month)).then((function(t){e.month_calendar_data=t,e.statisticInfo="您本月应出勤"+e.schedule_month+"天，共"+e.shift_month+"小时，\n                                截止当前实出勤"+e.work_onjob_count+"天，共"+e.work_onjob+"小时。\n                                请假:\t"+e.detail.leave.count+" 次，"+e.detail.leave.sum+" 小时\n                                出差:\t"+e.detail.trip.count+" 次，"+e.detail.trip.sum+" 小时\n                                加班:\t"+e.detail.overtime.count+" 次，"+e.detail.overtime.sum+" 小时\n                                补签:\t"+e.detail.fillcard.count+" 次\n                                迟到:\t"+e.work_unusual.work_late+" 次\n                                早退:\t"+e.work_unusual.work_early+" 次\n                                旷工:\t"+e.work_unusual.work_absence+" 次"}))},e.$inject=["$rootScope","homeWidgetCalendarService","$q","contextService","TimeCommonService","$scope","templateService"],e}();h.a.component("homeWidgetCalendar",{bindings:{current_date:"<",options:"<",key:"<",context:"="},require:{boardCtrl:"?^hcmBoard"},controller:y,template:v.a})},XVR8:function(e,t){e.exports='<div class="board-app-list">\n    <div class="no-data" ng-if="$ctrl.app_list&&$ctrl.app_list.length<1&&$ctrl.client===\'pc\'">\n        <hc-svg options="{icon:\'hcm-no-content\'}"></hc-svg>\n        <div class="label">{{\'common_home_widget_my_app_no_content\'|translate}}</div>  \x3c!--当前没有内容--\x3e\n    </div>\n    <div class="app-list" ng-show="$ctrl.app_list && $ctrl.app_list.length > 0">\n        <div class="item-container" ng-repeat="page in $ctrl.app_pages track by $index">\n            <div class="app-item-wrapper" ng-repeat="_app in page track by $index">\n                <a class="app-item"\n                   ng-if="$ctrl.client===\'pc\'"\n                   ng-class="{\'from-role\': _app.from_role}"\n                   ng-href="{{_app.href}}"\n                   ng-click="$ctrl.go_app(_app, $event)"\n                   ng-attr-target="{{($ctrl.is_open_new_page || _app.open_new_page)?\'_blank\':\'_self\'}}">\n                    <hc-icon app="_app" options="\'icon-top\'"></hc-icon>\n                    <div class="label"\n                         hc-title="{{$ctrl.app_title_description ? _app.description : _app.name}}"\n                         options="{mode: \'tip\', showOnOverflow: !$ctrl.app_title_description}">\n                        {{_app.name}}\n                    </div>\n                </a>\n                <div class="app-item"\n                     ng-if="$ctrl.client===\'mobile\'"\n                     ng-class="{\'from-role\': _app.from_role}"\n                     ng-click="$ctrl.go_app(_app, $event)">\n                    <hc-icon app="_app" options="\'icon-top\'"></hc-icon>\n                    <div class="label" hc-title="{{$ctrl.app_title_description ? _app.description : _app.name}}"\n                         options="{mode: \'tip\', showOnOverflow: !$ctrl.app_title_description}">\n                        {{_app.name}}\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="page-index-bar" ng-show="$ctrl.app_pages.length > 1&&$ctrl.client===\'pc\'">\n        <div class="index-bar-item" ng-repeat="(index, _) in $ctrl.app_pages track by $index"\n             ng-class="{\'selected\': $ctrl.current_page === index}" ng-click="$ctrl.changePage(index)"></div>\n    </div>\n</div>\n'},Xpi4:function(e){e.exports=JSON.parse('{"fields":[{"key":"depart_id","label":"组织id","component":"hc-input","options":{"singleLine":true,"width":"col-12","placeholder":"请输入组织id","required":false,"refer_data":[{"label":"可选变量"}]}}]}')},Y3iY:function(e,t){e.exports='<div class="recruit-job-card">\n    <div class="job-card-info">\n        <div class="job-card-title">\n            <span class="icon-hcm-sent"></span>应聘职位\n            <div class="job-address"><span class="icon-location"></span>{{$ctrl.job_info.work_city}}</div>\n        </div>\n        <div class="job-card-content" ng-click="$ctrl.viewJob()" ng-class="{\'job-view-tip\': $ctrl.needViewJob}">\n            {{$ctrl.job_info.name}}\n        </div>\n    </div>\n    <div class="job-card-info" ng-if="$ctrl.job_info.recruit_activity_name">\n        <div class="job-card-title">\n            <span class="icon-hcm-political"></span>站点\n        </div>\n        <div class="job-card-content">\n            {{$ctrl.job_info.recruit_activity_name}}\n        </div>\n    </div>\n</div>\n'},aWyg:function(e){e.exports=JSON.parse('{"fields":[{"key":"link_list","label":"跳转配置","component":"hc-input-json","options":{"singleLine":true,"width":"col-12","placeholder":"请设置组件跳转逻辑","required":false,"xss_ignore":true}}]}')},bmIa:function(e,t,n){"use strict";n.r(t);n("07d7"),n("JfAA");var i=n("lHQ6"),o=n.n(i),r=n("wd/R"),a=n.n(r);window.app.factory("TimeCommonService",["listCacheService2","$timeout","dataService","contextService","$q",function(e,t,n,i,r){return{getMenuDefine:function(e){var t="/template/load_template?key="+e+".json";return n.callHcmCloudApi(t,{},"GET")},getListDefine:function(e){var t="/template/load_template?key=time_mgt_"+e+"_list_define.json";return n.callHcmCloudApi(t,{},"GET")},getBillDefine:function(e){var t="/template/load_template?key=time_mgt_"+e+"_bill_define.json";return n.callHcmCloudApi(t,{},"GET")},getListData:function(e){return n.callHcmOpenApi("time.bill.common.get.list",e)},getListCount:function(e){return n.callHcmOpenApi("time.bill.common.get.list.count",e)},saveBillData:function(e){return n.callHcmOpenApi("time.bill.save.bill.info",e)},delBillData:function(e){return n.callHcmOpenApi("time.bill.delete",e)},getBillData:function(e){return n.callHcmOpenApi("time.bill.get",e)},getLeaveItemList:function(){return n.callHcmOpenApi("leave.item.list",{})},getTripItemList:function(){return n.callHcmOpenApi("business.trip.item.list",{})},getOvertimeItemList:function(){return n.callHcmOpenApi("overtime.item.list",{})},getOvertimeTypeList:function(){return n.callHcmOpenApi("time.overtime.type.new.list",{})},getShiftList:function(){return n.callHcmOpenApi("time.shift.item.new.list",{})},getAttendYears:function(){for(var e=[],t=a()().year(),n=t+5;n>t-5;n--)e.push({value:n.toString(),label:n});return e},getAttendMonths:function(){for(var e=[],t=1;t<=12;t++)e.push({value:t<10?"0"+t.toString():t.toString(),label:t.toString()+"月"});return e},getAttendDays:function(e,t){t=void 0===t?a()().month()+1:t,e=void 0===e?a()().year():e;var n=[],i=31;4==t||6===t||9==t||11==t?i=30:2==t&&(i=e%4==0&&e%100!=0||e%400==0?29:28);for(var o=1;o<=i;o++)n.push({value:o<10?"0"+o.toString():o.toString(),label:o.toString()+"日"});return n},getAttendItem:function(){return n.callHcmOpenApi("time.attend.items",{})},getEmployeePunchInList:function(e,t,i,o,r){return n.callHcmOpenApi("time.punchin.list.by.employee",{employee_id:e,begin_date:t,end_date:i,page_index:o,page_count:r})},getEmployeePunchInListNew:function(e,t){return n.callHcmOpenApi("time.punch.data.get.month.data.punch.list",{employee_id:e,date_:t})},getScheduleSectionListForEmployeeView:function(e,t,i,o){return n.callHcmOpenApi("time.schedule.section.list.join.shift",{date:e,employee_id:o,depart_id:t,is_child_include:i})},getEmployeeLeaveList:function(e,t,i,o,r){return n.callHcmOpenApi("time.leave.list.by.employee",{employee_id:e,begin_date:t,end_date:i,page_index:o,page_count:r})},getEmployeeTypeLeaveList:function(e,t,i,o){return n.callHcmOpenApi("time.leave.list.by.employee.type",{employee_id:e,begin_date:t,end_date:i,leave_type:o},"session")},getEmployeeTripList:function(e,t,i,o,r){return n.callHcmOpenApi("time.trip.list.by.employee",{employee_id:e,begin_date:t,end_date:i,page_index:o,page_count:r})},getEmployeeOverTimeList:function(e,t,i,o,r){return n.callHcmOpenApi("time.overtime.list.by.employee",{employee_id:e,begin_date:t,end_date:i,page_index:o,page_count:r})},getEmployeeFieldWorkList:function(e,t){return n.callHcmOpenApi("time.field_work.list.by.employee",{employee_id:e,date:t})},getMyBillList:function(e){return n.callHcmOpenApi("time.bill.common.get.list",e)},getMyBillListCount:function(e,t,i,o,r){return n.callHcmOpenApi("time.bill.common.get.list.count",{category:e,selector:t,filter:i,emp_filter:o,is_self:r})},getMyWfByBizCount:function(e){return n.callHcmOpenApi("workflow.instance.detail.get.self.list.by.business.count",{business_number:e})},getWfByBiz:function(e){return n.callHcmOpenApi("workflow.get.workflow.by.business.number.department",e)},getEmpMonthWorkinghours:function(e,t,i,o){return n.callHcmOpenApi("time.working_hours.get.emp.month.workinghours",{year:e,month:t,employee_ids:i,depart_id:o})},getMonthCalendar:function(e,t){var n=a()({year:e,month:t-1,day:1}).weekday(),i=[];if(n>0){i[0]=[];for(var r=0;r<n;)i[0].push(void 0),r++}for(var s=a()({year:e,month:t-1,day:1}).daysInMonth(),c=1;c<=s;c++){var l=o()((c+n-1)/7);void 0===i[l]&&(i[l]=[]),i[l].push({date:a()({year:e,month:t-1,day:c}).format("YYYY-MM-DD"),label:c})}return i},getMonthDays:function(e,t){for(var n=[],i=["一","二","三","四","五","六","日"],o=a()({year:e,month:t-1,day:1}).daysInMonth(),r=1;r<=o;r++){var s=a()({year:e,month:t-1,day:r});n.push({date:s.format("YYYY-MM-DD"),weekday:i[s.weekday()],label:r,is_today:s.isSame(a()(),"day")})}return n},getDepartParam:function(e){return n.callHcmOpenApi("time.parameters.setting.depart.param.list",e)},getMonthBegin:function(e,t){return a()({year:e,month:o()(t)-1}).format("YYYY-MM-DD")},getMonthEnd:function(e,t){return a()({year:e,month:o()(t)-1}).endOf("month").format("YYYY-MM-DD")},getMyCenterMenu:function(){return n.callHcmCloudApi("/template/load_template_merge?key=time_my_center_menu.json",{},"GET")},getMyLocation:function(e){return n.callHcmOpenApi("attend.get.emp.location.list",e)},getMyWorkingHours:function(e){return n.callHcmOpenApi("time.working_hours.get.by.year.month.range",e)},getMyWorkingHoursDetail:function(e){return n.callHcmOpenApi("time.working_hours.details.by.year.month",e)},getBizBillDefine:function(e){var t="/template/load_template?key=time_biz_"+e+"_bill_define.json";return n.callHcmCloudApi(t,{},"GET")},getOrgInfo:function(e){return n.callHcmOpenApi("department.get.json.info",e)},initReportWf:function(e,t){return n.callHcmOpenApi(e,t)},exportMgtList:function(e){return n.callHcmOpenApi("time.mgt.list.export",e)},commonModelBillList:function(e){return n.callHcmOpenApi("hcm.model.list",e)},commonModelBillData:function(e){return n.callHcmOpenApi("hcm.model.get",e)},getTreeId:function(e){var t=r.defer();return n.callHcmOpenApi("time.common.execute.model.method",{model_:"Department",_func:"get_tree_id",params:{dept_id:e}}).then((function(e){e.success?t.resolve(e.result):t.reject()})),t.promise},getBizPubInfo:function(e){return n.callHcmOpenApi("business.mode.and.version.get",e)},validateInfo:function(e,t,i){return n.callHcmOpenApi("time.model.validators.check",{info:e,model:t,state:i})}}}]),t.default="TimeCommonService"},c5Ft:function(e,t){e.exports='\n    <div ng-if="$ctrl.options.mode===\'1\'" class="board-template">\n        <div class="mask"></div>\n        <iframe frameborder="0" id="iframe"></iframe>\n    </div>\n    \n    <div ng-if="$ctrl.options.mode===\'2\'" class="board-template">\n        <div class="render"></div>\n    </div>\n'},cDf5:function(e,t){function n(t){return e.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},crAE:function(e,t){e.exports='<div class="home-widget-emp-card-info" ng-init="init()" ng-if="client===\'pc\'">\n    <div class="profile-info-content">\n        <div class="profile"><span class="content" ng-click="empProfile()">{{\'common_home_widget_emp_card_profile_title\'| translate}}</span></div>   \x3c!--个人资料--\x3e\n        <div class="photo" ng-if="view_meta_object.photo">\n            <hc-primary-photo options="view_meta_object.photo.options" ng-model="view_model.data.photo"\n                              class="hc_primary_photo_body"></hc-primary-photo>\n        </div>\n        <div class="desc">\n            <div class="name">{{view_model.data.name}}</div>\n            <div class="extend">\n                <div class="extend-item {{(view_meta_object[item_].options||{}).color}}"\n                     ng-repeat="item_ in extendModel.show_fields.list">\n                    <span ng-if="extendModel.show_fields.show_label && extendModel.show_fields.show_label.includes(item_)">{{view_meta_object[item_].label}}:</span>\n                    <span\n                        ng-bind-html="view_model.data|hcListCellData:view_meta_object[item_]|infoDefault|toTrusted"></span>\n                    <span class="hcm-tip" ng-if="(view_meta_object[item_].options||{}).tip">\n                        <span class="tip icon icon-hcm-question"></span>\n                        <span class="tip-detail">{{(view_meta_object[item_].options.tip|valueToFunc)()}}</span>\n                </span>\n                </div>\n            </div>\n        </div>\n        <div class="user-profile-sign" ng-if="!extendModel.show_sign.hide">\n            <span class="text">{{emp_slogan}}</span>\n            <span class="icon icon-hcm-edit" ng-click="editSlogan()"></span>\n        </div>\n    </div>\n</div>\n'},crp1:function(e,t,n){"use strict";n.d(t,"b",(function(){return G})),n.d(t,"a",(function(){return J}));var i=Uint8Array,o=Uint16Array,r=Uint32Array,a=new i([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),s=new i([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),c=new i([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),l=function(e,t){for(var n=new o(31),i=0;i<31;++i)n[i]=t+=1<<e[i-1];var a=new r(n[30]);for(i=1;i<30;++i)for(var s=n[i];s<n[i+1];++s)a[s]=s-n[i]<<5|i;return[n,a]},u=l(a,2),d=u[0],p=u[1];d[28]=258,p[258]=28;for(var h=l(s,0),f=h[0],_=h[1],m=new o(32768),v=0;v<32768;++v){var g=(43690&v)>>>1|(21845&v)<<1;g=(61680&(g=(52428&g)>>>2|(13107&g)<<2))>>>4|(3855&g)<<4,m[v]=((65280&g)>>>8|(255&g)<<8)>>>1}var b=function(e,t,n){for(var i=e.length,r=0,a=new o(t);r<i;++r)++a[e[r]-1];var s,c=new o(t);for(r=0;r<t;++r)c[r]=c[r-1]+a[r-1]<<1;if(n){s=new o(1<<t);var l=15-t;for(r=0;r<i;++r)if(e[r])for(var u=r<<4|e[r],d=t-e[r],p=c[e[r]-1]++<<d,h=p|(1<<d)-1;p<=h;++p)s[m[p]>>>l]=u}else for(s=new o(i),r=0;r<i;++r)s[r]=m[c[e[r]-1]++]>>>15-e[r];return s},y=new i(288);for(v=0;v<144;++v)y[v]=8;for(v=144;v<256;++v)y[v]=9;for(v=256;v<280;++v)y[v]=7;for(v=280;v<288;++v)y[v]=8;var w=new i(32);for(v=0;v<32;++v)w[v]=5;var x=b(y,9,0),S=b(y,9,1),k=b(w,5,0),$=b(w,5,1),j=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},O=function(e,t,n){var i=t/8>>0;return(e[i]|e[i+1]<<8)>>>(7&t)&n},A=function(e,t){var n=t/8>>0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>>(7&t)},L=function(e){return(e/8>>0)+(7&e&&1)},P=function(e,t,n){(null==t||t<0)&&(t=0),(null==n||n>e.length)&&(n=e.length);var a=new(e instanceof o?o:e instanceof r?r:i)(n-t);return a.set(e.subarray(t,n)),a},D=function(e,t,n){var o=e.length,r=!t||n,l=!n||n.i;n||(n={}),t||(t=new i(3*o));var u=function(e){var n=t.length;if(e>n){var o=new i(Math.max(2*n,e));o.set(t),t=o}},p=n.f||0,h=n.p||0,_=n.b||0,m=n.l,v=n.d,g=n.m,y=n.n,w=8*o;do{if(!m){n.f=p=O(e,h,1);var x=O(e,h+1,3);if(h+=3,!x){var k=e[(q=L(h)+4)-4]|e[q-3]<<8,D=q+k;if(D>o){if(l)throw"unexpected EOF";break}r&&u(_+k),t.set(e.subarray(q,D),_),n.b=_+=k,n.p=h=8*D;continue}if(1==x)m=S,v=$,g=9,y=5;else{if(2!=x)throw"invalid block type";var N=O(e,h,31)+257,C=O(e,h+10,15)+4,M=N+O(e,h+5,31)+1;h+=14;for(var I=new i(M),E=new i(19),B=0;B<C;++B)E[c[B]]=O(e,h+3*B,7);h+=3*C;var F=j(E),R=(1<<F)-1;if(!l&&h+M*(F+7)>w)break;var T=b(E,F,1);for(B=0;B<M;){var q,U=T[O(e,h,R)];if(h+=15&U,(q=U>>>4)<16)I[B++]=q;else{var z=0,W=0;for(16==q?(W=3+O(e,h,3),h+=2,z=I[B-1]):17==q?(W=3+O(e,h,7),h+=3):18==q&&(W=11+O(e,h,127),h+=7);W--;)I[B++]=z}}var H=I.subarray(0,N),K=I.subarray(N);g=j(H),y=j(K),m=b(H,g,1),v=b(K,y,1)}if(h>w)throw"unexpected EOF"}r&&u(_+131072);for(var V=(1<<g)-1,G=(1<<y)-1,J=g+y+18;l||h+J<w;){var Y=(z=m[A(e,h)&V])>>>4;if((h+=15&z)>w)throw"unexpected EOF";if(!z)throw"invalid length/literal";if(Y<256)t[_++]=Y;else{if(256==Y){m=null;break}var X=Y-254;if(Y>264){var Q=a[B=Y-257];X=O(e,h,(1<<Q)-1)+d[B],h+=Q}var Z=v[A(e,h)&G],ee=Z>>>4;if(!Z)throw"invalid distance";h+=15&Z;K=f[ee];if(ee>3){Q=s[ee];K+=A(e,h)&(1<<Q)-1,h+=Q}if(h>w)throw"unexpected EOF";r&&u(_+131072);for(var te=_+X;_<te;_+=4)t[_]=t[_-K],t[_+1]=t[_+1-K],t[_+2]=t[_+2-K],t[_+3]=t[_+3-K];_=te}}n.l=m,n.p=h,n.b=_,m&&(p=1,n.m=g,n.d=v,n.n=y)}while(!p);return _==t.length?t:P(t,0,_)},N=function(e,t,n){n<<=7&t;var i=t/8>>0;e[i]|=n,e[i+1]|=n>>>8},C=function(e,t,n){n<<=7&t;var i=t/8>>0;e[i]|=n,e[i+1]|=n>>>8,e[i+2]|=n>>>16},M=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var a=n.length,s=n.slice();if(!a)return[new i(0),0];if(1==a){var c=new i(n[0].s+1);return c[n[0].s]=1,[c,1]}n.sort((function(e,t){return e.f-t.f})),n.push({s:-1,f:25001});var l=n[0],u=n[1],d=0,p=1,h=2;for(n[0]={s:-1,f:l.f+u.f,l:l,r:u};p!=a-1;)l=n[n[d].f<n[h].f?d++:h++],u=n[d!=p&&n[d].f<n[h].f?d++:h++],n[p++]={s:-1,f:l.f+u.f,l:l,r:u};var f=s[0].s;for(r=1;r<a;++r)s[r].s>f&&(f=s[r].s);var _=new o(f+1),m=I(n[p-1],_,0);if(m>t){r=0;var v=0,g=m-t,b=1<<g;for(s.sort((function(e,t){return _[t.s]-_[e.s]||e.f-t.f}));r<a;++r){var y=s[r].s;if(!(_[y]>t))break;v+=b-(1<<m-_[y]),_[y]=t}for(v>>>=g;v>0;){var w=s[r].s;_[w]<t?v-=1<<t-_[w]++-1:++r}for(;r>=0&&v;--r){var x=s[r].s;_[x]==t&&(--_[x],++v)}m=t}return[new i(_),m]},I=function(e,t,n){return-1==e.s?Math.max(I(e.l,t,n+1),I(e.r,t,n+1)):t[e.s]=n},E=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new o(++t),i=0,r=e[0],a=1,s=function(e){n[i++]=e},c=1;c<=t;++c)if(e[c]==r&&c!=t)++a;else{if(!r&&a>2){for(;a>138;a-=138)s(32754);a>2&&(s(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(s(r),--a;a>6;a-=6)s(8304);a>2&&(s(a-3<<5|8208),a=0)}for(;a--;)s(r);a=1,r=e[c]}return[n.subarray(0,i),t]},B=function(e,t){for(var n=0,i=0;i<t.length;++i)n+=e[i]*t[i];return n},F=function(e,t,n){var i=n.length,o=L(t+2);e[o]=255&i,e[o+1]=i>>>8,e[o+2]=255^e[o],e[o+3]=255^e[o+1];for(var r=0;r<i;++r)e[o+r+4]=n[r];return 8*(o+4+i)},R=function(e,t,n,i,r,l,u,d,p,h,f){N(t,f++,n),++r[256];for(var _=M(r,15),m=_[0],v=_[1],g=M(l,15),S=g[0],$=g[1],j=E(m),O=j[0],A=j[1],L=E(S),P=L[0],D=L[1],I=new o(19),R=0;R<O.length;++R)I[31&O[R]]++;for(R=0;R<P.length;++R)I[31&P[R]]++;for(var T=M(I,7),q=T[0],U=T[1],z=19;z>4&&!q[c[z-1]];--z);var W,H,K,V,G=h+5<<3,J=B(r,y)+B(l,w)+u,Y=B(r,m)+B(l,S)+u+14+3*z+B(I,q)+(2*I[16]+3*I[17]+7*I[18]);if(G<=J&&G<=Y)return F(t,f,e.subarray(p,p+h));if(N(t,f,1+(Y<J)),f+=2,Y<J){W=b(m,v,0),H=m,K=b(S,$,0),V=S;var X=b(q,U,0);N(t,f,A-257),N(t,f+5,D-1),N(t,f+10,z-4),f+=14;for(R=0;R<z;++R)N(t,f+3*R,q[c[R]]);f+=3*z;for(var Q=[O,P],Z=0;Z<2;++Z){var ee=Q[Z];for(R=0;R<ee.length;++R){var te=31&ee[R];N(t,f,X[te]),f+=q[te],te>15&&(N(t,f,ee[R]>>>5&127),f+=ee[R]>>>12)}}}else W=x,H=y,K=k,V=w;for(R=0;R<d;++R)if(i[R]>255){te=i[R]>>>18&31;C(t,f,W[te+257]),f+=H[te+257],te>7&&(N(t,f,i[R]>>>23&31),f+=a[te]);var ne=31&i[R];C(t,f,K[ne]),f+=V[ne],ne>3&&(C(t,f,i[R]>>>5&8191),f+=s[ne])}else C(t,f,W[i[R]]),f+=H[i[R]];return C(t,f,W[256]),f+H[256]},T=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),q=new i(0),U=function(e,t,n,c,l,u){var d=e.length,h=new i(c+d+5*(1+Math.floor(d/7e3))+l),f=h.subarray(c,h.length-l),m=0;if(!t||d<8)for(var v=0;v<=d;v+=65535){var g=v+65535;g<d?m=F(f,m,e.subarray(v,g)):(f[v]=u,m=F(f,m,e.subarray(v,d)))}else{for(var b=T[t-1],y=b>>>13,w=8191&b,x=(1<<n)-1,S=new o(32768),k=new o(x+1),$=Math.ceil(n/3),j=2*$,O=function(t){return(e[t]^e[t+1]<<$^e[t+2]<<j)&x},A=new r(25e3),D=new o(288),N=new o(32),C=0,M=0,I=(v=0,0),E=0,B=0;v<d;++v){var U=O(v),z=32767&v,W=k[U];if(S[z]=W,k[U]=z,E<=v){var H=d-v;if((C>7e3||I>24576)&&H>423){m=R(e,f,0,A,D,N,M,I,B,v-B,m),I=C=M=0,B=v;for(var K=0;K<286;++K)D[K]=0;for(K=0;K<30;++K)N[K]=0}var V=2,G=0,J=w,Y=z-W&32767;if(H>2&&U==O(v-Y))for(var X=Math.min(y,H)-1,Q=Math.min(32767,v),Z=Math.min(258,H);Y<=Q&&--J&&z!=W;){if(e[v+V]==e[v+V-Y]){for(var ee=0;ee<Z&&e[v+ee]==e[v+ee-Y];++ee);if(ee>V){if(V=ee,G=Y,ee>X)break;var te=Math.min(Y,ee-2),ne=0;for(K=0;K<te;++K){var ie=v-Y+K+32768&32767,oe=ie-S[ie]+32768&32767;oe>ne&&(ne=oe,W=ie)}}}Y+=(z=W)-(W=S[z])+32768&32767}if(G){A[I++]=268435456|p[V]<<18|_[G];var re=31&p[V],ae=31&_[G];M+=a[re]+s[ae],++D[257+re],++N[ae],E=v+V,++C}else A[I++]=e[v],++D[e[v]]}}m=R(e,f,u,A,D,N,M,I,B,v-B,m),u||(m=F(f,m,q))}return P(h,0,c+L(m)+l)},z=function(){var e=1,t=0;return{p:function(n){for(var i=e,o=t,r=n.length,a=0;a!=r;){for(var s=Math.min(a+5552,r);a<s;++a)o+=i+=n[a];i%=65521,o%=65521}e=i,t=o},d:function(){return(e>>>8<<16|(255&t)<<8|t>>>8)+2*((255&e)<<23)}}},W=function(e,t,n,i,o){return U(e,null==t.level?6:t.level,null==t.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+t.mem,n,i,!o)},H=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},K=function(e,t){var n=t.level,i=0==n?0:n<6?1:9==n?3:2;e[0]=120,e[1]=i<<6|(i?32-2*i:1)},V=function(e){if(8!=(15&e[0])||e[0]>>>4>7||(e[0]<<8|e[1])%31)throw"invalid zlib data";if(32&e[1])throw"invalid zlib data: preset dictionaries not supported"};function G(e,t){void 0===t&&(t={});var n=z();n.p(e);var i=W(e,t,2,4);return K(i,t),H(i,i.length-4,n.d()),i}function J(e,t){return D((V(e),e.subarray(2,-4)),t)}},dpZS:function(e){e.exports=JSON.parse('{"tip":"","fields":[{"key":"data","label":"数据定义","component":"hc-input-mask","options":{"tip":"在此处定义模板需要使用的数据源","singleLine":false,"width":"col-12","placeholder":"请输入标识","required":false}},{"key":"template","label":"模版定义","component":"hc-input-json","xss_ignore":true,"options":{"data_type":"html","singleLine":false,"required":true,"mode":"html"}},{"key":"mode","label":"模式选择","component":"hc-input-radio","options":{"data_type":"string","singleLine":false,"required":true,"list":[{"value":"1","name":"服务端渲染"},{"value":"2","name":"前端angular渲染"}],"default":"2"}},{"key":"action","label":"方法定义","component":"hc-input-json","options":{"data_type":"json","singleLine":false,"mode":"json"}}]}')},duJL:function(e){e.exports=JSON.parse('{"tip":"","fields":[{"label":"列表模型","key":"model","component":"hc-super-selector","options":{"data_type":"string","individual_name":"name_description","placeholder":"请输入列表模型","returnFormat":"name","selectorObject":"hcm.db.object","maxlength":40,"require":true,"singleLine":true,"sequence":10}},{"key":"state","label":"列表场景","component":"hc-input","options":{"data_type":"string","maxlength":40,"placeholder":"请输入列表场景","singleLine":true}},{"key":"filter_dict","label":"过滤条件","component":"hc-input-script","options":{"singleLine":true,"mode":"json","width":"col-12","placeholder":"请输入过滤条件","sequence":30,"required":false,"refer_data":[{"label":"可选变量"}]}},{"key":"query_str","label":"高级查询","mode":"base","component":"hc-input-query-string","options":{"singleLine":true,"width":"col-12","placeholder":"高级查询","required":false}},{"key":"operates","label":"操作定义","component":"hc-input-json","options":{"data_type":"JSON","sequence":40,"singleLine":true}}]}')},eR5k:function(e,t,n){"use strict";n("sMBO");var i=n("M5Mt"),o=n.n(i),r=n("ZbhI"),a=n.n(r),s=n("/FZm"),c=n.n(s),l=n("RXMP"),u=n.n(l),d=n("mnMc"),p=n.n(d),h=n("5PDf"),f=n.n(h),_=n("WxoT"),m=n.n(_),v=n("FLGM"),g=n.n(v),b=n("NR7K"),y=n.n(b);window.app.controller("NewMostUsedAppAdjustCtrl",["$scope","$hcConfigList","$hcDataset","contextService","$q","homeWidgetMyAppService","IndexService","$filter","$rootScope","hcAutoCopyService",function(e,t,n,i,r,s,l,d,h,_){e.init=function(){e.auth=i.getContext("auth"),e.initComponent()},e.submit=function(){var t=e.parse_app_list_order();t&&(e.$dialog.resolve_data(t),e.$dialog.dialog_close())},e.cancel=function(){e.$dialog.dialog_close()},e.cleanInvalidData=function(){var t,n=g()(t=e.invalid_id).call(t,(function(e){return s.delMostUsedApp(e)}));r.all(n).then((function(){h.show_warning("已清理"+e.invalid_id.length+"条无效记录"),e.initComponent()}))},e.copyAppList=function(){var t;_.copy(m()(g()(t=e.dataset_model.selected_list).call(t,(function(e){return{app_id:e.id,is_service:e.is_service}})))),h.show_warning("已将应用ID复制到剪贴板")},e.operate_meta=[{key:"cancel",label:"取消",func:e.cancel},{key:"submit",label:"确定",default:!0,func:e.submit},{key:"clear_invalid",default:!0,label:"清理无效记录",hide:function(){return!d("getValue")(e,["invalid_id","length"])},left:!0,func:e.cleanInvalidData},{key:"get_app_id_list",label:"复制应用列表",hide:function(){var t,n,i,o;return!((null===(t=e.auth)||void 0===t||null===(n=t.roles)||void 0===n?void 0:n.onlyoneowner)||(null===(i=e.auth)||void 0===i||null===(o=i.roles)||void 0===o?void 0:o["sys-manager"]))},left:!0,func:e.copyAppList}],e.$dialog.operates(e.operate_meta),e.initComponent=function(){var i={favor_app_list:s.getMostUsedAppList(0===e.params.category?["myservice"]:["favorite"],"pc",!0),my_app:l.getMyApplication("pc")};r.all(i).then((function(i){var o,r,a;e.application_list=[],e.my_app=angular.copy(f()(o=i.my_app).call(o,(function(t){var n,i;return 0===e.params.category?p()(n=["员工服务","管理服务","全员服务"]).call(n,t.name):!p()(i=["员工服务","管理服务","全员服务"]).call(i,t.name)}))),e.my_app=g()(r=e.my_app).call(r,(function(t){var n;return t.key=t.id,u()(n=t.applications).call(n,(function(t){t.key=t.id,t.label=t.name,e.application_list.push(t)})),t.fields=t.applications,t})),e.favor_app_list=[],e.invalid_id=[],e.origin_favor_app_list=angular.copy(i.favor_app_list),g()(a=i.favor_app_list.list).call(a,(function(t){var n,i=c()(n=e.application_list).call(n,(function(e){return e.id===t.app_id&&!!e.is_service==!!t.is_service}));d("isValidValue")(i)?(i.sequence=t.sequence,i.favor_id=t.id,e.favor_app_list.push(i)):t.id&&e.invalid_id.push(t.id)})),e.invalid_id.length>0&&h.show_warning('存在不可用的最近应用，如需清理请点击"清理无效记录"'),e.dataset_model=n.createDataset({loader:e.getDatasetData,load_params:[]}),e.dataset_model.$initDataset(),e.dataset_model.selected_list=angular.copy(e.favor_app_list),e.config_model=t.createConfigList({meta:[{width:100,label:"名称",field:["name"]}],data:e.dataset_model.selected_list,show_index:!0,operates:[{icon:"icon-hcm-arrow-cross-up-solid",func:function(t,n){e.operateCondition.move_up(t,n)}},{icon:"icon-hcm-arrow-cross-down-solid",func:function(t,n){e.operateCondition.move_down(t,n)}},{icon:"icon-hcm-delete-circle-solid",func:function(t,n){e.operateCondition.delete(t,n)}}]})}))},e.getDatasetData=function(){var t=r.defer();return t.resolve(e.my_app),t.promise},e.parse_app_list_order=function(){var t,n,i,o;if(!(e.dataset_model.selected_list.length>32)){e.selectedAppList=g()(t=e.dataset_model.selected_list).call(t,(function(e,t){var n;return{id:e.id,sequence:t,is_service:null!==(n=e.is_service)&&void 0!==n&&n}}));var r=[],a=[];g()(n=e.selectedAppList).call(n,(function(t){var n,i=f()(n=e.favor_app_list).call(n,(function(e){return e.id===t.id}))[0];i?(i.parsed=!0,i.favor_id?(t.favor_id=i.favor_id,i.sequence!==t.sequence&&r.push(t)):a.push(t)):a.push(t)}));var s=g()(i=f()(o=e.favor_app_list).call(o,(function(e){return!e.parsed}))).call(i,(function(e){return{id:e.favor_id}}));return{data_to_add:a,data_to_modify:r,data_to_del:s}}h.show_warning("自定义保存的应用不得超过32个")},e.operateCondition={move_up:function(t){var n,i=a()(n=e.dataset_model.selected_list).call(n,t);if(0!==i){var r,s,c=o()(r=e.dataset_model.selected_list).call(r,i,1)[0];o()(s=e.dataset_model.selected_list).call(s,i-1,0,c)}},move_down:function(t){var n,i=a()(n=e.dataset_model.selected_list).call(n,t);if(i!==e.dataset_model.selected_list.length-1){var r,s,c=o()(r=e.dataset_model.selected_list).call(r,i,1)[0];o()(s=e.dataset_model.selected_list).call(s,i+1,0,c)}},delete:function(t){var n,i,r=a()(n=e.dataset_model.selected_list).call(n,t);o()(i=e.dataset_model.selected_list).call(i,r,1)}}}]),t.a={controller:"NewMostUsedAppAdjustCtrl",template:y.a}},f3y0:function(e,t){e.exports='<div class="waterfall-single-content" ng-init="init()">\n    <div ng-if="client==\'pc\'" ng-init="group.fold = childModel.default_fold">\n        <div class="waterfall-component-title" ng-if="!hide_title"><span\n            class="arrow"\n            ng-class="{\n                        \'icon-hcm-arrow-down-solid\': !group.fold,\n                        \'icon-hcm-arrow-right-solid\': group.fold\n                     }"\n            ng-click="group.fold = !group.fold"></span><span ng-bind-html="(childModel.label|valueToFunc)()|toTrusted"></span>\n            <span class="tip icon-hcm-info-normal" ng-if="title_tip"\n                  hc-title="{{(title_tip|valueToFunc)()}}"\n                  options="{mode: \'tip\', seconds: 0, direction: \'column_top\'}"></span>\n            <hc-list-btn model="view_btn_model" class="view_btn_model_mobile"></hc-list-btn>\n        </div>\n        <div class="waterfall-component-content" ng-style="{\'display\':group.fold?\'none\':\'block\'}">\n            <div class="waterfall-tip" ng-if="view_config.waterfall_config.tip">\n                <hc-content-tip content="view_config.waterfall_config.tip" tip-status="true"></hc-content-tip>\n            </div>\n            <hc-view model="view_model" class="view_model"></hc-view>\n        </div>\n    </div>\n    <div ng-if="client==\'mobile\'" class="mobile">\n        <div class="waterfall-tip" ng-if="view_config.waterfall_config.tip">\n            <hc-content-tip content="view_config.waterfall_config.tip" tip-status="true"></hc-content-tip>\n        </div>\n        <div class="title-mobile">\n            <div class="waterfall-component-title" ng-if="!hide_title"><span\n                    class="mobile-arrow"\n                    ng-class="{\n                        \'icon-hcm-arrow-down-solid\': !group.fold,\n                        \'icon-hcm-arrow-right-solid\': group.fold\n                     }"\n                    ng-click="group.fold = !group.fold"\n                    ng-init="group.fold = childModel.default_fold"></span>\n                <span ng-bind-html="(childModel.label|valueToFunc)()|toTrusted"></span>\n                <hc-list-btn model="view_btn_model" class="view_btn_model_mobile"></hc-list-btn>\n            </div>\n        </div>\n        <div class="waterfall-component-content" ng-style="{\'display\':group.fold?\'none\':\'block\'}">\n            <hc-view model="view_model" class="view_model_mobile"></hc-view>\n        </div>\n    </div>\n</div>\n'},fVuE:function(e,t,n){e.exports='<div class="model-list-style" name="{{getIdentityName()}}" ng-class="{\'view\':view}" ng-init="init()">\n    <div class="search-list-top-banner" ng-if="banner_image && client ===\'pc\'">\n        <img ng-src="{{banner_image}}">\n    </div>\n    <div ng-if="client===\'pc\'" class="hcm-nav-content hcm-common-search-list-pc" ng-class="{\'has-banner\': banner_image}">\n        <div class="hcm-content flex">\n            <div class="hcm-content-top">\n                <div class="search">\n                    <form action="" ng-submit="$event.preventDefault()">\n                        <input class="any-search"\n                               ng-model="searchKey.key"\n                               placeholder="{{blur_fields}}"\n                               ng-change="searchKey.change()"\n                               ng-model-options="{debounce:500}">\n                    </form>\n                    <span class="icon icon-hcm-delete" ng-click="clearSearchStr($event)" ng-if="searchKey.key"></span>\n                    <span class="icon icon-hcm-check"\n                          ng-click="searchKey.change()"></span>\n                    <span class="icon icon-hcm-question"\n                          ng-if="list_config && list_config.tip && list_config.tip_config.pc !== \'tile\'"\n                          hc-title="{{(list_config.tip|valueToFunc)()}}"\n                          options="{mode: \'tip\', seconds: 0}"></span>\n                </div>\n                <div class="operate">\n                    <hc-form model=\'visual_search_model\' class="search-form"></hc-form>\n                    <div class="after-form">\n                        <div class="paging-desc">\n                            <div ng-if="!paging.template">{{\'pageTotalCount\'|translate}}<span class="number">\n                                <span ng-show="!paging.is_waitting_show">{{paging.total_count || 0}}</span>\n                                <span class="icon icon-hcm-more-point" ng-show="paging.is_waitting_show"></span>\n                            </span>{{\'pageCountUnit\'|translate}}</div>\n                            <hc-compile ng-if="paging.template" data-template=\'paging.template\'></hc-compile>\n                        </div>\n                        <div class="form-slide-up"\n                             ng-click="visualSearchSlideUp()"\n                             ng-class="{\'fold\': visual_search_form_fold, \'expand\': !visual_search_form_fold}">\n                            {{visual_search_form_fold ? \'展开条件\' : \'收起条件\'}}\n                            <span class="expand-icon" ng-class="{\'icon-hcm-arrow-up\': !visual_search_form_fold, \'icon-hcm-arrow-down\': visual_search_form_fold}"></span>\n                        </div>\n                    </div>\n                    <div class="selected-list" ng-if="selected_list.length > 0">\n                        <div class="selected-list-content">\n                            <div class="item"\n                                 ng-repeat="item in selected_list track by $index">{{item.value}}\n                            <span class="delete-icon icon-hcm-delete-circle-solid" ng-click="deleteSelected(item.key)"></span>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            '+n("IGAs")+'\n        </div>\n    </div>\n    <div ng-if="client === \'mobile\'" class="model-mobile-container hcm-common-search-list-mobile">\n        <div class="model-mobile-page" ng-class="{\'state\':mode == \'state\'}">\n            <div class="model-mobile-body">\n                <img ng-if="background_img_mobile" ng-src="{{background_img_mobile}}" alt="background" class="top-background">\n                <div class="search">\n                    <div class="input-frame" ng-click="showSearchDialog()">\n                        <span class="icon icon-hcm-check" ng-click="searchKey.change()"></span>\n                        <form action="" ng-submit="$event.preventDefault()">\n                            <input class="any-search"\n                                   ng-model="searchKey.key"\n                                   placeholder="{{blur_fields}}"\n                                   ng-change="searchKey.change()"\n                                   ng-model-options="{debounce:500}">\n                        </form>\n                        <span class="icon-hcm-delete-circle-solid delete-search" ng-click="clearSearchStr($event)" ng-if="searchKey.key"></span>\n                    </div>\n                </div>\n                <div class="selected-list" ng-if="selected_list.length > 0">\n                    <div class="selected-list-content">\n                        <div class="item"\n                             ng-repeat="item in selected_list track by $index">{{item.value}}\n                            <span class="delete-icon icon-hcm-delete-circle-solid" ng-click="deleteSelected(item.key)"></span>\n                        </div>\n                    </div>\n                </div>\n                <div class="common-search-list-content">\n                    '+n("sLJd")+'\n                </div>\n            </div>\n        </div>\n    </div>\n    <ui-view ng-if="!$dialog"></ui-view>\n</div>\n'},g0BH:function(e,t,n){"use strict";n.r(t),n.d(t,"hcTimeLineHorizontal",(function(){return l}));n("rB9j"),n("UxlC");var i=n("lHQ6"),o=n.n(i),r=n("FLGM"),a=n.n(r),s=(n("r68t"),n("Ueye")),c=n.n(s),l=function(){function e(e,t,n,i,o){this.$scope=e,this.$rootScope=t,this.$element=n,this.$timeout=i,this.$hcDialog=o,this.current_transform=0,this.client=window.client}return e.prototype.$onInit=function(){var e,t,n,i,o=this;this.current_index=0,null===(t=this.model)||void 0===t||a()(e=t.data).call(e,(function(e,t){"current"===e.type&&(o.current_index=t)})),this.before_num=this.current_index-1>0?this.current_index:0,this.after_num=(null===(n=this.model)||void 0===n?void 0:n.data.length)-(this.current_index+2)>0?(null===(i=this.model)||void 0===i?void 0:i.data.length)-(this.current_index+2):0,this.left_flag=0==this.current_transform,this.right_flag=this.current_transform==100*this.before_num,this.$timeout((function(){var e,t,n;a()(e=$(".rising-channel-info .node")).call(e,(function(e,t){return t.style.transform="translateX("+100*-(o.current_index-1>0?o.current_index-1:0)+"%)"})),o.left_flag=o.current_index<=1,o.right_flag=(null===(t=o.model)||void 0===t?void 0:t.data.length)<=3||(null===(n=o.model)||void 0===n?void 0:n.data.length)-o.current_index==3}),200)},e.prototype.rollNode=function(e){var t,n,i=this,r=$(".rising-channel-info .node");this.current_transform=o()(r[0].style.transform.replace("translateX(","").replace("%)","")||0),"left"==e?this.current_transform=this.current_transform+100:"right"===e&&(this.current_transform=this.current_transform-100),a()(r).call(r,(function(e,t){return t.style.transform="translateX("+i.current_transform+"%)"})),this.left_flag=0==this.current_transform,this.right_flag=!((null===(t=this.model)||void 0===t?void 0:t.data.length)-3>0)||this.current_transform==100*-((null===(n=this.model)||void 0===n?void 0:n.data.length)-3)},e.prototype.nodeClick=function(e){this.$scope.$emit("hc-time-line-node-click",{item:e})},e.$inject=["$scope","$rootScope","$element","$timeout","$hcDialog"],e}();window.app.component("hcTimeLineHorizontal",{bindings:{model:"=ngModel",options:"<?"},controller:l,template:c.a}),t.default={}},g59H:function(e,t){e.exports='<div class="recruit-judge-label">\n    <div class="label-title">\n        <span class="{{$ctrl.title_icon}} icon"></span>\n        <span class="label">{{$ctrl.title_label}}</span>\n    </div>\n    <div class="no-label-tip" ng-if="$ctrl.label_list.length == 0">\n        <span>还没有标签？立即添加^_^</span>\n    </div>\n    <div class="label-operate-area">\n        <hc-input-label-multi options="$ctrl.label_options"\n                              ng-model="$ctrl.label_list"></hc-input-label-multi>\n    </div>\n</div>\n'},g7ma:function(e){e.exports=JSON.parse('{"tip":"","fields":[{"key":"data","label":"数据定义","component":"hc-input-mask","options":{"tip":"在此处定义需要使用的数据源","singleLine":true,"width":"col-12","placeholder":"请输入标识","required":false}},{"key":"getCountKey","label":"取值字段","component":"hc-input","options":{"singleLine":true,"width":"col-12","placeholder":"请输入","required":false}}]}')},goxq:function(e,t){e.exports='<div class="super-search-mobile" ng-init="init()">\n    <hc-form model=\'base_form\' class="super-search-form"></hc-form>\n</div>\n\n'},gyxr:function(e,t){e.exports='<div class="board-common-used-app" ng-class="$ctrl.options.class">\n    <div class="no-data" ng-if="$ctrl.app_list&&$ctrl.app_list.length<1&&$ctrl.client===\'pc\' && $ctrl.options.position !== \'inner\'">\n        <hc-svg options="{icon:\'hcm-no-content\'}"></hc-svg>\n        <div class="label">{{\'common_home_widget_my_app_no_content\'|translate}}</div>  \x3c!--当前没有内容--\x3e\n    </div>\n    <div class="app-list" ng-show="$ctrl.app_list && ($ctrl.app_list.length > 0 || $ctrl.options.position === \'inner\')">\n        <div class="item-container" ng-repeat="page in $ctrl.app_pages track by $index">\n            <div class="app-item-wrapper" ng-repeat="_app in page track by $index">\n                <a class="app-item"\n                   ng-if="$ctrl.client===\'pc\'"\n                   ng-class="{\'from-role\': _app.from_role}"\n                   ng-href="{{_app.href}}"\n                   ng-click="$ctrl.go_app(_app, $event)"\n                   ng-attr-target="{{($ctrl.is_open_new_page || _app.open_new_page)?\'_blank\':\'_self\'}}">\n                    <hc-icon app="_app" options="\'icon-top\'"></hc-icon>\n                    <div class="label"\n                         hc-title="{{$ctrl.app_title_description ? _app.description : _app.name}}"\n                         options="{mode: \'tip\', showOnOverflow: !$ctrl.app_title_description}">\n                        {{_app.name}}\n                    </div>\n                </a>\n                <div class="app-item"\n                     ng-if="$ctrl.client===\'mobile\'"\n                     ng-class="{\'from-role\': _app.from_role}"\n                     ng-click="$ctrl.go_app(_app, $event)">\n                    <hc-icon app="_app" options="\'icon-top\'"></hc-icon>\n                    <div class="label" hc-title="{{$ctrl.app_title_description ? _app.description : _app.name}}"\n                         options="{mode: \'tip\', showOnOverflow: !$ctrl.app_title_description}">\n                        {{_app.name}}\n                    </div>\n                </div>\n            </div>\n            <div class="add-app"\n                 ng-repeat="operate in $ctrl.operates track by $index"\n                 ng-if="$ctrl.current_page===$ctrl.app_pages.length - 1\n                        && $ctrl.options.position === \'inner\'\n                        && $ctrl.options.adjustable === true"\n                 ng-show="$ctrl.currentTab===operate.key "\n                 ng-click="operate.func(operate)">\n                <div class="add-app-icon">\n                    <div class="icon icon-hcm-add"></div>\n                    <span class="label">添加收藏</span>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="page-index-bar" ng-if="$ctrl.app_pages.length > 1&&$ctrl.client===\'pc\'">\n        <div class="index-bar-item" ng-repeat="(index, _) in $ctrl.app_pages track by $index"\n             ng-class="{\'selected\': $ctrl.current_page === index}" ng-click="$ctrl.changePage(index)"></div>\n    </div>\n</div>\n'},i680:function(e,t,n){"use strict";(function(e){var i=n("cDf5"),o=n.n(i),r=n("crp1"),a=function(){return"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:this}();function s(){a.console&&"function"==typeof a.console.log&&a.console.log.apply(a.console,arguments)}var c={log:s,warn:function(e){a.console&&("function"==typeof a.console.warn?a.console.warn.apply(a.console,arguments):s.call(null,arguments))},error:function(e){a.console&&("function"==typeof a.console.error?a.console.error.apply(a.console,arguments):s(e))}};function l(e,t,n){var i=new XMLHttpRequest;i.open("GET",e),i.responseType="blob",i.onload=function(){f(i.response,t,n)},i.onerror=function(){c.error("could not download file")},i.send()}function u(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return t.status>=200&&t.status<=299}function d(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(n){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var p,h,f=a.saveAs||("object"!==("undefined"==typeof window?"undefined":o()(window))||window!==a?function(){}:"undefined"!=typeof HTMLAnchorElement&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var i=a.URL||a.webkitURL,o=document.createElement("a");t=t||e.name||"download",o.download=t,o.rel="noopener","string"==typeof e?(o.href=e,o.origin!==location.origin?u(o.href)?l(e,t,n):d(o,o.target="_blank"):d(o)):(o.href=i.createObjectURL(e),setTimeout((function(){i.revokeObjectURL(o.href)}),4e4),setTimeout((function(){d(o)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download","string"==typeof e)if(u(e))l(e,t,n);else{var i=document.createElement("a");i.href=e,i.target="_blank",setTimeout((function(){d(i)}))}else navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!==o()(t)&&(c.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e}(e,n),t)}:function(e,t,n,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof e)return l(e,t,n);var r="application/octet-stream"===e.type,s=/constructor/i.test(a.HTMLElement)||a.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||r&&s)&&"object"===("undefined"==typeof FileReader?"undefined":o()(FileReader))){var u=new FileReader;u.onloadend=function(){var e=u.result;e=c?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=e:location=e,i=null},u.readAsDataURL(e)}else{var d=a.URL||a.webkitURL,p=d.createObjectURL(e);i?i.location=p:location.href=p,i=null,setTimeout((function(){d.revokeObjectURL(p)}),4e4)}});function _(e){var t;e=e||"",this.ok=!1,"#"==e.charAt(0)&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}],i=0;i<n.length;i++){var o=n[i].re,r=n[i].process,a=o.exec(e);a&&(t=r(a),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var e=this.r.toString(16),t=this.g.toString(16),n=this.b.toString(16);return 1==e.length&&(e="0"+e),1==t.length&&(t="0"+t),1==n.length&&(n="0"+n),"#"+e+t+n}}function m(e,t){var n=e[0],i=e[1],o=e[2],r=e[3];n=g(n,i,o,r,t[0],7,-680876936),r=g(r,n,i,o,t[1],12,-389564586),o=g(o,r,n,i,t[2],17,606105819),i=g(i,o,r,n,t[3],22,-1044525330),n=g(n,i,o,r,t[4],7,-176418897),r=g(r,n,i,o,t[5],12,1200080426),o=g(o,r,n,i,t[6],17,-1473231341),i=g(i,o,r,n,t[7],22,-45705983),n=g(n,i,o,r,t[8],7,1770035416),r=g(r,n,i,o,t[9],12,-1958414417),o=g(o,r,n,i,t[10],17,-42063),i=g(i,o,r,n,t[11],22,-1990404162),n=g(n,i,o,r,t[12],7,1804603682),r=g(r,n,i,o,t[13],12,-40341101),o=g(o,r,n,i,t[14],17,-1502002290),n=b(n,i=g(i,o,r,n,t[15],22,1236535329),o,r,t[1],5,-165796510),r=b(r,n,i,o,t[6],9,-1069501632),o=b(o,r,n,i,t[11],14,643717713),i=b(i,o,r,n,t[0],20,-373897302),n=b(n,i,o,r,t[5],5,-701558691),r=b(r,n,i,o,t[10],9,38016083),o=b(o,r,n,i,t[15],14,-660478335),i=b(i,o,r,n,t[4],20,-405537848),n=b(n,i,o,r,t[9],5,568446438),r=b(r,n,i,o,t[14],9,-1019803690),o=b(o,r,n,i,t[3],14,-187363961),i=b(i,o,r,n,t[8],20,1163531501),n=b(n,i,o,r,t[13],5,-1444681467),r=b(r,n,i,o,t[2],9,-51403784),o=b(o,r,n,i,t[7],14,1735328473),n=y(n,i=b(i,o,r,n,t[12],20,-1926607734),o,r,t[5],4,-378558),r=y(r,n,i,o,t[8],11,-2022574463),o=y(o,r,n,i,t[11],16,1839030562),i=y(i,o,r,n,t[14],23,-35309556),n=y(n,i,o,r,t[1],4,-1530992060),r=y(r,n,i,o,t[4],11,1272893353),o=y(o,r,n,i,t[7],16,-155497632),i=y(i,o,r,n,t[10],23,-1094730640),n=y(n,i,o,r,t[13],4,681279174),r=y(r,n,i,o,t[0],11,-358537222),o=y(o,r,n,i,t[3],16,-722521979),i=y(i,o,r,n,t[6],23,76029189),n=y(n,i,o,r,t[9],4,-640364487),r=y(r,n,i,o,t[12],11,-421815835),o=y(o,r,n,i,t[15],16,530742520),n=w(n,i=y(i,o,r,n,t[2],23,-995338651),o,r,t[0],6,-198630844),r=w(r,n,i,o,t[7],10,1126891415),o=w(o,r,n,i,t[14],15,-1416354905),i=w(i,o,r,n,t[5],21,-57434055),n=w(n,i,o,r,t[12],6,1700485571),r=w(r,n,i,o,t[3],10,-1894986606),o=w(o,r,n,i,t[10],15,-1051523),i=w(i,o,r,n,t[1],21,-2054922799),n=w(n,i,o,r,t[8],6,1873313359),r=w(r,n,i,o,t[15],10,-30611744),o=w(o,r,n,i,t[6],15,-1560198380),i=w(i,o,r,n,t[13],21,1309151649),n=w(n,i,o,r,t[4],6,-145523070),r=w(r,n,i,o,t[11],10,-1120210379),o=w(o,r,n,i,t[2],15,718787259),i=w(i,o,r,n,t[9],21,-343485551),e[0]=L(n,e[0]),e[1]=L(i,e[1]),e[2]=L(o,e[2]),e[3]=L(r,e[3])}function v(e,t,n,i,o,r){return t=L(L(t,e),L(i,r)),L(t<<o|t>>>32-o,n)}function g(e,t,n,i,o,r,a){return v(t&n|~t&i,e,t,o,r,a)}function b(e,t,n,i,o,r,a){return v(t&i|n&~i,e,t,o,r,a)}function y(e,t,n,i,o,r,a){return v(t^n^i,e,t,o,r,a)}function w(e,t,n,i,o,r,a){return v(n^(t|~i),e,t,o,r,a)}function x(e){var t,n=e.length,i=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)m(i,S(e.substring(t-64,t)));e=e.substring(t-64);var o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)o[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(o[t>>2]|=128<<(t%4<<3),t>55)for(m(i,o),t=0;t<16;t++)o[t]=0;return o[14]=8*n,m(i,o),i}function S(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}p=a.atob.bind(a),h=a.btoa.bind(a);var k="0123456789abcdef".split("");function $(e){for(var t="",n=0;n<4;n++)t+=k[e>>8*n+4&15]+k[e>>8*n&15];return t}function j(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function O(e){return x(e).map(j).join("")}var A="5d41402abc4b2a76b9719d911017c592"!=function(e){for(var t=0;t<e.length;t++)e[t]=$(e[t]);return e.join("")}(x("hello"));function L(e,t){if(A){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}function P(e,t){var n,i,o,r;if(e!==n){for(var a=(o=e,r=1+(256/e.length>>0),new Array(r+1).join(o)),s=[],c=0;c<256;c++)s[c]=c;var l=0;for(c=0;c<256;c++){var u=s[c];l=(l+u+a.charCodeAt(c))%256,s[c]=s[l],s[l]=u}n=e,i=s}else s=i;var d=t.length,p=0,h=0,f="";for(c=0;c<d;c++)h=(h+(u=s[p=(p+1)%256]))%256,s[p]=s[h],s[h]=u,a=s[(s[p]+s[h])%256],f+=String.fromCharCode(t.charCodeAt(c)^a);return f}var D={print:4,modify:8,copy:16,"annot-forms":32};function N(e,t,n,i){this.v=1,this.r=2;var o=192;e.forEach((function(e){if(void 0!==D.perm)throw new Error("Invalid permission: "+e);o+=D[e]})),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var r=(t+this.padding).substr(0,32),a=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(r,a),this.P=-(1+(255^o)),this.encryptionKey=O(r+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=P(this.encryptionKey,this.padding)}function C(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,i=0;i<n;i++){var o=e.charCodeAt(i);t+=o<33||35===o||37===o||40===o||41===o||47===o||60===o||62===o||91===o||93===o||123===o||125===o||o>126?"#"+("0"+o.toString(16)).slice(-2):e[i]}return t}function M(e){if("object"!==o()(e))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,n,i){if(i=i||!1,"string"!=typeof e||"function"!=typeof n||"boolean"!=typeof i)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var o=Math.random().toString(35);return t[e][o]=[n,!!i],o},this.unsubscribe=function(e){for(var n in t)if(t[n][e])return delete t[n][e],0===Object.keys(t[n]).length&&delete t[n],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var i=Array.prototype.slice.call(arguments,1),o=[];for(var r in t[n]){var s=t[n][r];try{s[0].apply(e,i)}catch(n){a.console&&c.error("jsPDF PubSub Error",n.message,n)}s[1]&&o.push(r)}o.length&&o.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function I(e){if(!(this instanceof I))return new I(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function E(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function B(e,t,n,i,o){if(!(this instanceof B))return new B(e,t,n,i,o);this.type="axial"===e?2:3,this.coords=t,this.colors=n,E.call(this,i,o)}function F(e,t,n,i,o){if(!(this instanceof F))return new F(e,t,n,i,o);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,E.call(this,i,o)}function R(e){var t,n="string"==typeof arguments[0]?arguments[0]:"p",i=arguments[1],r=arguments[2],s=arguments[3],l=[],u=1,d=16,p="S",m=null;"object"===o()(e=e||{})&&(n=e.orientation,i=e.unit||i,r=e.format||r,s=e.compress||e.compressPdf||s,null!==(m=e.encryption||null)&&(m.userPassword=m.userPassword||"",m.ownerPassword=m.ownerPassword||"",m.userPermissions=m.userPermissions||[]),u="number"==typeof e.userUnit?Math.abs(e.userUnit):1,void 0!==e.precision&&(t=e.precision),void 0!==e.floatPrecision&&(d=e.floatPrecision),p=e.defaultPathOperation||"S"),l=e.filters||(!0===s?["FlateEncode"]:l),i=i||"mm",n=(""+(n||"P")).toLowerCase();var v=e.putOnlyUsedFonts||!1,g={},b={internal:{},__private__:{}};b.__private__.PubSub=M;var y="1.3",w=b.__private__.getPdfVersion=function(){return y};b.__private__.setPdfVersion=function(e){y=e};var x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};b.__private__.getPageFormats=function(){return x};var S=b.__private__.getPageFormat=function(e){return x[e]};r=r||"a4";var k={COMPAT:"compat",ADVANCED:"advanced"},$=k.COMPAT;function j(){this.saveGraphicsState(),de(new He(je,0,0,-je,0,Tn()*je).toString()+" cm"),this.setFontSize(this.getFontSize()/je),p="n",$=k.ADVANCED}function O(){this.restoreGraphicsState(),p="S",$=k.COMPAT}var A=b.__private__.combineFontStyleAndFontWeight=function(e,t){if("bold"==e&&"normal"==t||"bold"==e&&400==t||"normal"==e&&"italic"==t||"bold"==e&&"italic"==t)throw new Error("Invalid Combination of fontweight and fontstyle");return t&&(e=400==t||"normal"===t?"italic"===e?"italic":"normal":700!=t&&"bold"!==t||"normal"!==e?(700==t?"bold":t)+""+e:"bold"),e};b.advancedAPI=function(e){var t=$===k.COMPAT;return t&&j.call(this),"function"!=typeof e||(e(this),t&&O.call(this)),this},b.compatAPI=function(e){var t=$===k.ADVANCED;return t&&O.call(this),"function"!=typeof e||(e(this),t&&j.call(this)),this},b.isAdvancedAPI=function(){return $===k.ADVANCED};var L,P=function(e){if($!==k.ADVANCED)throw new Error(e+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},D=b.roundToPrecision=b.__private__.roundToPrecision=function(e,n){var i=t||n;if(isNaN(e)||isNaN(i))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return e.toFixed(i).replace(/0+$/,"")};L=b.hpf=b.__private__.hpf="number"==typeof d?function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return D(e,d)}:"smart"===d?function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return D(e,e>-1&&e<1?16:5)}:function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return D(e,16)};var E=b.f2=b.__private__.f2=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.f2");return D(e,2)},T=b.__private__.f3=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.f3");return D(e,3)},q=b.scale=b.__private__.scale=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.scale");return $===k.COMPAT?e*je:$===k.ADVANCED?e:void 0},U=function(e){return $===k.COMPAT?Tn()-e:$===k.ADVANCED?e:void 0},z=function(e){return q(U(e))};b.__private__.setPrecision=b.setPrecision=function(e){"number"==typeof parseInt(e,10)&&(t=parseInt(e,10))};var W,H="00000000000000000000000000000000",K=b.__private__.getFileId=function(){return H},V=b.__private__.setFileId=function(e){return H=void 0!==e&&/^[a-fA-F0-9]{32}$/.test(e)?e.toUpperCase():H.split("").map((function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))})).join(""),null!==m&&(Vt=new N(m.userPermissions,m.userPassword,m.ownerPassword,H)),H};b.setFileId=function(e){return V(e),this},b.getFileId=function(){return K()};var G=b.__private__.convertDateToPDFDate=function(e){var t=e.getTimezoneOffset(),n=t<0?"+":"-",i=Math.floor(Math.abs(t/60)),o=Math.abs(t%60),r=[n,Z(i),"'",Z(o),"'"].join("");return["D:",e.getFullYear(),Z(e.getMonth()+1),Z(e.getDate()),Z(e.getHours()),Z(e.getMinutes()),Z(e.getSeconds()),r].join("")},J=b.__private__.convertPDFDateToDate=function(e){var t=parseInt(e.substr(2,4),10),n=parseInt(e.substr(6,2),10)-1,i=parseInt(e.substr(8,2),10),o=parseInt(e.substr(10,2),10),r=parseInt(e.substr(12,2),10),a=parseInt(e.substr(14,2),10);return new Date(t,n,i,o,r,a,0)},Y=b.__private__.setCreationDate=function(e){var t;if(void 0===e&&(e=new Date),e instanceof Date)t=G(e);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(e))throw new Error("Invalid argument passed to jsPDF.setCreationDate");t=e}return W=t},X=b.__private__.getCreationDate=function(e){var t=W;return"jsDate"===e&&(t=J(W)),t};b.setCreationDate=function(e){return Y(e),this},b.getCreationDate=function(e){return X(e)};var Q,Z=b.__private__.padd2=function(e){return("0"+parseInt(e)).slice(-2)},ee=b.__private__.padd2Hex=function(e){return("00"+(e=e.toString())).substr(e.length)},te=0,ne=[],ie=[],oe=0,re=[],ae=[],se=!1,ce=ie,le=function(){te=0,oe=0,ie=[],ne=[],re=[],Ze=Ye(),et=Ye()};b.__private__.setCustomOutputDestination=function(e){se=!0,ce=e};var ue=function(e){se||(ce=e)};b.__private__.resetCustomOutputDestination=function(){se=!1,ce=ie};var de=b.__private__.out=function(e){return e=e.toString(),oe+=e.length+1,ce.push(e),ce},pe=b.__private__.write=function(e){return de(1===arguments.length?e.toString():Array.prototype.join.call(arguments," "))},he=b.__private__.getArrayBuffer=function(e){for(var t=e.length,n=new ArrayBuffer(t),i=new Uint8Array(n);t--;)i[t]=e.charCodeAt(t);return n},fe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];b.__private__.getStandardFonts=function(){return fe};var _e=e.fontSize||16;b.__private__.setFontSize=b.setFontSize=function(e){return _e=$===k.ADVANCED?e/je:e,this};var me,ve=b.__private__.getFontSize=b.getFontSize=function(){return $===k.COMPAT?_e:_e*je},ge=e.R2L||!1;b.__private__.setR2L=b.setR2L=function(e){return ge=e,this},b.__private__.getR2L=b.getR2L=function(){return ge};var be,ye=b.__private__.setZoomMode=function(e){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(e))me=e;else if(isNaN(e)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(e))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+e+'" is not recognized.');me=e}else me=parseInt(e,10)};b.__private__.getZoomMode=function(){return me};var we,xe=b.__private__.setPageMode=function(e){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(e))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+e+'" is not recognized.');be=e};b.__private__.getPageMode=function(){return be};var Se=b.__private__.setLayoutMode=function(e){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(e))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+e+'" is not recognized.');we=e};b.__private__.getLayoutMode=function(){return we},b.__private__.setDisplayMode=b.setDisplayMode=function(e,t,n){return ye(e),Se(t),xe(n),this};var ke={title:"",subject:"",author:"",keywords:"",creator:""};b.__private__.getDocumentProperty=function(e){if(-1===Object.keys(ke).indexOf(e))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ke[e]},b.__private__.getDocumentProperties=function(){return ke},b.__private__.setDocumentProperties=b.setProperties=b.setDocumentProperties=function(e){for(var t in ke)ke.hasOwnProperty(t)&&e[t]&&(ke[t]=e[t]);return this},b.__private__.setDocumentProperty=function(e,t){if(-1===Object.keys(ke).indexOf(e))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ke[e]=t};var $e,je,Oe,Ae,Le,Pe={},De={},Ne=[],Ce={},Me={},Ie={},Ee={},Be=null,Fe=0,Re=[],Te=new M(b),qe=e.hotfixes||[],Ue={},ze={},We=[],He=function e(t,n,i,o,r,a){if(!(this instanceof e))return new e(t,n,i,o,r,a);isNaN(t)&&(t=1),isNaN(n)&&(n=0),isNaN(i)&&(i=0),isNaN(o)&&(o=1),isNaN(r)&&(r=0),isNaN(a)&&(a=0),this._matrix=[t,n,i,o,r,a]};Object.defineProperty(He.prototype,"sx",{get:function(){return this._matrix[0]},set:function(e){this._matrix[0]=e}}),Object.defineProperty(He.prototype,"shy",{get:function(){return this._matrix[1]},set:function(e){this._matrix[1]=e}}),Object.defineProperty(He.prototype,"shx",{get:function(){return this._matrix[2]},set:function(e){this._matrix[2]=e}}),Object.defineProperty(He.prototype,"sy",{get:function(){return this._matrix[3]},set:function(e){this._matrix[3]=e}}),Object.defineProperty(He.prototype,"tx",{get:function(){return this._matrix[4]},set:function(e){this._matrix[4]=e}}),Object.defineProperty(He.prototype,"ty",{get:function(){return this._matrix[5]},set:function(e){this._matrix[5]=e}}),Object.defineProperty(He.prototype,"a",{get:function(){return this._matrix[0]},set:function(e){this._matrix[0]=e}}),Object.defineProperty(He.prototype,"b",{get:function(){return this._matrix[1]},set:function(e){this._matrix[1]=e}}),Object.defineProperty(He.prototype,"c",{get:function(){return this._matrix[2]},set:function(e){this._matrix[2]=e}}),Object.defineProperty(He.prototype,"d",{get:function(){return this._matrix[3]},set:function(e){this._matrix[3]=e}}),Object.defineProperty(He.prototype,"e",{get:function(){return this._matrix[4]},set:function(e){this._matrix[4]=e}}),Object.defineProperty(He.prototype,"f",{get:function(){return this._matrix[5]},set:function(e){this._matrix[5]=e}}),Object.defineProperty(He.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(He.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(He.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(He.prototype,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),He.prototype.join=function(e){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(L).join(e)},He.prototype.multiply=function(e){var t=e.sx*this.sx+e.shy*this.shx,n=e.sx*this.shy+e.shy*this.sy,i=e.shx*this.sx+e.sy*this.shx,o=e.shx*this.shy+e.sy*this.sy,r=e.tx*this.sx+e.ty*this.shx+this.tx,a=e.tx*this.shy+e.ty*this.sy+this.ty;return new He(t,n,i,o,r,a)},He.prototype.decompose=function(){var e=this.sx,t=this.shy,n=this.shx,i=this.sy,o=this.tx,r=this.ty,a=Math.sqrt(e*e+t*t),s=(e/=a)*n+(t/=a)*i;n-=e*s,i-=t*s;var c=Math.sqrt(n*n+i*i);return s/=c,e*(i/=c)<t*(n/=c)&&(e=-e,t=-t,s=-s,a=-a),{scale:new He(a,0,0,c,0,0),translate:new He(1,0,0,1,o,r),rotate:new He(e,t,-t,e,0,0),skew:new He(1,0,s,1,0,0)}},He.prototype.toString=function(e){return this.join(" ")},He.prototype.inversed=function(){var e=this.sx,t=this.shy,n=this.shx,i=this.sy,o=this.tx,r=this.ty,a=1/(e*i-t*n),s=i*a,c=-t*a,l=-n*a,u=e*a;return new He(s,c,l,u,-s*o-l*r,-c*o-u*r)},He.prototype.applyToPoint=function(e){var t=e.x*this.sx+e.y*this.shx+this.tx,n=e.x*this.shy+e.y*this.sy+this.ty;return new Nn(t,n)},He.prototype.applyToRectangle=function(e){var t=this.applyToPoint(e),n=this.applyToPoint(new Nn(e.x+e.w,e.y+e.h));return new Cn(t.x,t.y,n.x-t.x,n.y-t.y)},He.prototype.clone=function(){var e=this.sx,t=this.shy,n=this.shx,i=this.sy,o=this.tx,r=this.ty;return new He(e,t,n,i,o,r)},b.Matrix=He;var Ke=b.matrixMult=function(e,t){return t.multiply(e)},Ve=new He(1,0,0,1,0,0);b.unitMatrix=b.identityMatrix=Ve;var Ge=function(e,t){if(!Me[e]){var n=(t instanceof B?"Sh":"P")+(Object.keys(Ce).length+1).toString(10);t.id=n,Me[e]=n,Ce[n]=t,Te.publish("addPattern",t)}};b.ShadingPattern=B,b.TilingPattern=F,b.addShadingPattern=function(e,t){return P("addShadingPattern()"),Ge(e,t),this},b.beginTilingPattern=function(e){P("beginTilingPattern()"),In(e.boundingBox[0],e.boundingBox[1],e.boundingBox[2]-e.boundingBox[0],e.boundingBox[3]-e.boundingBox[1],e.matrix)},b.endTilingPattern=function(e,t){P("endTilingPattern()"),t.stream=ae[Q].join("\n"),Ge(e,t),Te.publish("endTilingPattern",t),We.pop().restore()};var Je=b.__private__.newObject=function(){var e=Ye();return Xe(e,!0),e},Ye=b.__private__.newObjectDeferred=function(){return te++,ne[te]=function(){return oe},te},Xe=function(e,t){return t="boolean"==typeof t&&t,ne[e]=oe,t&&de(e+" 0 obj"),e},Qe=b.__private__.newAdditionalObject=function(){var e={objId:Ye(),content:""};return re.push(e),e},Ze=Ye(),et=Ye(),tt=b.__private__.decodeColorString=function(e){var t=e.split(" ");if(2!==t.length||"g"!==t[1]&&"G"!==t[1])5!==t.length||"k"!==t[4]&&"K"!==t[4]||(t=[(1-t[0])*(1-t[3]),(1-t[1])*(1-t[3]),(1-t[2])*(1-t[3]),"r"]);else{var n=parseFloat(t[0]);t=[n,n,n,"r"]}for(var i="#",o=0;o<3;o++)i+=("0"+Math.floor(255*parseFloat(t[o])).toString(16)).slice(-2);return i},nt=b.__private__.encodeColorString=function(e){var t;"string"==typeof e&&(e={ch1:e});var n=e.ch1,i=e.ch2,r=e.ch3,a=e.ch4,s="draw"===e.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof n&&"#"!==n.charAt(0)){var c=new _(n);if(c.ok)n=c.toHex();else if(!/^\d*\.?\d*$/.test(n))throw new Error('Invalid color "'+n+'" passed to jsPDF.encodeColorString.')}if("string"==typeof n&&/^#[0-9A-Fa-f]{3}$/.test(n)&&(n="#"+n[1]+n[1]+n[2]+n[2]+n[3]+n[3]),"string"==typeof n&&/^#[0-9A-Fa-f]{6}$/.test(n)){var l=parseInt(n.substr(1),16);n=l>>16&255,i=l>>8&255,r=255&l}if(void 0===i||void 0===a&&n===i&&i===r)if("string"==typeof n)t=n+" "+s[0];else switch(e.precision){case 2:t=E(n/255)+" "+s[0];break;case 3:default:t=T(n/255)+" "+s[0]}else if(void 0===a||"object"===o()(a)){if(a&&!isNaN(a.a)&&0===a.a)return["1.","1.","1.",s[1]].join(" ");if("string"==typeof n)t=[n,i,r,s[1]].join(" ");else switch(e.precision){case 2:t=[E(n/255),E(i/255),E(r/255),s[1]].join(" ");break;default:case 3:t=[T(n/255),T(i/255),T(r/255),s[1]].join(" ")}}else if("string"==typeof n)t=[n,i,r,a,s[2]].join(" ");else switch(e.precision){case 2:t=[E(n),E(i),E(r),E(a),s[2]].join(" ");break;case 3:default:t=[T(n),T(i),T(r),T(a),s[2]].join(" ")}return t},it=b.__private__.getFilters=function(){return l},ot=b.__private__.putStream=function(e){var t=(e=e||{}).data||"",n=e.filters||it(),i=e.alreadyAppliedFilters||[],o=e.addLength1||!1,r=t.length,a=e.objectId,s=function(e){return e};if(null!==m&&void 0===a)throw new Error("ObjectId must be passed to putStream for file encryption");null!==m&&(s=Vt.encryptor(a,0));var c={};!0===n&&(n=["FlateEncode"]);var l=e.additionalKeyValues||[],u=(c=void 0!==R.API.processDataByFilters?R.API.processDataByFilters(t,n):{data:t,reverseChain:[]}).reverseChain+(Array.isArray(i)?i.join(" "):i.toString());if(0!==c.data.length&&(l.push({key:"Length",value:c.data.length}),!0===o&&l.push({key:"Length1",value:r})),0!=u.length)if(u.split("/").length-1==1)l.push({key:"Filter",value:u});else{l.push({key:"Filter",value:"["+u+"]"});for(var d=0;d<l.length;d+=1)if("DecodeParms"===l[d].key){for(var p=[],h=0;h<c.reverseChain.split("/").length-1;h+=1)p.push("null");p.push(l[d].value),l[d].value="["+p.join(" ")+"]"}}de("<<");for(var f=0;f<l.length;f++)de("/"+l[f].key+" "+l[f].value);de(">>"),0!==c.data.length&&(de("stream"),de(s(c.data)),de("endstream"))},rt=b.__private__.putPage=function(e){var t=e.number,n=e.data,i=e.objId,o=e.contentsObjId;Xe(i,!0),de("<</Type /Page"),de("/Parent "+e.rootDictionaryObjId+" 0 R"),de("/Resources "+e.resourceDictionaryObjId+" 0 R"),de("/MediaBox ["+parseFloat(L(e.mediaBox.bottomLeftX))+" "+parseFloat(L(e.mediaBox.bottomLeftY))+" "+L(e.mediaBox.topRightX)+" "+L(e.mediaBox.topRightY)+"]"),null!==e.cropBox&&de("/CropBox ["+L(e.cropBox.bottomLeftX)+" "+L(e.cropBox.bottomLeftY)+" "+L(e.cropBox.topRightX)+" "+L(e.cropBox.topRightY)+"]"),null!==e.bleedBox&&de("/BleedBox ["+L(e.bleedBox.bottomLeftX)+" "+L(e.bleedBox.bottomLeftY)+" "+L(e.bleedBox.topRightX)+" "+L(e.bleedBox.topRightY)+"]"),null!==e.trimBox&&de("/TrimBox ["+L(e.trimBox.bottomLeftX)+" "+L(e.trimBox.bottomLeftY)+" "+L(e.trimBox.topRightX)+" "+L(e.trimBox.topRightY)+"]"),null!==e.artBox&&de("/ArtBox ["+L(e.artBox.bottomLeftX)+" "+L(e.artBox.bottomLeftY)+" "+L(e.artBox.topRightX)+" "+L(e.artBox.topRightY)+"]"),"number"==typeof e.userUnit&&1!==e.userUnit&&de("/UserUnit "+e.userUnit),Te.publish("putPage",{objId:i,pageContext:Re[t],pageNumber:t,page:n}),de("/Contents "+o+" 0 R"),de(">>"),de("endobj");var r=n.join("\n");return $===k.ADVANCED&&(r+="\nQ"),Xe(o,!0),ot({data:r,filters:it(),objectId:o}),de("endobj"),i},at=b.__private__.putPages=function(){var e,t,n=[];for(e=1;e<=Fe;e++)Re[e].objId=Ye(),Re[e].contentsObjId=Ye();for(e=1;e<=Fe;e++)n.push(rt({number:e,data:ae[e],objId:Re[e].objId,contentsObjId:Re[e].contentsObjId,mediaBox:Re[e].mediaBox,cropBox:Re[e].cropBox,bleedBox:Re[e].bleedBox,trimBox:Re[e].trimBox,artBox:Re[e].artBox,userUnit:Re[e].userUnit,rootDictionaryObjId:Ze,resourceDictionaryObjId:et}));Xe(Ze,!0),de("<</Type /Pages");var i="/Kids [";for(t=0;t<Fe;t++)i+=n[t]+" 0 R ";de(i+"]"),de("/Count "+Fe),de(">>"),de("endobj"),Te.publish("postPutPages")},st=function(e){Te.publish("putFont",{font:e,out:de,newObject:Je,putStream:ot}),!0!==e.isAlreadyPutted&&(e.objectNumber=Je(),de("<<"),de("/Type /Font"),de("/BaseFont /"+C(e.postScriptName)),de("/Subtype /Type1"),"string"==typeof e.encoding&&de("/Encoding /"+e.encoding),de("/FirstChar 32"),de("/LastChar 255"),de(">>"),de("endobj"))},ct=function(){for(var e in Pe)Pe.hasOwnProperty(e)&&(!1===v||!0===v&&g.hasOwnProperty(e))&&st(Pe[e])},lt=function(e){e.objectNumber=Je();var t=[];t.push({key:"Type",value:"/XObject"}),t.push({key:"Subtype",value:"/Form"}),t.push({key:"BBox",value:"["+[L(e.x),L(e.y),L(e.x+e.width),L(e.y+e.height)].join(" ")+"]"}),t.push({key:"Matrix",value:"["+e.matrix.toString()+"]"});var n=e.pages[1].join("\n");ot({data:n,additionalKeyValues:t,objectId:e.objectNumber}),de("endobj")},ut=function(){for(var e in Ue)Ue.hasOwnProperty(e)&&lt(Ue[e])},dt=function(e,t){var n,i=[],o=1/(t-1);for(n=0;n<1;n+=o)i.push(n);if(i.push(1),0!=e[0].offset){var r={offset:0,color:e[0].color};e.unshift(r)}if(1!=e[e.length-1].offset){var a={offset:1,color:e[e.length-1].color};e.push(a)}for(var s="",c=0,l=0;l<i.length;l++){for(n=i[l];n>e[c+1].offset;)c++;var u=e[c].offset,d=(n-u)/(e[c+1].offset-u),p=e[c].color,h=e[c+1].color;s+=ee(Math.round((1-d)*p[0]+d*h[0]).toString(16))+ee(Math.round((1-d)*p[1]+d*h[1]).toString(16))+ee(Math.round((1-d)*p[2]+d*h[2]).toString(16))}return s.trim()},pt=function(e,t){t||(t=21);var n=Je(),i=dt(e.colors,t),o=[];o.push({key:"FunctionType",value:"0"}),o.push({key:"Domain",value:"[0.0 1.0]"}),o.push({key:"Size",value:"["+t+"]"}),o.push({key:"BitsPerSample",value:"8"}),o.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),o.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ot({data:i,additionalKeyValues:o,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:n}),de("endobj"),e.objectNumber=Je(),de("<< /ShadingType "+e.type),de("/ColorSpace /DeviceRGB");var r="/Coords ["+L(parseFloat(e.coords[0]))+" "+L(parseFloat(e.coords[1]))+" ";2===e.type?r+=L(parseFloat(e.coords[2]))+" "+L(parseFloat(e.coords[3])):r+=L(parseFloat(e.coords[2]))+" "+L(parseFloat(e.coords[3]))+" "+L(parseFloat(e.coords[4]))+" "+L(parseFloat(e.coords[5])),de(r+="]"),e.matrix&&de("/Matrix ["+e.matrix.toString()+"]"),de("/Function "+n+" 0 R"),de("/Extend [true true]"),de(">>"),de("endobj")},ht=function(e,t){var n=Ye(),i=Je();t.push({resourcesOid:n,objectOid:i}),e.objectNumber=i;var o=[];o.push({key:"Type",value:"/Pattern"}),o.push({key:"PatternType",value:"1"}),o.push({key:"PaintType",value:"1"}),o.push({key:"TilingType",value:"1"}),o.push({key:"BBox",value:"["+e.boundingBox.map(L).join(" ")+"]"}),o.push({key:"XStep",value:L(e.xStep)}),o.push({key:"YStep",value:L(e.yStep)}),o.push({key:"Resources",value:n+" 0 R"}),e.matrix&&o.push({key:"Matrix",value:"["+e.matrix.toString()+"]"}),ot({data:e.stream,additionalKeyValues:o,objectId:e.objectNumber}),de("endobj")},ft=function(e){var t;for(t in Ce)Ce.hasOwnProperty(t)&&(Ce[t]instanceof B?pt(Ce[t]):Ce[t]instanceof F&&ht(Ce[t],e))},_t=function(e){for(var t in e.objectNumber=Je(),de("<<"),e)switch(t){case"opacity":de("/ca "+E(e[t]));break;case"stroke-opacity":de("/CA "+E(e[t]))}de(">>"),de("endobj")},mt=function(){var e;for(e in Ie)Ie.hasOwnProperty(e)&&_t(Ie[e])},vt=function(){for(var e in de("/XObject <<"),Ue)Ue.hasOwnProperty(e)&&Ue[e].objectNumber>=0&&de("/"+e+" "+Ue[e].objectNumber+" 0 R");Te.publish("putXobjectDict"),de(">>")},gt=function(){Vt.oid=Je(),de("<<"),de("/Filter /Standard"),de("/V "+Vt.v),de("/R "+Vt.r),de("/U <"+Vt.toHexString(Vt.U)+">"),de("/O <"+Vt.toHexString(Vt.O)+">"),de("/P "+Vt.P),de(">>"),de("endobj")},bt=function(){for(var e in de("/Font <<"),Pe)Pe.hasOwnProperty(e)&&(!1===v||!0===v&&g.hasOwnProperty(e))&&de("/"+e+" "+Pe[e].objectNumber+" 0 R");de(">>")},yt=function(){if(Object.keys(Ce).length>0){for(var e in de("/Shading <<"),Ce)Ce.hasOwnProperty(e)&&Ce[e]instanceof B&&Ce[e].objectNumber>=0&&de("/"+e+" "+Ce[e].objectNumber+" 0 R");Te.publish("putShadingPatternDict"),de(">>")}},wt=function(e){if(Object.keys(Ce).length>0){for(var t in de("/Pattern <<"),Ce)Ce.hasOwnProperty(t)&&Ce[t]instanceof b.TilingPattern&&Ce[t].objectNumber>=0&&Ce[t].objectNumber<e&&de("/"+t+" "+Ce[t].objectNumber+" 0 R");Te.publish("putTilingPatternDict"),de(">>")}},xt=function(){if(Object.keys(Ie).length>0){var e;for(e in de("/ExtGState <<"),Ie)Ie.hasOwnProperty(e)&&Ie[e].objectNumber>=0&&de("/"+e+" "+Ie[e].objectNumber+" 0 R");Te.publish("putGStateDict"),de(">>")}},St=function(e){Xe(e.resourcesOid,!0),de("<<"),de("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),bt(),yt(),wt(e.objectOid),xt(),vt(),de(">>"),de("endobj")},kt=function(){var e=[];ct(),mt(),ut(),ft(e),Te.publish("putResources"),e.forEach(St),St({resourcesOid:et,objectOid:Number.MAX_SAFE_INTEGER}),Te.publish("postPutResources")},$t=function(){Te.publish("putAdditionalObjects");for(var e=0;e<re.length;e++){var t=re[e];Xe(t.objId,!0),de(t.content),de("endobj")}Te.publish("postPutAdditionalObjects")},jt=function(e){De[e.fontName]=De[e.fontName]||{},De[e.fontName][e.fontStyle]=e.id},Ot=function(e,t,n,i,o){var r={id:"F"+(Object.keys(Pe).length+1).toString(10),postScriptName:e,fontName:t,fontStyle:n,encoding:i,isStandardFont:o||!1,metadata:{}};return Te.publish("addFont",{font:r,instance:this}),Pe[r.id]=r,jt(r),r.id},At=function(e){for(var t=0,n=fe.length;t<n;t++){var i=Ot.call(this,e[t][0],e[t][1],e[t][2],fe[t][3],!0);!1===v&&(g[i]=!0);var o=e[t][0].split("-");jt({id:i,fontName:o[0],fontStyle:o[1]||""})}Te.publish("addFonts",{fonts:Pe,dictionary:De})},Lt=function(e){return e.foo=function(){try{return e.apply(this,arguments)}catch(e){var t=e.stack||"";~t.indexOf(" at ")&&(t=t.split(" at ")[1]);var n="Error in function "+t.split("\n")[0].split("<")[0]+": "+e.message;if(!a.console)throw new Error(n);a.console.error(n,e),a.alert&&alert(n)}},e.foo.bar=e,e.foo},Pt=function(e,t){var n,i,o,r,a,s,c,l,u;if(o=(t=t||{}).sourceEncoding||"Unicode",a=t.outputEncoding,(t.autoencode||a)&&Pe[$e].metadata&&Pe[$e].metadata[o]&&Pe[$e].metadata[o].encoding&&(r=Pe[$e].metadata[o].encoding,!a&&Pe[$e].encoding&&(a=Pe[$e].encoding),!a&&r.codePages&&(a=r.codePages[0]),"string"==typeof a&&(a=r[a]),a)){for(c=!1,s=[],n=0,i=e.length;n<i;n++)(l=a[e.charCodeAt(n)])?s.push(String.fromCharCode(l)):s.push(e[n]),s[n].charCodeAt(0)>>8&&(c=!0);e=s.join("")}for(n=e.length;void 0===c&&0!==n;)e.charCodeAt(n-1)>>8&&(c=!0),n--;if(!c)return e;for(s=t.noBOM?[]:[254,255],n=0,i=e.length;n<i;n++){if((u=(l=e.charCodeAt(n))>>8)>>8)throw new Error("Character at position "+n+" of string '"+e+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");s.push(u),s.push(l-(u<<8))}return String.fromCharCode.apply(void 0,s)},Dt=b.__private__.pdfEscape=b.pdfEscape=function(e,t){return Pt(e,t).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Nt=b.__private__.beginPage=function(e){ae[++Fe]=[],Re[Fe]={objId:0,contentsObjId:0,userUnit:Number(u),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(e[0]),topRightY:Number(e[1])}},It(Fe),ue(ae[Q])},Ct=function(e,t){var i,o,a;switch(n=t||n,"string"==typeof e&&(i=S(e.toLowerCase()),Array.isArray(i)&&(o=i[0],a=i[1])),Array.isArray(e)&&(o=e[0]*je,a=e[1]*je),isNaN(o)&&(o=r[0],a=r[1]),(o>14400||a>14400)&&(c.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),o=Math.min(14400,o),a=Math.min(14400,a)),r=[o,a],n.substr(0,1)){case"l":a>o&&(r=[a,o]);break;case"p":o>a&&(r=[a,o])}Nt(r),_n(hn),de(Sn),0!==Ln&&de(Ln+" J"),0!==Pn&&de(Pn+" j"),Te.publish("addPage",{pageNumber:Fe})},Mt=function(e){e>0&&e<=Fe&&(ae.splice(e,1),Re.splice(e,1),Fe--,Q>Fe&&(Q=Fe),this.setPage(Q))},It=function(e){e>0&&e<=Fe&&(Q=e)},Et=b.__private__.getNumberOfPages=b.getNumberOfPages=function(){return ae.length-1},Bt=function(e,t,n){var i,o=void 0;return n=n||{},e=void 0!==e?e:Pe[$e].fontName,t=void 0!==t?t:Pe[$e].fontStyle,i=e.toLowerCase(),void 0!==De[i]&&void 0!==De[i][t]?o=De[i][t]:void 0!==De[e]&&void 0!==De[e][t]?o=De[e][t]:!1===n.disableWarning&&c.warn("Unable to look up font label for font '"+e+"', '"+t+"'. Refer to getFontList() for available fonts."),o||n.noFallback||null==(o=De.times[t])&&(o=De.times.normal),o},Ft=b.__private__.putInfo=function(){var e=Je(),t=function(e){return e};for(var n in null!==m&&(t=Vt.encryptor(e,0)),de("<<"),de("/Producer ("+Dt(t("jsPDF "+R.version))+")"),ke)ke.hasOwnProperty(n)&&ke[n]&&de("/"+n.substr(0,1).toUpperCase()+n.substr(1)+" ("+Dt(t(ke[n]))+")");de("/CreationDate ("+Dt(t(W))+")"),de(">>"),de("endobj")},Rt=b.__private__.putCatalog=function(e){var t=(e=e||{}).rootDictionaryObjId||Ze;switch(Je(),de("<<"),de("/Type /Catalog"),de("/Pages "+t+" 0 R"),me||(me="fullwidth"),me){case"fullwidth":de("/OpenAction [3 0 R /FitH null]");break;case"fullheight":de("/OpenAction [3 0 R /FitV null]");break;case"fullpage":de("/OpenAction [3 0 R /Fit]");break;case"original":de("/OpenAction [3 0 R /XYZ null null 1]");break;default:var n=""+me;"%"===n.substr(n.length-1)&&(me=parseInt(me)/100),"number"==typeof me&&de("/OpenAction [3 0 R /XYZ null null "+E(me)+"]")}switch(we||(we="continuous"),we){case"continuous":de("/PageLayout /OneColumn");break;case"single":de("/PageLayout /SinglePage");break;case"two":case"twoleft":de("/PageLayout /TwoColumnLeft");break;case"tworight":de("/PageLayout /TwoColumnRight")}be&&de("/PageMode /"+be),Te.publish("putCatalog"),de(">>"),de("endobj")},Tt=b.__private__.putTrailer=function(){de("trailer"),de("<<"),de("/Size "+(te+1)),de("/Root "+te+" 0 R"),de("/Info "+(te-1)+" 0 R"),null!==m&&de("/Encrypt "+Vt.oid+" 0 R"),de("/ID [ <"+H+"> <"+H+"> ]"),de(">>")},qt=b.__private__.putHeader=function(){de("%PDF-"+y),de("%ºß¬à")},Ut=b.__private__.putXRef=function(){var e="0000000000";de("xref"),de("0 "+(te+1)),de("0000000000 65535 f ");for(var t=1;t<=te;t++)"function"==typeof ne[t]?de((e+ne[t]()).slice(-10)+" 00000 n "):void 0!==ne[t]?de((e+ne[t]).slice(-10)+" 00000 n "):de("0000000000 00000 n ")},zt=b.__private__.buildDocument=function(){le(),ue(ie),Te.publish("buildDocument"),qt(),at(),$t(),kt(),null!==m&&gt(),Ft(),Rt();var e=oe;return Ut(),Tt(),de("startxref"),de(""+e),de("%%EOF"),ue(ae[Q]),ie.join("\n")},Wt=b.__private__.getBlob=function(e){return new Blob([he(e)],{type:"application/pdf"})},Ht=b.output=b.__private__.output=Lt((function(e,t){switch("string"==typeof(t=t||{})?t={filename:t}:t.filename=t.filename||"generated.pdf",e){case void 0:return zt();case"save":b.save(t.filename);break;case"arraybuffer":return he(zt());case"blob":return Wt(zt());case"bloburi":case"bloburl":if(void 0!==a.URL&&"function"==typeof a.URL.createObjectURL)return a.URL&&a.URL.createObjectURL(Wt(zt()))||void 0;c.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var n="",i=zt();try{n=h(i)}catch(e){n=h(unescape(encodeURIComponent(i)))}return"data:application/pdf;filename="+t.filename+";base64,"+n;case"pdfobjectnewwindow":if("[object Window]"===Object.prototype.toString.call(a)){var o="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",r=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';t.pdfObjectUrl&&(o=t.pdfObjectUrl,r="");var s='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+o+'"'+r+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(t)+");<\/script></body></html>",l=a.open();return null!==l&&l.document.write(s),l}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if("[object Window]"===Object.prototype.toString.call(a)){var u='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(t.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+t.filename+'" width="500px" height="400px" /></body></html>',d=a.open();if(null!==d){d.document.write(u);var p=this;d.document.documentElement.querySelector("#pdfViewer").onload=function(){d.document.title=t.filename,d.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(p.output("bloburl"))}}return d}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if("[object Window]"!==Object.prototype.toString.call(a))throw new Error("The option dataurlnewwindow just works in a browser-environment.");var f='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",t)+'"></iframe></body></html>',_=a.open();if(null!==_&&(_.document.write(f),_.document.title=t.filename),_||"undefined"==typeof safari)return _;break;case"datauri":case"dataurl":return a.document.location.href=this.output("datauristring",t);default:return null}})),Kt=function(e){return!0===Array.isArray(qe)&&qe.indexOf(e)>-1};switch(i){case"pt":je=1;break;case"mm":je=72/25.4;break;case"cm":je=72/2.54;break;case"in":je=72;break;case"px":je=1==Kt("px_scaling")?.75:96/72;break;case"pc":case"em":je=12;break;case"ex":je=6;break;default:if("number"!=typeof i)throw new Error("Invalid unit: "+i);je=i}var Vt=null;Y(),V();var Gt=function(e){return null!==m?Vt.encryptor(e,0):function(e){return e}},Jt=b.__private__.getPageInfo=b.getPageInfo=function(e){if(isNaN(e)||e%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Re[e].objId,pageNumber:e,pageContext:Re[e]}},Yt=b.__private__.getPageInfoByObjId=function(e){if(isNaN(e)||e%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var t in Re)if(Re[t].objId===e)break;return Jt(t)},Xt=b.__private__.getCurrentPageInfo=b.getCurrentPageInfo=function(){return{objId:Re[Q].objId,pageNumber:Q,pageContext:Re[Q]}};b.addPage=function(){return Ct.apply(this,arguments),this},b.setPage=function(){return It.apply(this,arguments),ue.call(this,ae[Q]),this},b.insertPage=function(e){return this.addPage(),this.movePage(Q,e),this},b.movePage=function(e,t){var n,i;if(e>t){n=ae[e],i=Re[e];for(var o=e;o>t;o--)ae[o]=ae[o-1],Re[o]=Re[o-1];ae[t]=n,Re[t]=i,this.setPage(t)}else if(e<t){n=ae[e],i=Re[e];for(var r=e;r<t;r++)ae[r]=ae[r+1],Re[r]=Re[r+1];ae[t]=n,Re[t]=i,this.setPage(t)}return this},b.deletePage=function(){return Mt.apply(this,arguments),this},b.__private__.text=b.text=function(e,t,n,i,r){var a,s,c,l,u,d,p,h,f,_=(i=i||{}).scope||this;if("number"==typeof e&&"number"==typeof t&&("string"==typeof n||Array.isArray(n))){var m=n;n=t,t=e,e=m}if(arguments[3]instanceof He==0?(c=arguments[4],l=arguments[5],"object"===o()(p=arguments[3])&&null!==p||("string"==typeof c&&(l=c,c=null),"string"==typeof p&&(l=p,p=null),"number"==typeof p&&(c=p,p=null),i={flags:p,angle:c,align:l})):(P("The transform parameter of text() with a Matrix value"),f=r),isNaN(t)||isNaN(n)||null==e)throw new Error("Invalid arguments passed to jsPDF.text");if(0===e.length)return _;var v="",b=!1,y="number"==typeof i.lineHeightFactor?i.lineHeightFactor:pn,w=_.internal.scaleFactor;function x(e){return e=e.split("\t").join(Array(i.TabLen||9).join(" ")),Dt(e,p)}function S(e){for(var t,n=e.concat(),i=[],o=n.length;o--;)"string"==typeof(t=n.shift())?i.push(t):Array.isArray(e)&&(1===t.length||void 0===t[1]&&void 0===t[2])?i.push(t[0]):i.push([t[0],t[1],t[2]]);return i}function j(e,t){var n;if("string"==typeof e)n=t(e)[0];else if(Array.isArray(e)){for(var i,o,r=e.concat(),a=[],s=r.length;s--;)"string"==typeof(i=r.shift())?a.push(t(i)[0]):Array.isArray(i)&&"string"==typeof i[0]&&(o=t(i[0],i[1],i[2]),a.push([o[0],o[1],o[2]]));n=a}return n}var O=!1,A=!0;if("string"==typeof e)O=!0;else if(Array.isArray(e)){var D=e.concat();s=[];for(var N,C=D.length;C--;)("string"!=typeof(N=D.shift())||Array.isArray(N)&&"string"!=typeof N[0])&&(A=!1);O=A}if(!1===O)throw new Error('Type of text must be string or Array. "'+e+'" is not recognized.');"string"==typeof e&&(e=e.match(/[\r?\n]/)?e.split(/\r\n|\r|\n/g):[e]);var M=_e/_.internal.scaleFactor,I=M*(y-1);switch(i.baseline){case"bottom":n-=I;break;case"top":n+=M-I;break;case"hanging":n+=M-2*I;break;case"middle":n+=M/2-I}if((d=i.maxWidth||0)>0&&("string"==typeof e?e=_.splitTextToSize(e,d):"[object Array]"===Object.prototype.toString.call(e)&&(e=e.reduce((function(e,t){return e.concat(_.splitTextToSize(t,d))}),[]))),a={text:e,x:t,y:n,options:i,mutex:{pdfEscape:Dt,activeFontKey:$e,fonts:Pe,activeFontSize:_e}},Te.publish("preProcessText",a),e=a.text,c=(i=a.options).angle,f instanceof He==0&&c&&"number"==typeof c){c*=Math.PI/180,0===i.rotationDirection&&(c=-c),$===k.ADVANCED&&(c=-c);var E=Math.cos(c),B=Math.sin(c);f=new He(E,B,-B,E,0,0)}else c&&c instanceof He&&(f=c);$!==k.ADVANCED||f||(f=Ve),void 0!==(u=i.charSpace||On)&&(v+=L(q(u))+" Tc\n",this.setCharSpace(this.getCharSpace()||0)),void 0!==(h=i.horizontalScale)&&(v+=L(100*h)+" Tz\n"),i.lang;var F=-1,R=void 0!==i.renderingMode?i.renderingMode:i.stroke,T=_.internal.getCurrentPageInfo().pageContext;switch(R){case 0:case!1:case"fill":F=0;break;case 1:case!0:case"stroke":F=1;break;case 2:case"fillThenStroke":F=2;break;case 3:case"invisible":F=3;break;case 4:case"fillAndAddForClipping":F=4;break;case 5:case"strokeAndAddPathForClipping":F=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":F=6;break;case 7:case"addToPathForClipping":F=7}var U=void 0!==T.usedRenderingMode?T.usedRenderingMode:-1;-1!==F?v+=F+" Tr\n":-1!==U&&(v+="0 Tr\n"),-1!==F&&(T.usedRenderingMode=F),l=i.align||"left";var z,W=_e*y,H=_.internal.pageSize.getWidth(),K=Pe[$e];u=i.charSpace||On,d=i.maxWidth||0,p=Object.assign({autoencode:!0,noBOM:!0},i.flags);var V=[];if("[object Array]"===Object.prototype.toString.call(e)){var G;s=S(e),"left"!==l&&(z=s.map((function(e){return _.getStringUnitWidth(e,{font:K,charSpace:u,fontSize:_e,doKerning:!1})*_e/w})));var J,Y=0;if("right"===l){t-=z[0],e=[],C=s.length;for(var X=0;X<C;X++)0===X?(J=bn(t),G=yn(n)):(J=q(Y-z[X]),G=-W),e.push([s[X],J,G]),Y=z[X]}else if("center"===l){t-=z[0]/2,e=[],C=s.length;for(var Q=0;Q<C;Q++)0===Q?(J=bn(t),G=yn(n)):(J=q((Y-z[Q])/2),G=-W),e.push([s[Q],J,G]),Y=z[Q]}else if("left"===l){e=[],C=s.length;for(var Z=0;Z<C;Z++)e.push(s[Z])}else{if("justify"!==l)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');e=[],C=s.length,d=0!==d?d:H;for(var ee=0;ee<C;ee++)G=0===ee?yn(n):-W,J=0===ee?bn(t):0,ee<C-1?V.push(L(q((d-z[ee])/(s[ee].split(" ").length-1)))):V.push(0),e.push([s[ee],J,G])}}var te="boolean"==typeof i.R2L?i.R2L:ge;!0===te&&(e=j(e,(function(e,t,n){return[e.split("").reverse().join(""),t,n]}))),a={text:e,x:t,y:n,options:i,mutex:{pdfEscape:Dt,activeFontKey:$e,fonts:Pe,activeFontSize:_e}},Te.publish("postProcessText",a),e=a.text,b=a.mutex.isHex||!1;var ne=Pe[$e].encoding;"WinAnsiEncoding"!==ne&&"StandardEncoding"!==ne||(e=j(e,(function(e,t,n){return[x(e),t,n]}))),s=S(e),e=[];for(var ie,oe,re,ae=0,se=1,ce=Array.isArray(s[0])?se:ae,le="",ue=function(e,t,n){var o="";return n instanceof He?(n="number"==typeof i.angle?Ke(n,new He(1,0,0,1,e,t)):Ke(new He(1,0,0,1,e,t),n),$===k.ADVANCED&&(n=Ke(new He(1,0,0,-1,0,0),n)),o=n.join(" ")+" Tm\n"):o=L(e)+" "+L(t)+" Td\n",o},pe=0;pe<s.length;pe++){switch(le="",ce){case se:re=(b?"<":"(")+s[pe][0]+(b?">":")"),ie=parseFloat(s[pe][1]),oe=parseFloat(s[pe][2]);break;case ae:re=(b?"<":"(")+s[pe]+(b?">":")"),ie=bn(t),oe=yn(n)}void 0!==V&&void 0!==V[pe]&&(le=V[pe]+" Tw\n"),0===pe?e.push(le+ue(ie,oe,f)+re):ce===ae?e.push(le+re):ce===se&&e.push(le+ue(ie,oe,f)+re)}e=ce===ae?e.join(" Tj\nT* "):e.join(" Tj\n"),e+=" Tj\n";var he="BT\n/";return he+=$e+" "+_e+" Tf\n",he+=L(_e*y)+" TL\n",he+=$n+"\n",he+=v,he+=e,de(he+="ET"),g[$e]=!0,_};var Qt=b.__private__.clip=b.clip=function(e){return de("evenodd"===e?"W*":"W"),this};b.clipEvenOdd=function(){return Qt("evenodd")},b.__private__.discardPath=b.discardPath=function(){return de("n"),this};var Zt=b.__private__.isValidStyle=function(e){var t=!1;return-1!==[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(e)&&(t=!0),t};b.__private__.setDefaultPathOperation=b.setDefaultPathOperation=function(e){return Zt(e)&&(p=e),this};var en=b.__private__.getStyle=b.getStyle=function(e){var t=p;switch(e){case"D":case"S":t="S";break;case"F":t="f";break;case"FD":case"DF":t="B";break;case"f":case"f*":case"B":case"B*":t=e}return t},tn=b.close=function(){return de("h"),this};b.stroke=function(){return de("S"),this},b.fill=function(e){return nn("f",e),this},b.fillEvenOdd=function(e){return nn("f*",e),this},b.fillStroke=function(e){return nn("B",e),this},b.fillStrokeEvenOdd=function(e){return nn("B*",e),this};var nn=function(e,t){"object"===o()(t)?an(t,e):de(e)},on=function(e){null===e||$===k.ADVANCED&&void 0===e||(e=en(e),de(e))};function rn(e,t,n,i,o){var r=new F(t||this.boundingBox,n||this.xStep,i||this.yStep,this.gState,o||this.matrix);r.stream=this.stream;var a=e+"$$"+this.cloneIndex+++"$$";return Ge(a,r),r}var an=function(e,t){var n=Me[e.key],i=Ce[n];if(i instanceof B)de("q"),de(sn(t)),i.gState&&b.setGState(i.gState),de(e.matrix.toString()+" cm"),de("/"+n+" sh"),de("Q");else if(i instanceof F){var o=new He(1,0,0,-1,0,Tn());e.matrix&&(o=o.multiply(e.matrix||Ve),n=rn.call(i,e.key,e.boundingBox,e.xStep,e.yStep,o).id),de("q"),de("/Pattern cs"),de("/"+n+" scn"),i.gState&&b.setGState(i.gState),de(t),de("Q")}},sn=function(e){switch(e){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},cn=b.moveTo=function(e,t){return de(L(q(e))+" "+L(z(t))+" m"),this},ln=b.lineTo=function(e,t){return de(L(q(e))+" "+L(z(t))+" l"),this},un=b.curveTo=function(e,t,n,i,o,r){return de([L(q(e)),L(z(t)),L(q(n)),L(z(i)),L(q(o)),L(z(r)),"c"].join(" ")),this};b.__private__.line=b.line=function(e,t,n,i,o){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(i)||!Zt(o))throw new Error("Invalid arguments passed to jsPDF.line");return $===k.COMPAT?this.lines([[n-e,i-t]],e,t,[1,1],o||"S"):this.lines([[n-e,i-t]],e,t,[1,1]).stroke()},b.__private__.lines=b.lines=function(e,t,n,i,o,r){var a,s,c,l,u,d,p,h,f,_,m,v;if("number"==typeof e&&(v=n,n=t,t=e,e=v),i=i||[1,1],r=r||!1,isNaN(t)||isNaN(n)||!Array.isArray(e)||!Array.isArray(i)||!Zt(o)||"boolean"!=typeof r)throw new Error("Invalid arguments passed to jsPDF.lines");for(cn(t,n),a=i[0],s=i[1],l=e.length,_=t,m=n,c=0;c<l;c++)2===(u=e[c]).length?(_=u[0]*a+_,m=u[1]*s+m,ln(_,m)):(d=u[0]*a+_,p=u[1]*s+m,h=u[2]*a+_,f=u[3]*s+m,_=u[4]*a+_,m=u[5]*s+m,un(d,p,h,f,_,m));return r&&tn(),on(o),this},b.path=function(e){for(var t=0;t<e.length;t++){var n=e[t],i=n.c;switch(n.op){case"m":cn(i[0],i[1]);break;case"l":ln(i[0],i[1]);break;case"c":un.apply(this,i);break;case"h":tn()}}return this},b.__private__.rect=b.rect=function(e,t,n,i,o){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(i)||!Zt(o))throw new Error("Invalid arguments passed to jsPDF.rect");return $===k.COMPAT&&(i=-i),de([L(q(e)),L(z(t)),L(q(n)),L(q(i)),"re"].join(" ")),on(o),this},b.__private__.triangle=b.triangle=function(e,t,n,i,o,r,a){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(i)||isNaN(o)||isNaN(r)||!Zt(a))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[n-e,i-t],[o-n,r-i],[e-o,t-r]],e,t,[1,1],a,!0),this},b.__private__.roundedRect=b.roundedRect=function(e,t,n,i,o,r,a){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(i)||isNaN(o)||isNaN(r)||!Zt(a))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var s=4/3*(Math.SQRT2-1);return o=Math.min(o,.5*n),r=Math.min(r,.5*i),this.lines([[n-2*o,0],[o*s,0,o,r-r*s,o,r],[0,i-2*r],[0,r*s,-o*s,r,-o,r],[2*o-n,0],[-o*s,0,-o,-r*s,-o,-r],[0,2*r-i],[0,-r*s,o*s,-r,o,-r]],e+o,t,[1,1],a,!0),this},b.__private__.ellipse=b.ellipse=function(e,t,n,i,o){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(i)||!Zt(o))throw new Error("Invalid arguments passed to jsPDF.ellipse");var r=4/3*(Math.SQRT2-1)*n,a=4/3*(Math.SQRT2-1)*i;return cn(e+n,t),un(e+n,t-a,e+r,t-i,e,t-i),un(e-r,t-i,e-n,t-a,e-n,t),un(e-n,t+a,e-r,t+i,e,t+i),un(e+r,t+i,e+n,t+a,e+n,t),on(o),this},b.__private__.circle=b.circle=function(e,t,n,i){if(isNaN(e)||isNaN(t)||isNaN(n)||!Zt(i))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(e,t,n,n,i)},b.setFont=function(e,t,n){return n&&(t=A(t,n)),$e=Bt(e,t,{disableWarning:!1}),this};var dn=b.__private__.getFont=b.getFont=function(){return Pe[Bt.apply(b,arguments)]};b.__private__.getFontList=b.getFontList=function(){var e,t,n={};for(e in De)if(De.hasOwnProperty(e))for(t in n[e]=[],De[e])De[e].hasOwnProperty(t)&&n[e].push(t);return n},b.addFont=function(e,t,n,i,o){var r=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&-1!==r.indexOf(arguments[3])?o=arguments[3]:arguments[3]&&-1==r.indexOf(arguments[3])&&(n=A(n,i)),o=o||"Identity-H",Ot.call(this,e,t,n,o)};var pn,hn=e.lineWidth||.200025,fn=b.__private__.getLineWidth=b.getLineWidth=function(){return hn},_n=b.__private__.setLineWidth=b.setLineWidth=function(e){return hn=e,de(L(q(e))+" w"),this};b.__private__.setLineDash=R.API.setLineDash=R.API.setLineDashPattern=function(e,t){if(e=e||[],t=t||0,isNaN(t)||!Array.isArray(e))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return e=e.map((function(e){return L(q(e))})).join(" "),t=L(q(t)),de("["+e+"] "+t+" d"),this};var mn=b.__private__.getLineHeight=b.getLineHeight=function(){return _e*pn};b.__private__.getLineHeight=b.getLineHeight=function(){return _e*pn};var vn=b.__private__.setLineHeightFactor=b.setLineHeightFactor=function(e){return"number"==typeof(e=e||1.15)&&(pn=e),this},gn=b.__private__.getLineHeightFactor=b.getLineHeightFactor=function(){return pn};vn(e.lineHeight);var bn=b.__private__.getHorizontalCoordinate=function(e){return q(e)},yn=b.__private__.getVerticalCoordinate=function(e){return $===k.ADVANCED?e:Re[Q].mediaBox.topRightY-Re[Q].mediaBox.bottomLeftY-q(e)},wn=b.__private__.getHorizontalCoordinateString=b.getHorizontalCoordinateString=function(e){return L(bn(e))},xn=b.__private__.getVerticalCoordinateString=b.getVerticalCoordinateString=function(e){return L(yn(e))},Sn=e.strokeColor||"0 G";b.__private__.getStrokeColor=b.getDrawColor=function(){return tt(Sn)},b.__private__.setStrokeColor=b.setDrawColor=function(e,t,n,i){return Sn=nt({ch1:e,ch2:t,ch3:n,ch4:i,pdfColorType:"draw",precision:2}),de(Sn),this};var kn=e.fillColor||"0 g";b.__private__.getFillColor=b.getFillColor=function(){return tt(kn)},b.__private__.setFillColor=b.setFillColor=function(e,t,n,i){return kn=nt({ch1:e,ch2:t,ch3:n,ch4:i,pdfColorType:"fill",precision:2}),de(kn),this};var $n=e.textColor||"0 g",jn=b.__private__.getTextColor=b.getTextColor=function(){return tt($n)};b.__private__.setTextColor=b.setTextColor=function(e,t,n,i){return $n=nt({ch1:e,ch2:t,ch3:n,ch4:i,pdfColorType:"text",precision:3}),this};var On=e.charSpace,An=b.__private__.getCharSpace=b.getCharSpace=function(){return parseFloat(On||0)};b.__private__.setCharSpace=b.setCharSpace=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return On=e,this};var Ln=0;b.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},b.__private__.setLineCap=b.setLineCap=function(e){var t=b.CapJoinStyles[e];if(void 0===t)throw new Error("Line cap style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ln=t,de(t+" J"),this};var Pn=0;b.__private__.setLineJoin=b.setLineJoin=function(e){var t=b.CapJoinStyles[e];if(void 0===t)throw new Error("Line join style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Pn=t,de(t+" j"),this},b.__private__.setLineMiterLimit=b.__private__.setMiterLimit=b.setLineMiterLimit=b.setMiterLimit=function(e){if(e=e||0,isNaN(e))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return de(L(q(e))+" M"),this},b.GState=I,b.setGState=function(e){(e="string"==typeof e?Ie[Ee[e]]:Dn(null,e)).equals(Be)||(de("/"+e.id+" gs"),Be=e)};var Dn=function(e,t){if(!e||!Ee[e]){var n=!1;for(var i in Ie)if(Ie.hasOwnProperty(i)&&Ie[i].equals(t)){n=!0;break}if(n)t=Ie[i];else{var o="GS"+(Object.keys(Ie).length+1).toString(10);Ie[o]=t,t.id=o}return e&&(Ee[e]=t.id),Te.publish("addGState",t),t}};b.addGState=function(e,t){return Dn(e,t),this},b.saveGraphicsState=function(){return de("q"),Ne.push({key:$e,size:_e,color:$n}),this},b.restoreGraphicsState=function(){de("Q");var e=Ne.pop();return $e=e.key,_e=e.size,$n=e.color,Be=null,this},b.setCurrentTransformationMatrix=function(e){return de(e.toString()+" cm"),this},b.comment=function(e){return de("#"+e),this};var Nn=function(e,t){var n=e||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return n},set:function(e){isNaN(e)||(n=parseFloat(e))}});var i=t||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return i},set:function(e){isNaN(e)||(i=parseFloat(e))}});var o="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return o},set:function(e){o=e.toString()}}),this},Cn=function(e,t,n,i){Nn.call(this,e,t),this.type="rect";var o=n||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return o},set:function(e){isNaN(e)||(o=parseFloat(e))}});var r=i||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return r},set:function(e){isNaN(e)||(r=parseFloat(e))}}),this},Mn=function(){this.page=Fe,this.currentPage=Q,this.pages=ae.slice(0),this.pagesContext=Re.slice(0),this.x=Oe,this.y=Ae,this.matrix=Le,this.width=Fn(Q),this.height=Tn(Q),this.outputDestination=ce,this.id="",this.objectNumber=-1};Mn.prototype.restore=function(){Fe=this.page,Q=this.currentPage,Re=this.pagesContext,ae=this.pages,Oe=this.x,Ae=this.y,Le=this.matrix,Rn(Q,this.width),qn(Q,this.height),ce=this.outputDestination};var In=function(e,t,n,i,o){We.push(new Mn),Fe=Q=0,ae=[],Oe=e,Ae=t,Le=o,Nt([n,i])},En=function(e){if(ze[e])We.pop().restore();else{var t=new Mn,n="Xo"+(Object.keys(Ue).length+1).toString(10);t.id=n,ze[e]=n,Ue[n]=t,Te.publish("addFormObject",t),We.pop().restore()}};for(var Bn in b.beginFormObject=function(e,t,n,i,o){return In(e,t,n,i,o),this},b.endFormObject=function(e){return En(e),this},b.doFormObject=function(e,t){var n=Ue[ze[e]];return de("q"),de(t.toString()+" cm"),de("/"+n.id+" Do"),de("Q"),this},b.getFormObject=function(e){var t=Ue[ze[e]];return{x:t.x,y:t.y,width:t.width,height:t.height,matrix:t.matrix}},b.save=function(e,t){return e=e||"generated.pdf",(t=t||{}).returnPromise=t.returnPromise||!1,!1===t.returnPromise?(f(Wt(zt()),e),"function"==typeof f.unload&&a.setTimeout&&setTimeout(f.unload,911),this):new Promise((function(t,n){try{var i=f(Wt(zt()),e);"function"==typeof f.unload&&a.setTimeout&&setTimeout(f.unload,911),t(i)}catch(e){n(e.message)}}))},R.API)R.API.hasOwnProperty(Bn)&&("events"===Bn&&R.API.events.length?function(e,t){var n,i,o;for(o=t.length-1;-1!==o;o--)n=t[o][0],i=t[o][1],e.subscribe.apply(e,[n].concat("function"==typeof i?[i]:i))}(Te,R.API.events):b[Bn]=R.API[Bn]);var Fn=b.getPageWidth=function(e){return(Re[e=e||Q].mediaBox.topRightX-Re[e].mediaBox.bottomLeftX)/je},Rn=b.setPageWidth=function(e,t){Re[e].mediaBox.topRightX=t*je+Re[e].mediaBox.bottomLeftX},Tn=b.getPageHeight=function(e){return(Re[e=e||Q].mediaBox.topRightY-Re[e].mediaBox.bottomLeftY)/je},qn=b.setPageHeight=function(e,t){Re[e].mediaBox.topRightY=t*je+Re[e].mediaBox.bottomLeftY};return b.internal={pdfEscape:Dt,getStyle:en,getFont:dn,getFontSize:ve,getCharSpace:An,getTextColor:jn,getLineHeight:mn,getLineHeightFactor:gn,getLineWidth:fn,write:pe,getHorizontalCoordinate:bn,getVerticalCoordinate:yn,getCoordinateString:wn,getVerticalCoordinateString:xn,collections:{},newObject:Je,newAdditionalObject:Qe,newObjectDeferred:Ye,newObjectDeferredBegin:Xe,getFilters:it,putStream:ot,events:Te,scaleFactor:je,pageSize:{getWidth:function(){return Fn(Q)},setWidth:function(e){Rn(Q,e)},getHeight:function(){return Tn(Q)},setHeight:function(e){qn(Q,e)}},encryptionOptions:m,encryption:Vt,getEncryptor:Gt,output:Ht,getNumberOfPages:Et,pages:ae,out:de,f2:E,f3:T,getPageInfo:Jt,getPageInfoByObjId:Yt,getCurrentPageInfo:Xt,getPDFVersion:w,Point:Nn,Rectangle:Cn,Matrix:He,hasHotfix:Kt},Object.defineProperty(b.internal.pageSize,"width",{get:function(){return Fn(Q)},set:function(e){Rn(Q,e)},enumerable:!0,configurable:!0}),Object.defineProperty(b.internal.pageSize,"height",{get:function(){return Tn(Q)},set:function(e){qn(Q,e)},enumerable:!0,configurable:!0}),At.call(b,fe),$e="F1",Ct(r,n),Te.publish("initialized"),b}N.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},N.prototype.toHexString=function(e){return e.split("").map((function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)})).join("")},N.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},N.prototype.processOwnerPassword=function(e,t){return P(O(t).substr(0,5),e)},N.prototype.encryptor=function(e,t){var n=O(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(e){return P(n,e)}},I.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||o()(e)!==o()(this))return!1;var i=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t))return!1;if(this[t]!==e[t])return!1;i++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&i--;return 0===i},R.API={events:[]},R.version="2.5.1";var T=R.API,q=1,U=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},z=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},W=function(e){return e.toFixed(2)},H=function(e){return e.toFixed(5)};T.__acroform__={};var K=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},V=function(e){return e*q},G=function(e){var t=new de,n=$e.internal.getHeight(e)||0,i=$e.internal.getWidth(e)||0;return t.BBox=[0,0,Number(W(i)),Number(W(n))],t},J=T.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},Y=T.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},X=T.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return 0==(e&1<<t)?0:1},Q=T.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return X(e,t-1)},Z=T.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return J(e,t-1)},ee=T.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Y(e,t-1)},te=T.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,i=t.internal.getVerticalCoordinate,o=e[0],r=e[1],a=e[2],s=e[3],c={};return c.lowerLeft_X=n(o)||0,c.lowerLeft_Y=i(r+s)||0,c.upperRight_X=n(o+a)||0,c.upperRight_Y=i(r)||0,[Number(W(c.lowerLeft_X)),Number(W(c.lowerLeft_Y)),Number(W(c.upperRight_X)),Number(W(c.upperRight_Y))]},ne=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,i=ie(e,n),o=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+o+" "+W(i.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(i.text),t.push("ET"),t.push("Q"),t.push("EMC");var r=G(e);return r.scope=e.scope,r.stream=t.join("\n"),r}},ie=function(e,t){var n=0===e.fontSize?e.maxFontSize:e.fontSize,i={text:"",fontSize:""},o=(t=")"==(t="("==t.substr(0,1)?t.substr(1):t).substr(t.length-1)?t.substr(0,t.length-1):t).split(" ");o=e.multiline?o.map((function(e){return e.split("\n")})):o.map((function(e){return[e]}));var r=n,a=$e.internal.getHeight(e)||0;a=a<0?-a:a;var s=$e.internal.getWidth(e)||0;s=s<0?-s:s;var c=function(t,n,i){if(t+1<o.length){var r=n+" "+o[t+1][0];return oe(r,e,i).width<=s-4}return!1};r++;e:for(;r>0;){t="",r--;var l,u,d=oe("3",e,r).height,p=e.multiline?a-r:(a-d)/2,h=p+=2,f=0,_=0,m=0;if(r<=0){t="(...) Tj\n",t+="% Width of Text: "+oe(t,e,r=12).width+", FieldWidth:"+s+"\n";break}for(var v="",g=0,b=0;b<o.length;b++)if(o.hasOwnProperty(b)){var y=!1;if(1!==o[b].length&&m!==o[b].length-1){if((d+2)*(g+2)+2>a)continue e;v+=o[b][m],y=!0,_=b,b--}else{v=" "==(v+=o[b][m]+" ").substr(v.length-1)?v.substr(0,v.length-1):v;var w=parseInt(b),x=c(w,v,r),S=b>=o.length-1;if(x&&!S){v+=" ",m=0;continue}if(x||S){if(S)_=w;else if(e.multiline&&(d+2)*(g+2)+2>a)continue e}else{if(!e.multiline)continue e;if((d+2)*(g+2)+2>a)continue e;_=w}}for(var k="",$=f;$<=_;$++){var j=o[$];if(e.multiline){if($===_){k+=j[m]+" ",m=(m+1)%j.length;continue}if($===f){k+=j[j.length-1]+" ";continue}}k+=j[0]+" "}switch(k=" "==k.substr(k.length-1)?k.substr(0,k.length-1):k,u=oe(k,e,r).width,e.textAlign){case"right":l=s-u-2;break;case"center":l=(s-u)/2;break;case"left":default:l=2}t+=W(l)+" "+W(h)+" Td\n",t+="("+U(k)+") Tj\n",t+=-W(l)+" 0 Td\n",h=-(r+2),u=0,f=y?_:_+1,g++,v=""}break}return i.text=t,i.fontSize=r,i},oe=function(e,t,n){var i=t.scope.internal.getFont(t.fontName,t.fontStyle),o=t.scope.getStringUnitWidth(e,{font:i,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:o}},re={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},ae=function(e,t){var n={type:"reference",object:e};void 0===t.internal.getPageInfo(e.page).pageContext.annotations.find((function(e){return e.type===n.type&&e.object===n.object}))&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},se=function(e,t){if(t.scope=e,void 0!==e.internal&&(void 0===e.internal.acroformPlugin||!1===e.internal.acroformPlugin.isInitialized)){if(he.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(re)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");q=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new pe,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",(function(){var t;(t=e).internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})),e.internal.events.subscribe("buildDocument",(function(){!function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var t=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];i.objId=void 0,i.hasAnnotation&&ae(i,e)}}(e)})),e.internal.events.subscribe("putCatalog",(function(){!function(e){if(void 0===e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")}(e)})),e.internal.events.subscribe("postPutPages",(function(t){!function(e,t){var n=!e;for(var i in e||(t.internal.newObjectDeferredBegin(t.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),t.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),e=e||t.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(e.hasOwnProperty(i)){var r=e[i],a=[],s=r.Rect;if(r.Rect&&(r.Rect=te(r.Rect,t)),t.internal.newObjectDeferredBegin(r.objId,!0),r.DA=$e.createDefaultAppearanceStream(r),"object"===o()(r)&&"function"==typeof r.getKeyValueListForStream&&(a=r.getKeyValueListForStream()),r.Rect=s,r.hasAppearanceStream&&!r.appearanceStreamContent){var c=ne(r);a.push({key:"AP",value:"<</N "+c+">>"}),t.internal.acroformPlugin.xForms.push(c)}if(r.appearanceStreamContent){var l="";for(var u in r.appearanceStreamContent)if(r.appearanceStreamContent.hasOwnProperty(u)){var d=r.appearanceStreamContent[u];if(l+="/"+u+" ",l+="<<",Object.keys(d).length>=1||Array.isArray(d)){for(var i in d)if(d.hasOwnProperty(i)){var p=d[i];"function"==typeof p&&(p=p.call(t,r)),l+="/"+i+" "+p+" ",t.internal.acroformPlugin.xForms.indexOf(p)>=0||t.internal.acroformPlugin.xForms.push(p)}}else"function"==typeof(p=d)&&(p=p.call(t,r)),l+="/"+i+" "+p,t.internal.acroformPlugin.xForms.indexOf(p)>=0||t.internal.acroformPlugin.xForms.push(p);l+=">>"}a.push({key:"AP",value:"<<\n"+l+">>"})}t.internal.putStream({additionalKeyValues:a,objectId:r.objId}),t.internal.out("endobj")}n&&function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var i=n,r=e[n];t.internal.newObjectDeferredBegin(r.objId,!0),"object"===o()(r)&&"function"==typeof r.putStream&&r.putStream(),delete e[i]}}(t.internal.acroformPlugin.xForms,t)}(t,e)})),e.internal.acroformPlugin.isInitialized=!0}},ce=T.__acroform__.arrayToPdfArray=function(e,t,n){var i=function(e){return e};if(Array.isArray(e)){for(var r="[",a=0;a<e.length;a++)switch(0!==a&&(r+=" "),o()(e[a])){case"boolean":case"number":case"object":r+=e[a].toString();break;case"string":"/"!==e[a].substr(0,1)?(void 0!==t&&n&&(i=n.internal.getEncryptor(t)),r+="("+U(i(e[a].toString()))+")"):r+=e[a].toString()}return r+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},le=function(e,t,n){var i=function(e){return e};return void 0!==t&&n&&(i=n.internal.getEncryptor(t)),(e=e||"").toString(),"("+U(i(e))+")"},ue=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(void 0===this._objId){if(void 0===this.scope)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ue.prototype.toString=function(){return this.objId+" 0 R"},ue.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},ue.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter((function(e){return"content"!=e&&"appearanceStreamContent"!=e&&"scope"!=e&&"objId"!=e&&"_"!=e.substring(0,1)}));for(var n in t)if(!1===Object.getOwnPropertyDescriptor(this,t[n]).configurable){var i=t[n],o=this[i];o&&(Array.isArray(o)?e.push({key:i,value:ce(o,this.objId,this.scope)}):o instanceof ue?(o.scope=this.scope,e.push({key:i,value:o.objId+" 0 R"})):"function"!=typeof o&&e.push({key:i,value:o}))}return e};var de=function(){ue.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){e=t.trim()},get:function(){return e||null}})};K(de,ue);var pe=function(){ue.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var t=function(e){return e};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+U(t(e))+")"}},set:function(t){e=t}})};K(pe,ue);var he=function e(){ue.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(e){if(isNaN(e))throw new Error('Invalid value "'+e+'" for attribute F supplied.');t=e}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(Q(t,3))},set:function(e){!0===Boolean(e)?this.F=Z(t,3):this.F=ee(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){if(isNaN(e))throw new Error('Invalid value "'+e+'" for attribute Ff supplied.');n=e}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==i.length)return i},set:function(e){i=void 0!==e?e:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(e){i[0]=e}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(e){i[1]=e}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(e){i[2]=e}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(e){i[3]=e}});var o="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return o},set:function(e){switch(e){case"/Btn":case"/Tx":case"/Ch":case"/Sig":o=e;break;default:throw new Error('Invalid value "'+e+'" for attribute FT supplied.')}}});var r=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!r||r.length<1){if(this instanceof we)return;r="FieldObject"+e.FieldNum++}var t=function(e){return e};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+U(t(r))+")"},set:function(e){r=e.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return r},set:function(e){r=e}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(e){a=e}});var s="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return s},set:function(e){s=e}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(e){c=e}});var l=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return void 0===l?50/q:l},set:function(e){l=e}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(e){u=e}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof we||this instanceof Se))return le(d,this.objId,this.scope)},set:function(e){e=e.toString(),d=e}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof ge==0?le(p,this.objId,this.scope):p},set:function(e){e=e.toString(),p=this instanceof ge==0?"("===e.substr(0,1)?z(e.substr(1,e.length-2)):z(e):e}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ge==1?z(p.substr(1,p.length-1)):p},set:function(e){e=e.toString(),p=this instanceof ge==1?"/"+e:e}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(e){this.V=e}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof ge==0?le(h,this.objId,this.scope):h},set:function(e){e=e.toString(),h=this instanceof ge==0?"("===e.substr(0,1)?z(e.substr(1,e.length-2)):z(e):e}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ge==1?z(h.substr(1,h.length-1)):h},set:function(e){e=e.toString(),h=this instanceof ge==1?"/"+e:e}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var f,_=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return _},set:function(e){e=Boolean(e),_=e}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(f)return f},set:function(e){f=e}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(Q(this.Ff,1))},set:function(e){!0===Boolean(e)?this.Ff=Z(this.Ff,1):this.Ff=ee(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(Q(this.Ff,2))},set:function(e){!0===Boolean(e)?this.Ff=Z(this.Ff,2):this.Ff=ee(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(Q(this.Ff,3))},set:function(e){!0===Boolean(e)?this.Ff=Z(this.Ff,3):this.Ff=ee(this.Ff,3)}});var m=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==m)return m},set:function(e){if(-1===[0,1,2].indexOf(e))throw new Error('Invalid value "'+e+'" for attribute Q supplied.');m=e}}),Object.defineProperty(this,"textAlign",{get:function(){var e;switch(m){case 0:default:e="left";break;case 1:e="center";break;case 2:e="right"}return e},configurable:!0,enumerable:!0,set:function(e){switch(e){case"right":case 2:m=2;break;case"center":case 1:m=1;break;case"left":case 0:default:m=0}}})};K(he,ue);var fe=function(){he.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){e=t}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return ce(t,this.objId,this.scope)},set:function(e){var n,i;i=[],"string"==typeof(n=e)&&(i=function(e,t,n){n||(n=1);for(var i,o=[];i=t.exec(e);)o.push(i[n]);return o}(n,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,n){for(n=n||!1,e=(e=e||"").toString();-1!==t.indexOf(e)&&(t.splice(t.indexOf(e),1),!1!==n););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(Q(this.Ff,18))},set:function(e){!0===Boolean(e)?this.Ff=Z(this.Ff,18):this.Ff=ee(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(Q(this.Ff,19))},set:function(e){!0===this.combo&&(!0===Boolean(e)?this.Ff=Z(this.Ff,19):this.Ff=ee(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(Q(this.Ff,20))},set:function(e){!0===Boolean(e)?(this.Ff=Z(this.Ff,20),t.sort()):this.Ff=ee(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(Q(this.Ff,22))},set:function(e){!0===Boolean(e)?this.Ff=Z(this.Ff,22):this.Ff=ee(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(Q(this.Ff,23))},set:function(e){!0===Boolean(e)?this.Ff=Z(this.Ff,23):this.Ff=ee(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(Q(this.Ff,27))},set:function(e){!0===Boolean(e)?this.Ff=Z(this.Ff,27):this.Ff=ee(this.Ff,27)}}),this.hasAppearanceStream=!1};K(fe,he);var _e=function(){fe.call(this),this.fontName="helvetica",this.combo=!1};K(_e,fe);var me=function(){_e.call(this),this.combo=!0};K(me,_e);var ve=function(){me.call(this),this.edit=!0};K(ve,me);var ge=function(){he.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(Q(this.Ff,15))},set:function(e){!0===Boolean(e)?this.Ff=Z(this.Ff,15):this.Ff=ee(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(Q(this.Ff,16))},set:function(e){!0===Boolean(e)?this.Ff=Z(this.Ff,16):this.Ff=ee(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(Q(this.Ff,17))},set:function(e){!0===Boolean(e)?this.Ff=Z(this.Ff,17):this.Ff=ee(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(Q(this.Ff,26))},set:function(e){!0===Boolean(e)?this.Ff=Z(this.Ff,26):this.Ff=ee(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(e){return e};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),0!==Object.keys(t).length){var n,i=[];for(n in i.push("<<"),t)i.push("/"+n+" ("+U(e(t[n]))+")");return i.push(">>"),i.join("\n")}},set:function(e){"object"===o()(e)&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){"string"==typeof e&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(t){e="/"+t}})};K(ge,he);var be=function(){ge.call(this),this.pushButton=!0};K(be,ge);var ye=function(){ge.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=void 0!==t?t:[]}})};K(ye,ge);var we=function(){var e,t;he.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(e){t=e}});var n,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(e){return e};this.scope&&(e=this.scope.internal.getEncryptor(this.objId));var t,n=[];for(t in n.push("<<"),i)n.push("/"+t+" ("+U(e(i[t]))+")");return n.push(">>"),n.join("\n")},set:function(e){"object"===o()(e)&&(i=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(e){"string"==typeof e&&(i.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(e){n="/"+e}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=$e.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};K(we,he),ye.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},ye.prototype.createOption=function(e){var t=new we;return t.Parent=this,t.optionName=e,this.Kids.push(t),je.call(this.scope,t),t};var xe=function(){ge.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=$e.CheckBox.createAppearanceStream()};K(xe,ge);var Se=function(){he.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(Q(this.Ff,13))},set:function(e){!0===Boolean(e)?this.Ff=Z(this.Ff,13):this.Ff=ee(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(Q(this.Ff,21))},set:function(e){!0===Boolean(e)?this.Ff=Z(this.Ff,21):this.Ff=ee(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(Q(this.Ff,23))},set:function(e){!0===Boolean(e)?this.Ff=Z(this.Ff,23):this.Ff=ee(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(Q(this.Ff,24))},set:function(e){!0===Boolean(e)?this.Ff=Z(this.Ff,24):this.Ff=ee(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(Q(this.Ff,25))},set:function(e){!0===Boolean(e)?this.Ff=Z(this.Ff,25):this.Ff=ee(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(Q(this.Ff,26))},set:function(e){!0===Boolean(e)?this.Ff=Z(this.Ff,26):this.Ff=ee(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};K(Se,he);var ke=function(){Se.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(Q(this.Ff,14))},set:function(e){!0===Boolean(e)?this.Ff=Z(this.Ff,14):this.Ff=ee(this.Ff,14)}}),this.password=!0};K(ke,Se);var $e={CheckBox:{createAppearanceStream:function(){return{N:{On:$e.CheckBox.YesNormal},D:{On:$e.CheckBox.YesPushDown,Off:$e.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=G(e);t.scope=e.scope;var n=[],i=e.scope.internal.getFont(e.fontName,e.fontStyle).id,o=e.scope.__private__.encodeColorString(e.color),r=ie(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+W($e.internal.getWidth(e))+" "+W($e.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+i+" "+W(r.fontSize)+" Tf "+o),n.push("BT"),n.push(r.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join("\n"),t},YesNormal:function(e){var t=G(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),o=[],r=$e.internal.getHeight(e),a=$e.internal.getWidth(e),s=ie(e,e.caption);return o.push("1 g"),o.push("0 0 "+W(a)+" "+W(r)+" re"),o.push("f"),o.push("q"),o.push("0 0 1 rg"),o.push("0 0 "+W(a-1)+" "+W(r-1)+" re"),o.push("W"),o.push("n"),o.push("0 g"),o.push("BT"),o.push("/"+n+" "+W(s.fontSize)+" Tf "+i),o.push(s.text),o.push("ET"),o.push("Q"),t.stream=o.join("\n"),t},OffPushDown:function(e){var t=G(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+W($e.internal.getWidth(e))+" "+W($e.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join("\n"),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:$e.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=$e.RadioButton.Circle.YesNormal,t.D[e]=$e.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=G(e);t.scope=e.scope;var n=[],i=$e.internal.getWidth(e)<=$e.internal.getHeight(e)?$e.internal.getWidth(e)/4:$e.internal.getHeight(e)/4;i=Number((.9*i).toFixed(5));var o=$e.internal.Bezier_C,r=Number((i*o).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+H($e.internal.getWidth(e)/2)+" "+H($e.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+r+" "+r+" "+i+" 0 "+i+" c"),n.push("-"+r+" "+i+" -"+i+" "+r+" -"+i+" 0 c"),n.push("-"+i+" -"+r+" -"+r+" -"+i+" 0 -"+i+" c"),n.push(r+" -"+i+" "+i+" -"+r+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t},YesPushDown:function(e){var t=G(e);t.scope=e.scope;var n=[],i=$e.internal.getWidth(e)<=$e.internal.getHeight(e)?$e.internal.getWidth(e)/4:$e.internal.getHeight(e)/4;i=Number((.9*i).toFixed(5));var o=Number((2*i).toFixed(5)),r=Number((o*$e.internal.Bezier_C).toFixed(5)),a=Number((i*$e.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+H($e.internal.getWidth(e)/2)+" "+H($e.internal.getHeight(e)/2)+" cm"),n.push(o+" 0 m"),n.push(o+" "+r+" "+r+" "+o+" 0 "+o+" c"),n.push("-"+r+" "+o+" -"+o+" "+r+" -"+o+" 0 c"),n.push("-"+o+" -"+r+" -"+r+" -"+o+" 0 -"+o+" c"),n.push(r+" -"+o+" "+o+" -"+r+" "+o+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+H($e.internal.getWidth(e)/2)+" "+H($e.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t},OffPushDown:function(e){var t=G(e);t.scope=e.scope;var n=[],i=$e.internal.getWidth(e)<=$e.internal.getHeight(e)?$e.internal.getWidth(e)/4:$e.internal.getHeight(e)/4;i=Number((.9*i).toFixed(5));var o=Number((2*i).toFixed(5)),r=Number((o*$e.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+H($e.internal.getWidth(e)/2)+" "+H($e.internal.getHeight(e)/2)+" cm"),n.push(o+" 0 m"),n.push(o+" "+r+" "+r+" "+o+" 0 "+o+" c"),n.push("-"+r+" "+o+" -"+o+" "+r+" -"+o+" 0 c"),n.push("-"+o+" -"+r+" -"+r+" -"+o+" 0 -"+o+" c"),n.push(r+" -"+o+" "+o+" -"+r+" "+o+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:$e.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=$e.RadioButton.Cross.YesNormal,t.D[e]=$e.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=G(e);t.scope=e.scope;var n=[],i=$e.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+W($e.internal.getWidth(e)-2)+" "+W($e.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(W(i.x1.x)+" "+W(i.x1.y)+" m"),n.push(W(i.x2.x)+" "+W(i.x2.y)+" l"),n.push(W(i.x4.x)+" "+W(i.x4.y)+" m"),n.push(W(i.x3.x)+" "+W(i.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join("\n"),t},YesPushDown:function(e){var t=G(e);t.scope=e.scope;var n=$e.internal.calculateCross(e),i=[];return i.push("0.749023 g"),i.push("0 0 "+W($e.internal.getWidth(e))+" "+W($e.internal.getHeight(e))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+W($e.internal.getWidth(e)-2)+" "+W($e.internal.getHeight(e)-2)+" re"),i.push("W"),i.push("n"),i.push(W(n.x1.x)+" "+W(n.x1.y)+" m"),i.push(W(n.x2.x)+" "+W(n.x2.y)+" l"),i.push(W(n.x4.x)+" "+W(n.x4.y)+" m"),i.push(W(n.x3.x)+" "+W(n.x3.y)+" l"),i.push("s"),i.push("Q"),t.stream=i.join("\n"),t},OffPushDown:function(e){var t=G(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+W($e.internal.getWidth(e))+" "+W($e.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join("\n"),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};$e.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=$e.internal.getWidth(e),n=$e.internal.getHeight(e),i=Math.min(t,n);return{x1:{x:(t-i)/2,y:(n-i)/2+i},x2:{x:(t-i)/2+i,y:(n-i)/2},x3:{x:(t-i)/2,y:(n-i)/2},x4:{x:(t-i)/2+i,y:(n-i)/2+i}}}},$e.internal.getWidth=function(e){var t=0;return"object"===o()(e)&&(t=V(e.Rect[2])),t},$e.internal.getHeight=function(e){var t=0;return"object"===o()(e)&&(t=V(e.Rect[3])),t};var je=T.addField=function(e){if(se(this,e),!(e instanceof he))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};T.AcroFormChoiceField=fe,T.AcroFormListBox=_e,T.AcroFormComboBox=me,T.AcroFormEditBox=ve,T.AcroFormButton=ge,T.AcroFormPushButton=be,T.AcroFormRadioButton=ye,T.AcroFormCheckBox=xe,T.AcroFormTextField=Se,T.AcroFormPasswordField=ke,T.AcroFormAppearance=$e,T.AcroForm={ChoiceField:fe,ListBox:_e,ComboBox:me,EditBox:ve,Button:ge,PushButton:be,RadioButton:ye,CheckBox:xe,TextField:Se,PasswordField:ke,Appearance:$e},R.AcroForm={ChoiceField:fe,ListBox:_e,ComboBox:me,EditBox:ve,Button:ge,PushButton:be,RadioButton:ye,CheckBox:xe,TextField:Se,PasswordField:ke,Appearance:$e};var Oe,Ae;R.AcroForm;function Le(e){return e.reduce((function(e,t,n){return e[t]=n,e}),{})}!function(e){e.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=e.__addimage__.getImageFileTypeByImageData=function(e,i){var o,r,a,s,c,l=t;if("RGBA"===(i=i||t)||void 0!==e.data&&e.data instanceof Uint8ClampedArray&&"height"in e&&"width"in e)return"RGBA";if(k(e))for(c in n)for(a=n[c],o=0;o<a.length;o+=1){for(s=!0,r=0;r<a[o].length;r+=1)if(void 0!==a[o][r]&&a[o][r]!==e[r]){s=!1;break}if(!0===s){l=c;break}}else for(c in n)for(a=n[c],o=0;o<a.length;o+=1){for(s=!0,r=0;r<a[o].length;r+=1)if(void 0!==a[o][r]&&a[o][r]!==e.charCodeAt(r)){s=!1;break}if(!0===s){l=c;break}}return l===t&&i!==t&&(l=i),l},r=function e(t){for(var n=this.internal.write,i=this.internal.putStream,o=(0,this.internal.getFilters)();-1!==o.indexOf("FlateEncode");)o.splice(o.indexOf("FlateEncode"),1);t.objectId=this.internal.newObject();var r=[];if(r.push({key:"Type",value:"/XObject"}),r.push({key:"Subtype",value:"/Image"}),r.push({key:"Width",value:t.width}),r.push({key:"Height",value:t.height}),t.colorSpace===g.INDEXED?r.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(t.palette.length/3-1)+" "+("sMask"in t&&void 0!==t.sMask?t.objectId+2:t.objectId+1)+" 0 R]"}):(r.push({key:"ColorSpace",value:"/"+t.colorSpace}),t.colorSpace===g.DEVICE_CMYK&&r.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),r.push({key:"BitsPerComponent",value:t.bitsPerComponent}),"decodeParameters"in t&&void 0!==t.decodeParameters&&r.push({key:"DecodeParms",value:"<<"+t.decodeParameters+">>"}),"transparency"in t&&Array.isArray(t.transparency)){for(var a="",s=0,c=t.transparency.length;s<c;s++)a+=t.transparency[s]+" "+t.transparency[s]+" ";r.push({key:"Mask",value:"["+a+"]"})}void 0!==t.sMask&&r.push({key:"SMask",value:t.objectId+1+" 0 R"});var l=void 0!==t.filter?["/"+t.filter]:void 0;if(i({data:t.data,additionalKeyValues:r,alreadyAppliedFilters:l,objectId:t.objectId}),n("endobj"),"sMask"in t&&void 0!==t.sMask){var u="/Predictor "+t.predictor+" /Colors 1 /BitsPerComponent "+t.bitsPerComponent+" /Columns "+t.width,d={width:t.width,height:t.height,colorSpace:"DeviceGray",bitsPerComponent:t.bitsPerComponent,decodeParameters:u,data:t.sMask};"filter"in t&&(d.filter=t.filter),e.call(this,d)}if(t.colorSpace===g.INDEXED){var p=this.internal.newObject();i({data:j(new Uint8Array(t.palette)),objectId:p}),n("endobj")}},a=function(){var e=this.internal.collections.addImage_images;for(var t in e)r.call(this,e[t])},s=function(){var e,t=this.internal.collections.addImage_images,n=this.internal.write;for(var i in t)n("/I"+(e=t[i]).index,e.objectId,"0","R")},c=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",s))},l=function(){var e=this.internal.collections.addImage_images;return c.call(this),e},u=function(){return Object.keys(this.internal.collections.addImage_images).length},d=function(t){return"function"==typeof e["process"+t.toUpperCase()]},h=function(e){return"object"===o()(e)&&1===e.nodeType},f=function(t,n){if("IMG"===t.nodeName&&t.hasAttribute("src")){var i=""+t.getAttribute("src");if(0===i.indexOf("data:image/"))return p(unescape(i).split("base64,").pop());var o=e.loadFile(i,!0);if(void 0!==o)return o}if("CANVAS"===t.nodeName){if(0===t.width||0===t.height)throw new Error("Given canvas must have data. Canvas width: "+t.width+", height: "+t.height);var r;switch(n){case"PNG":r="image/png";break;case"WEBP":r="image/webp";break;case"JPEG":case"JPG":default:r="image/jpeg"}return p(t.toDataURL(r,1).split("base64,").pop())}},_=function(e){var t=this.internal.collections.addImage_images;if(t)for(var n in t)if(e===t[n].alias)return t[n]},m=function(e,t,n){return e||t||(e=-96,t=-96),e<0&&(e=-1*n.width*72/e/this.internal.scaleFactor),t<0&&(t=-1*n.height*72/t/this.internal.scaleFactor),0===e&&(e=t*n.width/n.height),0===t&&(t=e*n.height/n.width),[e,t]},v=function(e,t,n,i,o,r){var a=m.call(this,n,i,o),s=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,u=l.call(this);if(n=a[0],i=a[1],u[o.index]=o,r){r*=Math.PI/180;var d=Math.cos(r),p=Math.sin(r),h=function(e){return e.toFixed(4)},f=[h(d),h(p),h(-1*p),h(d),0,0,"cm"]}this.internal.write("q"),r?(this.internal.write([1,"0","0",1,s(e),c(t+i),"cm"].join(" ")),this.internal.write(f.join(" ")),this.internal.write([s(n),"0","0",s(i),"0","0","cm"].join(" "))):this.internal.write([s(n),"0","0",s(i),s(e),c(t+i),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+o.index+" Do"),this.internal.write("Q")},g=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var b=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},y=e.__addimage__.sHashCode=function(e){var t,n,i=0;if("string"==typeof e)for(n=e.length,t=0;t<n;t++)i=(i<<5)-i+e.charCodeAt(t),i|=0;else if(k(e))for(n=e.byteLength/2,t=0;t<n;t++)i=(i<<5)-i+e[t],i|=0;return i},w=e.__addimage__.validateStringAsBase64=function(e){(e=e||"").toString().trim();var t=!0;return 0===e.length&&(t=!1),e.length%4!=0&&(t=!1),!1===/^[A-Za-z0-9+/]+$/.test(e.substr(0,e.length-2))&&(t=!1),!1===/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(e.substr(-2))&&(t=!1),t},x=e.__addimage__.extractImageFromDataUrl=function(e){var t=(e=e||"").split("base64,"),n=null;if(2===t.length){var i=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(t[0]);Array.isArray(i)&&(n={mimeType:i[1],charset:i[2],data:t[1]})}return n},S=e.__addimage__.supportsArrayBuffer=function(){return"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array};e.__addimage__.isArrayBuffer=function(e){return S()&&e instanceof ArrayBuffer};var k=e.__addimage__.isArrayBufferView=function(e){return S()&&"undefined"!=typeof Uint32Array&&(e instanceof Int8Array||e instanceof Uint8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)},$=e.__addimage__.binaryStringToUint8Array=function(e){for(var t=e.length,n=new Uint8Array(t),i=0;i<t;i++)n[i]=e.charCodeAt(i);return n},j=e.__addimage__.arrayBufferToBinaryString=function(e){for(var t="",n=k(e)?e:new Uint8Array(e),i=0;i<n.length;i+=8192)t+=String.fromCharCode.apply(null,n.subarray(i,i+8192));return t};e.addImage=function(){var e,n,i,r,a,s,l,u,d;if("number"==typeof arguments[1]?(n=t,i=arguments[1],r=arguments[2],a=arguments[3],s=arguments[4],l=arguments[5],u=arguments[6],d=arguments[7]):(n=arguments[1],i=arguments[2],r=arguments[3],a=arguments[4],s=arguments[5],l=arguments[6],u=arguments[7],d=arguments[8]),"object"===o()(e=arguments[0])&&!h(e)&&"imageData"in e){var p=e;e=p.imageData,n=p.format||n||t,i=p.x||i||0,r=p.y||r||0,a=p.w||p.width||a,s=p.h||p.height||s,l=p.alias||l,u=p.compression||u,d=p.rotation||p.angle||d}var f=this.internal.getFilters();if(void 0===u&&-1!==f.indexOf("FlateEncode")&&(u="SLOW"),isNaN(i)||isNaN(r))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var _=O.call(this,e,n,l,u);return v.call(this,i,r,a,s,_,d),this};var O=function(n,o,r,a){var s,c,l;if("string"==typeof n&&i(n)===t){n=unescape(n);var p=A(n,!1);(""!==p||void 0!==(p=e.loadFile(n,!0)))&&(n=p)}if(h(n)&&(n=f(n,o)),o=i(n,o),!d(o))throw new Error("addImage does not support files of type '"+o+"', please ensure that a plugin for '"+o+"' support is added.");if((null==(l=r)||0===l.length)&&(r=function(e){return"string"==typeof e||k(e)?y(e):k(e.data)?y(e.data):null}(n)),(s=_.call(this,r))||(S()&&(n instanceof Uint8Array||"RGBA"===o||(c=n,n=$(n))),s=this["process"+o.toUpperCase()](n,u.call(this),r,function(t){return t&&"string"==typeof t&&(t=t.toUpperCase()),t in e.image_compression?t:b.NONE}(a),c)),!s)throw new Error("An unknown error occurred whilst processing the image.");return s},A=e.__addimage__.convertBase64ToBinaryString=function(e,t){var n;t="boolean"!=typeof t||t;var i,o="";if("string"==typeof e){i=null!==(n=x(e))?n.data:e;try{o=p(i)}catch(e){if(t)throw w(i)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+e.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return o};e.getImageProperties=function(n){var o,r,a="";if(h(n)&&(n=f(n)),"string"==typeof n&&i(n)===t&&(""===(a=A(n,!1))&&(a=e.loadFile(n)||""),n=a),r=i(n),!d(r))throw new Error("addImage does not support files of type '"+r+"', please ensure that a plugin for '"+r+"' support is added.");if(!S()||n instanceof Uint8Array||(n=$(n)),!(o=this["process"+r.toUpperCase()](n)))throw new Error("An unknown error occurred whilst processing the image");return o.fileType=r,o}}(R.API),Oe=R.API,Ae=function(e){if(void 0!==e&&""!=e)return!0},R.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),Oe.events.push(["putPage",function(e){for(var t,n,i,o=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,a=this.internal.getPageInfoByObjId(e.objId),s=e.pageContext.annotations,c=!1,l=0;l<s.length&&!c;l++)switch((t=s[l]).type){case"link":(Ae(t.options.url)||Ae(t.options.pageNumber))&&(c=!0);break;case"reference":case"text":case"freetext":c=!0}if(0!=c){this.internal.write("/Annots [");for(var u=0;u<s.length;u++){t=s[u];var d=this.internal.pdfEscape,p=this.internal.getEncryptor(e.objId);switch(t.type){case"reference":this.internal.write(" "+t.object.objId+" 0 R ");break;case"text":var h=this.internal.newAdditionalObject(),f=this.internal.newAdditionalObject(),_=this.internal.getEncryptor(h.objId),m=t.title||"Note";i="<</Type /Annot /Subtype /Text "+(n="/Rect ["+o(t.bounds.x)+" "+r(t.bounds.y+t.bounds.h)+" "+o(t.bounds.x+t.bounds.w)+" "+r(t.bounds.y)+"] ")+"/Contents ("+d(_(t.contents))+")",i+=" /Popup "+f.objId+" 0 R",i+=" /P "+a.objId+" 0 R",i+=" /T ("+d(_(m))+") >>",h.content=i;var v=h.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(n="/Rect ["+o(t.bounds.x+30)+" "+r(t.bounds.y+t.bounds.h)+" "+o(t.bounds.x+t.bounds.w+30)+" "+r(t.bounds.y)+"] ")+" /Parent "+v,t.open&&(i+=" /Open true"),i+=" >>",f.content=i,this.internal.write(h.objId,"0 R",f.objId,"0 R");break;case"freetext":n="/Rect ["+o(t.bounds.x)+" "+r(t.bounds.y)+" "+o(t.bounds.x+t.bounds.w)+" "+r(t.bounds.y+t.bounds.h)+"] ";var g=t.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+n+"/Contents ("+d(p(t.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+g+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(t.options.name){var b=this.annotations._nameMap[t.options.name];t.options.pageNumber=b.page,t.options.top=b.y}else t.options.top||(t.options.top=0);if(n="/Rect ["+t.finalBounds.x+" "+t.finalBounds.y+" "+t.finalBounds.w+" "+t.finalBounds.h+"] ",i="",t.options.url)i="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /A <</S /URI /URI ("+d(p(t.options.url))+") >>";else if(t.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(t.options.pageNumber).objId+" 0 R",t.options.magFactor=t.options.magFactor||"XYZ",t.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+t.options.top+"]";break;case"FitV":t.options.left=t.options.left||0,i+=" /FitV "+t.options.left+"]";break;case"XYZ":default:var y=r(t.options.top);t.options.left=t.options.left||0,void 0===t.options.zoom&&(t.options.zoom=0),i+=" /XYZ "+t.options.left+" "+y+" "+t.options.zoom+"]"}""!=i&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),Oe.createAnnotation=function(e){var t=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":t.pageContext.annotations.push(e)}},Oe.link=function(e,t,n,i,o){var r=this.internal.getCurrentPageInfo(),a=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString;r.pageContext.annotations.push({finalBounds:{x:a(e),y:s(t),w:a(e+n),h:s(t+i)},options:o,type:"link"})},Oe.textWithLink=function(e,t,n,i){var o,r,a=this.getTextWidth(e),s=this.internal.getLineHeight()/this.internal.scaleFactor;if(void 0!==i.maxWidth){r=i.maxWidth;var c=this.splitTextToSize(e,r).length;o=Math.ceil(s*c)}else r=a,o=s;return this.text(e,t,n,i),n+=.2*s,"center"===i.align&&(t-=a/2),"right"===i.align&&(t-=a),this.link(t,n-s,r,o,i),a},Oe.getTextWidth=function(e){var t=this.internal.getFontSize();return this.getStringUnitWidth(e)*t/this.internal.scaleFactor},function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},o=[1570,1571,1573,1575];e.__arabicParser__={};var r=e.__arabicParser__.isInArabicSubstitutionA=function(e){return void 0!==t[e.charCodeAt(0)]},a=e.__arabicParser__.isArabicLetter=function(e){return"string"==typeof e&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(e)},s=e.__arabicParser__.isArabicEndLetter=function(e){return a(e)&&r(e)&&t[e.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(e){return a(e)&&o.indexOf(e.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(e){return a(e)&&r(e)&&t[e.charCodeAt(0)].length>=1};var l=e.__arabicParser__.arabicLetterHasFinalForm=function(e){return a(e)&&r(e)&&t[e.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(e){return a(e)&&r(e)&&t[e.charCodeAt(0)].length>=3};var u=e.__arabicParser__.arabicLetterHasMedialForm=function(e){return a(e)&&r(e)&&4==t[e.charCodeAt(0)].length},d=e.__arabicParser__.resolveLigatures=function(e){var t=0,i=n,o="",r=0;for(t=0;t<e.length;t+=1)void 0!==i[e.charCodeAt(t)]?(r++,"number"==typeof(i=i[e.charCodeAt(t)])&&(o+=String.fromCharCode(i),i=n,r=0),t===e.length-1&&(i=n,o+=e.charAt(t-(r-1)),t-=r-1,r=0)):(i=n,o+=e.charAt(t-r),t-=r,r=0);return o};e.__arabicParser__.isArabicDiacritic=function(e){return void 0!==e&&void 0!==i[e.charCodeAt(0)]};var p=e.__arabicParser__.getCorrectForm=function(e,t,n){return a(e)?!1===r(e)?-1:!l(e)||!a(t)&&!a(n)||!a(n)&&s(t)||s(e)&&!a(t)||s(e)&&c(t)||s(e)&&s(t)?0:u(e)&&a(t)&&!s(t)&&a(n)&&l(n)?3:s(e)||!a(n)?1:2:-1},h=function(e){var n=0,i=0,o=0,r="",s="",c="",l=(e=e||"").split("\\s+"),u=[];for(n=0;n<l.length;n+=1){for(u.push(""),i=0;i<l[n].length;i+=1)r=l[n][i],s=l[n][i-1],c=l[n][i+1],a(r)?(o=p(r,s,c),u[n]+=-1!==o?String.fromCharCode(t[r.charCodeAt(0)][o]):r):u[n]+=r;u[n]=d(u[n])}return u.join(" ")},f=e.__arabicParser__.processArabic=e.processArabic=function(){var e,t="string"==typeof arguments[0]?arguments[0]:arguments[0].text,n=[];if(Array.isArray(t)){var i=0;for(n=[],i=0;i<t.length;i+=1)Array.isArray(t[i])?n.push([h(t[i][0]),t[i][1],t[i][2]]):n.push([h(t[i])]);e=n}else e=h(t);return"string"==typeof arguments[0]?e:(arguments[0].text=e,arguments[0])};e.events.push(["preProcessText",f])}(R.API),R.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",(function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){this.internal.out("/OpenAction "+t+" 0 R")}))}return this},function(e){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(t){e=t}});var t=150;Object.defineProperty(this,"width",{get:function(){return t},set:function(e){t=isNaN(e)||!1===Number.isInteger(e)||e<0?150:e,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=t+1)}});var n=300;Object.defineProperty(this,"height",{get:function(){return n},set:function(e){n=isNaN(e)||!1===Number.isInteger(e)||e<0?300:e,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=n+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(e){i=e}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(e){o=e}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,t){var n;if("2d"!==(e=e||"2d"))return null;for(n in t)this.pdf.context2d.hasOwnProperty(n)&&(this.pdf.context2d[n]=t[n]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(R.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,i=function(){void 0===this.internal.__cell__&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),r.call(this))},r=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var e=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return e},set:function(t){e=t}});var t=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return t},set:function(e){t=e}});var n=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return n},set:function(e){n=e}});var i=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return i},set:function(e){i=e}});var o=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return o},set:function(e){o=e}});var r=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return r},set:function(e){r=e}});var a=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return a},set:function(e){a=e}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(e){return i.call(this),this.internal.__cell__.headerFunction="function"==typeof e?e:void 0,this},e.getTextDimensions=function(e,t){i.call(this);var n=(t=t||{}).fontSize||this.getFontSize(),o=t.font||this.getFont(),r=t.scaleFactor||this.internal.scaleFactor,a=0,s=0,c=0,l=this;if(!Array.isArray(e)&&"string"!=typeof e){if("number"!=typeof e)throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");e=String(e)}var u=t.maxWidth;u>0?"string"==typeof e?e=this.splitTextToSize(e,u):"[object Array]"===Object.prototype.toString.call(e)&&(e=e.reduce((function(e,t){return e.concat(l.splitTextToSize(t,u))}),[])):e=Array.isArray(e)?e:[e];for(var d=0;d<e.length;d++)a<(c=this.getStringUnitWidth(e[d],{font:o})*n)&&(a=c);return 0!==a&&(s=e.length),{w:a/=r,h:Math.max((s*n*this.getLineHeightFactor()-n*(this.getLineHeightFactor()-1))/r,0)}},e.cellAddPage=function(){i.call(this),this.addPage();var e=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new a(e.left,e.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=e.cell=function(){var e;e=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),i.call(this);var o=this.internal.__cell__.lastCell,r=this.internal.__cell__.padding,s=this.internal.__cell__.margins||t,c=this.internal.__cell__.tableHeaderRow,l=this.internal.__cell__.printHeaders;return void 0!==o.lineNumber&&(o.lineNumber===e.lineNumber?(e.x=(o.x||0)+(o.width||0),e.y=o.y||0):o.y+o.height+e.height+s.bottom>this.getPageHeight()?(this.cellAddPage(),e.y=s.top,l&&c&&(this.printHeaderRow(e.lineNumber,!0),e.y+=c[0].height)):e.y=o.y+o.height||e.y),void 0!==e.text[0]&&(this.rect(e.x,e.y,e.width,e.height,!0===n?"FD":void 0),"right"===e.align?this.text(e.text,e.x+e.width-r,e.y+r,{align:"right",baseline:"top"}):"center"===e.align?this.text(e.text,e.x+e.width/2,e.y+r,{align:"center",baseline:"top",maxWidth:e.width-r-r}):this.text(e.text,e.x+r,e.y+r,{align:"left",baseline:"top",maxWidth:e.width-r-r})),this.internal.__cell__.lastCell=e,this};e.table=function(e,n,l,u,d){if(i.call(this),!l)throw new Error("No data for PDF table.");var p,h,f,_,m=[],v=[],g=[],b={},y={},w=[],x=[],S=(d=d||{}).autoSize||!1,k=!1!==d.printHeaders,$=d.css&&void 0!==d.css["font-size"]?16*d.css["font-size"]:d.fontSize||12,j=d.margins||Object.assign({width:this.getPageWidth()},t),O="number"==typeof d.padding?d.padding:3,A=d.headerBackgroundColor||"#c8c8c8",L=d.headerTextColor||"#000";if(r.call(this),this.internal.__cell__.printHeaders=k,this.internal.__cell__.margins=j,this.internal.__cell__.table_font_size=$,this.internal.__cell__.padding=O,this.internal.__cell__.headerBackgroundColor=A,this.internal.__cell__.headerTextColor=L,this.setFontSize($),null==u)v=m=Object.keys(l[0]),g=m.map((function(){return"left"}));else if(Array.isArray(u)&&"object"===o()(u[0]))for(m=u.map((function(e){return e.name})),v=u.map((function(e){return e.prompt||e.name||""})),g=u.map((function(e){return e.align||"left"})),p=0;p<u.length;p+=1)y[u[p].name]=u[p].width*(19.049976/25.4);else Array.isArray(u)&&"string"==typeof u[0]&&(v=m=u,g=m.map((function(){return"left"})));if(S||Array.isArray(u)&&"string"==typeof u[0])for(p=0;p<m.length;p+=1){for(b[_=m[p]]=l.map((function(e){return e[_]})),this.setFont(void 0,"bold"),w.push(this.getTextDimensions(v[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),h=b[_],this.setFont(void 0,"normal"),f=0;f<h.length;f+=1)w.push(this.getTextDimensions(h[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);y[_]=Math.max.apply(null,w)+O+O,w=[]}if(k){var P={};for(p=0;p<m.length;p+=1)P[m[p]]={},P[m[p]].text=v[p],P[m[p]].align=g[p];var D=c.call(this,P,y);x=m.map((function(t){return new a(e,n,y[t],D,P[t].text,void 0,P[t].align)})),this.setTableHeaderRow(x),this.printHeaderRow(1,!1)}var N=u.reduce((function(e,t){return e[t.name]=t.align,e}),{});for(p=0;p<l.length;p+=1){"rowStart"in d&&d.rowStart instanceof Function&&d.rowStart({row:p,data:l[p]},this);var C=c.call(this,l[p],y);for(f=0;f<m.length;f+=1){var M=l[p][m[f]];"cellStart"in d&&d.cellStart instanceof Function&&d.cellStart({row:p,col:f,data:M},this),s.call(this,new a(e,n,y[m[f]],C,M,p+2,N[m[f]]))}}return this.internal.__cell__.table_x=e,this.internal.__cell__.table_y=n,this};var c=function(e,t){var n=this.internal.__cell__.padding,i=this.internal.__cell__.table_font_size,o=this.internal.scaleFactor;return Object.keys(e).map((function(i){var o=e[i];return this.splitTextToSize(o.hasOwnProperty("text")?o.text:o,t[i]-n-n)}),this).map((function(e){return this.getLineHeightFactor()*e.length*i/o+n+n}),this).reduce((function(e,t){return Math.max(e,t)}),0)};e.setTableHeaderRow=function(e){i.call(this),this.internal.__cell__.tableHeaderRow=e},e.printHeaderRow=function(e,t){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var o;if(n=!0,"function"==typeof this.internal.__cell__.headerFunction){var r=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(r[0],r[1],r[2],r[3],void 0,-1)}this.setFont(void 0,"bold");for(var c=[],l=0;l<this.internal.__cell__.tableHeaderRow.length;l+=1){o=this.internal.__cell__.tableHeaderRow[l].clone(),t&&(o.y=this.internal.__cell__.margins.top||0,c.push(o)),o.lineNumber=e;var u=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,o),this.setTextColor(u)}c.length>0&&this.setTableHeaderRow(c),this.setFont(void 0,"normal"),n=!1}}(R.API);var Pe={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},De=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Ne=Le(De),Ce=[100,200,300,400,500,600,700,800,900],Me=Le(Ce);function Ie(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(e){return Pe[e=e||"normal"]?e:"normal"}(e.style),i=function(e){if(!e)return 400;if("number"==typeof e)return e>=100&&e<=900&&e%100==0?e:400;if(/^\d00$/.test(e))return parseInt(e);switch(e){case"bold":return 700;case"normal":default:return 400}}(e.weight),o=function(e){return"number"==typeof Ne[e=e||"normal"]?e:"normal"}(e.stretch);return{family:t,style:n,weight:i,stretch:o,src:e.src||[],ref:e.ref||{name:t,style:[o,n,i].join(" ")}}}function Ee(e,t,n,i){var o;for(o=n;o>=0&&o<t.length;o+=i)if(e[t[o]])return e[t[o]];for(o=n;o>=0&&o<t.length;o-=i)if(e[t[o]])return e[t[o]]}var Be={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Fe={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Re(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function Te(e){return e.trimLeft()}function qe(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function Ue(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return null===t?null:[t[0],e.substring(t[0].length)]}var ze,We,He,Ke=["times"];!function(e){var t,n,i,r,a,s,l,u,d,p=function(e){return e=e||{},this.isStrokeTransparent=e.isStrokeTransparent||!1,this.strokeOpacity=e.strokeOpacity||1,this.strokeStyle=e.strokeStyle||"#000000",this.fillStyle=e.fillStyle||"#000000",this.isFillTransparent=e.isFillTransparent||!1,this.fillOpacity=e.fillOpacity||1,this.font=e.font||"10px sans-serif",this.textBaseline=e.textBaseline||"alphabetic",this.textAlign=e.textAlign||"left",this.lineWidth=e.lineWidth||1,this.lineJoin=e.lineJoin||"miter",this.lineCap=e.lineCap||"butt",this.path=e.path||[],this.transform=void 0!==e.transform?e.transform.clone():new u,this.globalCompositeOperation=e.globalCompositeOperation||"normal",this.globalAlpha=e.globalAlpha||1,this.clip_path=e.clip_path||[],this.currentPoint=e.currentPoint||new s,this.miterLimit=e.miterLimit||10,this.lastPoint=e.lastPoint||new s,this.lineDashOffset=e.lineDashOffset||0,this.lineDash=e.lineDash||[],this.margin=e.margin||[0,0,0,0],this.prevPageLastElemOffset=e.prevPageLastElemOffset||0,this.ignoreClearRect="boolean"!=typeof e.ignoreClearRect||e.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new h(this),t=this.internal.f2,n=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,r=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,s=this.internal.Point,l=this.internal.Rectangle,u=this.internal.Matrix,d=new p}]);var h=function(e){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var t=e;Object.defineProperty(this,"pdf",{get:function(){return t}});var n=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return n},set:function(e){n=Boolean(e)}});var i=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return i},set:function(e){i=Boolean(e)}});var o=0;Object.defineProperty(this,"posX",{get:function(){return o},set:function(e){isNaN(e)||(o=e)}});var r=0;Object.defineProperty(this,"posY",{get:function(){return r},set:function(e){isNaN(e)||(r=e)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(e){var t;"number"==typeof e?t=[e,e,e,e]:((t=new Array(4))[0]=e[0],t[1]=e.length>=2?e[1]:t[0],t[2]=e.length>=3?e[2]:t[0],t[3]=e.length>=4?e[3]:t[1]),d.margin=t}});var a=!1;Object.defineProperty(this,"autoPaging",{get:function(){return a},set:function(e){a=e}});var s=0;Object.defineProperty(this,"lastBreak",{get:function(){return s},set:function(e){s=e}});var c=[];Object.defineProperty(this,"pageBreaks",{get:function(){return c},set:function(e){c=e}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(e){e instanceof p&&(d=e)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(e){d.path=e}});var l=[];Object.defineProperty(this,"ctxStack",{get:function(){return l},set:function(e){l=e}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(e){var t;t=f(e),this.ctx.fillStyle=t.style,this.ctx.isFillTransparent=0===t.a,this.ctx.fillOpacity=t.a,this.pdf.setFillColor(t.r,t.g,t.b,{a:t.a}),this.pdf.setTextColor(t.r,t.g,t.b,{a:t.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(e){var t=f(e);this.ctx.strokeStyle=t.style,this.ctx.isStrokeTransparent=0===t.a,this.ctx.strokeOpacity=t.a,0===t.a?this.pdf.setDrawColor(255,255,255):(t.a,this.pdf.setDrawColor(t.r,t.g,t.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(e){-1!==["butt","round","square"].indexOf(e)&&(this.ctx.lineCap=e,this.pdf.setLineCap(e))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(e){isNaN(e)||(this.ctx.lineWidth=e,this.pdf.setLineWidth(e))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(e){-1!==["bevel","round","miter"].indexOf(e)&&(this.ctx.lineJoin=e,this.pdf.setLineJoin(e))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(e){isNaN(e)||(this.ctx.miterLimit=e,this.pdf.setMiterLimit(e))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(e){this.ctx.textBaseline=e}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(e){-1!==["right","end","center","left","start"].indexOf(e)&&(this.ctx.textAlign=e)}});var u=null;function h(e,t){if(null===u){var n=function(e){var t=[];return Object.keys(e).forEach((function(n){e[n].forEach((function(e){var i=null;switch(e){case"bold":i={family:n,weight:"bold"};break;case"italic":i={family:n,style:"italic"};break;case"bolditalic":i={family:n,weight:"bold",style:"italic"};break;case"":case"normal":i={family:n}}null!==i&&(i.ref={name:n,style:e},t.push(i))}))})),t}(e.getFontList());u=function(e){for(var t={},n=0;n<e.length;++n){var i=Ie(e[n]),o=i.family,r=i.stretch,a=i.style,s=i.weight;t[o]=t[o]||{},t[o][r]=t[o][r]||{},t[o][r][a]=t[o][r][a]||{},t[o][r][a][s]=i}return t}(n.concat(t))}return u}var _=null;Object.defineProperty(this,"fontFaces",{get:function(){return _},set:function(e){u=null,_=e}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(e){var t;if(this.ctx.font=e,null!==(t=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(e))){var n=t[1],i=(t[2],t[3]),o=t[4],r=(t[5],t[6]),a=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(o)[2];o="px"===a?Math.floor(parseFloat(o)*this.pdf.internal.scaleFactor):"em"===a?Math.floor(parseFloat(o)*this.pdf.getFontSize()):Math.floor(parseFloat(o)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(o);var s=function(e){var t,n,i=[],o=e.trim();if(""===o)return Ke;if(o in Fe)return[Fe[o]];for(;""!==o;){switch(n=null,t=(o=Te(o)).charAt(0)){case'"':case"'":n=qe(o.substring(1),t);break;default:n=Ue(o)}if(null===n)return Ke;if(i.push(n[0]),""!==(o=Te(n[1]))&&","!==o.charAt(0))return Ke;o=o.replace(/^,/,"")}return i}(r);if(this.fontFaces){var c=function(e,t,n){for(var i=(n=n||{}).defaultFontFamily||"times",o=Object.assign({},Be,n.genericFontFamilies||{}),r=null,a=null,s=0;s<t.length;++s)if(o[(r=Ie(t[s])).family]&&(r.family=o[r.family]),e.hasOwnProperty(r.family)){a=e[r.family];break}if(!(a=a||e[i]))throw new Error("Could not find a font-family for the rule '"+Re(r)+"' and default family '"+i+"'.");if(a=function(e,t){if(t[e])return t[e];var n=Ne[e],i=n<=Ne.normal?-1:1,o=Ee(t,De,n,i);if(!o)throw new Error("Could not find a matching font-stretch value for "+e);return o}(r.stretch,a),a=function(e,t){if(t[e])return t[e];for(var n=Pe[e],i=0;i<n.length;++i)if(t[n[i]])return t[n[i]];throw new Error("Could not find a matching font-style for "+e)}(r.style,a),!(a=function(e,t){if(t[e])return t[e];if(400===e&&t[500])return t[500];if(500===e&&t[400])return t[400];var n=Me[e],i=Ee(t,Ce,n,e<400?-1:1);if(!i)throw new Error("Could not find a matching font-weight for value "+e);return i}(r.weight,a)))throw new Error("Failed to resolve a font for the rule '"+Re(r)+"'.");return a}(h(this.pdf,this.fontFaces),s.map((function(e){return{family:e,stretch:"normal",weight:i,style:n}})));this.pdf.setFont(c.ref.name,c.ref.style)}else{var l="";("bold"===i||parseInt(i,10)>=700||"bold"===n)&&(l="bold"),"italic"===n&&(l+="italic"),0===l.length&&(l="normal");for(var u="",d={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},p=0;p<s.length;p++){if(void 0!==this.pdf.internal.getFont(s[p],l,{noFallback:!0,disableWarning:!0})){u=s[p];break}if("bolditalic"===l&&void 0!==this.pdf.internal.getFont(s[p],"bold",{noFallback:!0,disableWarning:!0}))u=s[p],l="bold";else if(void 0!==this.pdf.internal.getFont(s[p],"normal",{noFallback:!0,disableWarning:!0})){u=s[p],l="normal";break}}if(""===u)for(var f=0;f<s.length;f++)if(d[s[f]]){u=d[s[f]];break}u=""===u?"Times":u,this.pdf.setFont(u,l)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(e){this.ctx.globalCompositeOperation=e}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(e){this.ctx.globalAlpha=e}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(e){this.ctx.lineDashOffset=e,T.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(e){this.ctx.lineDash=e,T.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(e){this.ctx.ignoreClearRect=Boolean(e)}})};h.prototype.setLineDash=function(e){this.lineDash=e},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){S.call(this,"fill",!1)},h.prototype.stroke=function(){S.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(e,t){if(isNaN(e)||isNaN(t))throw c.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var n=this.ctx.transform.applyToPoint(new s(e,t));this.path.push({type:"mt",x:n.x,y:n.y}),this.ctx.lastPoint=new s(e,t)},h.prototype.closePath=function(){var e=new s(0,0),t=0;for(t=this.path.length-1;-1!==t;t--)if("begin"===this.path[t].type&&"object"===o()(this.path[t+1])&&"number"==typeof this.path[t+1].x){e=new s(this.path[t+1].x,this.path[t+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(e.x,e.y)},h.prototype.lineTo=function(e,t){if(isNaN(e)||isNaN(t))throw c.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var n=this.ctx.transform.applyToPoint(new s(e,t));this.path.push({type:"lt",x:n.x,y:n.y}),this.ctx.lastPoint=new s(n.x,n.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),S.call(this,null,!0)},h.prototype.quadraticCurveTo=function(e,t,n,i){if(isNaN(n)||isNaN(i)||isNaN(e)||isNaN(t))throw c.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var o=this.ctx.transform.applyToPoint(new s(n,i)),r=this.ctx.transform.applyToPoint(new s(e,t));this.path.push({type:"qct",x1:r.x,y1:r.y,x:o.x,y:o.y}),this.ctx.lastPoint=new s(o.x,o.y)},h.prototype.bezierCurveTo=function(e,t,n,i,o,r){if(isNaN(o)||isNaN(r)||isNaN(e)||isNaN(t)||isNaN(n)||isNaN(i))throw c.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var a=this.ctx.transform.applyToPoint(new s(o,r)),l=this.ctx.transform.applyToPoint(new s(e,t)),u=this.ctx.transform.applyToPoint(new s(n,i));this.path.push({type:"bct",x1:l.x,y1:l.y,x2:u.x,y2:u.y,x:a.x,y:a.y}),this.ctx.lastPoint=new s(a.x,a.y)},h.prototype.arc=function(e,t,n,i,o,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(i)||isNaN(o))throw c.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(r=Boolean(r),!this.ctx.transform.isIdentity){var a=this.ctx.transform.applyToPoint(new s(e,t));e=a.x,t=a.y;var l=this.ctx.transform.applyToPoint(new s(0,n)),u=this.ctx.transform.applyToPoint(new s(0,0));n=Math.sqrt(Math.pow(l.x-u.x,2)+Math.pow(l.y-u.y,2))}Math.abs(o-i)>=2*Math.PI&&(i=0,o=2*Math.PI),this.path.push({type:"arc",x:e,y:t,radius:n,startAngle:i,endAngle:o,counterclockwise:r})},h.prototype.arcTo=function(e,t,n,i,o){throw new Error("arcTo not implemented.")},h.prototype.rect=function(e,t,n,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(i))throw c.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(e,t),this.lineTo(e+n,t),this.lineTo(e+n,t+i),this.lineTo(e,t+i),this.lineTo(e,t),this.lineTo(e+n,t),this.lineTo(e,t)},h.prototype.fillRect=function(e,t,n,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(i))throw c.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var o={};"butt"!==this.lineCap&&(o.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(o.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(e,t,n,i),this.fill(),o.hasOwnProperty("lineCap")&&(this.lineCap=o.lineCap),o.hasOwnProperty("lineJoin")&&(this.lineJoin=o.lineJoin)}},h.prototype.strokeRect=function(e,t,n,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(i))throw c.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");v.call(this)||(this.beginPath(),this.rect(e,t,n,i),this.stroke())},h.prototype.clearRect=function(e,t,n,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(i))throw c.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(e,t,n,i))},h.prototype.save=function(e){e="boolean"!=typeof e||e;for(var t=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out("q");if(this.pdf.setPage(t),e){this.ctx.fontSize=this.pdf.internal.getFontSize();var i=new p(this.ctx);this.ctxStack.push(this.ctx),this.ctx=i}},h.prototype.restore=function(e){e="boolean"!=typeof e||e;for(var t=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out("Q");this.pdf.setPage(t),e&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var f=function(e){var t,n,i,o;if(!0===e.isCanvasGradient&&(e=e.getColor()),!e)return{r:0,g:0,b:0,a:0,style:e};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(e))t=0,n=0,i=0,o=0;else{var r=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(e);if(null!==r)t=parseInt(r[1]),n=parseInt(r[2]),i=parseInt(r[3]),o=1;else if(null!==(r=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(e)))t=parseInt(r[1]),n=parseInt(r[2]),i=parseInt(r[3]),o=parseFloat(r[4]);else{if(o=1,"string"==typeof e&&"#"!==e.charAt(0)){var a=new _(e);e=a.ok?a.toHex():"#000000"}4===e.length?(t=e.substring(1,2),t+=t,n=e.substring(2,3),n+=n,i=e.substring(3,4),i+=i):(t=e.substring(1,3),n=e.substring(3,5),i=e.substring(5,7)),t=parseInt(t,16),n=parseInt(n,16),i=parseInt(i,16)}}return{r:t,g:n,b:i,a:o,style:e}},m=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},v=function(){return Boolean(this.ctx.isStrokeTransparent||0==this.globalAlpha)};h.prototype.fillText=function(e,t,n,i){if(isNaN(t)||isNaN(n)||"string"!=typeof e)throw c.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(i=isNaN(i)?void 0:i,!m.call(this)){var o=B(this.ctx.transform.rotation),r=this.ctx.transform.scaleX;D.call(this,{text:e,x:t,y:n,scale:r,angle:o,align:this.textAlign,maxWidth:i})}},h.prototype.strokeText=function(e,t,n,i){if(isNaN(t)||isNaN(n)||"string"!=typeof e)throw c.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!v.call(this)){i=isNaN(i)?void 0:i;var o=B(this.ctx.transform.rotation),r=this.ctx.transform.scaleX;D.call(this,{text:e,x:t,y:n,scale:r,renderingMode:"stroke",angle:o,align:this.textAlign,maxWidth:i})}},h.prototype.measureText=function(e){if("string"!=typeof e)throw c.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var t=this.pdf,n=this.pdf.internal.scaleFactor,i=t.internal.getFontSize(),o=t.getStringUnitWidth(e)*i/t.internal.scaleFactor,r=function(e){var t=(e=e||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return t}}),this};return new r({width:o*=Math.round(96*n/72*1e4)/1e4})},h.prototype.scale=function(e,t){if(isNaN(e)||isNaN(t))throw c.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var n=new u(e,0,0,t,0,0);this.ctx.transform=this.ctx.transform.multiply(n)},h.prototype.rotate=function(e){if(isNaN(e))throw c.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var t=new u(Math.cos(e),Math.sin(e),-Math.sin(e),Math.cos(e),0,0);this.ctx.transform=this.ctx.transform.multiply(t)},h.prototype.translate=function(e,t){if(isNaN(e)||isNaN(t))throw c.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var n=new u(1,0,0,1,e,t);this.ctx.transform=this.ctx.transform.multiply(n)},h.prototype.transform=function(e,t,n,i,o,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(i)||isNaN(o)||isNaN(r))throw c.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var a=new u(e,t,n,i,o,r);this.ctx.transform=this.ctx.transform.multiply(a)},h.prototype.setTransform=function(e,t,n,i,o,r){e=isNaN(e)?1:e,t=isNaN(t)?0:t,n=isNaN(n)?0:n,i=isNaN(i)?1:i,o=isNaN(o)?0:o,r=isNaN(r)?0:r,this.ctx.transform=new u(e,t,n,i,o,r)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(e,t,n,i,o,r,a,s,c){var d=this.pdf.getImageProperties(e),p=1,h=1,f=1,_=1;void 0!==i&&void 0!==s&&(f=s/i,_=c/o,p=d.width/i*s/i,h=d.height/o*c/o),void 0===r&&(r=t,a=n,t=0,n=0),void 0!==i&&void 0===s&&(s=i,c=o),void 0===i&&void 0===s&&(s=d.width,c=d.height);for(var m,v=this.ctx.transform.decompose(),y=B(v.rotate.shx),S=new u,$=(S=(S=(S=S.multiply(v.translate)).multiply(v.skew)).multiply(v.scale)).applyToRectangle(new l(r-t*f,a-n*_,i*p,o*h)),j=b.call(this,$),O=[],A=0;A<j.length;A+=1)-1===O.indexOf(j[A])&&O.push(j[A]);if(x(O),this.autoPaging)for(var L=O[0],P=O[O.length-1],D=L;D<P+1;D++){this.pdf.setPage(D);var N=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],C=1===D?this.posY+this.margin[0]:this.margin[0],M=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],I=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],E=1===D?0:M+(D-2)*I;if(0!==this.ctx.clip_path.length){var F=this.path;m=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(m,this.posX+this.margin[3],-E+C+this.ctx.prevPageLastElemOffset),k.call(this,"fill",!0),this.path=F}var R=JSON.parse(JSON.stringify($));R=w([R],this.posX+this.margin[3],-E+C+this.ctx.prevPageLastElemOffset)[0];var T=(D>L||D<P)&&g.call(this);T&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],N,I,null).clip().discardPath()),this.pdf.addImage(e,"JPEG",R.x,R.y,R.w,R.h,null,null,y),T&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(e,"JPEG",$.x,$.y,$.w,$.h,null,null,y)};var b=function(e,t,n){var i=[];t=t||this.pdf.internal.pageSize.width,n=n||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var o=this.posY+this.ctx.prevPageLastElemOffset;switch(e.type){default:case"mt":case"lt":i.push(Math.floor((e.y+o)/n)+1);break;case"arc":i.push(Math.floor((e.y+o-e.radius)/n)+1),i.push(Math.floor((e.y+o+e.radius)/n)+1);break;case"qct":var r=F(this.ctx.lastPoint.x,this.ctx.lastPoint.y,e.x1,e.y1,e.x,e.y);i.push(Math.floor((r.y+o)/n)+1),i.push(Math.floor((r.y+r.h+o)/n)+1);break;case"bct":var a=R(this.ctx.lastPoint.x,this.ctx.lastPoint.y,e.x1,e.y1,e.x2,e.y2,e.x,e.y);i.push(Math.floor((a.y+o)/n)+1),i.push(Math.floor((a.y+a.h+o)/n)+1);break;case"rect":i.push(Math.floor((e.y+o)/n)+1),i.push(Math.floor((e.y+e.h+o)/n)+1)}for(var s=0;s<i.length;s+=1)for(;this.pdf.internal.getNumberOfPages()<i[s];)y.call(this);return i},y=function(){var e=this.fillStyle,t=this.strokeStyle,n=this.font,i=this.lineCap,o=this.lineWidth,r=this.lineJoin;this.pdf.addPage(),this.fillStyle=e,this.strokeStyle=t,this.font=n,this.lineCap=i,this.lineWidth=o,this.lineJoin=r},w=function(e,t,n){for(var i=0;i<e.length;i++)switch(e[i].type){case"bct":e[i].x2+=t,e[i].y2+=n;case"qct":e[i].x1+=t,e[i].y1+=n;case"mt":case"lt":case"arc":default:e[i].x+=t,e[i].y+=n}return e},x=function(e){return e.sort((function(e,t){return e-t}))},S=function(e,t){for(var n,i,o=this.fillStyle,r=this.strokeStyle,a=this.lineCap,s=this.lineWidth,c=Math.abs(s*this.ctx.transform.scaleX),l=this.lineJoin,u=JSON.parse(JSON.stringify(this.path)),d=JSON.parse(JSON.stringify(this.path)),p=[],h=0;h<d.length;h++)if(void 0!==d[h].x)for(var f=b.call(this,d[h]),_=0;_<f.length;_+=1)-1===p.indexOf(f[_])&&p.push(f[_]);for(var m=0;m<p.length;m++)for(;this.pdf.internal.getNumberOfPages()<p[m];)y.call(this);if(x(p),this.autoPaging)for(var v=p[0],S=p[p.length-1],$=v;$<S+1;$++){this.pdf.setPage($),this.fillStyle=o,this.strokeStyle=r,this.lineCap=a,this.lineWidth=c,this.lineJoin=l;var j=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],O=1===$?this.posY+this.margin[0]:this.margin[0],A=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],L=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],P=1===$?0:A+($-2)*L;if(0!==this.ctx.clip_path.length){var D=this.path;n=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(n,this.posX+this.margin[3],-P+O+this.ctx.prevPageLastElemOffset),k.call(this,e,!0),this.path=D}if(i=JSON.parse(JSON.stringify(u)),this.path=w(i,this.posX+this.margin[3],-P+O+this.ctx.prevPageLastElemOffset),!1===t||0===$){var N=($>v||$<S)&&g.call(this);N&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],j,L,null).clip().discardPath()),k.call(this,e,t),N&&this.pdf.restoreGraphicsState()}this.lineWidth=s}else this.lineWidth=c,k.call(this,e,t),this.lineWidth=s;this.path=u},k=function(e,t){if(("stroke"!==e||t||!v.call(this))&&("stroke"===e||t||!m.call(this))){for(var n,i,o=[],r=this.path,a=0;a<r.length;a++){var s=r[a];switch(s.type){case"begin":o.push({begin:!0});break;case"close":o.push({close:!0});break;case"mt":o.push({start:s,deltas:[],abs:[]});break;case"lt":var c=o.length;if(r[a-1]&&!isNaN(r[a-1].x)&&(n=[s.x-r[a-1].x,s.y-r[a-1].y],c>0))for(;c>=0;c--)if(!0!==o[c-1].close&&!0!==o[c-1].begin){o[c-1].deltas.push(n),o[c-1].abs.push(s);break}break;case"bct":n=[s.x1-r[a-1].x,s.y1-r[a-1].y,s.x2-r[a-1].x,s.y2-r[a-1].y,s.x-r[a-1].x,s.y-r[a-1].y],o[o.length-1].deltas.push(n);break;case"qct":var l=r[a-1].x+2/3*(s.x1-r[a-1].x),u=r[a-1].y+2/3*(s.y1-r[a-1].y),d=s.x+2/3*(s.x1-s.x),p=s.y+2/3*(s.y1-s.y),h=s.x,f=s.y;n=[l-r[a-1].x,u-r[a-1].y,d-r[a-1].x,p-r[a-1].y,h-r[a-1].x,f-r[a-1].y],o[o.length-1].deltas.push(n);break;case"arc":o.push({deltas:[],abs:[],arc:!0}),Array.isArray(o[o.length-1].abs)&&o[o.length-1].abs.push(s)}}i=t?null:"stroke"===e?"stroke":"fill";for(var _=!1,g=0;g<o.length;g++)if(o[g].arc)for(var b=o[g].abs,y=0;y<b.length;y++){var w=b[y];"arc"===w.type?O.call(this,w.x,w.y,w.radius,w.startAngle,w.endAngle,w.counterclockwise,void 0,t,!_):N.call(this,w.x,w.y),_=!0}else if(!0===o[g].close)this.pdf.internal.out("h"),_=!1;else if(!0!==o[g].begin){var x=o[g].start.x,S=o[g].start.y;C.call(this,o[g].deltas,x,S),_=!0}i&&A.call(this,i),t&&L.call(this)}},$=function(e){var t=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,n=t*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return e-n;case"top":return e+t-n;case"hanging":return e+t-2*n;case"middle":return e+t/2-n;case"ideographic":return e;case"alphabetic":default:return e}},j=function(e){return e+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var e=function(){};return e.colorStops=[],e.addColorStop=function(e,t){this.colorStops.push([e,t])},e.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},e.isCanvasGradient=!0,e},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var O=function(e,t,n,i,o,r,a,s,c){for(var l=I.call(this,n,i,o,r),u=0;u<l.length;u++){var d=l[u];0===u&&(c?P.call(this,d.x1+e,d.y1+t):N.call(this,d.x1+e,d.y1+t)),M.call(this,e,t,d.x2,d.y2,d.x3,d.y3,d.x4,d.y4)}s?L.call(this):A.call(this,a)},A=function(e){switch(e){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},L=function(){this.pdf.clip(),this.pdf.discardPath()},P=function(e,t){this.pdf.internal.out(n(e)+" "+i(t)+" m")},D=function(e){var t;switch(e.align){case"right":case"end":t="right";break;case"center":t="center";break;case"left":case"start":default:t="left"}var n=this.pdf.getTextDimensions(e.text),i=$.call(this,e.y),o=j.call(this,i)-n.h,r=this.ctx.transform.applyToPoint(new s(e.x,i)),a=this.ctx.transform.decompose(),c=new u;c=(c=(c=c.multiply(a.translate)).multiply(a.skew)).multiply(a.scale);for(var d,p,h,f=this.ctx.transform.applyToRectangle(new l(e.x,i,n.w,n.h)),_=c.applyToRectangle(new l(e.x,o,n.w,n.h)),m=b.call(this,_),v=[],y=0;y<m.length;y+=1)-1===v.indexOf(m[y])&&v.push(m[y]);if(x(v),this.autoPaging)for(var S=v[0],O=v[v.length-1],A=S;A<O+1;A++){this.pdf.setPage(A);var L=1===A?this.posY+this.margin[0]:this.margin[0],P=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],D=this.pdf.internal.pageSize.height-this.margin[2],N=D-this.margin[0],C=this.pdf.internal.pageSize.width-this.margin[1],M=C-this.margin[3],I=1===A?0:P+(A-2)*N;if(0!==this.ctx.clip_path.length){var E=this.path;d=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(d,this.posX+this.margin[3],-1*I+L),k.call(this,"fill",!0),this.path=E}var B=w([JSON.parse(JSON.stringify(_))],this.posX+this.margin[3],-I+L+this.ctx.prevPageLastElemOffset)[0];e.scale>=.01&&(p=this.pdf.internal.getFontSize(),this.pdf.setFontSize(p*e.scale),h=this.lineWidth,this.lineWidth=h*e.scale);var F="text"!==this.autoPaging;if(F||B.y+B.h<=D){if(F||B.y>=L&&B.x<=C){var R=F?e.text:this.pdf.splitTextToSize(e.text,e.maxWidth||C-B.x)[0],T=w([JSON.parse(JSON.stringify(f))],this.posX+this.margin[3],-I+L+this.ctx.prevPageLastElemOffset)[0],q=F&&(A>S||A<O)&&g.call(this);q&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],M,N,null).clip().discardPath()),this.pdf.text(R,T.x,T.y,{angle:e.angle,align:t,renderingMode:e.renderingMode}),q&&this.pdf.restoreGraphicsState()}}else B.y<D&&(this.ctx.prevPageLastElemOffset+=D-B.y);e.scale>=.01&&(this.pdf.setFontSize(p),this.lineWidth=h)}else e.scale>=.01&&(p=this.pdf.internal.getFontSize(),this.pdf.setFontSize(p*e.scale),h=this.lineWidth,this.lineWidth=h*e.scale),this.pdf.text(e.text,r.x+this.posX,r.y+this.posY,{angle:e.angle,align:t,renderingMode:e.renderingMode,maxWidth:e.maxWidth}),e.scale>=.01&&(this.pdf.setFontSize(p),this.lineWidth=h)},N=function(e,t,o,r){o=o||0,r=r||0,this.pdf.internal.out(n(e+o)+" "+i(t+r)+" l")},C=function(e,t,n){return this.pdf.lines(e,t,n,null,null)},M=function(e,n,i,o,s,c,l,u){this.pdf.internal.out([t(r(i+e)),t(a(o+n)),t(r(s+e)),t(a(c+n)),t(r(l+e)),t(a(u+n)),"c"].join(" "))},I=function(e,t,n,i){for(var o=2*Math.PI,r=Math.PI/2;t>n;)t-=o;var a=Math.abs(n-t);a<o&&i&&(a=o-a);for(var s=[],c=i?-1:1,l=t;a>1e-5;){var u=l+c*Math.min(a,r);s.push(E.call(this,e,l,u)),a-=Math.abs(u-l),l=u}return s},E=function(e,t,n){var i=(n-t)/2,o=e*Math.cos(i),r=e*Math.sin(i),a=o,s=-r,c=a*a+s*s,l=c+a*o+s*r,u=4/3*(Math.sqrt(2*c*l)-l)/(a*r-s*o),d=a-u*s,p=s+u*a,h=d,f=-p,_=i+t,m=Math.cos(_),v=Math.sin(_);return{x1:e*Math.cos(t),y1:e*Math.sin(t),x2:d*m-p*v,y2:d*v+p*m,x3:h*m-f*v,y3:h*v+f*m,x4:e*Math.cos(n),y4:e*Math.sin(n)}},B=function(e){return 180*e/Math.PI},F=function(e,t,n,i,o,r){var a=e+.5*(n-e),s=t+.5*(i-t),c=o+.5*(n-o),u=r+.5*(i-r),d=Math.min(e,o,a,c),p=Math.max(e,o,a,c),h=Math.min(t,r,s,u),f=Math.max(t,r,s,u);return new l(d,h,p-d,f-h)},R=function(e,t,n,i,o,r,a,s){var c,u,d,p,h,f,_,m,v,g,b,y,w,x,S=n-e,k=i-t,$=o-n,j=r-i,O=a-o,A=s-r;for(u=0;u<41;u++)v=(_=(d=e+(c=u/40)*S)+c*((h=n+c*$)-d))+c*(h+c*(o+c*O-h)-_),g=(m=(p=t+c*k)+c*((f=i+c*j)-p))+c*(f+c*(r+c*A-f)-m),0==u?(b=v,y=g,w=v,x=g):(b=Math.min(b,v),y=Math.min(y,g),w=Math.max(w,v),x=Math.max(x,g));return new l(Math.round(b),Math.round(y),Math.round(w-b),Math.round(x-y))},T=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var e,t,n=(e=this.ctx.lineDash,t=this.ctx.lineDashOffset,JSON.stringify({lineDash:e,lineDashOffset:t}));this.prevLineDash!==n&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=n)}}}(R.API),function(e){var t=function(e){var t,n,i,o,r,a,s,c,l,u;for(/[^\x00-\xFF]/.test(e),n=[],i=0,o=(e+=t="\0\0\0\0".slice(e.length%4||4)).length;o>i;i+=4)0!==(r=(e.charCodeAt(i)<<24)+(e.charCodeAt(i+1)<<16)+(e.charCodeAt(i+2)<<8)+e.charCodeAt(i+3))?(a=(r=((r=((r=((r=(r-(u=r%85))/85)-(l=r%85))/85)-(c=r%85))/85)-(s=r%85))/85)%85,n.push(a+33,s+33,c+33,l+33,u+33)):n.push(122);return function(e,t){for(var n=t;n>0;n--)e.pop()}(n,t.length),String.fromCharCode.apply(String,n)+"~>"},n=function(e){var t,n,i,o,r,a=String,s="length",c=255,l="charCodeAt",u="slice",d="replace";for(e[u](-2),e=e[u](0,-2)[d](/\s/g,"")[d]("z","!!!!!"),i=[],o=0,r=(e+=t="uuuuu"[u](e[s]%5||5))[s];r>o;o+=5)n=52200625*(e[l](o)-33)+614125*(e[l](o+1)-33)+7225*(e[l](o+2)-33)+85*(e[l](o+3)-33)+(e[l](o+4)-33),i.push(c&n>>24,c&n>>16,c&n>>8,c&n);return function(e,t){for(var n=t;n>0;n--)e.pop()}(i,t[s]),a.fromCharCode.apply(a,i)},i=function(e){var t=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(e=e.replace(/\s/g,"")).indexOf(">")&&(e=e.substr(0,e.indexOf(">"))),e.length%2&&(e+="0"),!1===t.test(e))return"";for(var n="",i=0;i<e.length;i+=2)n+=String.fromCharCode("0x"+(e[i]+e[i+1]));return n},o=function(e){for(var t=new Uint8Array(e.length),n=e.length;n--;)t[n]=e.charCodeAt(n);return(t=Object(r.b)(t)).reduce((function(e,t){return e+String.fromCharCode(t)}),"")};e.processDataByFilters=function(e,r){var a=0,s=e||"",c=[];for("string"==typeof(r=r||[])&&(r=[r]),a=0;a<r.length;a+=1)switch(r[a]){case"ASCII85Decode":case"/ASCII85Decode":s=n(s),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":s=t(s),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":s=i(s),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":s=s.split("").map((function(e){return("0"+e.charCodeAt().toString(16)).slice(-2)})).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":s=o(s),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+r[a]+'" is not implemented')}return{data:s,reverseChain:c.reverse().join(" ")}}}(R.API),function(e){e.loadFile=function(e,t,n){return function(e,t,n){t=!1!==t,n="function"==typeof n?n:function(){};var i=void 0;try{i=function(e,t,n){var i=new XMLHttpRequest,o=0,r=function(e){var t=e.length,n=[],i=String.fromCharCode;for(o=0;o<t;o+=1)n.push(i(255&e.charCodeAt(o)));return n.join("")};if(i.open("GET",e,!t),i.overrideMimeType("text/plain; charset=x-user-defined"),!1===t&&(i.onload=function(){200===i.status?n(r(this.responseText)):n(void 0)}),i.send(null),t&&200===i.status)return r(i.responseText)}(e,t,n)}catch(e){}return i}(e,t,n)},e.loadImageFile=e.loadFile}(R.API),function(e){function t(){return(a.html2canvas?Promise.resolve(a.html2canvas):Promise.resolve().then(n.t.bind(null,"wOnQ",7))).catch((function(e){return Promise.reject(new Error("Could not load html2canvas: "+e))})).then((function(e){return e.default?e.default:e}))}function i(){return(a.DOMPurify?Promise.resolve(a.DOMPurify):n.e(187).then(n.t.bind(null,"wMS7",7))).catch((function(e){return Promise.reject(new Error("Could not load dompurify: "+e))})).then((function(e){return e.default?e.default:e}))}var r=function(e){var t=o()(e);return"undefined"===t?"undefined":"string"===t||e instanceof String?"string":"number"===t||e instanceof Number?"number":"function"===t||e instanceof Function?"function":e&&e.constructor===Array?"array":e&&1===e.nodeType?"element":"object"===t?"object":"unknown"},s=function(e,t){var n=document.createElement(e);for(var i in t.className&&(n.className=t.className),t.innerHTML&&t.dompurify&&(n.innerHTML=t.dompurify.sanitize(t.innerHTML)),t.style)n.style[i]=t.style[i];return n},c=function e(t){var n=Object.assign(e.convert(Promise.resolve()),JSON.parse(JSON.stringify(e.template))),i=e.convert(Promise.resolve(),n);return(i=i.setProgress(1,e,1,[e])).set(t)};(c.prototype=Object.create(Promise.prototype)).constructor=c,c.convert=function(e,t){return e.__proto__=t||c.prototype,e},c.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},c.prototype.from=function(e,t){return this.then((function(){switch(t=t||function(e){switch(r(e)){case"string":return"string";case"element":return"canvas"===e.nodeName.toLowerCase()?"canvas":"element";default:return"unknown"}}(e)){case"string":return this.then(i).then((function(t){return this.set({src:s("div",{innerHTML:e,dompurify:t})})}));case"element":return this.set({src:e});case"canvas":return this.set({canvas:e});case"img":return this.set({img:e});default:return this.error("Unknown source type.")}}))},c.prototype.to=function(e){switch(e){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},c.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then((function(){var e={position:"relative",display:"inline-block",width:("number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},t=function e(t,n){for(var i=3===t.nodeType?document.createTextNode(t.nodeValue):t.cloneNode(!1),o=t.firstChild;o;o=o.nextSibling)!0!==n&&1===o.nodeType&&"SCRIPT"===o.nodeName||i.appendChild(e(o,n));return 1===t.nodeType&&("CANVAS"===t.nodeName?(i.width=t.width,i.height=t.height,i.getContext("2d").drawImage(t,0,0)):"TEXTAREA"!==t.nodeName&&"SELECT"!==t.nodeName||(i.value=t.value),i.addEventListener("load",(function(){i.scrollTop=t.scrollTop,i.scrollLeft=t.scrollLeft}),!0)),i}(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===t.tagName&&(e.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:e}),this.prop.container.appendChild(t),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"}))},c.prototype.toCanvas=function(){var e=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(e).then(t).then((function(e){var t=Object.assign({},this.opt.html2canvas);return delete t.onrendered,e(this.prop.container,t)})).then((function(e){(this.opt.html2canvas.onrendered||function(){})(e),this.prop.canvas=e,document.body.removeChild(this.prop.overlay)}))},c.prototype.toContext2d=function(){var e=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(e).then(t).then((function(e){var t=this.opt.jsPDF,n=this.opt.fontFaces,i="number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,o=Object.assign({async:!0,allowTaint:!0,scale:i,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete o.onrendered,t.context2d.autoPaging=void 0===this.opt.autoPaging||this.opt.autoPaging,t.context2d.posX=this.opt.x,t.context2d.posY=this.opt.y,t.context2d.margin=this.opt.margin,t.context2d.fontFaces=n,n)for(var r=0;r<n.length;++r){var a=n[r],s=a.src.find((function(e){return"truetype"===e.format}));s&&t.addFont(s.url,a.ref.name,a.ref.style)}return o.windowHeight=o.windowHeight||0,o.windowHeight=0==o.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):o.windowHeight,t.context2d.save(!0),e(this.prop.container,o)})).then((function(e){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(e),this.prop.canvas=e,document.body.removeChild(this.prop.overlay)}))},c.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then((function(){var e=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=e}))},c.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then((function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF}))},c.prototype.output=function(e,t,n){return"img"===(n=n||"pdf").toLowerCase()||"image"===n.toLowerCase()?this.outputImg(e,t):this.outputPdf(e,t)},c.prototype.outputPdf=function(e,t){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){return this.prop.pdf.output(e,t)}))},c.prototype.outputImg=function(e){return this.thenList([function(){return this.prop.img||this.toImg()}]).then((function(){switch(e){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+e+'" is not supported.'}}))},c.prototype.save=function(e){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(e?{filename:e}:null).then((function(){this.prop.pdf.save(this.opt.filename)}))},c.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){this.prop.callback(this.prop.pdf)}))},c.prototype.set=function(e){if("object"!==r(e))return this;var t=Object.keys(e||{}).map((function(t){if(t in c.template.prop)return function(){this.prop[t]=e[t]};switch(t){case"margin":return this.setMargin.bind(this,e.margin);case"jsPDF":return function(){return this.opt.jsPDF=e.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,e.pageSize);default:return function(){this.opt[t]=e[t]}}}),this);return this.then((function(){return this.thenList(t)}))},c.prototype.get=function(e,t){return this.then((function(){var n=e in c.template.prop?this.prop[e]:this.opt[e];return t?t(n):n}))},c.prototype.setMargin=function(e){return this.then((function(){switch(r(e)){case"number":e=[e,e,e,e];case"array":if(2===e.length&&(e=[e[0],e[1],e[0],e[1]]),4===e.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=e})).then(this.setPageSize)},c.prototype.setPageSize=function(e){function t(e,t){return Math.floor(e*t/72*96)}return this.then((function(){(e=e||R.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(e.inner={width:e.width-this.opt.margin[1]-this.opt.margin[3],height:e.height-this.opt.margin[0]-this.opt.margin[2]},e.inner.px={width:t(e.inner.width,e.k),height:t(e.inner.height,e.k)},e.inner.ratio=e.inner.height/e.inner.width),this.prop.pageSize=e}))},c.prototype.setProgress=function(e,t,n,i){return null!=e&&(this.progress.val=e),null!=t&&(this.progress.state=t),null!=n&&(this.progress.n=n),null!=i&&(this.progress.stack=i),this.progress.ratio=this.progress.val/this.progress.state,this},c.prototype.updateProgress=function(e,t,n,i){return this.setProgress(e?this.progress.val+e:null,t||null,n?this.progress.n+n:null,i?this.progress.stack.concat(i):null)},c.prototype.then=function(e,t){var n=this;return this.thenCore(e,t,(function(e,t){return n.updateProgress(null,null,1,[e]),Promise.prototype.then.call(this,(function(t){return n.updateProgress(null,e),t})).then(e,t).then((function(e){return n.updateProgress(1),e}))}))},c.prototype.thenCore=function(e,t,n){n=n||Promise.prototype.then,e&&(e=e.bind(this)),t&&(t=t.bind(this));var i=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?this:c.convert(Object.assign({},this),Promise.prototype),o=n.call(i,e,t);return c.convert(o,this.__proto__)},c.prototype.thenExternal=function(e,t){return Promise.prototype.then.call(this,e,t)},c.prototype.thenList=function(e){var t=this;return e.forEach((function(e){t=t.thenCore(e)})),t},c.prototype.catch=function(e){e&&(e=e.bind(this));var t=Promise.prototype.catch.call(this,e);return c.convert(t,this)},c.prototype.catchExternal=function(e){return Promise.prototype.catch.call(this,e)},c.prototype.error=function(e){return this.then((function(){throw new Error(e)}))},c.prototype.using=c.prototype.set,c.prototype.saveAs=c.prototype.save,c.prototype.export=c.prototype.output,c.prototype.run=c.prototype.then,R.getPageSize=function(e,t,n){if("object"===o()(e)){var i=e;e=i.orientation,t=i.unit||t,n=i.format||n}t=t||"mm",n=n||"a4",e=(""+(e||"P")).toLowerCase();var r,a=(""+n).toLowerCase(),s={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(t){case"pt":r=1;break;case"mm":r=72/25.4;break;case"cm":r=72/2.54;break;case"in":r=72;break;case"px":r=.75;break;case"pc":case"em":r=12;break;case"ex":r=6;break;default:throw"Invalid unit: "+t}var c,l=0,u=0;if(s.hasOwnProperty(a))l=s[a][1]/r,u=s[a][0]/r;else try{l=n[1],u=n[0]}catch(e){throw new Error("Invalid format: "+n)}if("p"===e||"portrait"===e)e="p",u>l&&(c=u,u=l,l=c);else{if("l"!==e&&"landscape"!==e)throw"Invalid orientation: "+e;e="l",l>u&&(c=u,u=l,l=c)}return{width:u,height:l,unit:t,k:r,orientation:e}},e.html=function(e,t){(t=t||{}).callback=t.callback||function(){},t.html2canvas=t.html2canvas||{},t.html2canvas.canvas=t.html2canvas.canvas||this.canvas,t.jsPDF=t.jsPDF||this,t.fontFaces=t.fontFaces?t.fontFaces.map(Ie):null;var n=new c(t);return t.worker?n:n.from(e).doCallback()}}(R.API),R.API.addJS=function(e){return He=e,this.internal.events.subscribe("postPutResources",(function(){ze=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(ze+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),We=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+He+")"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){void 0!==ze&&void 0!==We&&this.internal.out("/Names <</JavaScript "+ze+" 0 R>>")})),this},function(e){var t;e.events.push(["postPutResources",function(){var e=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=e.outline.render().split(/\r\n/),o=0;o<i.length;o++){var r=i[o],a=n.exec(r);if(null!=a){var s=a[1];e.internal.newObjectDeferredBegin(s,!1)}e.internal.write(r)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,l=[];for(o=0;o<c;o++){var u=e.internal.newObject();l.push(u);var d=e.internal.getPageInfo(o+1);e.internal.write("<< /D["+d.objId+" 0 R /XYZ null null null]>> endobj")}var p=e.internal.newObject();for(e.internal.write("<< /Names [ "),o=0;o<l.length;o++)e.internal.write("(page_"+(o+1)+")"+l[o]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+p+" 0 R"),e.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(e,t,n){var i={title:t,options:n,children:[]};return null==e&&(e=this.root),e.children.push(i),i},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(t){t.id=e.internal.newObjectDeferred();for(var n=0;n<t.children.length;n++)this.genIds_r(t.children[n])},e.outline.renderRoot=function(e){this.objStart(e),this.line("/Type /Outlines"),e.children.length>0&&(this.line("/First "+this.makeRef(e.children[0])),this.line("/Last "+this.makeRef(e.children[e.children.length-1]))),this.line("/Count "+this.count_r({count:0},e)),this.objEnd()},e.outline.renderItems=function(t){for(var n=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<t.children.length;i++){var o=t.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(t)),i>0&&this.line("/Prev "+this.makeRef(t.children[i-1])),i<t.children.length-1&&this.line("/Next "+this.makeRef(t.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var r=this.count=this.count_r({count:0},o);if(r>0&&this.line("/Count "+r),o.options&&o.options.pageNumber){var a=e.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+a.objId+" 0 R /XYZ 0 "+n(0)+" 0]")}this.objEnd()}for(var s=0;s<t.children.length;s++)this.renderItems(t.children[s])},e.outline.line=function(e){this.ctx.val+=e+"\r\n"},e.outline.makeRef=function(e){return e.id+" 0 R"},e.outline.makeString=function(t){return"("+e.internal.pdfEscape(t)+")"},e.outline.objStart=function(e){this.ctx.val+="\r\n"+e.id+" 0 obj\r\n<<\r\n"},e.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},e.outline.count_r=function(e,t){for(var n=0;n<t.children.length;n++)e.count++,this.count_r(e,t.children[n]);return e.count}}])}(R.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(e,n,i,o,r,a){var s,c=this.decode.DCT_DECODE,l=null;if("string"==typeof e||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=r||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,(s=function(e){for(var n,i=256*e.charCodeAt(4)+e.charCodeAt(5),o=e.length,r={width:0,height:0,numcomponents:1},a=4;a<o;a+=2){if(a+=i,-1!==t.indexOf(e.charCodeAt(a+1))){n=256*e.charCodeAt(a+5)+e.charCodeAt(a+6),r={width:256*e.charCodeAt(a+7)+e.charCodeAt(a+8),height:n,numcomponents:e.charCodeAt(a+9)};break}i=256*e.charCodeAt(a+2)+e.charCodeAt(a+3)}return r}(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}l={data:e,width:s.width,height:s.height,colorSpace:a,bitsPerComponent:8,filter:c,index:n,alias:i}}return l}}(R.API);var Ve,Ge,Je,Ye,Xe,Qe=function(){var e,t,n;function i(e){var t,n,i,o,r,a,s,c,l,u,d,p,h,f;for(this.data=e,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},a=null;;){switch(t=this.readUInt32(),l=function(){var e,t;for(t=[],e=0;e<4;++e)t.push(String.fromCharCode(this.data[this.pos++]));return t}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(t);break;case"fcTL":a&&this.animation.frames.push(a),this.pos+=4,a={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},r=this.readUInt16(),o=this.readUInt16()||100,a.delay=1e3*r/o,a.disposeOp=this.data[this.pos++],a.blendOp=this.data[this.pos++],a.data=[];break;case"IDAT":case"fdAT":for("fdAT"===l&&(this.pos+=4,t-=4),e=(null!=a?a.data:void 0)||this.imgData,p=0;0<=t?p<t:p>t;0<=t?++p:--p)e.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(i=this.palette.length/3,this.transparency.indexed=this.read(t),this.transparency.indexed.length>i)throw new Error("More transparent colors than palette size");if((u=i-this.transparency.indexed.length)>0)for(h=0;0<=u?h<u:h>u;0<=u?++h:--h)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(t)[0];break;case 2:this.transparency.rgb=this.read(t)}break;case"tEXt":s=(d=this.read(t)).indexOf(0),c=String.fromCharCode.apply(String,d.slice(0,s)),this.text[c]=String.fromCharCode.apply(String,d.slice(s+1));break;case"IEND":return a&&this.animation.frames.push(a),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(f=this.colorType)||6===f,n=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*n,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=t}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}i.prototype.read=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;0<=e?++t:--t)n.push(this.data[this.pos++]);return n},i.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.decodePixels=function(e){var t=this.pixelBitlength/8,n=new Uint8Array(this.width*this.height*t),i=0,o=this;if(null==e&&(e=this.imgData),0===e.length)return new Uint8Array(0);function a(r,a,s,c){var l,u,d,p,h,f,_,m,v,g,b,y,w,x,S,k,$,j,O,A,L,P=Math.ceil((o.width-r)/s),D=Math.ceil((o.height-a)/c),N=o.width==P&&o.height==D;for(x=t*P,y=N?n:new Uint8Array(x*D),f=e.length,w=0,u=0;w<D&&i<f;){switch(e[i++]){case 0:for(p=$=0;$<x;p=$+=1)y[u++]=e[i++];break;case 1:for(p=j=0;j<x;p=j+=1)l=e[i++],h=p<t?0:y[u-t],y[u++]=(l+h)%256;break;case 2:for(p=O=0;O<x;p=O+=1)l=e[i++],d=(p-p%t)/t,S=w&&y[(w-1)*x+d*t+p%t],y[u++]=(S+l)%256;break;case 3:for(p=A=0;A<x;p=A+=1)l=e[i++],d=(p-p%t)/t,h=p<t?0:y[u-t],S=w&&y[(w-1)*x+d*t+p%t],y[u++]=(l+Math.floor((h+S)/2))%256;break;case 4:for(p=L=0;L<x;p=L+=1)l=e[i++],d=(p-p%t)/t,h=p<t?0:y[u-t],0===w?S=k=0:(S=y[(w-1)*x+d*t+p%t],k=d&&y[(w-1)*x+(d-1)*t+p%t]),_=h+S-k,m=Math.abs(_-h),g=Math.abs(_-S),b=Math.abs(_-k),v=m<=g&&m<=b?h:g<=b?S:k,y[u++]=(l+v)%256;break;default:throw new Error("Invalid filter algorithm: "+e[i-1])}if(!N){var C=((a+w*c)*o.width+r)*t,M=w*x;for(p=0;p<P;p+=1){for(var I=0;I<t;I+=1)n[C++]=y[M++];C+=(s-1)*t}}w++}}return e=Object(r.a)(e),1==o.interlaceMethod?(a(0,0,8,8),a(4,0,8,8),a(0,4,4,8),a(2,0,4,4),a(0,2,2,4),a(1,0,2,2),a(0,1,1,2)):a(0,0,1,1),n},i.prototype.decodePalette=function(){var e,t,n,i,o,r,a,s,c;for(n=this.palette,r=this.transparency.indexed||[],o=new Uint8Array((r.length||0)+n.length),i=0,e=0,t=a=0,s=n.length;a<s;t=a+=3)o[i++]=n[t],o[i++]=n[t+1],o[i++]=n[t+2],o[i++]=null!=(c=r[e++])?c:255;return o},i.prototype.copyToImageData=function(e,t){var n,i,o,r,a,s,c,l,u,d,p;if(i=this.colors,u=null,n=this.hasAlphaChannel,this.palette.length&&(u=null!=(p=this._decodedPalette)?p:this._decodedPalette=this.decodePalette(),i=4,n=!0),l=(o=e.data||e).length,a=u||t,r=s=0,1===i)for(;r<l;)c=u?4*t[r/4]:s,d=a[c++],o[r++]=d,o[r++]=d,o[r++]=d,o[r++]=n?a[c++]:255,s=c;else for(;r<l;)c=u?4*t[r/4]:s,o[r++]=a[c++],o[r++]=a[c++],o[r++]=a[c++],o[r++]=n?a[c++]:255,s=c},i.prototype.decode=function(){var e;return e=new Uint8Array(this.width*this.height*4),this.copyToImageData(e,this.decodePixels()),e};var o=function(){if("[object Window]"===Object.prototype.toString.call(a)){try{t=a.document.createElement("canvas"),n=t.getContext("2d")}catch(e){return!1}return!0}return!1};return o(),e=function(e){var i;if(!0===o())return n.width=e.width,n.height=e.height,n.clearRect(0,0,e.width,e.height),n.putImageData(e,0,0),(i=new Image).src=t.toDataURL(),i;throw new Error("This method requires a Browser with Canvas-capability.")},i.prototype.decodeFrames=function(t){var n,i,o,r,a,s,c,l;if(this.animation){for(l=[],i=a=0,s=(c=this.animation.frames).length;a<s;i=++a)n=c[i],o=t.createImageData(n.width,n.height),r=this.decodePixels(new Uint8Array(n.data)),this.copyToImageData(o,r),n.imageData=o,l.push(n.image=e(o));return l}},i.prototype.renderFrame=function(e,t){var n,i,o;return n=(i=this.animation.frames)[t],o=i[t-1],0===t&&e.clearRect(0,0,this.width,this.height),1===(null!=o?o.disposeOp:void 0)?e.clearRect(o.xOffset,o.yOffset,o.width,o.height):2===(null!=o?o.disposeOp:void 0)&&e.putImageData(o.imageData,o.xOffset,o.yOffset),0===n.blendOp&&e.clearRect(n.xOffset,n.yOffset,n.width,n.height),e.drawImage(n.image,n.xOffset,n.yOffset)},i.prototype.animate=function(e){var t,n,i,o,r,a,s=this;return n=0,a=this.animation,o=a.numFrames,i=a.frames,r=a.numPlays,(t=function(){var a,c;if(a=n++%o,c=i[a],s.renderFrame(e,a),o>1&&n/o<r)return s.animation._timeout=setTimeout(t,c.delay)})()},i.prototype.stopAnimation=function(){var e;return clearTimeout(null!=(e=this.animation)?e._timeout:void 0)},i.prototype.render=function(e){var t,n;return e._png&&e._png.stopAnimation(),e._png=this,e.width=this.width,e.height=this.height,t=e.getContext("2d"),this.animation?(this.decodeFrames(t),this.animate(t)):(n=t.createImageData(this.width,this.height),this.copyToImageData(n,this.decodePixels()),t.putImageData(n,0,0))},i}();function Ze(e){var t=0;if(71!==e[t++]||73!==e[t++]||70!==e[t++]||56!==e[t++]||56!=(e[t++]+1&253)||97!==e[t++])throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,i=e[t++]|e[t++]<<8,o=e[t++],r=o>>7,a=1<<1+(7&o);e[t++],e[t++];var s=null,c=null;r&&(s=t,c=a,t+=3*a);var l=!0,u=[],d=0,p=null,h=0,f=null;for(this.width=n,this.height=i;l&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(11!==e[t]||78==e[t+1]&&69==e[t+2]&&84==e[t+3]&&83==e[t+4]&&67==e[t+5]&&65==e[t+6]&&80==e[t+7]&&69==e[t+8]&&50==e[t+9]&&46==e[t+10]&&48==e[t+11]&&3==e[t+12]&&1==e[t+13]&&0==e[t+16])t+=14,f=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((O=e[t++])>=0))throw Error("Invalid block size");if(0===O)break;t+=O}break;case 249:if(4!==e[t++]||0!==e[t+4])throw new Error("Invalid graphics extension block.");var _=e[t++];d=e[t++]|e[t++]<<8,p=e[t++],0==(1&_)&&(p=null),h=_>>2&7,t++;break;case 254:for(;;){if(!((O=e[t++])>=0))throw Error("Invalid block size");if(0===O)break;t+=O}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var m=e[t++]|e[t++]<<8,v=e[t++]|e[t++]<<8,g=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,y=e[t++],w=y>>6&1,x=1<<1+(7&y),S=s,k=c,$=!1;y>>7&&($=!0,S=t,k=x,t+=3*x);var j=t;for(t++;;){var O;if(!((O=e[t++])>=0))throw Error("Invalid block size");if(0===O)break;t+=O}u.push({x:m,y:v,width:g,height:b,has_local_palette:$,palette_offset:S,palette_size:k,data_offset:j,data_length:t-j,transparent_index:p,interlaced:!!w,delay:d,disposal:h});break;case 59:l=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return f},this.frameInfo=function(e){if(e<0||e>=u.length)throw new Error("Frame index out of range.");return u[e]},this.decodeAndBlitFrameBGRA=function(t,i){var o=this.frameInfo(t),r=o.width*o.height,a=new Uint8Array(r);et(e,o.data_offset,a,r);var s=o.palette_offset,c=o.transparent_index;null===c&&(c=256);var l=o.width,u=n-l,d=l,p=4*(o.y*n+o.x),h=4*((o.y+o.height)*n+o.x),f=p,_=4*u;!0===o.interlaced&&(_+=4*n*7);for(var m=8,v=0,g=a.length;v<g;++v){var b=a[v];if(0===d&&(d=l,(f+=_)>=h&&(_=4*u+4*n*(m-1),f=p+(l+u)*(m<<1),m>>=1)),b===c)f+=4;else{var y=e[s+3*b],w=e[s+3*b+1],x=e[s+3*b+2];i[f++]=x,i[f++]=w,i[f++]=y,i[f++]=255}--d}},this.decodeAndBlitFrameRGBA=function(t,i){var o=this.frameInfo(t),r=o.width*o.height,a=new Uint8Array(r);et(e,o.data_offset,a,r);var s=o.palette_offset,c=o.transparent_index;null===c&&(c=256);var l=o.width,u=n-l,d=l,p=4*(o.y*n+o.x),h=4*((o.y+o.height)*n+o.x),f=p,_=4*u;!0===o.interlaced&&(_+=4*n*7);for(var m=8,v=0,g=a.length;v<g;++v){var b=a[v];if(0===d&&(d=l,(f+=_)>=h&&(_=4*u+4*n*(m-1),f=p+(l+u)*(m<<1),m>>=1)),b===c)f+=4;else{var y=e[s+3*b],w=e[s+3*b+1],x=e[s+3*b+2];i[f++]=y,i[f++]=w,i[f++]=x,i[f++]=255}--d}}}function et(e,t,n,i){for(var o=e[t++],r=1<<o,a=r+1,s=a+1,l=o+1,u=(1<<l)-1,d=0,p=0,h=0,f=e[t++],_=new Int32Array(4096),m=null;;){for(;d<16&&0!==f;)p|=e[t++]<<d,d+=8,1===f?f=e[t++]:--f;if(d<l)break;var v=p&u;if(p>>=l,d-=l,v!==r){if(v===a)break;for(var g=v<s?v:m,b=0,y=g;y>r;)y=_[y]>>8,++b;var w=y;if(h+b+(g!==v?1:0)>i)return void c.log("Warning, gif stream longer than expected.");n[h++]=w;var x=h+=b;for(g!==v&&(n[h++]=w),y=g;b--;)y=_[y],n[--x]=255&y,y>>=8;null!==m&&s<4096&&(_[s++]=m<<8|w,s>=u+1&&l<12&&(++l,u=u<<1|1)),m=v}else s=a+1,u=(1<<(l=o+1))-1,m=null}return h!==i&&c.log("Warning, gif stream shorter than expected."),n}function tt(e){var t,n,i,o,r,a=Math.floor,s=new Array(64),c=new Array(64),l=new Array(64),u=new Array(64),d=new Array(65535),p=new Array(65535),h=new Array(64),f=new Array(64),_=[],m=0,v=7,g=new Array(64),b=new Array(64),y=new Array(64),w=new Array(256),x=new Array(2048),S=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],k=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],$=[0,1,2,3,4,5,6,7,8,9,10,11],j=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],O=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],A=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],L=[0,1,2,3,4,5,6,7,8,9,10,11],P=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],D=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function N(e,t){for(var n=0,i=0,o=new Array,r=1;r<=16;r++){for(var a=1;a<=e[r];a++)o[t[i]]=[],o[t[i]][0]=n,o[t[i]][1]=r,i++,n++;n*=2}return o}function C(e){for(var t=e[0],n=e[1]-1;n>=0;)t&1<<n&&(m|=1<<v),n--,--v<0&&(255==m?(M(255),M(0)):M(m),v=7,m=0)}function M(e){_.push(e)}function I(e){M(e>>8&255),M(255&e)}function E(e,t,n,i,o){for(var r,a=o[0],s=o[240],c=function(e,t){var n,i,o,r,a,s,c,l,u,d,p=0;for(u=0;u<8;++u){n=e[p],i=e[p+1],o=e[p+2],r=e[p+3],a=e[p+4],s=e[p+5],c=e[p+6];var f=n+(l=e[p+7]),_=n-l,m=i+c,v=i-c,g=o+s,b=o-s,y=r+a,w=r-a,x=f+y,S=f-y,k=m+g,$=m-g;e[p]=x+k,e[p+4]=x-k;var j=.707106781*($+S);e[p+2]=S+j,e[p+6]=S-j;var O=.382683433*((x=w+b)-($=v+_)),A=.5411961*x+O,L=1.306562965*$+O,P=.707106781*(k=b+v),D=_+P,N=_-P;e[p+5]=N+A,e[p+3]=N-A,e[p+1]=D+L,e[p+7]=D-L,p+=8}for(p=0,u=0;u<8;++u){n=e[p],i=e[p+8],o=e[p+16],r=e[p+24],a=e[p+32],s=e[p+40],c=e[p+48];var C=n+(l=e[p+56]),M=n-l,I=i+c,E=i-c,B=o+s,F=o-s,R=r+a,T=r-a,q=C+R,U=C-R,z=I+B,W=I-B;e[p]=q+z,e[p+32]=q-z;var H=.707106781*(W+U);e[p+16]=U+H,e[p+48]=U-H;var K=.382683433*((q=T+F)-(W=E+M)),V=.5411961*q+K,G=1.306562965*W+K,J=.707106781*(z=F+E),Y=M+J,X=M-J;e[p+40]=X+V,e[p+24]=X-V,e[p+8]=Y+G,e[p+56]=Y-G,p++}for(u=0;u<64;++u)d=e[u]*t[u],h[u]=d>0?d+.5|0:d-.5|0;return h}(e,t),l=0;l<64;++l)f[S[l]]=c[l];var u=f[0]-n;n=f[0],0==u?C(i[0]):(C(i[p[r=32767+u]]),C(d[r]));for(var _=63;_>0&&0==f[_];)_--;if(0==_)return C(a),n;for(var m,v=1;v<=_;){for(var g=v;0==f[v]&&v<=_;)++v;var b=v-g;if(b>=16){m=b>>4;for(var y=1;y<=m;++y)C(s);b&=15}r=32767+f[v],C(o[(b<<4)+p[r]]),C(d[r]),v++}return 63!=_&&C(a),n}function B(e){e=Math.min(Math.max(e,1),100),r!=e&&(function(e){for(var t=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],n=0;n<64;n++){var i=a((t[n]*e+50)/100);i=Math.min(Math.max(i,1),255),s[S[n]]=i}for(var o=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],r=0;r<64;r++){var d=a((o[r]*e+50)/100);d=Math.min(Math.max(d,1),255),c[S[r]]=d}for(var p=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],h=0,f=0;f<8;f++)for(var _=0;_<8;_++)l[h]=1/(s[S[h]]*p[f]*p[_]*8),u[h]=1/(c[S[h]]*p[f]*p[_]*8),h++}(e<50?Math.floor(5e3/e):Math.floor(200-2*e)),r=e)}this.encode=function(e,r){r&&B(r),_=new Array,m=0,v=7,I(65496),I(65504),I(16),M(74),M(70),M(73),M(70),M(0),M(1),M(1),M(0),I(1),I(1),M(0),M(0),function(){I(65499),I(132),M(0);for(var e=0;e<64;e++)M(s[e]);M(1);for(var t=0;t<64;t++)M(c[t])}(),function(e,t){I(65472),I(17),M(8),I(t),I(e),M(3),M(1),M(17),M(0),M(2),M(17),M(1),M(3),M(17),M(1)}(e.width,e.height),function(){I(65476),I(418),M(0);for(var e=0;e<16;e++)M(k[e+1]);for(var t=0;t<=11;t++)M($[t]);M(16);for(var n=0;n<16;n++)M(j[n+1]);for(var i=0;i<=161;i++)M(O[i]);M(1);for(var o=0;o<16;o++)M(A[o+1]);for(var r=0;r<=11;r++)M(L[r]);M(17);for(var a=0;a<16;a++)M(P[a+1]);for(var s=0;s<=161;s++)M(D[s])}(),I(65498),I(12),M(3),M(1),M(0),M(2),M(17),M(3),M(17),M(0),M(63),M(0);var a=0,d=0,p=0;m=0,v=7,this.encode.displayName="_encode_";for(var h,f,w,S,N,F,R,T,q,U=e.data,z=e.width,W=e.height,H=4*z,K=0;K<W;){for(h=0;h<H;){for(N=H*K+h,R=-1,T=0,q=0;q<64;q++)F=N+(T=q>>3)*H+(R=4*(7&q)),K+T>=W&&(F-=H*(K+1+T-W)),h+R>=H&&(F-=h+R-H+4),f=U[F++],w=U[F++],S=U[F++],g[q]=(x[f]+x[w+256>>0]+x[S+512>>0]>>16)-128,b[q]=(x[f+768>>0]+x[w+1024>>0]+x[S+1280>>0]>>16)-128,y[q]=(x[f+1280>>0]+x[w+1536>>0]+x[S+1792>>0]>>16)-128;a=E(g,l,a,t,i),d=E(b,u,d,n,o),p=E(y,u,p,n,o),h+=32}K+=8}if(v>=0){var V=[];V[1]=v+1,V[0]=(1<<v+1)-1,C(V)}return I(65497),new Uint8Array(_)},e=e||50,function(){for(var e=String.fromCharCode,t=0;t<256;t++)w[t]=e(t)}(),t=N(k,$),n=N(A,L),i=N(j,O),o=N(P,D),function(){for(var e=1,t=2,n=1;n<=15;n++){for(var i=e;i<t;i++)p[32767+i]=n,d[32767+i]=[],d[32767+i][1]=n,d[32767+i][0]=i;for(var o=-(t-1);o<=-e;o++)p[32767+o]=n,d[32767+o]=[],d[32767+o][1]=n,d[32767+o][0]=t-1+o;e<<=1,t<<=1}}(),function(){for(var e=0;e<256;e++)x[e]=19595*e,x[e+256>>0]=38470*e,x[e+512>>0]=7471*e+32768,x[e+768>>0]=-11059*e,x[e+1024>>0]=-21709*e,x[e+1280>>0]=32768*e+8421375,x[e+1536>>0]=-27439*e,x[e+1792>>0]=-5329*e}(),B(e)}function nt(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function it(e){function t(e){if(!e)throw Error("assert :P")}function n(e,t,n){for(var i=0;4>i;i++)if(e[t+i]!=n.charCodeAt(i))return!0;return!1}function i(e,t,n,i,o){for(var r=0;r<o;r++)e[t+r]=n[i+r]}function o(e,t,n,i){for(var o=0;o<i;o++)e[t+o]=n}function r(e){return new Int32Array(e)}function a(e,t){for(var n=[],i=0;i<e;i++)n.push(new t);return n}function s(e,t){var n=[];return function e(n,i,o){for(var r=o[i],a=0;a<r&&(n.push(o.length>i+1?[]:new t),!(o.length<i+1));a++)e(n[a],i+1,o)}(n,0,e),n}var c=function(){var e=this;function c(e,t){for(var n=1<<t-1>>>0;e&n;)n>>>=1;return n?(e&n-1)+n:e}function l(e,n,i,o,r){t(!(o%i));do{e[n+(o-=i)]=r}while(0<o)}function u(e,n,i,o,a){if(t(2328>=a),512>=a)var s=r(512);else if(null==(s=r(a)))return 0;return function(e,n,i,o,a,s){var u,p,h=n,f=1<<i,_=r(16),m=r(16);for(t(0!=a),t(null!=o),t(null!=e),t(0<i),p=0;p<a;++p){if(15<o[p])return 0;++_[o[p]]}if(_[0]==a)return 0;for(m[1]=0,u=1;15>u;++u){if(_[u]>1<<u)return 0;m[u+1]=m[u]+_[u]}for(p=0;p<a;++p)u=o[p],0<o[p]&&(s[m[u]++]=p);if(1==m[15])return(o=new d).g=0,o.value=s[0],l(e,h,1,f,o),f;var v,g=-1,b=f-1,y=0,w=1,x=1,S=1<<i;for(p=0,u=1,a=2;u<=i;++u,a<<=1){if(w+=x<<=1,0>(x-=_[u]))return 0;for(;0<_[u];--_[u])(o=new d).g=u,o.value=s[p++],l(e,h+y,a,S,o),y=c(y,u)}for(u=i+1,a=2;15>=u;++u,a<<=1){if(w+=x<<=1,0>(x-=_[u]))return 0;for(;0<_[u];--_[u]){if(o=new d,(y&b)!=g){for(h+=S,v=1<<(g=u)-i;15>g&&!(0>=(v-=_[g]));)++g,v<<=1;f+=S=1<<(v=g-i),e[n+(g=y&b)].g=v+i,e[n+g].value=h-n-g}o.g=u-i,o.value=s[p++],l(e,h+(y>>i),a,S,o),y=c(y,u)}}return w!=2*m[15]-1?0:f}(e,n,i,o,a,s)}function d(){this.value=this.g=0}function p(){this.value=this.g=0}function h(){this.G=a(5,d),this.H=r(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(Rn,p)}function f(e,n,i,o){t(null!=e),t(null!=n),t(2147483648>o),e.Ca=254,e.I=0,e.b=-8,e.Ka=0,e.oa=n,e.pa=i,e.Jd=n,e.Yc=i+o,e.Zc=4<=o?i+o-4+1:i,j(e)}function _(e,t){for(var n=0;0<t--;)n|=A(e,128)<<t;return n}function m(e,t){var n=_(e,t);return O(e)?-n:n}function v(e,n,i,o){var r,a=0;for(t(null!=e),t(null!=n),t(4294967288>o),e.Sb=o,e.Ra=0,e.u=0,e.h=0,4<o&&(o=4),r=0;r<o;++r)a+=n[i+r]<<8*r;e.Ra=a,e.bb=o,e.oa=n,e.pa=i}function g(e){for(;8<=e.u&&e.bb<e.Sb;)e.Ra>>>=8,e.Ra+=e.oa[e.pa+e.bb]<<Un-8>>>0,++e.bb,e.u-=8;S(e)&&(e.h=1,e.u=0)}function b(e,n){if(t(0<=n),!e.h&&n<=qn){var i=x(e)&Tn[n];return e.u+=n,g(e),i}return e.h=1,e.u=0}function y(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function w(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function x(e){return e.Ra>>>(e.u&Un-1)>>>0}function S(e){return t(e.bb<=e.Sb),e.h||e.bb==e.Sb&&e.u>Un}function k(e,t){e.u=t,e.h=S(e)}function $(e){e.u>=zn&&(t(e.u>=zn),g(e))}function j(e){t(null!=e&&null!=e.oa),e.pa<e.Zc?(e.I=(e.oa[e.pa++]|e.I<<8)>>>0,e.b+=8):(t(null!=e&&null!=e.oa),e.pa<e.Yc?(e.b+=8,e.I=e.oa[e.pa++]|e.I<<8):e.Ka?e.b=0:(e.I<<=8,e.b+=8,e.Ka=1))}function O(e){return _(e,1)}function A(e,t){var n=e.Ca;0>e.b&&j(e);var i=e.b,o=n*t>>>8,r=(e.I>>>i>o)+0;for(r?(n-=o,e.I-=o+1<<i>>>0):n=o+1,i=n,o=0;256<=i;)o+=8,i>>=8;return i=7^o+Wn[i],e.b-=i,e.Ca=(n<<i)-1,r}function L(e,t,n){e[t+0]=n>>24&255,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=n>>0&255}function P(e,t){return e[t+0]<<0|e[t+1]<<8}function D(e,t){return P(e,t)|e[t+2]<<16}function N(e,t){return P(e,t)|P(e,t+2)<<16}function C(e,n){var i=1<<n;return t(null!=e),t(0<n),e.X=r(i),null==e.X?0:(e.Mb=32-n,e.Xa=n,1)}function M(e,n){t(null!=e),t(null!=n),t(e.Xa==n.Xa),i(n.X,0,e.X,0,1<<n.Xa)}function I(){this.X=[],this.Xa=this.Mb=0}function E(e,n,i,o){t(null!=i),t(null!=o);var r=i[0],a=o[0];return 0==r&&(r=(e*a+n/2)/n),0==a&&(a=(n*r+e/2)/e),0>=r||0>=a?0:(i[0]=r,o[0]=a,1)}function B(e,t){return e+(1<<t)-1>>>t}function F(e,t){return((4278255360&e)+(4278255360&t)>>>0&4278255360)+((16711935&e)+(16711935&t)>>>0&16711935)>>>0}function R(t,n){e[n]=function(n,i,o,r,a,s,c){var l;for(l=0;l<a;++l){var u=e[t](s[c+l-1],o,r+l);s[c+l]=F(n[i+l],u)}}}function T(){this.ud=this.hd=this.jd=0}function q(e,t){return((4278124286&(e^t))>>>1)+(e&t)>>>0}function U(e){return 0<=e&&256>e?e:0>e?0:255<e?255:void 0}function z(e,t){return U(e+(e-t+.5>>1))}function W(e,t,n){return Math.abs(t-n)-Math.abs(e-n)}function H(e,t,n,i,o,r,a){for(i=r[a-1],n=0;n<o;++n)r[a+n]=i=F(e[t+n],i)}function K(e,t,n,i,o){var r;for(r=0;r<n;++r){var a=e[t+r],s=a>>8&255,c=16711935&(c=(c=16711935&a)+((s<<16)+s));i[o+r]=(4278255360&a)+c>>>0}}function V(e,t){t.jd=e>>0&255,t.hd=e>>8&255,t.ud=e>>16&255}function G(e,t,n,i,o,r){var a;for(a=0;a<i;++a){var s=t[n+a],c=s>>>8,l=s,u=255&(u=(u=s>>>16)+((e.jd<<24>>24)*(c<<24>>24)>>>5));l=255&(l=(l+=(e.hd<<24>>24)*(c<<24>>24)>>>5)+((e.ud<<24>>24)*(u<<24>>24)>>>5)),o[r+a]=(4278255360&s)+(u<<16)+l}}function J(t,n,i,o,r){e[n]=function(e,t,n,i,a,s,c,l,u){for(i=c;i<l;++i)for(c=0;c<u;++c)a[s++]=r(n[o(e[t++])])},e[t]=function(t,n,a,s,c,l,u){var d=8>>t.b,p=t.Ea,h=t.K[0],f=t.w;if(8>d)for(t=(1<<t.b)-1,f=(1<<d)-1;n<a;++n){var _,m=0;for(_=0;_<p;++_)_&t||(m=o(s[c++])),l[u++]=r(h[m&f]),m>>=d}else e["VP8LMapColor"+i](s,c,h,f,l,u,n,a,p)}}function Y(e,t,n,i,o){for(n=t+n;t<n;){var r=e[t++];i[o++]=r>>16&255,i[o++]=r>>8&255,i[o++]=r>>0&255}}function X(e,t,n,i,o){for(n=t+n;t<n;){var r=e[t++];i[o++]=r>>16&255,i[o++]=r>>8&255,i[o++]=r>>0&255,i[o++]=r>>24&255}}function Q(e,t,n,i,o){for(n=t+n;t<n;){var r=(a=e[t++])>>16&240|a>>12&15,a=a>>0&240|a>>28&15;i[o++]=r,i[o++]=a}}function Z(e,t,n,i,o){for(n=t+n;t<n;){var r=(a=e[t++])>>16&248|a>>13&7,a=a>>5&224|a>>3&31;i[o++]=r,i[o++]=a}}function ee(e,t,n,i,o){for(n=t+n;t<n;){var r=e[t++];i[o++]=r>>0&255,i[o++]=r>>8&255,i[o++]=r>>16&255}}function te(e,t,n,o,r,a){if(0==a)for(n=t+n;t<n;)L(o,((a=e[t++])[0]>>24|a[1]>>8&65280|a[2]<<8&16711680|a[3]<<24)>>>0),r+=32;else i(o,r,e,t,n)}function ne(t,n){e[n][0]=e[t+"0"],e[n][1]=e[t+"1"],e[n][2]=e[t+"2"],e[n][3]=e[t+"3"],e[n][4]=e[t+"4"],e[n][5]=e[t+"5"],e[n][6]=e[t+"6"],e[n][7]=e[t+"7"],e[n][8]=e[t+"8"],e[n][9]=e[t+"9"],e[n][10]=e[t+"10"],e[n][11]=e[t+"11"],e[n][12]=e[t+"12"],e[n][13]=e[t+"13"],e[n][14]=e[t+"0"],e[n][15]=e[t+"0"]}function ie(e){return e==zi||e==Wi||e==Hi||e==Ki}function oe(){this.eb=[],this.size=this.A=this.fb=0}function re(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ae(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new oe,this.f.kb=new re,this.sd=null}function se(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function ce(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function le(e){return alert("todo:WebPSamplerProcessPlane"),e.T}function ue(e,t){var n=e.T,o=t.ba.f.RGBA,r=o.eb,a=o.fb+e.ka*o.A,s=go[t.ba.S],c=e.y,l=e.O,u=e.f,d=e.N,p=e.ea,h=e.W,f=t.cc,_=t.dc,m=t.Mc,v=t.Nc,g=e.ka,b=e.ka+e.T,y=e.U,w=y+1>>1;for(0==g?s(c,l,null,null,u,d,p,h,u,d,p,h,r,a,null,null,y):(s(t.ec,t.fc,c,l,f,_,m,v,u,d,p,h,r,a-o.A,r,a,y),++n);g+2<b;g+=2)f=u,_=d,m=p,v=h,d+=e.Rc,h+=e.Rc,a+=2*o.A,s(c,(l+=2*e.fa)-e.fa,c,l,f,_,m,v,u,d,p,h,r,a-o.A,r,a,y);return l+=e.fa,e.j+b<e.o?(i(t.ec,t.fc,c,l,y),i(t.cc,t.dc,u,d,w),i(t.Mc,t.Nc,p,h,w),n--):1&b||s(c,l,null,null,u,d,p,h,u,d,p,h,r,a+o.A,null,null,y),n}function de(e,n,i){var o=e.F,r=[e.J];if(null!=o){var a=e.U,s=n.ba.S,c=s==Ti||s==Hi;n=n.ba.f.RGBA;var l=[0],u=e.ka;l[0]=e.T,e.Kb&&(0==u?--l[0]:(--u,r[0]-=e.width),e.j+e.ka+e.T==e.o&&(l[0]=e.o-e.j-u));var d=n.eb;u=n.fb+u*n.A,e=$i(o,r[0],e.width,a,l,d,u+(c?0:3),n.A),t(i==l),e&&ie(s)&&Si(d,u,c,a,l,n.A)}return 0}function pe(e){var t=e.ma,n=t.ba.S,i=11>n,o=n==Bi||n==Ri||n==Ti||n==qi||12==n||ie(n);if(t.memory=null,t.Ib=null,t.Jb=null,t.Nd=null,!En(t.Oa,e,o?11:12))return 0;if(o&&ie(n)&&bn(),e.da)alert("todo:use_scaling");else{if(i){if(t.Ib=le,e.Kb){if(n=e.U+1>>1,t.memory=r(e.U+2*n),null==t.memory)return 0;t.ec=t.memory,t.fc=0,t.cc=t.ec,t.dc=t.fc+e.U,t.Mc=t.cc,t.Nc=t.dc+n,t.Ib=ue,bn()}}else alert("todo:EmitYUV");o&&(t.Jb=de,i&&vn())}if(i&&!No){for(e=0;256>e;++e)Co[e]=89858*(e-128)+Oo>>jo,Eo[e]=-22014*(e-128)+Oo,Io[e]=-45773*(e-128),Mo[e]=113618*(e-128)+Oo>>jo;for(e=Ao;e<Lo;++e)t=76283*(e-16)+Oo>>jo,Bo[e-Ao]=He(t,255),Fo[e-Ao]=He(t+8>>4,15);No=1}return 1}function he(e){var n=e.ma,i=e.U,o=e.T;return t(!(1&e.ka)),0>=i||0>=o?0:(i=n.Ib(e,n),null!=n.Jb&&n.Jb(e,n,i),n.Dc+=i,1)}function fe(e){e.ma.memory=null}function _e(e,t,n,i){return 47!=b(e,8)?0:(t[0]=b(e,14)+1,n[0]=b(e,14)+1,i[0]=b(e,1),0!=b(e,3)?0:!e.h)}function me(e,t){if(4>e)return e+1;var n=e-2>>1;return(2+(1&e)<<n)+b(t,n)+1}function ve(e,t){return 120<t?t-120:1<=(n=((n=Qi[t-1])>>4)*e+(8-(15&n)))?n:1;var n}function ge(e,t,n){var i=x(n),o=e[t+=255&i].g-8;return 0<o&&(k(n,n.u+8),i=x(n),t+=e[t].value,t+=i&(1<<o)-1),k(n,n.u+e[t].g),e[t].value}function be(e,n,i){return i.g+=e.g,i.value+=e.value<<n>>>0,t(8>=i.g),e.g}function ye(e,n,i){var o=e.xc;return t((n=0==o?0:e.vc[e.md*(i>>o)+(n>>o)])<e.Wb),e.Ya[n]}function we(e,n,o,r){var a=e.ab,s=e.c*n,c=e.C;n=c+n;var l=o,u=r;for(r=e.Ta,o=e.Ua;0<a--;){var d=e.gc[a],p=c,h=n,f=l,_=u,m=(u=r,l=o,d.Ea);switch(t(p<h),t(h<=d.nc),d.hc){case 2:Vn(f,_,(h-p)*m,u,l);break;case 0:var v=p,g=h,b=u,y=l,w=(j=d).Ea;0==v&&(Hn(f,_,null,null,1,b,y),H(f,_+1,0,0,w-1,b,y+1),_+=w,y+=w,++v);for(var x=1<<j.b,S=x-1,k=B(w,j.b),$=j.K,j=j.w+(v>>j.b)*k;v<g;){var O=$,A=j,L=1;for(Kn(f,_,b,y-w,1,b,y);L<w;){var P=(L&~S)+x;P>w&&(P=w),(0,Qn[O[A++]>>8&15])(f,_+ +L,b,y+L-w,P-L,b,y+L),L=P}_+=w,y+=w,++v&S||(j+=k)}h!=d.nc&&i(u,l-m,u,l+(h-p-1)*m,m);break;case 1:for(m=f,g=_,w=(f=d.Ea)-(y=f&~(b=(_=1<<d.b)-1)),v=B(f,d.b),x=d.K,d=d.w+(p>>d.b)*v;p<h;){for(S=x,k=d,$=new T,j=g+y,O=g+f;g<j;)V(S[k++],$),Zn($,m,g,_,u,l),g+=_,l+=_;g<O&&(V(S[k++],$),Zn($,m,g,w,u,l),g+=w,l+=w),++p&b||(d+=v)}break;case 3:if(f==u&&_==l&&0<d.b){for(g=u,f=m=l+(h-p)*m-(y=(h-p)*B(d.Ea,d.b)),_=u,b=l,v=[],y=(w=y)-1;0<=y;--y)v[y]=_[b+y];for(y=w-1;0<=y;--y)g[f+y]=v[y];Gn(d,p,h,u,m,u,l)}else Gn(d,p,h,f,_,u,l)}l=r,u=o}u!=o&&i(r,o,l,u,s)}function xe(e,n){var i=e.V,o=e.Ba+e.c*e.C,r=n-e.C;if(t(n<=e.l.o),t(16>=r),0<r){var a=e.l,s=e.Ta,c=e.Ua,l=a.width;if(we(e,r,i,o),r=c=[c],t((i=e.C)<(o=n)),t(a.v<a.va),o>a.o&&(o=a.o),i<a.j){var u=a.j-i;i=a.j,r[0]+=u*l}if(i>=o?i=0:(r[0]+=4*a.v,a.ka=i-a.j,a.U=a.va-a.v,a.T=o-i,i=1),i){if(c=c[0],11>(i=e.ca).S){var d=i.f.RGBA,p=(o=i.S,r=a.U,a=a.T,u=d.eb,d.A),h=a;for(d=d.fb+e.Ma*d.A;0<h--;){var f=s,_=c,m=r,v=u,g=d;switch(o){case Ei:ei(f,_,m,v,g);break;case Bi:ti(f,_,m,v,g);break;case zi:ti(f,_,m,v,g),Si(v,g,0,m,1,0);break;case Fi:oi(f,_,m,v,g);break;case Ri:te(f,_,m,v,g,1);break;case Wi:te(f,_,m,v,g,1),Si(v,g,0,m,1,0);break;case Ti:te(f,_,m,v,g,0);break;case Hi:te(f,_,m,v,g,0),Si(v,g,1,m,1,0);break;case qi:ni(f,_,m,v,g);break;case Ki:ni(f,_,m,v,g),ki(v,g,m,1,0);break;case Ui:ii(f,_,m,v,g);break;default:t(0)}c+=l,d+=p}e.Ma+=a}else alert("todo:EmitRescaledRowsYUVA");t(e.Ma<=i.height)}}e.C=n,t(e.C<=e.i)}function Se(e){var t;if(0<e.ua)return 0;for(t=0;t<e.Wb;++t){var n=e.Ya[t].G,i=e.Ya[t].H;if(0<n[1][i[1]+0].g||0<n[2][i[2]+0].g||0<n[3][i[3]+0].g)return 0}return 1}function ke(e,n,i,o,r,a){if(0!=e.Z){var s=e.qd,c=e.rd;for(t(null!=vo[e.Z]);n<i;++n)vo[e.Z](s,c,o,r,o,r,a),s=o,c=r,r+=a;e.qd=s,e.rd=c}}function $e(e,n){var i=e.l.ma,o=0==i.Z||1==i.Z?e.l.j:e.C;if(o=e.C<o?o:e.C,t(n<=e.l.o),n>o){var r=e.l.width,a=i.ca,s=i.tb+r*o,c=e.V,l=e.Ba+e.c*o,u=e.gc;t(1==e.ab),t(3==u[0].hc),Yn(u[0],o,n,c,l,a,s),ke(i,o,n,a,s,r)}e.C=e.Ma=n}function je(e,n,i,o,r,a,s){var c=e.$/o,l=e.$%o,u=e.m,d=e.s,p=i+e.$,h=p;r=i+o*r;var f=i+o*a,_=280+d.ua,m=e.Pb?c:16777216,v=0<d.ua?d.Wa:null,g=d.wc,b=p<f?ye(d,l,c):null;t(e.C<a),t(f<=r);var y=!1;e:for(;;){for(;y||p<f;){var w=0;if(c>=m){var j=p-i;t((m=e).Pb),m.wd=m.m,m.xd=j,0<m.s.ua&&M(m.s.Wa,m.s.vb),m=c+eo}if(l&g||(b=ye(d,l,c)),t(null!=b),b.Qb&&(n[p]=b.qb,y=!0),!y)if($(u),b.jc){w=u,j=n;var O=p,A=b.pd[x(w)&Rn-1];t(b.jc),256>A.g?(k(w,w.u+A.g),j[O]=A.value,w=0):(k(w,w.u+A.g-256),t(256<=A.value),w=A.value),0==w&&(y=!0)}else w=ge(b.G[0],b.H[0],u);if(u.h)break;if(y||256>w){if(!y)if(b.nd)n[p]=(b.qb|w<<8)>>>0;else{if($(u),y=ge(b.G[1],b.H[1],u),$(u),j=ge(b.G[2],b.H[2],u),O=ge(b.G[3],b.H[3],u),u.h)break;n[p]=(O<<24|y<<16|w<<8|j)>>>0}if(y=!1,++p,++l>=o&&(l=0,++c,null!=s&&c<=a&&!(c%16)&&s(e,c),null!=v))for(;h<p;)w=n[h++],v.X[(506832829*w&4294967295)>>>v.Mb]=w}else if(280>w){if(w=me(w-256,u),j=ge(b.G[4],b.H[4],u),$(u),j=ve(o,j=me(j,u)),u.h)break;if(p-i<j||r-p<w)break e;for(O=0;O<w;++O)n[p+O]=n[p+O-j];for(p+=w,l+=w;l>=o;)l-=o,++c,null!=s&&c<=a&&!(c%16)&&s(e,c);if(t(p<=r),l&g&&(b=ye(d,l,c)),null!=v)for(;h<p;)w=n[h++],v.X[(506832829*w&4294967295)>>>v.Mb]=w}else{if(!(w<_))break e;for(y=w-280,t(null!=v);h<p;)w=n[h++],v.X[(506832829*w&4294967295)>>>v.Mb]=w;w=p,t(!(y>>>(j=v).Xa)),n[w]=j.X[y],y=!0}y||t(u.h==S(u))}if(e.Pb&&u.h&&p<r)t(e.m.h),e.a=5,e.m=e.wd,e.$=e.xd,0<e.s.ua&&M(e.s.vb,e.s.Wa);else{if(u.h)break e;null!=s&&s(e,c>a?a:c),e.a=0,e.$=p-i}return 1}return e.a=3,0}function Oe(e){t(null!=e),e.vc=null,e.yc=null,e.Ya=null;var n=e.Wa;null!=n&&(n.X=null),e.vb=null,t(null!=e)}function Ae(){var t=new sn;return null==t?null:(t.a=0,t.xb=mo,ne("Predictor","VP8LPredictors"),ne("Predictor","VP8LPredictors_C"),ne("PredictorAdd","VP8LPredictorsAdd"),ne("PredictorAdd","VP8LPredictorsAdd_C"),Vn=K,Zn=G,ei=Y,ti=X,ni=Q,ii=Z,oi=ee,e.VP8LMapColor32b=Jn,e.VP8LMapColor8b=Xn,t)}function Le(e,n,i,s,c){var l=1,p=[e],f=[n],_=s.m,m=s.s,v=null,g=0;e:for(;;){if(i)for(;l&&b(_,1);){var y=p,w=f,S=s,j=1,O=S.m,A=S.gc[S.ab],L=b(O,2);if(S.Oc&1<<L)l=0;else{switch(S.Oc|=1<<L,A.hc=L,A.Ea=y[0],A.nc=w[0],A.K=[null],++S.ab,t(4>=S.ab),L){case 0:case 1:A.b=b(O,3)+2,j=Le(B(A.Ea,A.b),B(A.nc,A.b),0,S,A.K),A.K=A.K[0];break;case 3:var P,D=b(O,8)+1,N=16<D?0:4<D?1:2<D?2:3;if(y[0]=B(A.Ea,N),A.b=N,P=j=Le(D,1,0,S,A.K)){var M,I=D,E=A,R=1<<(8>>E.b),T=r(R);if(null==T)P=0;else{var q=E.K[0],U=E.w;for(T[0]=E.K[0][0],M=1;M<1*I;++M)T[M]=F(q[U+M],T[M-1]);for(;M<4*R;++M)T[M]=0;E.K[0]=null,E.K[0]=T,P=1}}j=P;break;case 2:break;default:t(0)}l=j}}if(p=p[0],f=f[0],l&&b(_,1)&&!(l=1<=(g=b(_,4))&&11>=g)){s.a=3;break e}var z;if(z=l)t:{var W,H,K,V=s,G=p,J=f,Y=g,X=i,Q=V.m,Z=V.s,ee=[null],te=1,ne=0,ie=Zi[Y];n:for(;;){if(X&&b(Q,1)){var oe=b(Q,3)+2,re=B(G,oe),ae=B(J,oe),se=re*ae;if(!Le(re,ae,0,V,ee))break n;for(ee=ee[0],Z.xc=oe,W=0;W<se;++W){var ce=ee[W]>>8&65535;ee[W]=ce,ce>=te&&(te=ce+1)}}if(Q.h)break n;for(H=0;5>H;++H){var le=Ji[H];!H&&0<Y&&(le+=1<<Y),ne<le&&(ne=le)}var ue=a(te*ie,d),de=te,pe=a(de,h);if(null==pe)var he=null;else t(65536>=de),he=pe;var fe=r(ne);if(null==he||null==fe||null==ue){V.a=1;break n}var _e=ue;for(W=K=0;W<te;++W){var me=he[W],ve=me.G,ge=me.H,ye=0,we=1,xe=0;for(H=0;5>H;++H){le=Ji[H],ve[H]=_e,ge[H]=K,!H&&0<Y&&(le+=1<<Y);i:{var Se,ke=le,$e=V,Ae=fe,Pe=_e,De=K,Ne=0,Ce=$e.m,Me=b(Ce,1);if(o(Ae,0,0,ke),Me){var Ie=b(Ce,1)+1,Ee=b(Ce,1),Be=b(Ce,0==Ee?1:8);Ae[Be]=1,2==Ie&&(Ae[Be=b(Ce,8)]=1);var Fe=1}else{var Re=r(19),Te=b(Ce,4)+4;if(19<Te){$e.a=3;var qe=0;break i}for(Se=0;Se<Te;++Se)Re[Xi[Se]]=b(Ce,3);var Ue=void 0,ze=void 0,We=$e,He=Re,Ke=ke,Ve=Ae,Ge=0,Je=We.m,Ye=8,Xe=a(128,d);o:for(;u(Xe,0,7,He,19);){if(b(Je,1)){var Qe=2+2*b(Je,3);if((Ue=2+b(Je,Qe))>Ke)break o}else Ue=Ke;for(ze=0;ze<Ke&&Ue--;){$(Je);var Ze=Xe[0+(127&x(Je))];k(Je,Je.u+Ze.g);var et=Ze.value;if(16>et)Ve[ze++]=et,0!=et&&(Ye=et);else{var tt=16==et,nt=et-16,it=Gi[nt],ot=b(Je,Vi[nt])+it;if(ze+ot>Ke)break o;for(var rt=tt?Ye:0;0<ot--;)Ve[ze++]=rt}}Ge=1;break o}Ge||(We.a=3),Fe=Ge}(Fe=Fe&&!Ce.h)&&(Ne=u(Pe,De,8,Ae,ke)),Fe&&0!=Ne?qe=Ne:($e.a=3,qe=0)}if(0==qe)break n;if(we&&1==Yi[H]&&(we=0==_e[K].g),ye+=_e[K].g,K+=qe,3>=H){var at,st=fe[0];for(at=1;at<le;++at)fe[at]>st&&(st=fe[at]);xe+=st}}if(me.nd=we,me.Qb=0,we&&(me.qb=(ve[3][ge[3]+0].value<<24|ve[1][ge[1]+0].value<<16|ve[2][ge[2]+0].value)>>>0,0==ye&&256>ve[0][ge[0]+0].value&&(me.Qb=1,me.qb+=ve[0][ge[0]+0].value<<8)),me.jc=!me.Qb&&6>xe,me.jc){var ct,lt=me;for(ct=0;ct<Rn;++ct){var ut=ct,dt=lt.pd[ut],pt=lt.G[0][lt.H[0]+ut];256<=pt.value?(dt.g=pt.g+256,dt.value=pt.value):(dt.g=0,dt.value=0,ut>>=be(pt,8,dt),ut>>=be(lt.G[1][lt.H[1]+ut],16,dt),ut>>=be(lt.G[2][lt.H[2]+ut],0,dt),be(lt.G[3][lt.H[3]+ut],24,dt))}}}Z.vc=ee,Z.Wb=te,Z.Ya=he,Z.yc=ue,z=1;break t}z=0}if(!(l=z)){s.a=3;break e}if(0<g){if(m.ua=1<<g,!C(m.Wa,g)){s.a=1,l=0;break e}}else m.ua=0;var ht=s,ft=p,_t=f,mt=ht.s,vt=mt.xc;if(ht.c=ft,ht.i=_t,mt.md=B(ft,vt),mt.wc=0==vt?-1:(1<<vt)-1,i){s.xb=_o;break e}if(null==(v=r(p*f))){s.a=1,l=0;break e}l=(l=je(s,v,0,p,f,f,null))&&!_.h;break e}return l?(null!=c?c[0]=v:(t(null==v),t(i)),s.$=0,i||Oe(m)):Oe(m),l}function Pe(e,n){var i=e.c*e.i,o=i+n+16*n;return t(e.c<=n),e.V=r(o),null==e.V?(e.Ta=null,e.Ua=0,e.a=1,0):(e.Ta=e.V,e.Ua=e.Ba+i+n,1)}function De(e,n){var i=e.C,o=n-i,r=e.V,a=e.Ba+e.c*i;for(t(n<=e.l.o);0<o;){var s=16<o?16:o,c=e.l.ma,l=e.l.width,u=l*s,d=c.ca,p=c.tb+l*i,h=e.Ta,f=e.Ua;we(e,s,r,a),ji(h,f,d,p,u),ke(c,i,i+s,d,p,l),o-=s,r+=s*e.c,i+=s}t(i==n),e.C=e.Ma=n}function Ne(){this.ub=this.yd=this.td=this.Rb=0}function Ce(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Me(){this.Fb=this.Bb=this.Cb=0,this.Zb=r(4),this.Lb=r(4)}function Ie(){this.Yb=function(){var e=[];return function e(t,n,i){for(var o=i[n],r=0;r<o&&(t.push(i.length>n+1?[]:0),!(i.length<n+1));r++)e(t[r],n+1,i)}(e,0,[3,11]),e}()}function Ee(){this.jb=r(3),this.Wc=s([4,8],Ie),this.Xc=s([4,17],Ie)}function Be(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new r(4),this.od=new r(4)}function Fe(){this.ld=this.La=this.dd=this.tc=0}function Re(){this.Na=this.la=0}function Te(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function qe(){this.ad=r(384),this.Za=0,this.Ob=r(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ue(){this.uc=this.M=this.Nb=0,this.wa=Array(new Fe),this.Y=0,this.ya=Array(new qe),this.aa=0,this.l=new Ke}function ze(){this.y=r(16),this.f=r(8),this.ea=r(8)}function We(){this.cb=this.a=0,this.sc="",this.m=new y,this.Od=new Ne,this.Kc=new Ce,this.ed=new Be,this.Qa=new Me,this.Ic=this.$c=this.Aa=0,this.D=new Ue,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,y),this.ia=0,this.pb=a(4,Te),this.Pa=new Ee,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ze),this.Hd=0,this.rb=Array(new Re),this.sb=0,this.wa=Array(new Fe),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new qe),this.L=this.aa=0,this.gd=s([4,2],Fe),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function He(e,t){return 0>e?0:e>t?t:e}function Ke(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ve(){var e=new We;return null!=e&&(e.a=0,e.sc="OK",e.cb=0,e.Xb=0,io||(io=Xe)),e}function Ge(e,t,n){return 0==e.a&&(e.a=t,e.sc=n,e.cb=0),0}function Je(e,t,n){return 3<=n&&157==e[t+0]&&1==e[t+1]&&42==e[t+2]}function Ye(e,n){if(null==e)return 0;if(e.a=0,e.sc="OK",null==n)return Ge(e,2,"null VP8Io passed to VP8GetHeaders()");var i=n.data,r=n.w,a=n.ha;if(4>a)return Ge(e,7,"Truncated header.");var s=i[r+0]|i[r+1]<<8|i[r+2]<<16,c=e.Od;if(c.Rb=!(1&s),c.td=s>>1&7,c.yd=s>>4&1,c.ub=s>>5,3<c.td)return Ge(e,3,"Incorrect keyframe parameters.");if(!c.yd)return Ge(e,4,"Frame not displayable.");r+=3,a-=3;var l=e.Kc;if(c.Rb){if(7>a)return Ge(e,7,"cannot parse picture header");if(!Je(i,r,a))return Ge(e,3,"Bad code word");l.c=16383&(i[r+4]<<8|i[r+3]),l.Td=i[r+4]>>6,l.i=16383&(i[r+6]<<8|i[r+5]),l.Ud=i[r+6]>>6,r+=7,a-=7,e.za=l.c+15>>4,e.Ub=l.i+15>>4,n.width=l.c,n.height=l.i,n.Da=0,n.j=0,n.v=0,n.va=n.width,n.o=n.height,n.da=0,n.ib=n.width,n.hb=n.height,n.U=n.width,n.T=n.height,o((s=e.Pa).jb,0,255,s.jb.length),t(null!=(s=e.Qa)),s.Cb=0,s.Bb=0,s.Fb=1,o(s.Zb,0,0,s.Zb.length),o(s.Lb,0,0,s.Lb)}if(c.ub>a)return Ge(e,7,"bad partition length");f(s=e.m,i,r,c.ub),r+=c.ub,a-=c.ub,c.Rb&&(l.Ld=O(s),l.Kd=O(s)),l=e.Qa;var u,d=e.Pa;if(t(null!=s),t(null!=l),l.Cb=O(s),l.Cb){if(l.Bb=O(s),O(s)){for(l.Fb=O(s),u=0;4>u;++u)l.Zb[u]=O(s)?m(s,7):0;for(u=0;4>u;++u)l.Lb[u]=O(s)?m(s,6):0}if(l.Bb)for(u=0;3>u;++u)d.jb[u]=O(s)?_(s,8):255}else l.Bb=0;if(s.Ka)return Ge(e,3,"cannot parse segment header");if((l=e.ed).zd=O(s),l.Tb=_(s,6),l.wb=_(s,3),l.Pc=O(s),l.Pc&&O(s)){for(d=0;4>d;++d)O(s)&&(l.vd[d]=m(s,6));for(d=0;4>d;++d)O(s)&&(l.od[d]=m(s,6))}if(e.L=0==l.Tb?0:l.zd?1:2,s.Ka)return Ge(e,3,"cannot parse filter header");var p=a;if(a=u=r,r=u+p,l=p,e.Xb=(1<<_(e.m,2))-1,p<3*(d=e.Xb))i=7;else{for(u+=3*d,l-=3*d,p=0;p<d;++p){var h=i[a+0]|i[a+1]<<8|i[a+2]<<16;h>l&&(h=l),f(e.Jc[+p],i,u,h),u+=h,l-=h,a+=3}f(e.Jc[+d],i,u,l),i=u<r?0:5}if(0!=i)return Ge(e,i,"cannot parse partitions");for(i=_(u=e.m,7),a=O(u)?m(u,4):0,r=O(u)?m(u,4):0,l=O(u)?m(u,4):0,d=O(u)?m(u,4):0,u=O(u)?m(u,4):0,p=e.Qa,h=0;4>h;++h){if(p.Cb){var v=p.Zb[h];p.Fb||(v+=i)}else{if(0<h){e.pb[h]=e.pb[0];continue}v=i}var g=e.pb[h];g.Sc[0]=to[He(v+a,127)],g.Sc[1]=no[He(v+0,127)],g.Eb[0]=2*to[He(v+r,127)],g.Eb[1]=101581*no[He(v+l,127)]>>16,8>g.Eb[1]&&(g.Eb[1]=8),g.Qc[0]=to[He(v+d,117)],g.Qc[1]=no[He(v+u,127)],g.lc=v+u}if(!c.Rb)return Ge(e,4,"Not a key frame.");for(O(s),c=e.Pa,i=0;4>i;++i){for(a=0;8>a;++a)for(r=0;3>r;++r)for(l=0;11>l;++l)d=A(s,lo[i][a][r][l])?_(s,8):so[i][a][r][l],c.Wc[i][a].Yb[r][l]=d;for(a=0;17>a;++a)c.Xc[i][a]=c.Wc[i][uo[a]]}return e.kc=O(s),e.kc&&(e.Bd=_(s,8)),e.cb=1}function Xe(e,t,n,i,o,r,a){var s=t[o].Yb[n];for(n=0;16>o;++o){if(!A(e,s[n+0]))return o;for(;!A(e,s[n+1]);)if(s=t[++o].Yb[0],n=0,16==o)return 16;var c=t[o+1].Yb;if(A(e,s[n+2])){var l=e,u=0;if(A(l,(p=s)[(d=n)+3]))if(A(l,p[d+6])){for(s=0,d=2*(u=A(l,p[d+8]))+(p=A(l,p[d+9+u])),u=0,p=oo[d];p[s];++s)u+=u+A(l,p[s]);u+=3+(8<<d)}else A(l,p[d+7])?(u=7+2*A(l,165),u+=A(l,145)):u=5+A(l,159);else u=A(l,p[d+4])?3+A(l,p[d+5]):2;s=c[2]}else u=1,s=c[1];c=a+ro[o],0>(l=e).b&&j(l);var d,p=l.b,h=(d=l.Ca>>1)-(l.I>>p)>>31;--l.b,l.Ca+=h,l.Ca|=1,l.I-=(d+1&h)<<p,r[c]=((u^h)-h)*i[(0<o)+0]}return 16}function Qe(e){var t=e.rb[e.sb-1];t.la=0,t.Na=0,o(e.zc,0,0,e.zc.length),e.ja=0}function Ze(e,n){if(null==e)return 0;if(null==n)return Ge(e,2,"NULL VP8Io parameter in VP8Decode().");if(!e.cb&&!Ye(e,n))return 0;if(t(e.cb),null==n.ac||n.ac(n)){n.ob&&(e.L=0);var s=To[e.L];if(2==e.L?(e.yb=0,e.zb=0):(e.yb=n.v-s>>4,e.zb=n.j-s>>4,0>e.yb&&(e.yb=0),0>e.zb&&(e.zb=0)),e.Va=n.o+15+s>>4,e.Hb=n.va+15+s>>4,e.Hb>e.za&&(e.Hb=e.za),e.Va>e.Ub&&(e.Va=e.Ub),0<e.L){var c=e.ed;for(s=0;4>s;++s){var l;if(e.Qa.Cb){var u=e.Qa.Lb[s];e.Qa.Fb||(u+=c.Tb)}else u=c.Tb;for(l=0;1>=l;++l){var d=e.gd[s][l],p=u;if(c.Pc&&(p+=c.vd[0],l&&(p+=c.od[0])),0<(p=0>p?0:63<p?63:p)){var h=p;0<c.wb&&(h=4<c.wb?h>>2:h>>1)>9-c.wb&&(h=9-c.wb),1>h&&(h=1),d.dd=h,d.tc=2*p+h,d.ld=40<=p?2:15<=p?1:0}else d.tc=0;d.La=l}}}s=0}else Ge(e,6,"Frame setup failed"),s=e.a;if(s=0==s){if(s){e.$c=0,0<e.Aa||(e.Ic=Uo);e:{s=e.Ic,c=4*(h=e.za);var f=32*h,_=h+1,m=0<e.L?h*(0<e.Aa?2:1):0,v=(2==e.Aa?2:1)*h;if((d=c+832+(l=3*(16*s+To[e.L])/2*f)+(u=null!=e.Fa&&0<e.Fa.length?e.Kc.c*e.Kc.i:0))!=d)s=0;else{if(d>e.Vb){if(e.Vb=0,e.Ec=r(d),e.Fc=0,null==e.Ec){s=Ge(e,1,"no memory during frame initialization.");break e}e.Vb=d}d=e.Ec,p=e.Fc,e.Ac=d,e.Bc=p,p+=c,e.Gd=a(f,ze),e.Hd=0,e.rb=a(_+1,Re),e.sb=1,e.wa=m?a(m,Fe):null,e.Y=0,e.D.Nb=0,e.D.wa=e.wa,e.D.Y=e.Y,0<e.Aa&&(e.D.Y+=h),t(!0),e.oc=d,e.pc=p,p+=832,e.ya=a(v,qe),e.aa=0,e.D.ya=e.ya,e.D.aa=e.aa,2==e.Aa&&(e.D.aa+=h),e.R=16*h,e.B=8*h,h=(f=To[e.L])*e.R,f=f/2*e.B,e.sa=d,e.ta=p+h,e.qa=e.sa,e.ra=e.ta+16*s*e.R+f,e.Ha=e.qa,e.Ia=e.ra+8*s*e.B+f,e.$c=0,p+=l,e.mb=u?d:null,e.nb=u?p:null,t(p+u<=e.Fc+e.Vb),Qe(e),o(e.Ac,e.Bc,0,c),s=1}}if(s){if(n.ka=0,n.y=e.sa,n.O=e.ta,n.f=e.qa,n.N=e.ra,n.ea=e.Ha,n.Vd=e.Ia,n.fa=e.R,n.Rc=e.B,n.F=null,n.J=0,!Di){for(s=-255;255>=s;++s)Oi[255+s]=0>s?-s:s;for(s=-1020;1020>=s;++s)Ai[1020+s]=-128>s?-128:127<s?127:s;for(s=-112;112>=s;++s)Li[112+s]=-16>s?-16:15<s?15:s;for(s=-255;510>=s;++s)Pi[255+s]=0>s?0:255<s?255:s;Di=1}ri=lt,ai=rt,ci=at,li=st,ui=ct,si=ot,di=Gt,pi=Jt,hi=Qt,fi=Zt,_i=Yt,mi=Xt,vi=en,gi=tn,bi=Ut,yi=zt,wi=Wt,xi=Ht,ho[0]=kt,ho[1]=dt,ho[2]=xt,ho[3]=St,ho[4]=$t,ho[5]=Ot,ho[6]=jt,ho[7]=At,ho[8]=Pt,ho[9]=Lt,po[0]=vt,po[1]=ht,po[2]=ft,po[3]=_t,po[4]=gt,po[5]=bt,po[6]=yt,fo[0]=Mt,fo[1]=pt,fo[2]=Dt,fo[3]=Nt,fo[4]=Et,fo[5]=It,fo[6]=Bt,s=1}else s=0}s&&(s=function(e,n){for(e.M=0;e.M<e.Va;++e.M){var a,s=e.Jc[e.M&e.Xb],c=e.m,l=e;for(a=0;a<l.za;++a){var u=c,d=l,p=d.Ac,h=d.Bc+4*a,f=d.zc,_=d.ya[d.aa+a];if(d.Qa.Bb?_.$b=A(u,d.Pa.jb[0])?2+A(u,d.Pa.jb[2]):A(u,d.Pa.jb[1]):_.$b=0,d.kc&&(_.Ad=A(u,d.Bd)),_.Za=!A(u,145)+0,_.Za){var m=_.Ob,v=0;for(d=0;4>d;++d){var g,b=f[0+d];for(g=0;4>g;++g){b=co[p[h+g]][b];for(var y=ao[A(u,b[0])];0<y;)y=ao[2*y+A(u,b[y])];b=-y,p[h+g]=b}i(m,v,p,h,4),v+=4,f[0+d]=b}}else b=A(u,156)?A(u,128)?1:3:A(u,163)?2:0,_.Ob[0]=b,o(p,h,b,4),o(f,0,b,4);_.Dd=A(u,142)?A(u,114)?A(u,183)?1:3:2:0}if(l.m.Ka)return Ge(e,7,"Premature end-of-partition0 encountered.");for(;e.ja<e.za;++e.ja){if(l=s,u=(c=e).rb[c.sb-1],p=c.rb[c.sb+c.ja],a=c.ya[c.aa+c.ja],h=c.kc?a.Ad:0)u.la=p.la=0,a.Za||(u.Na=p.Na=0),a.Hc=0,a.Gc=0,a.ia=0;else{var w,x;if(u=p,p=l,h=c.Pa.Xc,f=c.ya[c.aa+c.ja],_=c.pb[f.$b],d=f.ad,m=0,v=c.rb[c.sb-1],b=g=0,o(d,m,0,384),f.Za)var S=0,k=h[3];else{y=r(16);var $=u.Na+v.Na;if($=io(p,h[1],$,_.Eb,0,y,0),u.Na=v.Na=(0<$)+0,1<$)ri(y,0,d,m);else{var j=y[0]+3>>3;for(y=0;256>y;y+=16)d[m+y]=j}S=1,k=h[0]}var O=15&u.la,L=15&v.la;for(y=0;4>y;++y){var P=1&L;for(j=x=0;4>j;++j)O=O>>1|(P=($=io(p,k,$=P+(1&O),_.Sc,S,d,m))>S)<<7,x=x<<2|(3<$?3:1<$?2:0!=d[m+0]),m+=16;O>>=4,L=L>>1|P<<7,g=(g<<8|x)>>>0}for(k=O,S=L>>4,w=0;4>w;w+=2){for(x=0,O=u.la>>4+w,L=v.la>>4+w,y=0;2>y;++y){for(P=1&L,j=0;2>j;++j)$=P+(1&O),O=O>>1|(P=0<($=io(p,h[2],$,_.Qc,0,d,m)))<<3,x=x<<2|(3<$?3:1<$?2:0!=d[m+0]),m+=16;O>>=2,L=L>>1|P<<5}b|=x<<4*w,k|=O<<4<<w,S|=(240&L)<<w}u.la=k,v.la=S,f.Hc=g,f.Gc=b,f.ia=43690&b?0:_.ia,h=!(g|b)}if(0<c.L&&(c.wa[c.Y+c.ja]=c.gd[a.$b][a.Za],c.wa[c.Y+c.ja].La|=!h),l.Ka)return Ge(e,7,"Premature end-of-file encountered.")}if(Qe(e),c=n,l=1,a=(s=e).D,u=0<s.L&&s.M>=s.zb&&s.M<=s.Va,0==s.Aa)e:{if(a.M=s.M,a.uc=u,Mn(s,a),l=1,a=(x=s.D).Nb,u=(b=To[s.L])*s.R,p=b/2*s.B,y=16*a*s.R,j=8*a*s.B,h=s.sa,f=s.ta-u+y,_=s.qa,d=s.ra-p+j,m=s.Ha,v=s.Ia-p+j,L=0==(O=x.M),g=O>=s.Va-1,2==s.Aa&&Mn(s,x),x.uc)for(P=($=s).D.M,t($.D.uc),x=$.yb;x<$.Hb;++x){S=x,k=P;var D=(N=(q=$).D).Nb;w=q.R;var N=N.wa[N.Y+S],C=q.sa,M=q.ta+16*D*w+16*S,I=N.dd,E=N.tc;if(0!=E)if(t(3<=E),1==q.L)0<S&&yi(C,M,w,E+4),N.La&&xi(C,M,w,E),0<k&&bi(C,M,w,E+4),N.La&&wi(C,M,w,E);else{var B=q.B,F=q.qa,R=q.ra+8*D*B+8*S,T=q.Ha,q=q.Ia+8*D*B+8*S;D=N.ld,0<S&&(pi(C,M,w,E+4,I,D),fi(F,R,T,q,B,E+4,I,D)),N.La&&(mi(C,M,w,E,I,D),gi(F,R,T,q,B,E,I,D)),0<k&&(di(C,M,w,E+4,I,D),hi(F,R,T,q,B,E+4,I,D)),N.La&&(_i(C,M,w,E,I,D),vi(F,R,T,q,B,E,I,D))}}if(s.ia&&alert("todo:DitherRow"),null!=c.put){if(x=16*O,O=16*(O+1),L?(c.y=s.sa,c.O=s.ta+y,c.f=s.qa,c.N=s.ra+j,c.ea=s.Ha,c.W=s.Ia+j):(x-=b,c.y=h,c.O=f,c.f=_,c.N=d,c.ea=m,c.W=v),g||(O-=b),O>c.o&&(O=c.o),c.F=null,c.J=null,null!=s.Fa&&0<s.Fa.length&&x<O&&(c.J=pn(s,c,x,O-x),c.F=s.mb,null==c.F&&0==c.F.length)){l=Ge(s,3,"Could not decode alpha data.");break e}x<c.j&&(b=c.j-x,x=c.j,t(!(1&b)),c.O+=s.R*b,c.N+=s.B*(b>>1),c.W+=s.B*(b>>1),null!=c.F&&(c.J+=c.width*b)),x<O&&(c.O+=c.v,c.N+=c.v>>1,c.W+=c.v>>1,null!=c.F&&(c.J+=c.v),c.ka=x-c.j,c.U=c.va-c.v,c.T=O-x,l=c.put(c))}a+1!=s.Ic||g||(i(s.sa,s.ta-u,h,f+16*s.R,u),i(s.qa,s.ra-p,_,d+8*s.B,p),i(s.Ha,s.Ia-p,m,v+8*s.B,p))}if(!l)return Ge(e,6,"Output aborted.")}return 1}(e,n)),null!=n.bc&&n.bc(n),s&=1}return s?(e.cb=0,s):0}function et(e,t,n,i,o){o=e[t+n+32*i]+(o>>3),e[t+n+32*i]=-256&o?0>o?0:255:o}function tt(e,t,n,i,o,r){et(e,t,0,n,i+o),et(e,t,1,n,i+r),et(e,t,2,n,i-r),et(e,t,3,n,i-o)}function nt(e){return(20091*e>>16)+e}function it(e,t,n,i){var o,a=0,s=r(16);for(o=0;4>o;++o){var c=e[t+0]+e[t+8],l=e[t+0]-e[t+8],u=(35468*e[t+4]>>16)-nt(e[t+12]),d=nt(e[t+4])+(35468*e[t+12]>>16);s[a+0]=c+d,s[a+1]=l+u,s[a+2]=l-u,s[a+3]=c-d,a+=4,t++}for(o=a=0;4>o;++o)c=(e=s[a+0]+4)+s[a+8],l=e-s[a+8],u=(35468*s[a+4]>>16)-nt(s[a+12]),et(n,i,0,0,c+(d=nt(s[a+4])+(35468*s[a+12]>>16))),et(n,i,1,0,l+u),et(n,i,2,0,l-u),et(n,i,3,0,c-d),a++,i+=32}function ot(e,t,n,i){var o=e[t+0]+4,r=35468*e[t+4]>>16,a=nt(e[t+4]),s=35468*e[t+1]>>16;tt(n,i,0,o+a,e=nt(e[t+1]),s),tt(n,i,1,o+r,e,s),tt(n,i,2,o-r,e,s),tt(n,i,3,o-a,e,s)}function rt(e,t,n,i,o){it(e,t,n,i),o&&it(e,t+16,n,i+4)}function at(e,t,n,i){ai(e,t+0,n,i,1),ai(e,t+32,n,i+128,1)}function st(e,t,n,i){var o;for(e=e[t+0]+4,o=0;4>o;++o)for(t=0;4>t;++t)et(n,i,t,o,e)}function ct(e,t,n,i){e[t+0]&&li(e,t+0,n,i),e[t+16]&&li(e,t+16,n,i+4),e[t+32]&&li(e,t+32,n,i+128),e[t+48]&&li(e,t+48,n,i+128+4)}function lt(e,t,n,i){var o,a=r(16);for(o=0;4>o;++o){var s=e[t+0+o]+e[t+12+o],c=e[t+4+o]+e[t+8+o],l=e[t+4+o]-e[t+8+o],u=e[t+0+o]-e[t+12+o];a[0+o]=s+c,a[8+o]=s-c,a[4+o]=u+l,a[12+o]=u-l}for(o=0;4>o;++o)s=(e=a[0+4*o]+3)+a[3+4*o],c=a[1+4*o]+a[2+4*o],l=a[1+4*o]-a[2+4*o],u=e-a[3+4*o],n[i+0]=s+c>>3,n[i+16]=u+l>>3,n[i+32]=s-c>>3,n[i+48]=u-l>>3,i+=64}function ut(e,t,n){var i,o=t-32,r=Mi,a=255-e[o-1];for(i=0;i<n;++i){var s,c=r,l=a+e[t-1];for(s=0;s<n;++s)e[t+s]=c[l+e[o+s]];t+=32}}function dt(e,t){ut(e,t,4)}function pt(e,t){ut(e,t,8)}function ht(e,t){ut(e,t,16)}function ft(e,t){var n;for(n=0;16>n;++n)i(e,t+32*n,e,t-32,16)}function _t(e,t){var n;for(n=16;0<n;--n)o(e,t,e[t-1],16),t+=32}function mt(e,t,n){var i;for(i=0;16>i;++i)o(t,n+32*i,e,16)}function vt(e,t){var n,i=16;for(n=0;16>n;++n)i+=e[t-1+32*n]+e[t+n-32];mt(i>>5,e,t)}function gt(e,t){var n,i=8;for(n=0;16>n;++n)i+=e[t-1+32*n];mt(i>>4,e,t)}function bt(e,t){var n,i=8;for(n=0;16>n;++n)i+=e[t+n-32];mt(i>>4,e,t)}function yt(e,t){mt(128,e,t)}function wt(e,t,n){return e+2*t+n+2>>2}function xt(e,t){var n,o=t-32;for(o=new Uint8Array([wt(e[o-1],e[o+0],e[o+1]),wt(e[o+0],e[o+1],e[o+2]),wt(e[o+1],e[o+2],e[o+3]),wt(e[o+2],e[o+3],e[o+4])]),n=0;4>n;++n)i(e,t+32*n,o,0,o.length)}function St(e,t){var n=e[t-1],i=e[t-1+32],o=e[t-1+64],r=e[t-1+96];L(e,t+0,16843009*wt(e[t-1-32],n,i)),L(e,t+32,16843009*wt(n,i,o)),L(e,t+64,16843009*wt(i,o,r)),L(e,t+96,16843009*wt(o,r,r))}function kt(e,t){var n,i=4;for(n=0;4>n;++n)i+=e[t+n-32]+e[t-1+32*n];for(i>>=3,n=0;4>n;++n)o(e,t+32*n,i,4)}function $t(e,t){var n=e[t-1+0],i=e[t-1+32],o=e[t-1+64],r=e[t-1-32],a=e[t+0-32],s=e[t+1-32],c=e[t+2-32],l=e[t+3-32];e[t+0+96]=wt(i,o,e[t-1+96]),e[t+1+96]=e[t+0+64]=wt(n,i,o),e[t+2+96]=e[t+1+64]=e[t+0+32]=wt(r,n,i),e[t+3+96]=e[t+2+64]=e[t+1+32]=e[t+0+0]=wt(a,r,n),e[t+3+64]=e[t+2+32]=e[t+1+0]=wt(s,a,r),e[t+3+32]=e[t+2+0]=wt(c,s,a),e[t+3+0]=wt(l,c,s)}function jt(e,t){var n=e[t+1-32],i=e[t+2-32],o=e[t+3-32],r=e[t+4-32],a=e[t+5-32],s=e[t+6-32],c=e[t+7-32];e[t+0+0]=wt(e[t+0-32],n,i),e[t+1+0]=e[t+0+32]=wt(n,i,o),e[t+2+0]=e[t+1+32]=e[t+0+64]=wt(i,o,r),e[t+3+0]=e[t+2+32]=e[t+1+64]=e[t+0+96]=wt(o,r,a),e[t+3+32]=e[t+2+64]=e[t+1+96]=wt(r,a,s),e[t+3+64]=e[t+2+96]=wt(a,s,c),e[t+3+96]=wt(s,c,c)}function Ot(e,t){var n=e[t-1+0],i=e[t-1+32],o=e[t-1+64],r=e[t-1-32],a=e[t+0-32],s=e[t+1-32],c=e[t+2-32],l=e[t+3-32];e[t+0+0]=e[t+1+64]=r+a+1>>1,e[t+1+0]=e[t+2+64]=a+s+1>>1,e[t+2+0]=e[t+3+64]=s+c+1>>1,e[t+3+0]=c+l+1>>1,e[t+0+96]=wt(o,i,n),e[t+0+64]=wt(i,n,r),e[t+0+32]=e[t+1+96]=wt(n,r,a),e[t+1+32]=e[t+2+96]=wt(r,a,s),e[t+2+32]=e[t+3+96]=wt(a,s,c),e[t+3+32]=wt(s,c,l)}function At(e,t){var n=e[t+0-32],i=e[t+1-32],o=e[t+2-32],r=e[t+3-32],a=e[t+4-32],s=e[t+5-32],c=e[t+6-32],l=e[t+7-32];e[t+0+0]=n+i+1>>1,e[t+1+0]=e[t+0+64]=i+o+1>>1,e[t+2+0]=e[t+1+64]=o+r+1>>1,e[t+3+0]=e[t+2+64]=r+a+1>>1,e[t+0+32]=wt(n,i,o),e[t+1+32]=e[t+0+96]=wt(i,o,r),e[t+2+32]=e[t+1+96]=wt(o,r,a),e[t+3+32]=e[t+2+96]=wt(r,a,s),e[t+3+64]=wt(a,s,c),e[t+3+96]=wt(s,c,l)}function Lt(e,t){var n=e[t-1+0],i=e[t-1+32],o=e[t-1+64],r=e[t-1+96];e[t+0+0]=n+i+1>>1,e[t+2+0]=e[t+0+32]=i+o+1>>1,e[t+2+32]=e[t+0+64]=o+r+1>>1,e[t+1+0]=wt(n,i,o),e[t+3+0]=e[t+1+32]=wt(i,o,r),e[t+3+32]=e[t+1+64]=wt(o,r,r),e[t+3+64]=e[t+2+64]=e[t+0+96]=e[t+1+96]=e[t+2+96]=e[t+3+96]=r}function Pt(e,t){var n=e[t-1+0],i=e[t-1+32],o=e[t-1+64],r=e[t-1+96],a=e[t-1-32],s=e[t+0-32],c=e[t+1-32],l=e[t+2-32];e[t+0+0]=e[t+2+32]=n+a+1>>1,e[t+0+32]=e[t+2+64]=i+n+1>>1,e[t+0+64]=e[t+2+96]=o+i+1>>1,e[t+0+96]=r+o+1>>1,e[t+3+0]=wt(s,c,l),e[t+2+0]=wt(a,s,c),e[t+1+0]=e[t+3+32]=wt(n,a,s),e[t+1+32]=e[t+3+64]=wt(i,n,a),e[t+1+64]=e[t+3+96]=wt(o,i,n),e[t+1+96]=wt(r,o,i)}function Dt(e,t){var n;for(n=0;8>n;++n)i(e,t+32*n,e,t-32,8)}function Nt(e,t){var n;for(n=0;8>n;++n)o(e,t,e[t-1],8),t+=32}function Ct(e,t,n){var i;for(i=0;8>i;++i)o(t,n+32*i,e,8)}function Mt(e,t){var n,i=8;for(n=0;8>n;++n)i+=e[t+n-32]+e[t-1+32*n];Ct(i>>4,e,t)}function It(e,t){var n,i=4;for(n=0;8>n;++n)i+=e[t+n-32];Ct(i>>3,e,t)}function Et(e,t){var n,i=4;for(n=0;8>n;++n)i+=e[t-1+32*n];Ct(i>>3,e,t)}function Bt(e,t){Ct(128,e,t)}function Ft(e,t,n){var i=e[t-n],o=e[t+0],r=3*(o-i)+Ni[1020+e[t-2*n]-e[t+n]],a=Ci[112+(r+4>>3)];e[t-n]=Mi[255+i+Ci[112+(r+3>>3)]],e[t+0]=Mi[255+o-a]}function Rt(e,t,n,i){var o=e[t+0],r=e[t+n];return Ii[255+e[t-2*n]-e[t-n]]>i||Ii[255+r-o]>i}function Tt(e,t,n,i){return 4*Ii[255+e[t-n]-e[t+0]]+Ii[255+e[t-2*n]-e[t+n]]<=i}function qt(e,t,n,i,o){var r=e[t-3*n],a=e[t-2*n],s=e[t-n],c=e[t+0],l=e[t+n],u=e[t+2*n],d=e[t+3*n];return 4*Ii[255+s-c]+Ii[255+a-l]>i?0:Ii[255+e[t-4*n]-r]<=o&&Ii[255+r-a]<=o&&Ii[255+a-s]<=o&&Ii[255+d-u]<=o&&Ii[255+u-l]<=o&&Ii[255+l-c]<=o}function Ut(e,t,n,i){var o=2*i+1;for(i=0;16>i;++i)Tt(e,t+i,n,o)&&Ft(e,t+i,n)}function zt(e,t,n,i){var o=2*i+1;for(i=0;16>i;++i)Tt(e,t+i*n,1,o)&&Ft(e,t+i*n,1)}function Wt(e,t,n,i){var o;for(o=3;0<o;--o)Ut(e,t+=4*n,n,i)}function Ht(e,t,n,i){var o;for(o=3;0<o;--o)zt(e,t+=4,n,i)}function Kt(e,t,n,i,o,r,a,s){for(r=2*r+1;0<o--;){if(qt(e,t,n,r,a))if(Rt(e,t,n,s))Ft(e,t,n);else{var c=e,l=t,u=n,d=c[l-2*u],p=c[l-u],h=c[l+0],f=c[l+u],_=c[l+2*u],m=27*(g=Ni[1020+3*(h-p)+Ni[1020+d-f]])+63>>7,v=18*g+63>>7,g=9*g+63>>7;c[l-3*u]=Mi[255+c[l-3*u]+g],c[l-2*u]=Mi[255+d+v],c[l-u]=Mi[255+p+m],c[l+0]=Mi[255+h-m],c[l+u]=Mi[255+f-v],c[l+2*u]=Mi[255+_-g]}t+=i}}function Vt(e,t,n,i,o,r,a,s){for(r=2*r+1;0<o--;){if(qt(e,t,n,r,a))if(Rt(e,t,n,s))Ft(e,t,n);else{var c=e,l=t,u=n,d=c[l-u],p=c[l+0],h=c[l+u],f=Ci[112+(4+(_=3*(p-d))>>3)],_=Ci[112+(_+3>>3)],m=f+1>>1;c[l-2*u]=Mi[255+c[l-2*u]+m],c[l-u]=Mi[255+d+_],c[l+0]=Mi[255+p-f],c[l+u]=Mi[255+h-m]}t+=i}}function Gt(e,t,n,i,o,r){Kt(e,t,n,1,16,i,o,r)}function Jt(e,t,n,i,o,r){Kt(e,t,1,n,16,i,o,r)}function Yt(e,t,n,i,o,r){var a;for(a=3;0<a;--a)Vt(e,t+=4*n,n,1,16,i,o,r)}function Xt(e,t,n,i,o,r){var a;for(a=3;0<a;--a)Vt(e,t+=4,1,n,16,i,o,r)}function Qt(e,t,n,i,o,r,a,s){Kt(e,t,o,1,8,r,a,s),Kt(n,i,o,1,8,r,a,s)}function Zt(e,t,n,i,o,r,a,s){Kt(e,t,1,o,8,r,a,s),Kt(n,i,1,o,8,r,a,s)}function en(e,t,n,i,o,r,a,s){Vt(e,t+4*o,o,1,8,r,a,s),Vt(n,i+4*o,o,1,8,r,a,s)}function tn(e,t,n,i,o,r,a,s){Vt(e,t+4,1,o,8,r,a,s),Vt(n,i+4,1,o,8,r,a,s)}function nn(){this.ba=new ae,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new ce,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function on(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function rn(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function an(){this.ua=0,this.Wa=new I,this.vb=new I,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new h,this.yc=new d}function sn(){this.xb=this.a=0,this.l=new Ke,this.ca=new ae,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new w,this.Pb=0,this.wd=new w,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new an,this.ab=0,this.gc=a(4,rn),this.Oc=0}function cn(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ke,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ln(e,t,n,i,o,r,a){for(e=null==e?0:e[t+0],t=0;t<a;++t)o[r+t]=e+n[i+t]&255,e=o[r+t]}function un(e,t,n,i,o,r,a){var s;if(null==e)ln(null,null,n,i,o,r,a);else for(s=0;s<a;++s)o[r+s]=e[t+s]+n[i+s]&255}function dn(e,t,n,i,o,r,a){if(null==e)ln(null,null,n,i,o,r,a);else{var s,c=e[t+0],l=c,u=c;for(s=0;s<a;++s)l=u+(c=e[t+s])-l,u=n[i+s]+(-256&l?0>l?0:255:l)&255,l=c,o[r+s]=u}}function pn(e,n,o,a){var s=n.width,c=n.o;if(t(null!=e&&null!=n),0>o||0>=a||o+a>c)return null;if(!e.Cc){if(null==e.ga){var l;if(e.ga=new cn,(l=null==e.ga)||(l=n.width*n.o,t(0==e.Gb.length),e.Gb=r(l),e.Uc=0,null==e.Gb?l=0:(e.mb=e.Gb,e.nb=e.Uc,e.rc=null,l=1),l=!l),!l){l=e.ga;var u=e.Fa,d=e.P,p=e.qc,h=e.mb,f=e.nb,_=d+1,m=p-1,g=l.l;if(t(null!=u&&null!=h&&null!=n),vo[0]=null,vo[1]=ln,vo[2]=un,vo[3]=dn,l.ca=h,l.tb=f,l.c=n.width,l.i=n.height,t(0<l.c&&0<l.i),1>=p)n=0;else if(l.$a=u[d+0]>>0&3,l.Z=u[d+0]>>2&3,l.Lc=u[d+0]>>4&3,d=u[d+0]>>6&3,0>l.$a||1<l.$a||4<=l.Z||1<l.Lc||d)n=0;else if(g.put=he,g.ac=pe,g.bc=fe,g.ma=l,g.width=n.width,g.height=n.height,g.Da=n.Da,g.v=n.v,g.va=n.va,g.j=n.j,g.o=n.o,l.$a)e:{t(1==l.$a),n=Ae();t:for(;;){if(null==n){n=0;break e}if(t(null!=l),l.mc=n,n.c=l.c,n.i=l.i,n.l=l.l,n.l.ma=l,n.l.width=l.c,n.l.height=l.i,n.a=0,v(n.m,u,_,m),!Le(l.c,l.i,1,n,null))break t;if(1==n.ab&&3==n.gc[0].hc&&Se(n.s)?(l.ic=1,u=n.c*n.i,n.Ta=null,n.Ua=0,n.V=r(u),n.Ba=0,null==n.V?(n.a=1,n=0):n=1):(l.ic=0,n=Pe(n,l.c)),!n)break t;n=1;break e}l.mc=null,n=0}else n=m>=l.c*l.i;l=!n}if(l)return null;1!=e.ga.Lc?e.Ga=0:a=c-o}t(null!=e.ga),t(o+a<=c);e:{if(n=(u=e.ga).c,c=u.l.o,0==u.$a){if(_=e.rc,m=e.Vc,g=e.Fa,d=e.P+1+o*n,p=e.mb,h=e.nb+o*n,t(d<=e.P+e.qc),0!=u.Z)for(t(null!=vo[u.Z]),l=0;l<a;++l)vo[u.Z](_,m,g,d,p,h,n),_=p,m=h,h+=n,d+=n;else for(l=0;l<a;++l)i(p,h,g,d,n),_=p,m=h,h+=n,d+=n;e.rc=_,e.Vc=m}else{if(t(null!=u.mc),n=o+a,t(null!=(l=u.mc)),t(n<=l.i),l.C>=n)n=1;else if(u.ic||vn(),u.ic){u=l.V,_=l.Ba,m=l.c;var b=l.i,y=(g=1,d=l.$/m,p=l.$%m,h=l.m,f=l.s,l.$),w=m*b,x=m*n,k=f.wc,j=y<x?ye(f,p,d):null;t(y<=w),t(n<=b),t(Se(f));t:for(;;){for(;!h.h&&y<x;){if(p&k||(j=ye(f,p,d)),t(null!=j),$(h),256>(b=ge(j.G[0],j.H[0],h)))u[_+y]=b,++y,++p>=m&&(p=0,++d<=n&&!(d%16)&&$e(l,d));else{if(!(280>b)){g=0;break t}b=me(b-256,h);var O,A=ge(j.G[4],j.H[4],h);if($(h),!(y>=(A=ve(m,A=me(A,h)))&&w-y>=b)){g=0;break t}for(O=0;O<b;++O)u[_+y+O]=u[_+y+O-A];for(y+=b,p+=b;p>=m;)p-=m,++d<=n&&!(d%16)&&$e(l,d);y<x&&p&k&&(j=ye(f,p,d))}t(h.h==S(h))}$e(l,d>n?n:d);break t}!g||h.h&&y<w?(g=0,l.a=h.h?5:3):l.$=y,n=g}else n=je(l,l.V,l.Ba,l.c,l.i,n,De);if(!n){a=0;break e}}o+a>=c&&(e.Cc=1),a=1}if(!a)return null;if(e.Cc&&(null!=(a=e.ga)&&(a.mc=null),e.ga=null,0<e.Ga))return alert("todo:WebPDequantizeLevels"),null}return e.nb+o*s}function hn(e,t,n,i,o,r){for(;0<o--;){var a,s=e,c=t+(n?1:0),l=e,u=t+(n?0:3);for(a=0;a<i;++a){var d=l[u+4*a];255!=d&&(d*=32897,s[c+4*a+0]=s[c+4*a+0]*d>>23,s[c+4*a+1]=s[c+4*a+1]*d>>23,s[c+4*a+2]=s[c+4*a+2]*d>>23)}t+=r}}function fn(e,t,n,i,o){for(;0<i--;){var r;for(r=0;r<n;++r){var a=e[t+2*r+0],s=15&(l=e[t+2*r+1]),c=4369*s,l=(240&l|l>>4)*c>>16;e[t+2*r+0]=(240&a|a>>4)*c>>16&240|(15&a|a<<4)*c>>16>>4&15,e[t+2*r+1]=240&l|s}t+=o}}function _n(e,t,n,i,o,r,a,s){var c,l,u=255;for(l=0;l<o;++l){for(c=0;c<i;++c){var d=e[t+c];r[a+4*c]=d,u&=d}t+=n,a+=s}return 255!=u}function mn(e,t,n,i,o){var r;for(r=0;r<o;++r)n[i+r]=e[t+r]>>8}function vn(){Si=hn,ki=fn,$i=_n,ji=mn}function gn(n,i,o){e[n]=function(e,n,r,a,s,c,l,u,d,p,h,f,_,m,v,g,b){var y,w=b-1>>1,x=s[c+0]|l[u+0]<<16,S=d[p+0]|h[f+0]<<16;t(null!=e);var k=3*x+S+131074>>2;for(i(e[n+0],255&k,k>>16,_,m),null!=r&&(k=3*S+x+131074>>2,i(r[a+0],255&k,k>>16,v,g)),y=1;y<=w;++y){var $=s[c+y]|l[u+y]<<16,j=d[p+y]|h[f+y]<<16,O=x+$+S+j+524296,A=O+2*($+S)>>3;k=A+x>>1,x=(O=O+2*(x+j)>>3)+$>>1,i(e[n+2*y-1],255&k,k>>16,_,m+(2*y-1)*o),i(e[n+2*y-0],255&x,x>>16,_,m+(2*y-0)*o),null!=r&&(k=O+S>>1,x=A+j>>1,i(r[a+2*y-1],255&k,k>>16,v,g+(2*y-1)*o),i(r[a+2*y+0],255&x,x>>16,v,g+(2*y+0)*o)),x=$,S=j}1&b||(k=3*x+S+131074>>2,i(e[n+b-1],255&k,k>>16,_,m+(b-1)*o),null!=r&&(k=3*S+x+131074>>2,i(r[a+b-1],255&k,k>>16,v,g+(b-1)*o)))}}function bn(){go[Ei]=bo,go[Bi]=wo,go[Fi]=yo,go[Ri]=xo,go[Ti]=So,go[qi]=ko,go[Ui]=$o,go[zi]=wo,go[Wi]=xo,go[Hi]=So,go[Ki]=ko}function yn(e){return e&~Do?0>e?0:255:e>>Po}function wn(e,t){return yn((19077*e>>8)+(26149*t>>8)-14234)}function xn(e,t,n){return yn((19077*e>>8)-(6419*t>>8)-(13320*n>>8)+8708)}function Sn(e,t){return yn((19077*e>>8)+(33050*t>>8)-17685)}function kn(e,t,n,i,o){i[o+0]=wn(e,n),i[o+1]=xn(e,t,n),i[o+2]=Sn(e,t)}function $n(e,t,n,i,o){i[o+0]=Sn(e,t),i[o+1]=xn(e,t,n),i[o+2]=wn(e,n)}function jn(e,t,n,i,o){var r=xn(e,t,n);t=r<<3&224|Sn(e,t)>>3,i[o+0]=248&wn(e,n)|r>>5,i[o+1]=t}function On(e,t,n,i,o){var r=240&Sn(e,t)|15;i[o+0]=240&wn(e,n)|xn(e,t,n)>>4,i[o+1]=r}function An(e,t,n,i,o){i[o+0]=255,kn(e,t,n,i,o+1)}function Ln(e,t,n,i,o){$n(e,t,n,i,o),i[o+3]=255}function Pn(e,t,n,i,o){kn(e,t,n,i,o),i[o+3]=255}function He(e,t){return 0>e?0:e>t?t:e}function Dn(t,n,i){e[t]=function(e,t,o,r,a,s,c,l,u){for(var d=l+(-2&u)*i;l!=d;)n(e[t+0],o[r+0],a[s+0],c,l),n(e[t+1],o[r+0],a[s+0],c,l+i),t+=2,++r,++s,l+=2*i;1&u&&n(e[t+0],o[r+0],a[s+0],c,l)}}function Nn(e,t,n){return 0==n?0==e?0==t?6:5:0==t?4:0:n}function Cn(e,t,n,i,o){switch(e>>>30){case 3:ai(t,n,i,o,0);break;case 2:si(t,n,i,o);break;case 1:li(t,n,i,o)}}function Mn(e,t){var n,r,a=t.M,s=t.Nb,c=e.oc,l=e.pc+40,u=e.oc,d=e.pc+584,p=e.oc,h=e.pc+600;for(n=0;16>n;++n)c[l+32*n-1]=129;for(n=0;8>n;++n)u[d+32*n-1]=129,p[h+32*n-1]=129;for(0<a?c[l-1-32]=u[d-1-32]=p[h-1-32]=129:(o(c,l-32-1,127,21),o(u,d-32-1,127,9),o(p,h-32-1,127,9)),r=0;r<e.za;++r){var f=t.ya[t.aa+r];if(0<r){for(n=-1;16>n;++n)i(c,l+32*n-4,c,l+32*n+12,4);for(n=-1;8>n;++n)i(u,d+32*n-4,u,d+32*n+4,4),i(p,h+32*n-4,p,h+32*n+4,4)}var _=e.Gd,m=e.Hd+r,v=f.ad,g=f.Hc;if(0<a&&(i(c,l-32,_[m].y,0,16),i(u,d-32,_[m].f,0,8),i(p,h-32,_[m].ea,0,8)),f.Za){var b=c,y=l-32+16;for(0<a&&(r>=e.za-1?o(b,y,_[m].y[15],4):i(b,y,_[m+1].y,0,4)),n=0;4>n;n++)b[y+128+n]=b[y+256+n]=b[y+384+n]=b[y+0+n];for(n=0;16>n;++n,g<<=2)b=c,y=l+Ro[n],ho[f.Ob[n]](b,y),Cn(g,v,16*+n,b,y)}else if(b=Nn(r,a,f.Ob[0]),po[b](c,l),0!=g)for(n=0;16>n;++n,g<<=2)Cn(g,v,16*+n,c,l+Ro[n]);for(n=f.Gc,b=Nn(r,a,f.Dd),fo[b](u,d),fo[b](p,h),g=v,b=u,y=d,255&(f=n>>0)&&(170&f?ci(g,256,b,y):ui(g,256,b,y)),f=p,g=h,255&(n>>=8)&&(170&n?ci(v,320,f,g):ui(v,320,f,g)),a<e.Ub-1&&(i(_[m].y,0,c,l+480,16),i(_[m].f,0,u,d+224,8),i(_[m].ea,0,p,h+224,8)),n=8*s*e.B,_=e.sa,m=e.ta+16*r+16*s*e.R,v=e.qa,f=e.ra+8*r+n,g=e.Ha,b=e.Ia+8*r+n,n=0;16>n;++n)i(_,m+n*e.R,c,l+32*n,16);for(n=0;8>n;++n)i(v,f+n*e.B,u,d+32*n,8),i(g,b+n*e.B,p,h+32*n,8)}}function In(e,i,o,r,a,s,c,l,u){var d=[0],p=[0],h=0,f=null!=u?u.kd:0,_=null!=u?u:new on;if(null==e||12>o)return 7;_.data=e,_.w=i,_.ha=o,i=[i],o=[o],_.gb=[_.gb];e:{var m=i,g=o,b=_.gb;if(t(null!=e),t(null!=g),t(null!=b),b[0]=0,12<=g[0]&&!n(e,m[0],"RIFF")){if(n(e,m[0]+8,"WEBP")){b=3;break e}var y=N(e,m[0]+4);if(12>y||4294967286<y){b=3;break e}if(f&&y>g[0]-8){b=7;break e}b[0]=y,m[0]+=12,g[0]-=12}b=0}if(0!=b)return b;for(y=0<_.gb[0],o=o[0];;){e:{var x=e;g=i,b=o;var S=d,k=p,$=m=[0];if((A=h=[h])[0]=0,8>b[0])b=7;else{if(!n(x,g[0],"VP8X")){if(10!=N(x,g[0]+4)){b=3;break e}if(18>b[0]){b=7;break e}var j=N(x,g[0]+8),O=1+D(x,g[0]+12);if(2147483648<=O*(x=1+D(x,g[0]+15))){b=3;break e}null!=$&&($[0]=j),null!=S&&(S[0]=O),null!=k&&(k[0]=x),g[0]+=18,b[0]-=18,A[0]=1}b=0}}if(h=h[0],m=m[0],0!=b)return b;if(g=!!(2&m),!y&&h)return 3;if(null!=s&&(s[0]=!!(16&m)),null!=c&&(c[0]=g),null!=l&&(l[0]=0),c=d[0],m=p[0],h&&g&&null==u){b=0;break}if(4>o){b=7;break}if(y&&h||!y&&!h&&!n(e,i[0],"ALPH")){o=[o],_.na=[_.na],_.P=[_.P],_.Sa=[_.Sa];e:{j=e,b=i,y=o;var A=_.gb;S=_.na,k=_.P,$=_.Sa,O=22,t(null!=j),t(null!=y),x=b[0];var L=y[0];for(t(null!=S),t(null!=$),S[0]=null,k[0]=null,$[0]=0;;){if(b[0]=x,y[0]=L,8>L){b=7;break e}var P=N(j,x+4);if(4294967286<P){b=3;break e}var C=8+P+1&-2;if(O+=C,0<A&&O>A){b=3;break e}if(!n(j,x,"VP8 ")||!n(j,x,"VP8L")){b=0;break e}if(L[0]<C){b=7;break e}n(j,x,"ALPH")||(S[0]=j,k[0]=x+8,$[0]=P),x+=C,L-=C}}if(o=o[0],_.na=_.na[0],_.P=_.P[0],_.Sa=_.Sa[0],0!=b)break}o=[o],_.Ja=[_.Ja],_.xa=[_.xa];e:if(A=e,b=i,y=o,S=_.gb[0],k=_.Ja,$=_.xa,j=b[0],x=!n(A,j,"VP8 "),O=!n(A,j,"VP8L"),t(null!=A),t(null!=y),t(null!=k),t(null!=$),8>y[0])b=7;else{if(x||O){if(A=N(A,j+4),12<=S&&A>S-12){b=3;break e}if(f&&A>y[0]-8){b=7;break e}k[0]=A,b[0]+=8,y[0]-=8,$[0]=O}else $[0]=5<=y[0]&&47==A[j+0]&&!(A[j+4]>>5),k[0]=y[0];b=0}if(o=o[0],_.Ja=_.Ja[0],_.xa=_.xa[0],i=i[0],0!=b)break;if(4294967286<_.Ja)return 3;if(null==l||g||(l[0]=_.xa?2:1),c=[c],m=[m],_.xa){if(5>o){b=7;break}l=c,f=m,g=s,null==e||5>o?e=0:5<=o&&47==e[i+0]&&!(e[i+4]>>5)?(y=[0],A=[0],S=[0],v(k=new w,e,i,o),_e(k,y,A,S)?(null!=l&&(l[0]=y[0]),null!=f&&(f[0]=A[0]),null!=g&&(g[0]=S[0]),e=1):e=0):e=0}else{if(10>o){b=7;break}l=m,null==e||10>o||!Je(e,i+3,o-3)?e=0:(f=e[i+0]|e[i+1]<<8|e[i+2]<<16,g=16383&(e[i+7]<<8|e[i+6]),e=16383&(e[i+9]<<8|e[i+8]),1&f||3<(f>>1&7)||!(f>>4&1)||f>>5>=_.Ja||!g||!e?e=0:(c&&(c[0]=g),l&&(l[0]=e),e=1))}if(!e)return 3;if(c=c[0],m=m[0],h&&(d[0]!=c||p[0]!=m))return 3;null!=u&&(u[0]=_,u.offset=i-u.w,t(4294967286>i-u.w),t(u.offset==u.ha-o));break}return 0==b||7==b&&h&&null==u?(null!=s&&(s[0]|=null!=_.na&&0<_.na.length),null!=r&&(r[0]=c),null!=a&&(a[0]=m),0):b}function En(e,t,n){var i=t.width,o=t.height,r=0,a=0,s=i,c=o;if(t.Da=null!=e&&0<e.Da,t.Da&&(s=e.cd,c=e.bd,r=e.v,a=e.j,11>n||(r&=-2,a&=-2),0>r||0>a||0>=s||0>=c||r+s>i||a+c>o))return 0;if(t.v=r,t.j=a,t.va=r+s,t.o=a+c,t.U=s,t.T=c,t.da=null!=e&&0<e.da,t.da){if(!E(s,c,n=[e.ib],r=[e.hb]))return 0;t.ib=n[0],t.hb=r[0]}return t.ob=null!=e&&e.ob,t.Kb=null==e||!e.Sd,t.da&&(t.ob=t.ib<3*i/4&&t.hb<3*o/4,t.Kb=0),1}function Bn(e){if(null==e)return 2;if(11>e.S){var t=e.f.RGBA;t.fb+=(e.height-1)*t.A,t.A=-t.A}else t=e.f.kb,e=e.height,t.O+=(e-1)*t.fa,t.fa=-t.fa,t.N+=(e-1>>1)*t.Ab,t.Ab=-t.Ab,t.W+=(e-1>>1)*t.Db,t.Db=-t.Db,null!=t.F&&(t.J+=(e-1)*t.lb,t.lb=-t.lb);return 0}function Fn(e,t,n,i){if(null==i||0>=e||0>=t)return 2;if(null!=n){if(n.Da){var o=n.cd,a=n.bd,s=-2&n.v,c=-2&n.j;if(0>s||0>c||0>=o||0>=a||s+o>e||c+a>t)return 2;e=o,t=a}if(n.da){if(!E(e,t,o=[n.ib],a=[n.hb]))return 2;e=o[0],t=a[0]}}i.width=e,i.height=t;e:{var l=i.width,u=i.height;if(e=i.S,0>=l||0>=u||!(e>=Ei&&13>e))e=2;else{if(0>=i.Rd&&null==i.sd){s=a=o=t=0;var d=(c=l*zo[e])*u;if(11>e||(a=(u+1)/2*(t=(l+1)/2),12==e&&(s=(o=l)*u)),null==(u=r(d+2*a+s))){e=1;break e}i.sd=u,11>e?((l=i.f.RGBA).eb=u,l.fb=0,l.A=c,l.size=d):((l=i.f.kb).y=u,l.O=0,l.fa=c,l.Fd=d,l.f=u,l.N=0+d,l.Ab=t,l.Cd=a,l.ea=u,l.W=0+d+a,l.Db=t,l.Ed=a,12==e&&(l.F=u,l.J=0+d+2*a),l.Tc=s,l.lb=o)}if(t=1,o=i.S,a=i.width,s=i.height,o>=Ei&&13>o)if(11>o)e=i.f.RGBA,t&=(c=Math.abs(e.A))*(s-1)+a<=e.size,t&=c>=a*zo[o],t&=null!=e.eb;else{e=i.f.kb,c=(a+1)/2,d=(s+1)/2,l=Math.abs(e.fa),u=Math.abs(e.Ab);var p=Math.abs(e.Db),h=Math.abs(e.lb),f=h*(s-1)+a;t&=l*(s-1)+a<=e.Fd,t&=u*(d-1)+c<=e.Cd,t=(t&=p*(d-1)+c<=e.Ed)&l>=a&u>=c&p>=c,t&=null!=e.y,t&=null!=e.f,t&=null!=e.ea,12==o&&(t&=h>=a,t&=f<=e.Tc,t&=null!=e.F)}else t=0;e=t?0:2}}return 0!=e||null!=n&&n.fd&&(e=Bn(i)),e}var Rn=64,Tn=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],qn=24,Un=32,zn=8,Wn=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];R("Predictor0","PredictorAdd0"),e.Predictor0=function(){return 4278190080},e.Predictor1=function(e){return e},e.Predictor2=function(e,t,n){return t[n+0]},e.Predictor3=function(e,t,n){return t[n+1]},e.Predictor4=function(e,t,n){return t[n-1]},e.Predictor5=function(e,t,n){return q(q(e,t[n+1]),t[n+0])},e.Predictor6=function(e,t,n){return q(e,t[n-1])},e.Predictor7=function(e,t,n){return q(e,t[n+0])},e.Predictor8=function(e,t,n){return q(t[n-1],t[n+0])},e.Predictor9=function(e,t,n){return q(t[n+0],t[n+1])},e.Predictor10=function(e,t,n){return q(q(e,t[n-1]),q(t[n+0],t[n+1]))},e.Predictor11=function(e,t,n){var i=t[n+0];return 0>=W(i>>24&255,e>>24&255,(t=t[n-1])>>24&255)+W(i>>16&255,e>>16&255,t>>16&255)+W(i>>8&255,e>>8&255,t>>8&255)+W(255&i,255&e,255&t)?i:e},e.Predictor12=function(e,t,n){var i=t[n+0];return(U((e>>24&255)+(i>>24&255)-((t=t[n-1])>>24&255))<<24|U((e>>16&255)+(i>>16&255)-(t>>16&255))<<16|U((e>>8&255)+(i>>8&255)-(t>>8&255))<<8|U((255&e)+(255&i)-(255&t)))>>>0},e.Predictor13=function(e,t,n){var i=t[n-1];return(z((e=q(e,t[n+0]))>>24&255,i>>24&255)<<24|z(e>>16&255,i>>16&255)<<16|z(e>>8&255,i>>8&255)<<8|z(e>>0&255,i>>0&255))>>>0};var Hn=e.PredictorAdd0;e.PredictorAdd1=H,R("Predictor2","PredictorAdd2"),R("Predictor3","PredictorAdd3"),R("Predictor4","PredictorAdd4"),R("Predictor5","PredictorAdd5"),R("Predictor6","PredictorAdd6"),R("Predictor7","PredictorAdd7"),R("Predictor8","PredictorAdd8"),R("Predictor9","PredictorAdd9"),R("Predictor10","PredictorAdd10"),R("Predictor11","PredictorAdd11"),R("Predictor12","PredictorAdd12"),R("Predictor13","PredictorAdd13");var Kn=e.PredictorAdd2;J("ColorIndexInverseTransform","MapARGB","32b",(function(e){return e>>8&255}),(function(e){return e})),J("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",(function(e){return e}),(function(e){return e>>8&255}));var Vn,Gn=e.ColorIndexInverseTransform,Jn=e.MapARGB,Yn=e.VP8LColorIndexInverseTransformAlpha,Xn=e.MapAlpha,Qn=e.VP8LPredictorsAdd=[];Qn.length=16,(e.VP8LPredictors=[]).length=16,(e.VP8LPredictorsAdd_C=[]).length=16,(e.VP8LPredictors_C=[]).length=16;var Zn,ei,ti,ni,ii,oi,ri,ai,si,ci,li,ui,di,pi,hi,fi,_i,mi,vi,gi,bi,yi,wi,xi,Si,ki,$i,ji,Oi=r(511),Ai=r(2041),Li=r(225),Pi=r(767),Di=0,Ni=Ai,Ci=Li,Mi=Pi,Ii=Oi,Ei=0,Bi=1,Fi=2,Ri=3,Ti=4,qi=5,Ui=6,zi=7,Wi=8,Hi=9,Ki=10,Vi=[2,3,7],Gi=[3,3,11],Ji=[280,256,256,256,40],Yi=[0,1,1,1,0],Xi=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Qi=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Zi=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],eo=8,to=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],no=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],io=null,oo=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],ro=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],ao=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],so=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],co=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],lo=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],uo=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],po=[],ho=[],fo=[],_o=1,mo=2,vo=[],go=[];gn("UpsampleRgbLinePair",kn,3),gn("UpsampleBgrLinePair",$n,3),gn("UpsampleRgbaLinePair",Pn,4),gn("UpsampleBgraLinePair",Ln,4),gn("UpsampleArgbLinePair",An,4),gn("UpsampleRgba4444LinePair",On,2),gn("UpsampleRgb565LinePair",jn,2);var bo=e.UpsampleRgbLinePair,yo=e.UpsampleBgrLinePair,wo=e.UpsampleRgbaLinePair,xo=e.UpsampleBgraLinePair,So=e.UpsampleArgbLinePair,ko=e.UpsampleRgba4444LinePair,$o=e.UpsampleRgb565LinePair,jo=16,Oo=1<<jo-1,Ao=-227,Lo=482,Po=6,Do=(256<<Po)-1,No=0,Co=r(256),Mo=r(256),Io=r(256),Eo=r(256),Bo=r(Lo-Ao),Fo=r(Lo-Ao);Dn("YuvToRgbRow",kn,3),Dn("YuvToBgrRow",$n,3),Dn("YuvToRgbaRow",Pn,4),Dn("YuvToBgraRow",Ln,4),Dn("YuvToArgbRow",An,4),Dn("YuvToRgba4444Row",On,2),Dn("YuvToRgb565Row",jn,2);var Ro=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],To=[0,2,8],qo=[8,7,6,4,4,2,2,2,1,1,1,1],Uo=1;this.WebPDecodeRGBA=function(e,n,i,o,r){var a=Bi,s=new nn,c=new ae;s.ba=c,c.S=a,c.width=[c.width],c.height=[c.height];var l=c.width,u=c.height,d=new se;if(null==d||null==e)var p=2;else t(null!=d),p=In(e,n,i,d.width,d.height,d.Pd,d.Qd,d.format,null);if(0!=p?l=0:(null!=l&&(l[0]=d.width[0]),null!=u&&(u[0]=d.height[0]),l=1),l){c.width=c.width[0],c.height=c.height[0],null!=o&&(o[0]=c.width),null!=r&&(r[0]=c.height);e:{if(o=new Ke,(r=new on).data=e,r.w=n,r.ha=i,r.kd=1,n=[0],t(null!=r),(0==(e=In(r.data,r.w,r.ha,null,null,null,n,null,r))||7==e)&&n[0]&&(e=4),0==(n=e)){if(t(null!=s),o.data=r.data,o.w=r.w+r.offset,o.ha=r.ha-r.offset,o.put=he,o.ac=pe,o.bc=fe,o.ma=s,r.xa){if(null==(e=Ae())){s=1;break e}if(function(e,n){var i=[0],o=[0],r=[0];t:for(;;){if(null==e)return 0;if(null==n)return e.a=2,0;if(e.l=n,e.a=0,v(e.m,n.data,n.w,n.ha),!_e(e.m,i,o,r)){e.a=3;break t}if(e.xb=mo,n.width=i[0],n.height=o[0],!Le(i[0],o[0],1,e,null))break t;return 1}return t(0!=e.a),0}(e,o)){if(o=0==(n=Fn(o.width,o.height,s.Oa,s.ba))){t:{o=e;n:for(;;){if(null==o){o=0;break t}if(t(null!=o.s.yc),t(null!=o.s.Ya),t(0<o.s.Wb),t(null!=(i=o.l)),t(null!=(r=i.ma)),0!=o.xb){if(o.ca=r.ba,o.tb=r.tb,t(null!=o.ca),!En(r.Oa,i,Ri)){o.a=2;break n}if(!Pe(o,i.width))break n;if(i.da)break n;if((i.da||ie(o.ca.S))&&vn(),11>o.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=o.ca.f.kb.F&&vn()),o.Pb&&0<o.s.ua&&null==o.s.vb.X&&!C(o.s.vb,o.s.Wa.Xa)){o.a=1;break n}o.xb=0}if(!je(o,o.V,o.Ba,o.c,o.i,i.o,xe))break n;r.Dc=o.Ma,o=1;break t}t(0!=o.a),o=0}o=!o}o&&(n=e.a)}else n=e.a}else{if(null==(e=new Ve)){s=1;break e}if(e.Fa=r.na,e.P=r.P,e.qc=r.Sa,Ye(e,o)){if(0==(n=Fn(o.width,o.height,s.Oa,s.ba))){if(e.Aa=0,i=s.Oa,t(null!=(r=e)),null!=i){if(0<(l=0>(l=i.Md)?0:100<l?255:255*l/100)){for(u=d=0;4>u;++u)12>(p=r.pb[u]).lc&&(p.ia=l*qo[0>p.lc?0:p.lc]>>3),d|=p.ia;d&&(alert("todo:VP8InitRandom"),r.ia=1)}r.Ga=i.Id,100<r.Ga?r.Ga=100:0>r.Ga&&(r.Ga=0)}Ze(e,o)||(n=e.a)}}else n=e.a}0==n&&null!=s.Oa&&s.Oa.fd&&(n=Bn(s.ba))}s=n}a=0!=s?null:11>a?c.f.RGBA.eb:c.f.kb.y}else a=null;return a};var zo=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function l(e,t){for(var n="",i=0;i<4;i++)n+=String.fromCharCode(e[t++]);return n}function u(e,t){return(e[t+0]<<0|e[t+1]<<8|e[t+2]<<16)>>>0}function d(e,t){return(e[t+0]<<0|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}new c;var p=[0],h=[0],f=[],_=new c,m=e,v=function(e,t){var n={},i=0,o=!1,r=0,a=0;if(n.frames=[],!function(e,t,n,i){for(var o=0;o<4;o++)if(e[t+o]!="RIFF".charCodeAt(o))return!0;return!1}(e,t)){var s,c;for(d(e,t+=4),t+=8;t<e.length;){var p=l(e,t),h=d(e,t+=4);t+=4;var f=h+(1&h);switch(p){case"VP8 ":case"VP8L":void 0===n.frames[i]&&(n.frames[i]={}),(v=n.frames[i]).src_off=o?a:t-8,v.src_size=r+h+8,i++,o&&(o=!1,r=0,a=0);break;case"VP8X":(v=n.header={}).feature_flags=e[t];var _=t+4;v.canvas_width=1+u(e,_),_+=3,v.canvas_height=1+u(e,_),_+=3;break;case"ALPH":o=!0,r=f+8,a=t-8;break;case"ANIM":(v=n.header).bgcolor=d(e,t),_=t+4,v.loop_count=(s=e)[(c=_)+0]<<0|s[c+1]<<8,_+=2;break;case"ANMF":var m,v;(v=n.frames[i]={}).offset_x=2*u(e,t),t+=3,v.offset_y=2*u(e,t),t+=3,v.width=1+u(e,t),t+=3,v.height=1+u(e,t),t+=3,v.duration=u(e,t),t+=3,m=e[t++],v.dispose=1&m,v.blend=m>>1&1}"ANMF"!=p&&(t+=f)}return n}}(m,0);v.response=m,v.rgbaoutput=!0,v.dataurl=!1;var g=v.header?v.header:null,b=v.frames?v.frames:null;if(g){g.loop_counter=g.loop_count,p=[g.canvas_height],h=[g.canvas_width];for(var y=0;y<b.length&&0!=b[y].blend;y++);}var w=b[0],x=_.WebPDecodeRGBA(m,w.src_off,w.src_size,h,p);w.rgba=x,w.imgwidth=h[0],w.imgheight=p[0];for(var S=0;S<h[0]*p[0]*4;S++)f[S]=x[S];return this.width=h,this.height=p,this.data=f,this}!function(e){var t=function(t,i,l,u){var d=4,p=a;switch(u){case e.image_compression.FAST:d=1,p=o;break;case e.image_compression.MEDIUM:d=6,p=s;break;case e.image_compression.SLOW:d=9,p=c}t=n(t,i,l,p);var h=Object(r.b)(t,{level:d});return e.__addimage__.arrayBufferToBinaryString(h)},n=function(e,t,n,i){for(var o,r,a,s=e.length/t,c=new Uint8Array(e.length+s),l=u(),p=0;p<s;p+=1){if(a=p*t,o=e.subarray(a,a+t),i)c.set(i(o,n,r),a+p);else{for(var h,f=l.length,_=[];h<f;h+=1)_[h]=l[h](o,n,r);var m=d(_.concat());c.set(_[m],a+p)}r=o}return c},i=function(e){var t=Array.apply([],e);return t.unshift(0),t},o=function(e,t){var n,i=[],o=e.length;i[0]=1;for(var r=0;r<o;r+=1)n=e[r-t]||0,i[r+1]=e[r]-n+256&255;return i},a=function(e,t,n){var i,o=[],r=e.length;o[0]=2;for(var a=0;a<r;a+=1)i=n&&n[a]||0,o[a+1]=e[a]-i+256&255;return o},s=function(e,t,n){var i,o,r=[],a=e.length;r[0]=3;for(var s=0;s<a;s+=1)i=e[s-t]||0,o=n&&n[s]||0,r[s+1]=e[s]+256-(i+o>>>1)&255;return r},c=function(e,t,n){var i,o,r,a,s=[],c=e.length;s[0]=4;for(var u=0;u<c;u+=1)i=e[u-t]||0,o=n&&n[u]||0,r=n&&n[u-t]||0,a=l(i,o,r),s[u+1]=e[u]-a+256&255;return s},l=function(e,t,n){if(e===t&&t===n)return e;var i=Math.abs(t-n),o=Math.abs(e-n),r=Math.abs(e+t-n-n);return i<=o&&i<=r?e:o<=r?t:n},u=function(){return[i,o,a,s,c]},d=function(e){var t=e.map((function(e){return e.reduce((function(e,t){return e+Math.abs(t)}),0)}));return t.indexOf(Math.min.apply(null,t))};e.processPNG=function(n,i,o,a){var s,c,l,u,d,p,h,f,_,m,v,g,b,y,w,x=this.decode.FLATE_DECODE,S="";if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){if(n=(l=new Qe(n)).imgData,c=l.bits,s=l.colorSpace,d=l.colors,-1!==[4,6].indexOf(l.colorType)){if(8===l.bits){_=(f=32==l.pixelBitlength?new Uint32Array(l.decodePixels().buffer):16==l.pixelBitlength?new Uint16Array(l.decodePixels().buffer):new Uint8Array(l.decodePixels().buffer)).length,v=new Uint8Array(_*l.colors),m=new Uint8Array(_);var k,$=l.pixelBitlength-l.bits;for(y=0,w=0;y<_;y++){for(b=f[y],k=0;k<$;)v[w++]=b>>>k&255,k+=l.bits;m[y]=b>>>k&255}}if(16===l.bits){_=(f=new Uint32Array(l.decodePixels().buffer)).length,v=new Uint8Array(_*(32/l.pixelBitlength)*l.colors),m=new Uint8Array(_*(32/l.pixelBitlength)),g=l.colors>1,y=0,w=0;for(var j=0;y<_;)b=f[y++],v[w++]=b>>>0&255,g&&(v[w++]=b>>>16&255,b=f[y++],v[w++]=b>>>0&255),m[j++]=b>>>16&255;c=8}a!==e.image_compression.NONE&&"function"==typeof r.b?(n=t(v,l.width*l.colors,l.colors,a),h=t(m,l.width,1,a)):(n=v,h=m,x=void 0)}if(3===l.colorType&&(s=this.color_spaces.INDEXED,p=l.palette,l.transparency.indexed)){var O=l.transparency.indexed,A=0;for(y=0,_=O.length;y<_;++y)A+=O[y];if((A/=255)==_-1&&-1!==O.indexOf(0))u=[O.indexOf(0)];else if(A!==_){for(f=l.decodePixels(),m=new Uint8Array(f.length),y=0,_=f.length;y<_;y++)m[y]=O[f[y]];h=t(m,l.width,1)}}var L=function(t){var n;switch(t){case e.image_compression.FAST:n=11;break;case e.image_compression.MEDIUM:n=13;break;case e.image_compression.SLOW:n=14;break;default:n=12}return n}(a);return x===this.decode.FLATE_DECODE&&(S="/Predictor "+L+" "),S+="/Colors "+d+" /BitsPerComponent "+c+" /Columns "+l.width,(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(h&&this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),{alias:o,data:n,index:i,filter:x,decodeParameters:S,transparency:u,palette:p,sMask:h,predictor:L,width:l.width,height:l.height,bitsPerComponent:c,colorSpace:s}}}}(R.API),function(e){e.processGIF89A=function(t,n,i,o){var r=new Ze(t),a=r.width,s=r.height,c=[];r.decodeAndBlitFrameRGBA(0,c);var l={data:c,width:a,height:s},u=new tt(100).encode(l,100);return e.processJPEG.call(this,u,n,i,o)},e.processGIF87A=e.processGIF89A}(R.API),nt.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:o,green:i,blue:n,quad:r}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},nt.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(e){c.log("bit decode error:"+e)}},nt.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var i=this.bottom_up?e:this.height-1-e,o=0;o<t;o++)for(var r=this.datav.getUint8(this.pos++,!0),a=i*this.width*4+8*o*4,s=0;s<8&&8*o+s<this.width;s++){var c=this.palette[r>>7-s&1];this.data[a+4*s]=c.blue,this.data[a+4*s+1]=c.green,this.data[a+4*s+2]=c.red,this.data[a+4*s+3]=255}0!==n&&(this.pos+=4-n)}},nt.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,o=0;o<e;o++){var r=this.datav.getUint8(this.pos++,!0),a=i*this.width*4+2*o*4,s=r>>4,c=15&r,l=this.palette[s];if(this.data[a]=l.blue,this.data[a+1]=l.green,this.data[a+2]=l.red,this.data[a+3]=255,2*o+1>=this.width)break;l=this.palette[c],this.data[a+4]=l.blue,this.data[a+4+1]=l.green,this.data[a+4+2]=l.red,this.data[a+4+3]=255}0!==t&&(this.pos+=4-t)}},nt.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var o=this.datav.getUint8(this.pos++,!0),r=n*this.width*4+4*i;if(o<this.palette.length){var a=this.palette[o];this.data[r]=a.red,this.data[r+1]=a.green,this.data[r+2]=a.blue,this.data[r+3]=255}else this.data[r]=255,this.data[r+1]=255,this.data[r+2]=255,this.data[r+3]=255}0!==e&&(this.pos+=4-e)}},nt.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,o=0;o<this.width;o++){var r=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(r&t)/t*255|0,s=(r>>5&t)/t*255|0,c=(r>>10&t)/t*255|0,l=r>>15?255:0,u=i*this.width*4+4*o;this.data[u]=c,this.data[u+1]=s,this.data[u+2]=a,this.data[u+3]=l}this.pos+=e}},nt.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var o=this.bottom_up?i:this.height-1-i,r=0;r<this.width;r++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(a&t)/t*255|0,c=(a>>5&n)/n*255|0,l=(a>>11)/t*255|0,u=o*this.width*4+4*r;this.data[u]=l,this.data[u+1]=c,this.data[u+2]=s,this.data[u+3]=255}this.pos+=e}},nt.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*n;this.data[a]=r,this.data[a+1]=o,this.data[a+2]=i,this.data[a+3]=255}this.pos+=this.width%4}},nt.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*n;this.data[s]=r,this.data[s+1]=o,this.data[s+2]=i,this.data[s+3]=a}},nt.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,i,o){var r=new nt(t,!1),a=r.width,s=r.height,c={data:r.getData(),width:a,height:s},l=new tt(100).encode(c,100);return e.processJPEG.call(this,l,n,i,o)}}(R.API),it.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,i,o){var r=new it(t,!1),a=r.width,s=r.height,c={data:r.getData(),width:a,height:s},l=new tt(100).encode(c,100);return e.processJPEG.call(this,l,n,i,o)}}(R.API),R.API.processRGBA=function(e,t,n){for(var i=e.data,o=i.length,r=new Uint8Array(o/4*3),a=new Uint8Array(o/4),s=0,c=0,l=0;l<o;l+=4){var u=i[l],d=i[l+1],p=i[l+2],h=i[l+3];r[s++]=u,r[s++]=d,r[s++]=p,a[c++]=h}var f=this.__addimage__.arrayBufferToBinaryString(r);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:f,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},R.API.setLanguage=function(e){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]&&(this.internal.languageSettings.languageCode=e,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",(function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")})),this.internal.languageSettings.isSubscribed=!0)),this},Ve=R.API,Ge=Ve.getCharWidthsArray=function(e,t){var n,i,r=(t=t||{}).font||this.internal.getFont(),a=t.fontSize||this.internal.getFontSize(),s=t.charSpace||this.internal.getCharSpace(),c=t.widths?t.widths:r.metadata.Unicode.widths,l=c.fof?c.fof:1,u=t.kerning?t.kerning:r.metadata.Unicode.kerning,d=u.fof?u.fof:1,p=!1!==t.doKerning,h=0,f=e.length,_=0,m=c[0]||l,v=[];for(n=0;n<f;n++)i=e.charCodeAt(n),"function"==typeof r.metadata.widthOfString?v.push((r.metadata.widthOfGlyph(r.metadata.characterToGlyph(i))+s*(1e3/a)||0)/1e3):(h=p&&"object"===o()(u[i])&&!isNaN(parseInt(u[i][_],10))?u[i][_]/d:0,v.push((c[i]||m)/l+h)),_=i;return v},Je=Ve.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),i=t.font||this.internal.getFont(),o=t.charSpace||this.internal.getCharSpace();return Ve.processArabic&&(e=Ve.processArabic(e)),"function"==typeof i.metadata.widthOfString?i.metadata.widthOfString(e,n,o)/n:Ge.apply(this,arguments).reduce((function(e,t){return e+t}),0)},Ye=function(e,t,n,i){for(var o=[],r=0,a=e.length,s=0;r!==a&&s+t[r]<n;)s+=t[r],r++;o.push(e.slice(0,r));var c=r;for(s=0;r!==a;)s+t[r]>i&&(o.push(e.slice(c,r)),s=0,c=r),s+=t[r],r++;return c!==r&&o.push(e.slice(c,r)),o},Xe=function(e,t,n){n||(n={});var i,o,r,a,s,c,l,u=[],d=[u],p=n.textIndent||0,h=0,f=0,_=e.split(" "),m=Ge.apply(this,[" ",n])[0];if(c=-1===n.lineIndent?_[0].length+2:n.lineIndent||0){var v=Array(c).join(" "),g=[];_.map((function(e){(e=e.split(/\s*\n/)).length>1?g=g.concat(e.map((function(e,t){return(t&&e.length?"\n":"")+e}))):g.push(e[0])})),_=g,c=Je.apply(this,[v,n])}for(r=0,a=_.length;r<a;r++){var b=0;if(i=_[r],c&&"\n"==i[0]&&(i=i.substr(1),b=1),p+h+(f=(o=Ge.apply(this,[i,n])).reduce((function(e,t){return e+t}),0))>t||b){if(f>t){for(s=Ye.apply(this,[i,o,t-(p+h),t]),u.push(s.shift()),u=[s.pop()];s.length;)d.push([s.shift()]);f=o.slice(i.length-(u[0]?u[0].length:0)).reduce((function(e,t){return e+t}),0)}else u=[i];d.push(u),p=f+c,h=m}else u.push(i),p+=h+f,h=m}return l=c?function(e,t){return(t?v:"")+e.join(" ")}:function(e){return e.join(" ")},d.map(l)},Ve.splitTextToSize=function(e,t,n){var i,o=(n=n||{}).fontSize||this.internal.getFontSize(),r=function(e){if(e.widths&&e.kerning)return{widths:e.widths,kerning:e.kerning};var t=this.internal.getFont(e.fontName,e.fontStyle);return t.metadata.Unicode?{widths:t.metadata.Unicode.widths||{0:1},kerning:t.metadata.Unicode.kerning||{}}:{font:t.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,n);i=Array.isArray(e)?e:String(e).split(/\r?\n/);var a=1*this.internal.scaleFactor*t/o;r.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/o:0,r.lineIndent=n.lineIndent;var s,c,l=[];for(s=0,c=i.length;s<c;s++)l=l.concat(Xe.apply(this,[i[s],a,r]));return l},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",n={},i={},r=0;r<t.length;r++)n[t[r]]="0123456789abcdef"[r],i["0123456789abcdef"[r]]=t[r];var a=function(e){return"0x"+parseInt(e,10).toString(16)},s=e.__fontmetrics__.compress=function(e){var t,n,r,c,l=["{"];for(var u in e){if(t=e[u],isNaN(parseInt(u,10))?n="'"+u+"'":(u=parseInt(u,10),n=(n=a(u).slice(2)).slice(0,-1)+i[n.slice(-1)]),"number"==typeof t)t<0?(r=a(t).slice(3),c="-"):(r=a(t).slice(2),c=""),r=c+r.slice(0,-1)+i[r.slice(-1)];else{if("object"!==o()(t))throw new Error("Don't know what to do with value type "+o()(t)+".");r=s(t)}l.push(n+r)}return l.push("}"),l.join("")},c=e.__fontmetrics__.uncompress=function(e){if("string"!=typeof e)throw new Error("Invalid argument passed to uncompress.");for(var t,i,o,r,a={},s=1,c=a,l=[],u="",d="",p=e.length-1,h=1;h<p;h+=1)"'"==(r=e[h])?t?(o=t.join(""),t=void 0):t=[]:t?t.push(r):"{"==r?(l.push([c,o]),c={},o=void 0):"}"==r?((i=l.pop())[0][i[1]]=c,o=void 0,c=i[0]):"-"==r?s=-1:void 0===o?n.hasOwnProperty(r)?(u+=n[r],o=parseInt(u,16)*s,s=1,u=""):u+=r:n.hasOwnProperty(r)?(d+=n[r],c[o]=parseInt(d,16)*s,s=1,o=void 0,d=""):d+=r;return a},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},d={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(e){var t=e.font,n=d.Unicode[t.postScriptName];n&&(t.metadata.Unicode={},t.metadata.Unicode.widths=n.widths,t.metadata.Unicode.kerning=n.kerning);var i=u.Unicode[t.postScriptName];i&&(t.metadata.Unicode.encoding=i,t.encoding=i.codePages[0])}])}(R.API),function(e){var t=function(e){for(var t=e.length,n=new Uint8Array(t),i=0;i<t;i++)n[i]=e.charCodeAt(i);return n};e.API.events.push(["addFont",function(n){var i=void 0,o=n.font,r=n.instance;if(!o.isStandardFont){if(void 0===r)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+o.postScriptName+"').");if("string"!=typeof(i=!1===r.existsFileInVFS(o.postScriptName)?r.loadFile(o.postScriptName):r.getFileFromVFS(o.postScriptName)))throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+o.postScriptName+"').");!function(n,i){i=/^\x00\x01\x00\x00/.test(i)?t(i):t(p(i)),n.metadata=e.API.TTFFont.open(i),n.metadata.Unicode=n.metadata.Unicode||{encoding:{},kerning:{},widths:[]},n.metadata.glyIdsUsed=[0]}(o,i)}}])}(R),function(e){function t(){return(a.canvg?Promise.resolve(a.canvg):n.e(182).then(n.bind(null,"DXPr"))).catch((function(e){return Promise.reject(new Error("Could not load canvg: "+e))})).then((function(e){return e.default?e.default:e}))}R.API.addSvgAsImage=function(e,n,i,o,r,a,s,l){if(isNaN(n)||isNaN(i))throw c.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(o)||isNaN(r))throw c.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=o,u.height=r;var d=u.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,u.width,u.height);var p={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return t().then((function(t){return t.fromString(d,e,p)}),(function(){return Promise.reject(new Error("Could not load canvg."))})).then((function(e){return e.render(p)})).then((function(){h.addImage(u.toDataURL("image/jpeg",1),n,i,o,r,s,l)}))}}(),R.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var o=0;o<this.internal.pages[i].length;o++)this.internal.pages[i][o]=this.internal.pages[i][o].replace(t,n);return this},R.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var i,r,a,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(s),l=[],u=0,d=0,p=0;function h(e,t){var n,i=!1;for(n=0;n<e.length;n+=1)e[n]===t&&(i=!0);return i}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,"reset"===e||!0===t){var f=c.length;for(p=0;p<f;p+=1)n[c[p]].value=n[c[p]].defaultValue,n[c[p]].explicitSet=!1}if("object"===o()(e))for(r in e)if(a=e[r],h(c,r)&&void 0!==a){if("boolean"===n[r].type&&"boolean"==typeof a)n[r].value=a;else if("name"===n[r].type&&h(n[r].valueSet,a))n[r].value=a;else if("integer"===n[r].type&&Number.isInteger(a))n[r].value=a;else if("array"===n[r].type){for(u=0;u<a.length;u+=1)if(i=!0,1===a[u].length&&"number"==typeof a[u][0])l.push(String(a[u]-1));else if(a[u].length>1){for(d=0;d<a[u].length;d+=1)"number"!=typeof a[u][d]&&(i=!1);!0===i&&l.push([a[u][0]-1,a[u][1]-1].join(" "))}n[r].value="["+l.join(" ")+"]"}else n[r].value=n[r].defaultValue;n[r].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",(function(){var e,t=[];for(e in n)!0===n[e].explicitSet&&("name"===n[e].type?t.push("/"+e+" /"+n[e].value):t.push("/"+e+" "+n[e].value));0!==t.length&&this.internal.write("/ViewerPreferences\n<<\n"+t.join("\n")+"\n>>")})),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(e){var t=function(){var e='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',t=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),n=unescape(encodeURIComponent(e)),i=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),r=unescape(encodeURIComponent("</x:xmpmeta>")),a=n.length+i.length+o.length+t.length+r.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+a+" >>"),this.internal.write("stream"),this.internal.write(t+n+i+o+r),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(e,i){return void 0===this.internal.__metadata__&&(this.internal.__metadata__={metadata:e,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(R.API),function(e){var t=e.API,n=t.pdfEscape16=function(e,t){for(var n,i=t.metadata.Unicode.widths,o=["","0","00","000","0000"],r=[""],a=0,s=e.length;a<s;++a){if(n=t.metadata.characterToGlyph(e.charCodeAt(a)),t.metadata.glyIdsUsed.push(n),t.metadata.toUnicode[n]=e.charCodeAt(a),-1==i.indexOf(n)&&(i.push(n),i.push([parseInt(t.metadata.widthOfGlyph(n),10)])),"0"==n)return r.join("");n=n.toString(16),r.push(o[4-n.length],n)}return r.join("")},i=function(e){var t,n,i,o,r,a,s;for(r="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",i=[],a=0,s=(n=Object.keys(e).sort((function(e,t){return e-t}))).length;a<s;a++)t=n[a],i.length>=100&&(r+="\n"+i.length+" beginbfchar\n"+i.join("\n")+"\nendbfchar",i=[]),void 0!==e[t]&&null!==e[t]&&"function"==typeof e[t].toString&&(o=("0000"+e[t].toString(16)).slice(-4),t=("0000"+(+t).toString(16)).slice(-4),i.push("<"+t+"><"+o+">"));return i.length&&(r+="\n"+i.length+" beginbfchar\n"+i.join("\n")+"\nendbfchar\n"),r+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};t.events.push(["putFont",function(t){!function(t){var n=t.font,o=t.out,r=t.newObject,a=t.putStream;if(n.metadata instanceof e.API.TTFFont&&"Identity-H"===n.encoding){for(var s=n.metadata.Unicode.widths,c=n.metadata.subset.encode(n.metadata.glyIdsUsed,1),l="",u=0;u<c.length;u++)l+=String.fromCharCode(c[u]);var d=r();a({data:l,addLength1:!0,objectId:d}),o("endobj");var p=r();a({data:i(n.metadata.toUnicode),addLength1:!0,objectId:p}),o("endobj");var h=r();o("<<"),o("/Type /FontDescriptor"),o("/FontName /"+C(n.fontName)),o("/FontFile2 "+d+" 0 R"),o("/FontBBox "+e.API.PDFObject.convert(n.metadata.bbox)),o("/Flags "+n.metadata.flags),o("/StemV "+n.metadata.stemV),o("/ItalicAngle "+n.metadata.italicAngle),o("/Ascent "+n.metadata.ascender),o("/Descent "+n.metadata.decender),o("/CapHeight "+n.metadata.capHeight),o(">>"),o("endobj");var f=r();o("<<"),o("/Type /Font"),o("/BaseFont /"+C(n.fontName)),o("/FontDescriptor "+h+" 0 R"),o("/W "+e.API.PDFObject.convert(s)),o("/CIDToGIDMap /Identity"),o("/DW 1000"),o("/Subtype /CIDFontType2"),o("/CIDSystemInfo"),o("<<"),o("/Supplement 0"),o("/Registry (Adobe)"),o("/Ordering ("+n.encoding+")"),o(">>"),o(">>"),o("endobj"),n.objectNumber=r(),o("<<"),o("/Type /Font"),o("/Subtype /Type0"),o("/ToUnicode "+p+" 0 R"),o("/BaseFont /"+C(n.fontName)),o("/Encoding /"+n.encoding),o("/DescendantFonts ["+f+" 0 R]"),o(">>"),o("endobj"),n.isAlreadyPutted=!0}}(t)}]),t.events.push(["putFont",function(t){!function(t){var n=t.font,o=t.out,r=t.newObject,a=t.putStream;if(n.metadata instanceof e.API.TTFFont&&"WinAnsiEncoding"===n.encoding){for(var s=n.metadata.rawData,c="",l=0;l<s.length;l++)c+=String.fromCharCode(s[l]);var u=r();a({data:c,addLength1:!0,objectId:u}),o("endobj");var d=r();a({data:i(n.metadata.toUnicode),addLength1:!0,objectId:d}),o("endobj");var p=r();o("<<"),o("/Descent "+n.metadata.decender),o("/CapHeight "+n.metadata.capHeight),o("/StemV "+n.metadata.stemV),o("/Type /FontDescriptor"),o("/FontFile2 "+u+" 0 R"),o("/Flags 96"),o("/FontBBox "+e.API.PDFObject.convert(n.metadata.bbox)),o("/FontName /"+C(n.fontName)),o("/ItalicAngle "+n.metadata.italicAngle),o("/Ascent "+n.metadata.ascender),o(">>"),o("endobj"),n.objectNumber=r();for(var h=0;h<n.metadata.hmtx.widths.length;h++)n.metadata.hmtx.widths[h]=parseInt(n.metadata.hmtx.widths[h]*(1e3/n.metadata.head.unitsPerEm));o("<</Subtype/TrueType/Type/Font/ToUnicode "+d+" 0 R/BaseFont/"+C(n.fontName)+"/FontDescriptor "+p+" 0 R/Encoding/"+n.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(n.metadata.hmtx.widths)+">>"),o("endobj"),n.isAlreadyPutted=!0}}(t)}]);var o=function(e){var t,i=e.text||"",o=e.x,r=e.y,a=e.options||{},s=e.mutex||{},c=s.pdfEscape,l=s.activeFontKey,u=s.fonts,d=l,p="",h=0,f="",_=u[d].encoding;if("Identity-H"!==u[d].encoding)return{text:i,x:o,y:r,options:a,mutex:s};for(f=i,d=l,Array.isArray(i)&&(f=i[0]),h=0;h<f.length;h+=1)u[d].metadata.hasOwnProperty("cmap")&&(t=u[d].metadata.cmap.unicode.codeMap[f[h].charCodeAt(0)]),t||f[h].charCodeAt(0)<256&&u[d].metadata.hasOwnProperty("Unicode")?p+=f[h]:p+="";var m="";return parseInt(d.slice(1))<14||"WinAnsiEncoding"===_?m=c(p,d).split("").map((function(e){return e.charCodeAt(0).toString(16)})).join(""):"Identity-H"===_&&(m=n(p,u[d])),s.isHex=!0,{text:m,x:o,y:r,options:a,mutex:s}};t.events.push(["postProcessText",function(e){var t=e.text||"",n=[],i={text:t,x:e.x,y:e.y,options:e.options,mutex:e.mutex};if(Array.isArray(t)){var r=0;for(r=0;r<t.length;r+=1)Array.isArray(t[r])&&3===t[r].length?n.push([o(Object.assign({},i,{text:t[r][0]})).text,t[r][1],t[r][2]]):n.push(o(Object.assign({},i,{text:t[r]})).text);e.text=n}else e.text=o(Object.assign({},i,{text:t})).text}])}(R),function(e){var t=function(){return void 0===this.internal.vFS&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(e){return t.call(this),void 0!==this.internal.vFS[e]},e.addFileToVFS=function(e,n){return t.call(this),this.internal.vFS[e]=n,this},e.getFileFromVFS=function(e){return t.call(this),void 0!==this.internal.vFS[e]?this.internal.vFS[e]:null}}(R.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(e){var n,i,o,r,a,s,c,l=t,u=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],d=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],p={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},h={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},f=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],_=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),m=!1,v=0;this.__bidiEngine__={};var g=function(e){var t=e.charCodeAt(),n=t>>8,i=h[n];return void 0!==i?l[256*i+(255&t)]:252===n||253===n?"AL":_.test(n)?"L":8===n?"R":"N"},b=function(e){for(var t,n=0;n<e.length;n++){if("L"===(t=g(e.charAt(n))))return!1;if("R"===t)return!0}return!1},y=function(e,t,a,s){var c,l,u,d,p=t[s];switch(p){case"L":case"R":m=!1;break;case"N":case"AN":break;case"EN":m&&(p="AN");break;case"AL":m=!0,p="R";break;case"WS":p="N";break;case"CS":s<1||s+1>=t.length||"EN"!==(c=a[s-1])&&"AN"!==c||"EN"!==(l=t[s+1])&&"AN"!==l?p="N":m&&(l="AN"),p=l===c?l:"N";break;case"ES":p="EN"===(c=s>0?a[s-1]:"B")&&s+1<t.length&&"EN"===t[s+1]?"EN":"N";break;case"ET":if(s>0&&"EN"===a[s-1]){p="EN";break}if(m){p="N";break}for(u=s+1,d=t.length;u<d&&"ET"===t[u];)u++;p=u<d&&"EN"===t[u]?"EN":"N";break;case"NSM":if(o&&!r){for(d=t.length,u=s+1;u<d&&"NSM"===t[u];)u++;if(u<d){var h=e[s],f=h>=1425&&h<=2303||64286===h;if(c=t[u],f&&("R"===c||"AL"===c)){p="R";break}}}p=s<1||"B"===(c=t[s-1])?"N":a[s-1];break;case"B":m=!1,n=!0,p=v;break;case"S":i=!0,p="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":m=!1;break;case"BN":p="N"}return p},w=function(e,t,n){var i=e.split("");return n&&x(i,n,{hiLevel:v}),i.reverse(),t&&t.reverse(),i.join("")},x=function(e,t,o){var r,a,s,c,l,h=-1,f=e.length,_=0,b=[],w=v?d:u,x=[];for(m=!1,n=!1,i=!1,a=0;a<f;a++)x[a]=g(e[a]);for(s=0;s<f;s++){if(l=_,b[s]=y(e,x,b,s),r=240&(_=w[l][p[b[s]]]),_&=15,t[s]=c=w[_][5],r>0)if(16===r){for(a=h;a<s;a++)t[a]=1;h=-1}else h=-1;if(w[_][6])-1===h&&(h=s);else if(h>-1){for(a=h;a<s;a++)t[a]=c;h=-1}"B"===x[s]&&(t[s]=0),o.hiLevel|=c}i&&function(e,t,n){for(var i=0;i<n;i++)if("S"===e[i]){t[i]=v;for(var o=i-1;o>=0&&"WS"===e[o];o--)t[o]=v}}(x,t,f)},S=function(e,t,i,o,r){if(!(r.hiLevel<e)){if(1===e&&1===v&&!n)return t.reverse(),void(i&&i.reverse());for(var a,s,c,l,u=t.length,d=0;d<u;){if(o[d]>=e){for(c=d+1;c<u&&o[c]>=e;)c++;for(l=d,s=c-1;l<s;l++,s--)a=t[l],t[l]=t[s],t[s]=a,i&&(a=i[l],i[l]=i[s],i[s]=a);d=c}d++}}},k=function(e,t,n){var i=e.split(""),o={hiLevel:v};return n||(n=[]),x(i,n,o),function(e,t,n){if(0!==n.hiLevel&&c)for(var i,o=0;o<e.length;o++)1===t[o]&&(i=f.indexOf(e[o]))>=0&&(e[o]=f[i+1])}(i,n,o),S(2,i,t,n,o),S(1,i,t,n,o),i.join("")};return this.__bidiEngine__.doBidiReorder=function(e,t,n){if(function(e,t){if(t)for(var n=0;n<e.length;n++)t[n]=n;void 0===r&&(r=b(e)),void 0===s&&(s=b(e))}(e,t),o||!a||s)if(o&&a&&r^s)v=r?1:0,e=w(e,t,n);else if(!o&&a&&s)v=r?1:0,e=k(e,t,n),e=w(e,t);else if(!o||r||a||s){if(o&&!a&&r^s)e=w(e,t),r?(v=0,e=k(e,t,n)):(v=1,e=k(e,t,n),e=w(e,t));else if(o&&r&&!a&&s)v=1,e=k(e,t,n),e=w(e,t);else if(!o&&!a&&r^s){var i=c;r?(v=1,e=k(e,t,n),v=0,c=!1,e=k(e,t,n),c=i):(v=0,e=k(e,t,n),e=w(e,t),v=1,c=!1,e=k(e,t,n),c=i,e=w(e,t))}}else v=0,e=k(e,t,n);else v=r?1:0,e=k(e,t,n);return e},this.__bidiEngine__.setOptions=function(e){e&&(o=e.isInputVisual,a=e.isOutputVisual,r=e.isInputRtl,s=e.isOutputRtl,c=e.isSymmetricSwapping)},this.__bidiEngine__.setOptions(e),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(e){var t=e.text,i=(e.x,e.y,e.options||{}),o=(e.mutex,i.lang,[]);if(i.isInputVisual="boolean"!=typeof i.isInputVisual||i.isInputVisual,n.setOptions(i),"[object Array]"===Object.prototype.toString.call(t)){var r=0;for(o=[],r=0;r<t.length;r+=1)"[object Array]"===Object.prototype.toString.call(t[r])?o.push([n.doBidiReorder(t[r][0]),t[r][1],t[r][2]]):o.push([n.doBidiReorder(t[r])]);e.text=o}else e.text=n.doBidiReorder(t);n.setOptions({isInputVisual:!0})}])}(R),R.API.TTFFont=function(){function e(e){var t;if(this.rawData=e,t=this.contents=new rt(e),this.contents.pos=4,"ttcf"===t.readString(4))throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new kt(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new at(this.contents),this.head=new lt(this),this.name=new mt(this),this.cmap=new dt(this),this.toUnicode={},this.hhea=new pt(this),this.maxp=new vt(this),this.hmtx=new gt(this),this.post=new ft(this),this.os2=new ht(this),this.loca=new St(this),this.glyf=new yt(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var e,t,n,i,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var t,n,i,o;for(o=[],t=0,n=(i=this.bbox).length;t<n;t++)e=i[t],o.push(Math.round(e*this.scaleFactor));return o}.call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),0!=(32768&(t=i>>16))&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(o=this.familyClass)||2===o||3===o||4===o||5===o||7===o,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(e){var t;return(null!=(t=this.cmap.unicode)?t.codeMap[e]:void 0)||0},e.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},e.prototype.widthOfString=function(e,t,n){var i,o,r,a;for(r=0,o=0,a=(e=""+e).length;0<=a?o<a:o>a;o=0<=a?++o:--o)i=e.charCodeAt(o),r+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/t)||0;return r*(t/1e3)},e.prototype.lineHeight=function(e,t){var n;return null==t&&(t=!1),n=t?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},e}();var ot,rt=function(){function e(e){this.data=null!=e?e:[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(e){return this.data[this.pos++]=e},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},e.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},e.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},e.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},e.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},e.prototype.readString=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)n[t]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(e){var t,n,i;for(i=[],t=0,n=e.length;0<=n?t<n:t>n;t=0<=n?++t:--t)i.push(this.writeByte(e.charCodeAt(t)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(e){return this.writeInt16(e)},e.prototype.readLongLong=function(){var e,t,n,i,o,r,a,s;return e=this.readByte(),t=this.readByte(),n=this.readByte(),i=this.readByte(),o=this.readByte(),r=this.readByte(),a=this.readByte(),s=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^o)+65536*(255^r)+256*(255^a)+(255^s)+1):72057594037927940*e+281474976710656*t+1099511627776*n+4294967296*i+16777216*o+65536*r+256*a+s},e.prototype.writeLongLong=function(e){var t,n;return t=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(e){return this.writeInt32(e)},e.prototype.read=function(e){var t,n;for(t=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)t.push(this.readByte());return t},e.prototype.write=function(e){var t,n,i,o;for(o=[],n=0,i=e.length;n<i;n++)t=e[n],o.push(this.writeByte(t));return o},e}(),at=function(){var e;function t(e){var t,n,i;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},n=0,i=this.tableCount;0<=i?n<i:n>i;n=0<=i?++n:--n)t={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[t.tag]=t}return t.prototype.encode=function(t){var n,i,o,r,a,s,c,l,u,d,p,h,f;for(f in p=Object.keys(t).length,s=Math.log(2),u=16*Math.floor(Math.log(p)/s),r=Math.floor(u/s),l=16*p-u,(i=new rt).writeInt(this.scalarType),i.writeShort(p),i.writeShort(u),i.writeShort(r),i.writeShort(l),o=16*p,c=i.pos+o,a=null,h=[],t)for(d=t[f],i.writeString(f),i.writeInt(e(d)),i.writeInt(c),i.writeInt(d.length),h=h.concat(d),"head"===f&&(a=c),c+=d.length;c%4;)h.push(0),c++;return i.write(h),n=2981146554-e(i.data),i.pos=a+8,i.writeUInt32(n),i.data},e=function(e){var t,n,i,o;for(e=bt.call(e);e.length%4;)e.push(0);for(i=new rt(e),n=0,t=0,o=e.length;t<o;t=t+=4)n+=i.readUInt32();return 4294967295&n},t}(),st={}.hasOwnProperty,ct=function(e,t){for(var n in t)st.call(t,n)&&(e[n]=t[n]);function i(){this.constructor=e}return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};ot=function(){function e(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var lt=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ct(t,ot),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var t;return(t=new rt).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},t}(),ut=function(){function e(e,t){var n,i,o,r,a,s,c,l,u,d,p,h,f,_,m,v,g;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),u=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(s=0;s<256;++s)this.codeMap[s]=e.readByte();break;case 4:for(p=e.readUInt16(),d=p/2,e.pos+=6,o=function(){var t,n;for(n=[],s=t=0;0<=d?t<d:t>d;s=0<=d?++t:--t)n.push(e.readUInt16());return n}(),e.pos+=2,f=function(){var t,n;for(n=[],s=t=0;0<=d?t<d:t>d;s=0<=d?++t:--t)n.push(e.readUInt16());return n}(),c=function(){var t,n;for(n=[],s=t=0;0<=d?t<d:t>d;s=0<=d?++t:--t)n.push(e.readUInt16());return n}(),l=function(){var t,n;for(n=[],s=t=0;0<=d?t<d:t>d;s=0<=d?++t:--t)n.push(e.readUInt16());return n}(),i=(this.length-e.pos+this.offset)/2,a=function(){var t,n;for(n=[],s=t=0;0<=i?t<i:t>i;s=0<=i?++t:--t)n.push(e.readUInt16());return n}(),s=m=0,g=o.length;m<g;s=++m)for(_=o[s],n=v=h=f[s];h<=_?v<=_:v>=_;n=h<=_?++v:--v)0===l[s]?r=n+c[s]:0!==(r=a[l[s]/2+(n-h)-(d-s)]||0)&&(r+=c[s]),this.codeMap[n]=65535&r}e.pos=u}return e.encode=function(e,t){var n,i,o,r,a,s,c,l,u,d,p,h,f,_,m,v,g,b,y,w,x,S,k,$,j,O,A,L,P,D,N,C,M,I,E,B,F,R,T,q,U,z,W,H,K,V;switch(L=new rt,r=Object.keys(e).sort((function(e,t){return e-t})),t){case"macroman":for(f=0,_=function(){var e=[];for(h=0;h<256;++h)e.push(0);return e}(),v={0:0},o={},P=0,M=r.length;P<M;P++)null==v[W=e[i=r[P]]]&&(v[W]=++f),o[i]={old:e[i],new:v[e[i]]},_[i]=v[e[i]];return L.writeUInt16(1),L.writeUInt16(0),L.writeUInt32(12),L.writeUInt16(0),L.writeUInt16(262),L.writeUInt16(0),L.write(_),{charMap:o,subtable:L.data,maxGlyphID:f+1};case"unicode":for(O=[],u=[],g=0,v={},n={},m=c=null,D=0,I=r.length;D<I;D++)null==v[y=e[i=r[D]]]&&(v[y]=++g),n[i]={old:y,new:v[y]},a=v[y]-i,null!=m&&a===c||(m&&u.push(m),O.push(i),c=a),m=i;for(m&&u.push(m),u.push(65535),O.push(65535),$=2*(k=O.length),S=2*Math.pow(Math.log(k)/Math.LN2,2),d=Math.log(S/2)/Math.LN2,x=2*k-S,s=[],w=[],p=[],h=N=0,E=O.length;N<E;h=++N){if(j=O[h],l=u[h],65535===j){s.push(0),w.push(0);break}if(j-(A=n[j].new)>=32768)for(s.push(0),w.push(2*(p.length+k-h)),i=C=j;j<=l?C<=l:C>=l;i=j<=l?++C:--C)p.push(n[i].new);else s.push(A-j),w.push(0)}for(L.writeUInt16(3),L.writeUInt16(1),L.writeUInt32(12),L.writeUInt16(4),L.writeUInt16(16+8*k+2*p.length),L.writeUInt16(0),L.writeUInt16($),L.writeUInt16(S),L.writeUInt16(d),L.writeUInt16(x),U=0,B=u.length;U<B;U++)i=u[U],L.writeUInt16(i);for(L.writeUInt16(0),z=0,F=O.length;z<F;z++)i=O[z],L.writeUInt16(i);for(H=0,R=s.length;H<R;H++)a=s[H],L.writeUInt16(a);for(K=0,T=w.length;K<T;K++)b=w[K],L.writeUInt16(b);for(V=0,q=p.length;V<q;V++)f=p[V],L.writeUInt16(f);return{charMap:n,subtable:L.data,maxGlyphID:g+1}}},e}(),dt=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ct(t,ot),t.prototype.tag="cmap",t.prototype.parse=function(e){var t,n,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)t=new ut(e,this.offset),this.tables.push(t),t.isUnicode&&null==this.unicode&&(this.unicode=t);return!0},t.encode=function(e,t){var n,i;return null==t&&(t="macroman"),n=ut.encode(e,t),(i=new rt).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},t}(),pt=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ct(t,ot),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),ht=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ct(t,ot),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var t,n;for(n=[],t=0;t<10;++t)n.push(e.readByte());return n}(),this.charRange=function(){var t,n;for(n=[],t=0;t<4;++t)n.push(e.readInt());return n}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var t,n;for(n=[],t=0;t<2;t=++t)n.push(e.readInt());return n}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),ft=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ct(t,ot),t.prototype.tag="post",t.prototype.parse=function(e){var t,n,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:break;case 131072:var o;for(n=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)t=e.readByte(),i.push(this.names.push(e.readString(t)));return i;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 196608:break;case 262144:return this.map=function(){var t,n,i;for(i=[],o=t=0,n=this.file.maxp.numGlyphs;0<=n?t<n:t>n;o=0<=n?++t:--t)i.push(e.readUInt32());return i}.call(this)}},t}(),_t=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},mt=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ct(t,ot),t.prototype.tag="name",t.prototype.parse=function(e){var t,n,i,o,r,a,s,c,l,u,d;for(e.pos=this.offset,e.readShort(),t=e.readShort(),a=e.readShort(),n=[],o=0;0<=t?o<t:o>t;o=0<=t?++o:--o)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+a+e.readShort()});for(s={},o=l=0,u=n.length;l<u;o=++l)i=n[o],e.pos=i.offset,c=e.readString(i.length),r=new _t(c,i),null==s[d=i.nameID]&&(s[d]=[]),s[i.nameID].push(r);this.strings=s,this.copyright=s[0],this.fontFamily=s[1],this.fontSubfamily=s[2],this.uniqueSubfamily=s[3],this.fontName=s[4],this.version=s[5];try{this.postscriptName=s[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch(e){this.postscriptName=s[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=s[7],this.manufacturer=s[8],this.designer=s[9],this.description=s[10],this.vendorUrl=s[11],this.designerUrl=s[12],this.license=s[13],this.licenseUrl=s[14],this.preferredFamily=s[15],this.preferredSubfamily=s[17],this.compatibleFull=s[18],this.sampleText=s[19]},t}(),vt=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ct(t,ot),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),gt=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ct(t,ot),t.prototype.tag="hmtx",t.prototype.parse=function(e){var t,n,i,o,r,a,s;for(e.pos=this.offset,this.metrics=[],t=0,a=this.file.hhea.numberOfMetrics;0<=a?t<a:t>a;t=0<=a?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var n,o;for(o=[],t=n=0;0<=i?n<i:n>i;t=0<=i?++n:--n)o.push(e.readInt16());return o}(),this.widths=function(){var e,t,n,i;for(i=[],e=0,t=(n=this.metrics).length;e<t;e++)o=n[e],i.push(o.advance);return i}.call(this),n=this.widths[this.widths.length-1],s=[],t=r=0;0<=i?r<i:r>i;t=0<=i?++r:--r)s.push(this.widths.push(n));return s},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),bt=[].slice,yt=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ct(t,ot),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var t,n,i,o,r,a,s,c,l,u;return e in this.cache?this.cache[e]:(o=this.file.loca,t=this.file.contents,n=o.indexOf(e),0===(i=o.lengthOf(e))?this.cache[e]=null:(t.pos=this.offset+n,r=(a=new rt(t.read(i))).readShort(),c=a.readShort(),u=a.readShort(),s=a.readShort(),l=a.readShort(),this.cache[e]=-1===r?new xt(a,c,u,s,l):new wt(a,r,c,u,s,l),this.cache[e]))},t.prototype.encode=function(e,t,n){var i,o,r,a,s;for(r=[],o=[],a=0,s=t.length;a<s;a++)i=e[t[a]],o.push(r.length),i&&(r=r.concat(i.encode(n)));return o.push(r.length),{table:r,offsets:o}},t}(),wt=function(){function e(e,t,n,i,o,r){this.raw=e,this.numberOfContours=t,this.xMin=n,this.yMin=i,this.xMax=o,this.yMax=r,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),xt=function(){function e(e,t,n,i,o){var r,a;for(this.raw=e,this.xMin=t,this.yMin=n,this.xMax=i,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],r=this.raw;a=r.readShort(),this.glyphOffsets.push(r.pos),this.glyphIDs.push(r.readUInt16()),32&a;)r.pos+=1&a?4:2,128&a?r.pos+=8:64&a?r.pos+=4:8&a&&(r.pos+=2)}return e.prototype.encode=function(){var e,t,n;for(t=new rt(bt.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)t.pos=this.glyphOffsets[e];return t.data},e}(),St=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ct(t,ot),t.prototype.tag="loca",t.prototype.parse=function(e){var t,n;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=0===t?function(){var t,i;for(i=[],n=0,t=this.length;n<t;n+=2)i.push(2*e.readUInt16());return i}.call(this):function(){var t,i;for(i=[],n=0,t=this.length;n<t;n+=4)i.push(e.readUInt32());return i}.call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,t){for(var n=new Uint32Array(this.offsets.length),i=0,o=0,r=0;r<n.length;++r)if(n[r]=i,o<t.length&&t[o]==r){++o,n[r]=i;var a=this.offsets[r],s=this.offsets[r+1]-a;s>0&&(i+=s)}for(var c=new Array(4*n.length),l=0;l<n.length;++l)c[4*l+3]=255&n[l],c[4*l+2]=(65280&n[l])>>8,c[4*l+1]=(16711680&n[l])>>16,c[4*l]=(4278190080&n[l])>>24;return c},t}(),kt=function(){function e(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var e,t,n,i,o;for(t in i=this.font.cmap.tables[0].codeMap,e={},o=this.subset)n=o[t],e[t]=i[n];return e},e.prototype.glyphsFor=function(e){var t,n,i,o,r,a,s;for(i={},r=0,a=e.length;r<a;r++)i[o=e[r]]=this.font.glyf.glyphFor(o);for(o in t=[],i)(null!=(n=i[o])?n.compound:void 0)&&t.push.apply(t,n.glyphIDs);if(t.length>0)for(o in s=this.glyphsFor(t))n=s[o],i[o]=n;return i},e.prototype.encode=function(e,t){var n,i,o,r,a,s,c,l,u,d,p,h,f,_,m;for(i in n=dt.encode(this.generateCmap(),"unicode"),r=this.glyphsFor(e),p={0:0},m=n.charMap)p[(s=m[i]).old]=s.new;for(h in d=n.maxGlyphID,r)h in p||(p[h]=d++);return l=function(e){var t,n;for(t in n={},e)n[e[t]]=t;return n}(p),u=Object.keys(l).sort((function(e,t){return e-t})),f=function(){var e,t,n;for(n=[],e=0,t=u.length;e<t;e++)a=u[e],n.push(l[a]);return n}(),o=this.font.glyf.encode(r,f,p),c=this.font.loca.encode(o.offsets,f),_={cmap:this.font.cmap.raw(),glyf:o.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(_["OS/2"]=this.font.os2.raw()),this.font.directory.encode(_)},e}();R.API.PDFObject=function(){var e;function t(){}return e=function(e,t){return(Array(t+1).join("0")+e).slice(-t)},t.convert=function(n){var i,o,r,a;if(Array.isArray(n))return"["+function(){var e,o,r;for(r=[],e=0,o=n.length;e<o;e++)i=n[e],r.push(t.convert(i));return r}().join(" ")+"]";if("string"==typeof n)return"/"+n;if(null!=n?n.isString:void 0)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if("[object Object]"==={}.toString.call(n)){for(o in r=["<<"],n)a=n[o],r.push("/"+o+" "+t.convert(a));return r.push(">>"),r.join("\n")}return""+n},t}(),t.a=R}).call(this,n("yLpj"))},jD8t:function(e,t){e.exports='<div class="announcement-background-dialog">\n    <div class="announcement" ng-show="announcement">\n        <div class="head">\n            <h1 class="title">{{announcement[\'name\']}}</h1>\n        </div>\n        <hc-mark-down ng-model="announcement.content" options="{mode:\'view\'}"\n                      ng-show="announcement.content"></hc-mark-down>\n        <div class="title" style="font-size: 18px;"\n             ng-if="announcement[\'attachment\'] !== \'\'&& announcement[\'attachment\']">附件\n        </div>\n        <hc-input-upload-multiple options="{\'readOnly\':true,\'hide_name\':false}"\n                                  ng-model="announcement[\'attachment\']"\n                                  ng-if="announcement[\'attachment\'] !== \'\' && announcement[\'attachment\']"></hc-input-upload-multiple>\n    </div>\n    <div class="noValue" ng-if="announcement!=null&&!announcement">\n        <hc-svg options="{icon:\'hcm-no-content\'}"></hc-svg>\n        <div class="desc">{{\'rec_no_content\'|translate}}</div>\n    </div>\n</div>\n\n'},jEgQ:function(e,t,n){"use strict";n.r(t);var i=n("a0dU"),o=n.n(i),r=(n("ls82"),n("SPx3")),a=n.n(r),s=n("WQ5H"),c=n.n(s),l=(n("YGWI"),n("wuQg"));window.app.controller("innerApplyDialogCtrl",["$scope","$rootScope","dataService","$hcDialog",function(e,t,i,r){var s,c,u;e.apply_info=e.params.apply_info,e.resume_info=e.params.resume_info,e.contract_unit=e.params.contract_unit,e.job_info=e.params.job_info,e.is_inner_recruit=null!==(s=null===(c=e.params)||void 0===c?void 0:c.is_inner_recruit)&&void 0!==s&&s;var d,p=[{label:"完善简历",func:function(){e.go_to_resume()},default:!0}];2===(null===(u=e.apply_info)||void 0===u?void 0:u.program_control_mode)&&p.push({label:"继续投递",func:(d=a()(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.keep_apply();case 2:case"end":return t.stop()}}),t)}))),function(){return d.apply(this,arguments)}),default:!1}),e.$dialog.operates(p),e.go_to_resume=function(){e.$dialog.resolve_data(!0),e.$dialog.dialog_close(),e.is_inner_recruit?t.super_go("common_board_view_anonymous",{board_category:50}):r.getDialog({controller:"InnerNewRecruitResumeCtrl",template:"pc"===client?n("nPKi"):n("KDs0")}).params({resume_info:e.resume_info,contract_unit:e.contract_unit}).size("large").title("我的简历").show()},e.keep_apply=a()(o.a.mark((function n(){var a,s;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.show_waiting(),e.naire_info=null,!(null==e||null===(a=e.job_info)||void 0===a?void 0:a.naire_template_id)){n.next=8;break}return n.next=5,r.getDialog(l.a).params({naire_template_id:e.job_info.naire_template_id}).size("large-middle").title("问卷调查").show();case 5:if(e.naire_info=n.sent,e.naire_info){n.next=8;break}return n.abrupt("return",!1);case 8:i.callHcmOpenApi("recruit.apply.inside.job",{job_id:e.apply_info.job_id,resume_id:e.resume_info.basis.id,need_approve:e.apply_info.need_approve,program_control_mode:null===(s=e.apply_info)||void 0===s?void 0:s.program_control_mode,naire_info:e.naire_info},null,!0).then((function(n){n.success?(t.hide_waiting(),"yes"===e.need_approve?t.show_warning("已发起审批，及时关注流程中心状态"):t.show_warning("投递成功")):(null==n?void 0:n.msg)&&t.show_warning(n.msg),e.$dialog.resolve_data(!0),e.$dialog.dialog_close()}));case 9:case"end":return n.stop()}}),n)})))}]),t.default={template:c.a,controller:"innerApplyDialogCtrl",name:"recruit-inner-apply-dialog"}},kOnF:function(e,t,n){"use strict";n.r(t);var i=n("mrSG"),o=n("CoJ3"),r=n("r0v2"),a=n.n(r),s=(n("cJnY"),n("yDEG")),c=n("zl2E"),l=(n("YdaD"),n("2pS5")),u=n.n(l),d=function(){function e(e,t,n,i){this.$scope=e,this.$state=t,this.$controller=n,this.BaseCRUDService=i}return e.prototype.$onInit=function(){var e=this;this.CommonCRUDService=this.BaseCRUDService.getModelService(this.options.model),this.$controller(c.a,{$scope:this.$scope,CRUDService:this.CommonCRUDService,InfoDialog:null}),this.$scope.meta_state=this.options.meta_state,this.$scope.getItemID=function(){var t,n,i=JSON.parse(e.$state.params.params);return null!==(n=null!==(t=e.options.id)&&void 0!==t?t:i.id)&&void 0!==n?n:i.obj_id}},e.$inject=["$scope","$state","$controller","BaseCRUDService"],e}();o.a.component("hcRecruitResumeDetailView",{bindings:{options:"<?"},controller:d,template:u.a});var p=function(e){function t(t,n,i,o,r,a,s){var c=e.call(this,r,s)||this;return c.$scope=t,c.$state=n,c.dataService=i,c.$rootScope=o,c.hcDialog=r,c.element=a,c.timeout=s,c.client=window.client,c}return Object(i.d)(t,e),t.prototype.$onInit=function(){var e,t,n,o;return Object(i.c)(this,void 0,void 0,(function(){var r,a,s;return Object(i.e)(this,(function(i){switch(i.label){case 0:return null===(e=this.boardCtrl)||void 0===e||e.componentRegister(this.key,this),r=JSON.parse(this.$state.params.params),a=null!==(t=r.id)&&void 0!==t?t:r.obj_id,[4,this.dataService.callHcmOpenApi("recruit.get.resume.state",{apply_id:a})];case 1:return s=i.sent(),this.params={model:"ApplyJobRecords",nav_state:s.state,resume_id:s.apply_info.resume_id,appoint:{appoint_id:a}},this.view_params={model:"ApplyJobRecords",meta_state:s.state},this.showPart=null!==(o=null===(n=this.options)||void 0===n?void 0:n.showPart)&&void 0!==o?o:[{component:"resumeView",target:["pc","mobile"]},{component:"resumeNav",target:["pc","mobile"]}],[2]}}))}))},t.$inject=["$scope","$state","dataService","$rootScope","$hcDialog","$element","$timeout"],t}(s.a);o.a.component("hcRecruitResumeDetail",{bindings:{model:"=ngModel",options:"<?"},require:{boardCtrl:"?^hcmBoard"},controller:p,template:a.a})},kXgk:function(e,t){e.exports='<div class="recruit-resume-card" ng-if="$ctrl.client == \'pc\'">\n    <div class="my-resume-base-info">\n        <div class="my-resume-photo">\n            <div class="pic" hc-title="点击上传您的头像"\n                 options="{\'mode\': \'tip\',\'seconds\': 0, \'direction\': \'column\'}">\n                <img img-resize-upload l-width="600"\n                     l-quality="1" ng-model="pic"\n                     callback="$ctrl.$scope.selectImg"\n                     ng-src="{{!$ctrl.resume_info.photo?\'\':$ctrl.resume_info.photo|hcPhoto:\'80,80\'}}">\n            </div>\n            \x3c!--            <div class="pic" ng-if="!is_new_resume">--\x3e\n            \x3c!--                <img ng-model="pic" ng-src="{{!$ctrl.resume_info.photo?\'\':$ctrl.resume_info.photo|hcPhoto:\'80,80\'}}">--\x3e\n            \x3c!--            </div>--\x3e\n            <div class="name">{{$ctrl.resume_info.name || \'应聘者\'}}</div>\n        </div>\n        <div class="candidate-base-info">\n            <div class="info-item">{{$ctrl.resume_info.gender_alias || \'--\'}}</div>\n            <div class="info-item">{{$ctrl.resume_info.age || \'--\'}}</div>\n            <div class="info-item">{{$ctrl.resume_info.background_alias || \'--\'}}</div>\n        </div>\n        <div class="candidate-contact-info">\n            <div class="info-item"><span class="icon-hcm-phone"></span>\n                <div>{{$ctrl.resume_info.mobile}}</div>\n            </div>\n            <div class="info-item"><span class="icon-hcm-email"></span>\n                <div>{{$ctrl.resume_info.email}}</div>\n            </div>\n            <div class="info-item"><span class="icon-hcm-location"></span>\n                <div>{{$ctrl.resume_info.birthplace}}</div>\n            </div>\n        </div>\n    </div>\n    <div class="my-resume-other-info">\n        <div class="my-resume-other-info-select-option">\n            <div class="my-resume-other-info-left-content">\n                <div class="internal-info other-info" ng-hide="$ctrl.hide_internal">\n                    <div>内推人</div>\n                    <div ng-click="setMyInternalPushCode($ctrl.resume_info.internal_push_name)"\n                         ng-disabled="!is_new_resume"\n                         ng-class="{\'btn-can-not-click\': !is_new_resume}"\n                         class="pic" hc-title="{{\'点击维护您的内推信息\'|translate}}"\n                         options="{\'mode\': \'tip\',\'seconds\': 0, \'direction\': \'column\'}">\n                        {{$ctrl.resume_info.internal_push_name || (\'add_list\'|translate)}}\n                    </div>\n                </div>\n                <div class="resume-type-info other-info" ng-hide="$ctrl.hide_resume_type">\n                    <div>简历类型</div>\n                    <div ng-click="selectJobClass()"\n                         ng-class="{\'btn-can-not-click\': !edit_job_class}"\n                         class="pic" hc-title="{{\'rec_choice_resume_type\'|translate}}"\n                         options="{\'mode\': \'tip\',\'seconds\': 0, \'direction\': \'column\'}">\n                        {{$ctrl.resume_info.rec_job_class || (\'choice\'|translate)}}\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class="my-resume-other-info-chart">\n            <div class="other-info-desc">简历完整度</div>\n            <div class="circleProgress_wrapper">\n                <div class="other-info-content">{{$ctrl.percent || 0}}%</div>\n                <div class="wrapper right">\n                    <div class="circleProgress right-circle"></div>\n                </div>\n                <div class="wrapper left">\n                    <div class="circleProgress left-circle"></div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n\n<div class="recruit-resume-card-mobile" ng-if="$ctrl.client == \'mobile\'">\n    <div class="my-resume-top">\n        <div class="base-info">\n            <div class="resume-pic" img-resize-upload l-width="600" l-quality="1" ng-model="pic"\n                 callback="$ctrl.$scope.selectImg" ng-mouseover="upload_tip = true"\n                 ng-mouseleave="upload_tip = false">\n                <img ng-src="{{!$ctrl.resume_info.photo?\'\':$ctrl.resume_info.photo|hcPhoto:\'80,80\'}}">\n            </div>\n            <div class="candidate-base-info">\n                <div class="name">{{$ctrl.resume_info.name}}</div>\n                <div ng-if="$ctrl.resume_info.work_year_alias" class="info-item work-year">{{$ctrl.resume_info.work_year_alias}}</div>\n                <div ng-if="$ctrl.resume_info.age" class="info-item age">{{$ctrl.resume_info.age}}</div>\n                <div ng-if="$ctrl.resume_info.background_alias" class="info-item background">{{$ctrl.resume_info.background_alias}}</div>\n            </div>\n        </div>\n        <div class="resume-proportion">\n            <div class="proportion-icon"><span class="icon icon-certificate-manegeme"></span></div>\n            <div class="proportion-title">完整度</div>\n            <div class="proportion-bar">\n                <div class="bar top">\n                    <div class="circleProgress right-circle"></div>\n                </div>\n                <div class="bar bottom">\n                    <div class="circleProgress left-circle"></div>\n                </div>\n            </div>\n            <div class="proportion-percent">{{$ctrl.percent || 0}}%</div>\n        </div>\n    </div>\n    <div class="my-resume-other-info select-job-class" ng-click="selectJobClass()"\n         ng-disabled="!edit_job_class" ng-hide="$ctrl.hide_resume_type">\n        <div>{{\'我的简历类型\'}}：{{$ctrl.resume_info.rec_job_class}}<span class="icon-hcm-edit" ng-if="edit_job_class"></span>\n        </div>\n    </div>\n    <div class="my-resume-other-info internal-code" ng-click="setMyInternalPushCode(resume.internal_push_name)"\n         ng-hide="$ctrl.hide_internal">\n        <div>{{\'我的推荐人\'}}：{{$ctrl.resume_info.internal_push_name}}<span class="icon-hcm-edit"\n                                                                       ng-if="is_new_resume"></span></div>\n    </div>\n</div>\n'},kwAS:function(e){e.exports=JSON.parse('[{"key":"dim_field1","label":"维度1","component":"hc-super-selector","options":{"singleLine":true,"required":true,"width":"col-6","placeholder":"请选择维度字段"}},{"key":"dim_field2","label":"维度2","component":"hc-super-selector","options":{"singleLine":true,"width":"col-6","placeholder":"请选择维度字段"}},{"key":"aggr_field","label":"统计","component":"hc-super-selector","options":{"singleLine":true,"required":true,"width":"col-6","placeholder":"请选择统计字段"}},{"key":"ag_type","label":"统计方式","component":"hc-super-selector","options":{"singleLine":true,"required":true,"width":"col-6","list":[{"label":"计数","value":"count"},{"label":"去重计数","value":"distinct_count"},{"label":"分组聚合","value":"group_concat"},{"label":"合计","value":"sum"},{"label":"最小值","value":"min"},{"label":"最大值","value":"max"},{"label":"平均","value":"avg"}]}}]')},lIXP:function(e,t){e.exports='<div class="super-search-homepage" ng-show="!searched && show_homepage" >\n    <div class="use-tips">\n        <span class="icon-technology"></span>\n        <span class="tips" ng-if="client===\'pc\'">使用过程中，空格代表“并且”条件, 如 例子A: 张三（万能搜索）；例子B: 姓名:张三,李四 年龄:28(组合搜索姓名为张三或李四 并且年龄为28) ；例子C: 姓名:%张%(模糊搜索)</span>\n        <span class="tips" ng-if="client===\'mobile\'">使用过程中，空格代表“并且”条件,<br/> 如 例子A: 张三（万能搜索）；<br/>例子B: 姓名:张三,李四 年龄:28(组合搜索姓名为张三或李四 并且年龄为28) ；<br/>例子C: 姓名:%张%(模糊搜索)</span>\n    </div>\n    <img src="/img?index=logo-super-search">\n    <div class="virtual-search-area">\n        <div class="virtual-search" ng-click="showTip($event);" ng-if="client === \'pc\' || !open_visual_search">\n            <div class="virtual-search-frame">\n                <input placeholder="请输入搜索词..."\n                       ng-click="inputClick($event)"\n                />\n                <span class="icon icon-hcm-check"></span>\n                <span class="icon icon-hcm-question"\n                      hc-title="空格代表“并且”条件，% 代表通配符"\n                      options="{mode: \'tip\', seconds: 0}"></span>\n            </div>\n        </div>\n        <div class="virtual-search" ng-click="showSearchDialog()" ng-if="client === \'mobile\' && open_visual_search">\n            <div class="virtual-search-frame">\n                <input placeholder="请输入搜索词..."\n                />\n                <span class="icon icon-hcm-check"></span>\n                <span class="icon icon-hcm-question"\n                      hc-title="空格代表“并且”条件，% 代表通配符"\n                      options="{mode: \'tip\', seconds: 0}"></span>\n            </div>\n        </div>\n        <div class="virtual-search-history" ng-if="history_list.length > 0 && open_search_history">\n            <div class="history-title">\n                <span class="title-text">历史记录</span>\n                <div class="delete-icon icon-hcm-trash" ng-click="clearHistory()">清空</div>\n            </div>\n            <div class="history-content">\n                <div class="virtual-keywords-content">\n                        <span class="keyword"\n                              ng-repeat="keyword in display_history_list track by $index"\n                              ng-click="historyKeywordsClick($index)">{{keyword}}</span>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>'},lNtv:function(e,t){e.exports='<div class="hc-board-data-chart-custom">\n    <div class="chart-setting simple-form report_filter">\n        <span>统计设置：</span>\n        <hc-form model="$ctrl.stat_setting"></hc-form>\n    </div>\n    <div class="hc-board-data-chart-container"></div>\n</div>\n'},lPa1:function(e,t){e.exports='<div class="home-widget">\n    <div class="home-widget-header flexbox">\n        <div class="menu">\n            \x3c!-- <div class="icon-hcm-calendar"\n                 ng-class="{selected:true}">\n                {{"日历"}}\n            </div> --\x3e\n            \x3c!--<div class="refresh icon-hcm-refresh" ng-click="refreshData()"></div>--\x3e\n            <div class="select-calendar-category">\n                <select ng-change="$ctrl.changeCategory()"\n                        ng-model="$ctrl.calendar_category"\n                        ng-options="_c.id as _c.label for _c in $ctrl.calendarCategories">\n                    \x3c!-- <option ng-repeat="_c in $ctrl.calendarCategories track by $index"\n                            value="_c.key"\n                        >{{_c.label}}</option> --\x3e\n                </select>\n            </div><div class="icon icon-hcm-info-normal" ng-if="$ctrl.calendar_category===\'attend\' && $ctrl.show_tip"\n            hc-title="{{$ctrl.statisticInfo}}" options="{mode: \'tip\', seconds: 0}"></div>\n        </div>\n        <div class="calendar-header">\n            <div class="btn left icon-hcm-arrow-left-double" ng-click="$ctrl.calendarMinus(\'y\')"></div>\n            <div class="btn left icon-hcm-arrow-left" ng-click="$ctrl.calendarMinus(\'m\')"></div>\n            <div class="text">{{$ctrl.calendar_year}}年{{$ctrl.calendar_month}}月</div>\n            <div class="btn right icon-hcm-arrow-right" ng-click="$ctrl.calendarPlus(\'m\')"></div>\n            <div class="btn right icon-hcm-arrow-right-double" ng-click="$ctrl.calendarPlus(\'y\')"></div>\n        </div>\n    </div>\n    <div class="home-widget-content">\n        <table class="calendar-content">\n            <tr class="weekday">\n                <th ng-repeat="_w in $ctrl.weeks track by $index">\n                    <div class=\'week-item\'>\n                        {{_w}}\n                    </div>\n                </th>\n            </tr>\n            <tr ng-repeat="_c in $ctrl.calendar_data">\n                <td ng-repeat="_d in _c track by $index">\n                    <div ng-if="_d" ng-click="$ctrl.selectDate(_d.date)" class="calendar-item"\n                         ng-class="{current_date:_d.date==$ctrl.current_date,selected_date:_d.date==$ctrl.selected_date}">\n                        <div class="day">{{_d.label}}\n                        </div>\n                        <div class="desc" ng-class="{\'is_important\':_d.high_light}"\n                             ng-if="$ctrl.calendar_category===\'moon\'">{{_d.lunar_date}}</div>\n                        <div class="sche {{$ctrl.month_calendar_data[_d.date]|timeAttendItemClass:[]}}"\n                             ng-if="$ctrl.calendar_category===\'attend\'">\n                            {{$ctrl.month_calendar_data[_d.date]|timeAttendItem}}\n                        </div>\n                    </div>\n                </td>\n            </tr>\n        </table>\n    </div>\n</div>\n'},lpDn:function(e,t){e.exports='<div class="home-widget-emp-view-card-info-mobile" ng-init="init()" ng-if="client===\'mobile\'">\n    <div class="emp-card-sign">\n        <span class="text">{{emp_slogan}}</span>\n        <span class="icon icon-hcm-edit" ng-click="editSlogan()"></span>\n    </div>\n    <hc-list-new model="list_model"></hc-list-new>\n</div>\n'},m5Re:function(e){e.exports=JSON.parse('{"tip":"","fields":[{"key":"data","label":"数据定义","component":"hc-input-mask","options":{"tip":"在此处定义图形需要使用的数据源","singleLine":true,"width":"col-12","placeholder":"请输入标识","required":false}},{"key":"drill","label":"穿透定义","component":"hc-input-script","options":{"singleLine":true,"mode":"json","width":"col-12","placeholder":"请输入穿透定义","required":false}},{"key":"countTitle","label":"统计标题","component":"hc-input","options":{"singleLine":true,"width":"col-12","placeholder":"请输入","required":false}},{"key":"formula","label":"取数公式","component":"hc-input-compute","options":{"singleLine":true,"width":"col-12","placeholder":"请输入取数公式","required":false,"need_check":false,"returnFormat":"content","formula_type":"only_formula","tip":"根据数据源的key获取计算结果并进行二次处理，可不填。eg:LIST_MAX(main, \'master_id\')"}},{"key":"getCountKey","label":"取数字段","component":"hc-input","options":{"singleLine":true,"width":"col-12","placeholder":"请输入","required":false,"tip":"对返回结果进行取值 \\n1. 返回结果为列表时取第一条数据对应该字段的值，\\n2. 返回结果为字典时直接取该字段的值，\\n3. 不填该字段则直接取返回结果 \\n（这里的返回结果指取数公式处理后的结果，没有取数公式的话则为数据源返回的第一条数据）"}},{"key":"require","label":"刷新依赖","component":"hc-input-script","options":{"singleLine":true,"mode":"json","width":"col-12","placeholder":"请输入过滤条件","required":false}}]}')},mGZk:function(e,t){e.exports='<div class="recruit-article-list">\n    <div class="article-title">\n        <div class="title-content">\n            招聘过程看板\n        </div>\n    </div>\n    <rec-chat-line rec-chat="$ctrl.recChat" ng-show="$ctrl.show_article"\n                   approve-record="$ctrl.apply_id"></rec-chat-line>\n    <div class="no-role-check" ng-show="!$ctrl.show_article">\n        <div class="icon icon-hcm-form-attention"></div>\n        <div class="no-role-check-content">当前登录人没有查看权限</div>\n    </div>\n</div>\n\n'},mtYn:function(e,t,n){"use strict";n.r(t);n("sMBO");var i=n("UtpJ"),o=n.n(i),r=n("M5Mt"),a=n.n(r),s=n("5PDf"),c=n.n(s),l=n("WxoT"),u=n.n(l),d=n("Vi3r"),p=n.n(d),h=n("FLGM"),f=n.n(h);n("srGB");window.app.factory("commonSuperSearchService",["dataService","templateService","contextService","$q","BaseCRUDService",function(e,t,n,i,r){var s=r.getModelService("EmpElasticSearch");return{getSearchTip:function(){var t=i.defer();return e.callHcmOpenApi("emp.advance.get.query.field.info",{},null,!0).then((function(e){e=f()(e).call(e,(function(e){return e.options=e.options||{},{key:e.key,search_key:e.search_key,control_type:e.control_type||(e.options.selectorModel&&!e.is_compare?"string":e.options.data_type),selectorModel:!1!==e.get_list&&e.options&&e.options.selectorModel,name:e.label||e.name,is_compare:e.is_compare,compare_key:e.compare_key}})),t.resolve(e)})),t.promise},getSearchInfo:function(){var t=i.defer();return e.callHcmOpenApi("emp.advance.get.query.field.info",{},null,!0).then((function(e){t.resolve(e)})),t.promise},getEmpList:function(e){return s.getItemList.apply(s,p()(e))},useBlur:function(){var e,t;return null===(e=n.getContext("auth"))||void 0===e||null===(t=e.company_setting)||void 0===t?void 0:t.emp_super_search_use_blur},empExport:function(t){return e.callHcmOpenWebSocket("emp.advance.accurate.search.export",{params:t})},getKey:function(){return self.hash_key||(self.hash_key=window.md5(u()({user:n.getContext("auth").employee.id,state:"emp-super-search"}))),self.hash_key},loadHistory:function(){var e=window.storage.getItem("local",this.getKey());return null==e?[]:e},pushHistory:function(e){var t=window.storage.getItem("local",this.getKey()),n=null==t?[]:t;e&&(n=c()(n).call(n,(function(t){return t!==e})),a()(n).call(n,0,0,e),window.storage.setItem("local",this.getKey(),o()(n).call(n,0,5)))},clearHistory:function(){window.storage.setItem("local",this.getKey(),[])}}}])},n3XB:function(e,t){e.exports='<hc-model-view params="$ctrl.params" ng-if="$ctrl.params && $ctrl.params.id" ng-class="{\'data-model-view-mobile\': $ctrl.client == \'mobile\'}"></hc-model-view>\n'},nPKi:function(e,t){e.exports='<div class="inner-resume-content-view apply-view" ng-init="init()">\n    <div class="apply-view-left inner-recruit-view">\n        <div class="inner-resume-operate">\n            <div class="resume-proportion">\n                <div class="proportion-number">\n                    <span class="number">简历完整度：{{resume_proportion}}%</span>\n                    <span class="icon-user-move refresh-proportion" hc-title="更新完整度"\n                          options="{\'mode\': \'tip\',\'seconds\': 0, \'direction\': \'column\'}"\n                          ng-click="get_proportion()">\n                </span>\n                </div>\n                <div class="proportion-total">\n                    <div class="proportion-value" ng-style=\'{width: resume_proportion + "%"}\'></div>\n                </div>\n            </div>\n            <span class="icon-user-move rebuild-resume" hc-title="初始化简历" ng-if="is_locked"\n                  options="{\'mode\': \'tip\',\'seconds\': 0, \'direction\': \'column\'}"\n                  ng-click="rebuild_resume()">\n                        </span>\n        </div>\n\n        <div class="inner-resume-content">\n            <div class="rec-resume-preview">\n                <div class="rec-main-info">\n                    <div class="photo-area">\n                            <span class="upload-photo" hc-title="上传头像" ng-if="is_locked"\n                                  options="{\'mode\': \'tip\',\'seconds\': 0, \'direction\': \'column\'}">\n                                    <span class="icon-hcm-upload" img-resize-upload l-width="600" l-quality="1"\n                                          ng-model="resume_info.basis.photo"\n                                          callback="selectImg">\n                                    </span>\n                                </span>\n                        <div class="photo-block">\n                            <img ng-if="resume_info.basis.photo"\n                                 ng-src="{{(resume_info.basis.photo||\'\') | hcPhoto:\'120,120\'}}">\n                            <div ng-if="!resume_info.basis.photo" class="resume-head"\n                                 style="width:120px;height:120px;font-size:40px;line-height:120px;"\n                                 ng-class="{1:\'boy\',2:\'girl\',3:\'boy\'}[resume_info.basis.gender]">\n                                {{resume_info.basis.name.substring(0, 1)}}\n                            </div>\n                        </div>\n                    </div>\n                    <div class="rec-resume-detail-children">\n                        <div class="rec-resume-detail-child" ng-repeat="_item in resumeBaseMetaList track by $index"\n                             ng-if="!_item.hide">\n                            <rec-base-info ng-if="_item[\'view\']===\'base\'" model_detail="_item"\n                                           show_bar="false"\n                                           resume_id="resume_id" contract_unit="contract_unit"></rec-base-info>\n                            <rec-single-info ng-if="_item[\'view\']===\'single\'" model_detail="_item"\n                                             show_bar="false"\n                                             resume_id="resume_id"\n                                             contract_unit="contract_unit"></rec-single-info>\n                            <rec-multi-info ng-if="_item[\'view\']===\'multi\'" model_detail="_item"\n                                            resume_id="resume_id"\n                                            contract_unit="contract_unit"></rec-multi-info>\n                            <rec-attachment-info ng-if="_item[\'view\']===\'attachment\'" model_detail="_item"\n                                                 resume_id="resume_id"\n                                                 contract_unit="contract_unit"></rec-attachment-info>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n'},oJNi:function(e,t){e.exports='<div class="hc-board-data-container" >\n    <home-widget-common-container tabs="$ctrl.tabs"\n                                  operates="$ctrl.operates"\n                                  refreshData="$ctrl.refreshData"\n                                  current-tab="$ctrl.currentTabs"\n                                  config="$ctrl.options.config">\n        <div class="render"></div>\n    </home-widget-common-container>\n</div>\n'},od6B:function(e){e.exports=JSON.parse('{"fields":[{"key":"components","label":"组件定义","component":"hc-field-list","options":{"singleLine":false,"width":"col-12","required":true,"list_meta":[{"key":"title","label":"标题","field":["title"],"data_type":"string","sequence":"10"},{"key":"name","label":"组件","field":["name"],"data_type":"string","sequence":"20"}],"operate_row":[{"key":"delete","icon":"icon-hcm-trash"},{"key":"edit","icon":"icon-hcm-edit"}],"list_btn_meta":[{"key":"new","label":"新增"}]}}],"groups":[{"key":"core","label":"基础配置","field_list":["data","base_template","dim_fields","ag_fields","chart","drill","require"]}]}')},p0ch:function(e,t){e.exports='<div ng-init="init()">\n    <div class="rec-depart-info-pc">\n        <div class="depart-logo">\n            <img class="logo" ng-if="departInfo.logo && departInfo.logo != \'\'"\n                 ng-src="{{is_new ? (departInfo.logo|hcZsbImage:\'80,80\':\'company-logo\'):(departInfo.logo|hcImage:\'80,80\':\'company-logo\')}}"\n                 alt="{{departInfo.name}}"/>\n            <div class="name">{{departInfo.name}}</div>\n        </div>\n        <div class="depart-title" ng-if="depart_meta.part_1">\n            <div class="depart-info" ng-repeat="part in depart_meta.part_1 track by $index">\n                <span class="label">{{part.label}}</span><span\n                ng-if="!part.type && part.type!=\'url\'">{{departInfo[part.key]}}</span><span\n                ng-if="departInfo.scale.search(\'人\') < 0 && part.key == \'scale\'"\n                class="staff">人</span>\n                <a ng-href="{{departInfo.web_site}}" ng-if="part.type && part.type==\'url\' && departInfo.web_site"\n                   target="_blank">{{part.url_label || \'点击查看\'}}</a>\n            </div>\n        </div>\n        <div class="depart-tag" ng-if="depart_meta.part_2">\n            <span class="tag" ng-repeat="item in departInfo.tag track by $index">{{item}}</span>\n        </div>\n        <div class="depart-desc" ng-if="depart_meta.part_3">\n            <div class="content" ng-repeat="part in depart_meta.part_3">{{departInfo[part.key]}}</div>\n        </div>\n    </div>\n</div>\n'},p4uW:function(e,t,n){"use strict";var i=n("OBge"),o=n.n(i),r=n("mrSG"),a=n("v8m2"),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.d)(t,e),t.prototype.getMeta=function(){return Object(r.c)(this,void 0,o.a,(function(){return Object(r.e)(this,(function(e){return this,[2,a.fields]}))}))},t}(n("VxaH").a);t.a=s},p7ys:function(e,t){e.exports='<div ng-init="init()" class="home-widget" ng-style="{color: $ctrl.boardCtrl.model.color[0]}">\n    <hc-view model="$ctrl.viewMeta"></hc-view>\n</div>'},pNd2:function(e,t){e.exports='<div class="resume-content-component" id="resume-content-component">\n    \x3c!--简历子集信息--\x3e\n    <div class="resume-content-center">\n        <div class="resume-block"\n             ng-class="{\'not-rendered\':base_config.lazyLoad && !showComponentIndex.includes($index)}"\n             ng-repeat="_item in $ctrl.$scope.nav_items |orderBy: \'sequence\' track by $index"\n             ng-if="!(_item.hide|valueToFunc)()"\n             ng-class="{\'profile-block-base\':_item[\'view\']===\'base\',\'profile-block-single\':_item[\'view\']===\'single\'}">\n            <div class="tag-head">\n                \x3c!--主体内容--\x3e\n                <resume-base class="resume-child"\n                             ng-if="_item[\'view\']===\'base\' && (!$ctrl.$scope.base_config.lazyLoad || $ctrl.$scope.showComponentIndex.includes($index))"\n                             child-model="_item" resume-id="$ctrl.resume_id"></resume-base>\n                <resume-single class="resume-child"\n                               ng-if="_item[\'view\']===\'single\' && (!$ctrl.$scope.base_config.lazyLoad || $ctrl.$scope.showComponentIndex.includes($index))"\n                               child-model="_item" resume-id="$ctrl.resume_id"></resume-single>\n                <resume-multi class="resume-child"\n                              ng-if="_item[\'view\']===\'multi\' && (!$ctrl.$scope.base_config.lazyLoad || $ctrl.$scope.showComponentIndex.includes($index))"\n                              child-model="_item" resume-id="$ctrl.resume_id"></resume-multi>\n            </div>\n        </div>\n    </div>\n    \x3c!--简历子集⚓点--\x3e\n    <div class="resume-content-right">\n        <div class="resume-content-nav">\n            <div class="resume-content-nav-set" ng-if="$ctrl.$scope.model_meta.actions.length>0">\n                <div ng-repeat="_action in $ctrl.$scope.model_meta.actions"\n                     ng-if="_action.action === \'SETUP\'"\n                     class="btn-icon {{_action.icon||\'icon-hcm-set\'}}"\n                     ng-click="$ctrl.$scope.parseParentAction(_action)"\n                ></div>\n            </div>\n            <div class="resume-content-nav-item"\n                 ng-if="!(_item.hide|valueToFunc)()"\n                 ng-class="_item.attachment.item_class"\n                 ng-repeat="_item in nav_items |orderBy: \'sequence\' track by $index"\n                 ng-click="$ctrl.$scope.goChild($index)">\n                <div class="text-block">\n                    <div class="icon"\n                         ng-class="{\'selected\':current_nav===$index||(!current_nav&&$index===0)}"></div>\n                    <div class="line" ng-hide="nav_items.length==$index+1"></div>\n                </div>\n                <div class="text"\n                     ng-class="{\'selected\':current_nav===$index||(!current_nav&&$index===0)}">{{_item.label}}</div>\n                <span ng-if="_item.attachment" class="attachment"\n                      ng-class="_item.attachment.class">{{_item.attachment.label}}</span>\n            </div>\n        </div>\n    </div>\n</div>\n'},pgN0:function(e,t){e.exports='<div class="home-widget-word-cloud" ng-init="init()">\n    <img class="photo-img" ng-if="img" src="data:image/png;base64,{{img}}">\n</div>\n'},qtx4:function(e,t){e.exports='<div id="emp-view-card"></div>'},r0v2:function(e,t){e.exports='<div class="recruit-resume-detail">\n    <div ng-repeat="part in $ctrl.showPart">\n        <div ng-if="part.component == \'resumeView\' && part.target.includes($ctrl.client)">\n            <hc-recruit-resume-detail-view\n                options="$ctrl.view_params"></hc-recruit-resume-detail-view>\n        </div>\n        <div class="resume-nav-content" ng-if="part.component == \'resumeNav\' && part.target.includes($ctrl.client)">\n            <hc-model-view params="$ctrl.params"></hc-model-view>\n        </div>\n    </div>\n</div>\n'},r8NO:function(e,t){e.exports='<div class="board-my-service-list" ng-class="$ctrl.options.class">\n    <div class="no-data" ng-if="$ctrl.app_list&&$ctrl.app_list.length<1&&$ctrl.client===\'pc\' && $ctrl.options.position !== \'inner\'">\n        <hc-svg options="{icon:\'hcm-no-content\'}"></hc-svg>\n        <div class="label">{{\'common_home_widget_my_app_no_content\'|translate}}</div>  \x3c!--当前没有内容--\x3e\n    </div>\n    <div class="app-list" ng-show="$ctrl.app_list &&  ($ctrl.app_list.length > 0 || $ctrl.options.position === \'inner\')">\n        <div class="item-container" ng-repeat="page in $ctrl.app_pages track by $index">\n            <div class="app-item-wrapper" ng-repeat="_app in page track by $index">\n                <a class="app-item"\n                   ng-if="$ctrl.client===\'pc\'"\n                   ng-class="{\'from-role\': _app.from_role}"\n                   ng-href="{{_app.href}}"\n                   ng-click="$ctrl.beforeJumpToApp(_app, $event)"\n                   ng-attr-target="{{($ctrl.is_open_new_page || _app.open_new_page)?\'_blank\':\'_self\'}}">\n                    <hc-icon app="_app" options="\'icon-top\'"></hc-icon>\n                    <div class="label"\n                         hc-title="{{$ctrl.app_title_description ? _app.description : _app.name}}"\n                         options="{mode: \'tip\', showOnOverflow: !$ctrl.app_title_description}">\n                        {{_app.name}}\n                    </div>\n                </a>\n                <div class="app-item"\n                     ng-if="$ctrl.client===\'mobile\'"\n                     ng-class="{\'from-role\': _app.from_role}"\n                     ng-click="$ctrl.go_app(_app)">\n                    <hc-icon app="_app" options="\'icon-top\'"></hc-icon>\n                    <div class="label" hc-title="{{$ctrl.app_title_description ? _app.description : _app.name}}"\n                         options="{mode: \'tip\', showOnOverflow: !$ctrl.app_title_description}">\n                        {{_app.name}}\n                    </div>\n                </div>\n            </div>\n            <div class="add-app"\n                 ng-repeat="operate in $ctrl.operates track by $index"\n                 ng-if="$ctrl.current_page===$ctrl.app_pages.length - 1\n                        && $ctrl.options.position === \'inner\'\n                        && $ctrl.options.adjustable === true"\n                 ng-show="$ctrl.currentTab===operate.key "\n                 ng-click="operate.func(operate)">\n                <div class="add-app-icon">\n                    <div class="icon icon-hcm-add"></div>\n                    <span class="label">添加收藏</span>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="page-index-bar" ng-if="$ctrl.app_pages.length > 1&&$ctrl.client===\'pc\'">\n        <div class="index-bar-item" ng-repeat="(index, _) in $ctrl.app_pages track by $index"\n             ng-class="{\'selected\': $ctrl.current_page === index}" ng-click="$ctrl.changePage(index)"></div>\n    </div>\n</div>\n\n'},s78J:function(e,t,n){"use strict";n("4mDm"),n("oVuX"),n("07d7"),n("5s+n"),n("PKPk"),n("3bBZ");var i=n("i5y0"),o=n.n(i),r=n("mnMc"),a=n.n(r),s=n("+oHS"),c=n.n(s),l=n("RXMP"),u=n.n(l),d=n("5PDf"),p=n.n(d),h=n("FLGM"),f=n.n(h),_=n("OBge"),m=n.n(_),v=n("BkRI"),g=n.n(v),b=n("QkVN"),y=n.n(b),w=n("mrSG"),x=n("+hqv"),S=n("Fpg2"),k=n("bQgN");window.app.controller("BaseSearchListController",["$controller","$rootScope","$scope","$state","CRUDService","InfoDialog","$hcForm","$hcDialog","$timeout",function(e,t,n,i,r,s,l,d,h){var _=this;n.client=window.client,e(x.a,{$scope:n,CRUDService:r,InfoDialog:s}),n.metaLoaded=function(e){var t,i;n.BANNER_HEIGHT=200,n.initSearchModel(n.parsed_filters),m.a.all([k.a.loadComponent("superSearchRangePanel")]).then((function(){n.isLoaded=!0,n.$apply()})),n.visual_search_form_fold=!1,n.initFormData=n.getFormData(),n.searchKey.key=n.getDefaultFilterStr(),"mobile"===n.client&&(n.initFormData.any_search=n.getFilterDict()),n.banner_image=null===(i=null===(t=n.list_config)||void 0===t?void 0:t.search_list_config)||void 0===i?void 0:i.banner_image,n.paging.hide_count=!0,e.advance_query.close=!0,n.banner_image&&document.querySelector(".h-c-main-content").addEventListener("scroll",(function(){var e=document.querySelector(".search-list-top-banner"),t=document.querySelector(".h-c-main-content").scrollTop;e&&(e.style.opacity=1-t/(n.BANNER_HEIGHT-50))}))},n.initSearchModel=function(e){return Object(w.c)(_,void 0,void 0,(function(){var t,i;return Object(w.e)(this,(function(o){switch(o.label){case 0:return[4,n.getAllInfoMeta()];case 1:return t=o.sent(),i=[],f()(t).call(t,(function(e){i.push.apply(i,Object(w.h)(e.info_fields))})),n.allSearchInfoMeta=n.funcParse(i),n.searchFormMeta=b(f()(e).call(e,(function(e){var t,i=p()(t=n.allSearchInfoMeta).call(t,(function(t){return t.key===e.key}));return y()({},i[0],e)}))),n.searchFormMeta=j(n.searchFormMeta),n.visual_search_model=l.createForm().$setMeta(n.searchFormMeta).$setData(n.initFormData),"mobile"===n.client&&n.refreshMobileList(n.initFormData),[2]}}))}))},n.getAllInfoMeta=function(){return r.getQueryFields(n.getMetaState(),n.getBizType(),[],n.force_refresh)},n.getAllFilterDict=function(){var e,t=n.clearFilterData;return Object(w.a)(Object(w.a)({},n.transFilterDict(angular.copy(t))),null===(e=n.getExtraFilterDict)||void 0===e?void 0:e.call(n,n.getEnvironmentParams(),t))},n.getStateParams=function(){return angular.extend({filter_str:n.getFilterStr(),filter_dict:n.clearFilterData||n.getFilterDict(),page_index:n.paging.current_page,page_size:n.paging.page_size},n.getPageChangeStateParams(),n.getAlterStateParams())},n.showSearchDialog=function(){var e;d.getDialog(S.a).params({meta:n.visual_search_model.fields,data:n.visual_search_model.data,all_info_meta:p()(e=n.allSearchInfoMeta).call(e,(function(e){return!e.options.hide})),placeholder:n.blur_fields}).slideInConfig("right").show().then((function(e){n.refreshMobileList(e)}))},n.refreshMobileList=function(e){n.clearFilterData=v(g()(e)),e.any_search?n.searchKey.key=e.any_search:n.searchKey.key=null,delete n.clearFilterData.any_search,O(n.clearFilterData,n.searchFormMeta),n.refreshList()},n.getFormData=function(){return i.params.filter_dict?JSON.parse(i.params.filter_dict):{}},n.getFilterDict=function(){return i.params.filter_dict},n.getDefaultFilterStr=function(){return i.params.filter_str},"pc"===n.client&&n.$watch("visual_search_model.data",(function(e){e&&h((function(){n.clearFilterData=v(g()(n.visual_search_model.data)),O(n.clearFilterData,n.searchFormMeta),n.refreshList()}),300)}),!0);var v=function(e){var t;return u()(t=c()(e)).call(t,(function(t){var n;a()(n=[void 0,null,""]).call(n,e[t])&&delete e[t]})),e},b=function(e){return f()(e).call(e,(function(e){var t,n=e.options;switch(n.required=!1,n.singleLine="pc"===window.client,n.width="col-12",n.readOnly=!1,n.tip="",n.no_trans_query=!1,n.label_width=180,n.individual_name=null!==(t=n.individual_name)&&void 0!==t?t:"name",e.component){case"hc-input":switch(n.data_type){case"number":case"integer":case"float":e.component="pc"===window.client?"super-search-range-panel":"hc-query-panel",n.component="hc-input",n.advance_operate_list=[{label:"等于",value:"="},{label:"大于",value:">"},{label:"大于等于",value:">="},{label:"小于",value:"<"},{label:"小于等于",value:"<="}]}break;case"hc-input-datetime":e.component="pc"===window.client?"super-search-range-panel":"hc-query-panel",n.inputLock=!0,n.component="hc-input-datetime";break;case"hc-super-selector":e.is_compare?(e.component="hc-query-panel",n.component="hc-input",n.advance_operate_list="integer"===n.data_type?[{label:"等于",value:"="},{label:"大于",value:">"},{label:"大于等于",value:">="},{label:"小于",value:"<"},{label:"小于等于",value:"<="}]:[{label:"等于",value:"="},{label:"大于等于",value:">="},{label:"小于等于",value:"<="}]):n.type="outside";break;case"hc-standard-tree-selector":e.component="hc-input",n.change="",n.data_type="string";break;case"hc-category-list-selector":e.component="hc-tag-new",n.inDrawer=!0,n.data_type="string"}return e}))},j=function(e){return f()(e).call(e,(function(e){if(e.list&&e.list.length>0){var t=e.options;switch(e.component="hc-super-selector",t.list=e.list,t.type="outside",t.data_type){case"string":t.multi=!0;break;case"number":case"integer":case"float":t.data_type="string"}}(e.default&&e.default.length>0&&(e.options.default=e.default),e.include_in_parent)&&((t=e.options).component=e.component,e.component="super-search-query-panel");e.is_compare&&((t=e.options).component="",t.multi=!1,t.returnFormat="value");return e}))},O=function(e,t){var i,r;n.selected_list=[],u()(i=p()(r=c()(e)).call(r,(function(t){return!!e[t]}))).call(i,(function(i){var r,a,s=p()(t).call(t,(function(e){return e.key===i}))[0],l=s.options;switch(s.component){case"hc-query-panel":case"super-search-range-panel":switch(l.component){case"hc-input":case"hc-input-datetime":if(c()(e[i]).length>1){var d=e[i].gte?s.label+">="+e[i].gte:"",h=e[i].lte?s.label+"<="+e[i].lte:"";(d||h)&&n.selected_list.push({key:i,value:d+" "+h})}else{var _=c()(e[i])[0];n.selected_list.push({key:i,value:s.label+{eq:":",gt:">",gte:">=",lt:"<",lte:"<="}[_]+e[i][_]})}}break;case"hc-super-selector":case"hc-tag-new":if(l.multi){var m,v,g,b={};if(l.originObject)b[s.label]=f()(v=l.originObject).call(v,(function(e){return e[l.individual_name]}));else b[s.label]=f()(g=e[i]).call(g,(function(e){var t,n;return u()(t=l.list).call(t,(function(t){(t.id||t.value)===e&&(n=t[l.individual_name])})),n}));n.selected_list.push({key:i,value:f()(m=o()(b)).call(m,(function(e){return e.join(":")})).join(" ")})}else{var y;l.originObject?y=l.originObject[l.individual_name]:null===(a=l.list)||void 0===a||u()(a).call(a,(function(t){(t.id||t.value)===e[i]&&(y=t[l.individual_name])})),n.selected_list.push({key:i,value:s.label+":"+y})}break;case"hc-input":case"hc-standard-tree-list-selector":default:var w={};w[s.label]=e[i],n.selected_list.push({key:i,value:f()(r=o()(w)).call(r,(function(e){return e.join(":")})).join(" ")})}}))};n.clearSearchStr=function(e){e.stopPropagation(),n.searchKey.key=null,$(".any-search").focus(),n.searchKey.change()},n.deleteSelected=function(e){var t;(n.visual_search_model.data[e]=null,"mobile"===n.client)&&(n.selected_list=p()(t=n.selected_list).call(t,(function(t){return t.key!==e})),n.refreshMobileList(n.visual_search_model.data));n.setState()},n.visualSearchSlideUp=function(){var e=$(".search-form");n.visual_search_form_fold?e.slideDown(200):e.slideUp(200),n.visual_search_form_fold=!n.visual_search_form_fold}}]),t.a="BaseSearchListController"},sEM7:function(e,t){e.exports='<div class="board-container plugin-setting" ng-init="init()">\n    <hcm-board model="board_model"></hcm-board>\n    <div class="layout_confirm">\n        <div class="operate-content">\n            <div class="btn-pc primary" ng-click="add_plugins()">{{\'common_personal_plugins_setting_add_plugins\'|translate}}</div>  \x3c!--新增插件--\x3e\n        </div>\n        <div class="tip-content">\n            <div class="primary">\n                {{\'common_personal_plugins_setting_primary_tip\'|translate}}\n                \x3c!--请拖拽卡片调整卡片的布局，再点击保存布局即可生效--\x3e\n            </div>\n            <div class="secondary">\n                {{\'common_personal_plugins_setting_secondary_tip\'|translate}}\n                \x3c!--备注：取消 - 不保存当前布局直接退出--\x3e\n            </div>\n        </div>\n    </div>\n</div>'},siud:function(e,t){e.exports='<div class="waterfall-multi-content" ng-init="init()">\n    <div ng-if="client== \'pc\'">\n        <div class="waterfall-component-title" ng-if="!hide_title">\n            <span class="arrow"\n            ng-class="{\n                        \'icon-hcm-arrow-down-solid\': !group_fold,\n                        \'icon-hcm-arrow-right-solid\': group_fold\n                     }"\n            ng-if="desc"\n            ng-click="foldClick()"\n        ></span><span ng-bind-html="(desc|valueToFunc)()|toTrusted"></span>\n            <span class="tip icon-hcm-info-normal" ng-if="title_tip"\n                  hc-title="{{(title_tip|valueToFunc)()}}"\n                  options="{mode: \'tip\', seconds: 0, direction: \'column_top\'}"></span>\n            <div class="waterfall-stat"\n                 ng-if="stat_meta.length>0 && stat_data.length>0 && list_config.waterfall_config.show_stat"\n                 style="{{list_config.waterfall_config.stat_style}}">\n                     <span ng-repeat="_stat in stat_meta">\n                            <span class="stat-label">{{_stat.label}}:</span>\n                            <span class="stat-data">{{stat_data[0][_stat.key]|hcNumber:(_stat.decimal || list_config[\'statistics_decimal\'] || _stat.precision || 0)}}&nbsp;&nbsp;</span>\n                    </span>\n            </div>\n            <hc-list-btn model="list_btn_model" class="list_btn_model_mobile"></hc-list-btn>\n        </div>\n        {{group.fold}}\n        <div class="waterfall-component-content" ng-style="{\'display\':group_fold?\'none\':\'block\'}">\n            <div class="waterfall-tip" ng-if="list_config.waterfall_config.tip">\n                <hc-content-tip content="list_config.waterfall_config.tip" tip-status="true"></hc-content-tip>\n            </div>\n            <hc-list-new model="list_model" ng-class="{\'no_list_config\':no_list_config}" ng-style="{\'max-height\':max_height,\'overflow\':client == \'pc\'?\'unset\':\'scroll\'}"></hc-list-new>\n        </div>\n    </div>\n    <div ng-if="client==\'mobile\'">\n        <div class="waterfall-tip" ng-if="list_config.waterfall_config.tip">\n            <hc-content-tip content="list_config.waterfall_config.tip" tip-status="true"></hc-content-tip>\n        </div>\n        <div class="waterfall-mobile-component-title title-mobile">\n            <div class="waterfall-component-title" ng-if="!hide_title">\n                 <span class="mobile-arrow"\n                       ng-class="{\n                        \'icon-hcm-arrow-down-solid\': !group_fold,\n                        \'icon-hcm-arrow-right-solid\': group_fold\n                     }"\n                       ng-if="desc"\n                       ng-click="foldClick()"\n                 ></span>\n                <span ng-bind-html="(desc|valueToFunc)()|toTrusted"></span>\n                <hc-list-btn model="list_btn_model" class="list_btn_model_mobile"></hc-list-btn>\n            </div>\n        </div>\n        <div class="waterfall-mobile-component-content" ng-style="{\'display\':group_fold?\'none\':\'block\'}">\n            <hc-list-new model="list_model"\n                         ng-class="{\'no_list_config\':no_list_config,\'no_list_config_mobile\':client==\'mobile\' && no_list_config}"></hc-list-new>\n        </div>\n    </div>\n    <div ng-if="list_model.data.length<1 && !group_fold && !list_model.noDataShow"\n         class="no-data-list"\n    >\n        <span>没有找到相应的数据</span>\n    </div>\n</div>\n\n\n'},txwG:function(e,t,n){e.exports=n.p+"resources/images/5cb1c34ea649bbf39538bca3c8751e5b.png"},v1R4:function(e,t){e.exports='<div class="hcm-menu resume-menu" ng-init="init()">\n    <div class="menu-title">简历信息</div>\n    <div class="menu-item" ng-repeat="item in nav_items |orderBy: \'sequence\' track by $index"\n        ng-class="item.attachment.item_class" ng-click="chooseItems($index)">{{item.label}}<span ng-if="item.attachment"\n            class="attachment" ng-class="item.attachment.class">{{item.attachment.label}}</span></div>\n</div>\n'},v8m2:function(e){e.exports=JSON.parse('{"tip":"","fields":[{}]}')},wOnQ:function(e,t,n){e.exports=n("IQUl")(263)},wuQg:function(e,t,n){"use strict";n("sMBO"),n("qePV"),n("toAj"),n("07d7"),n("JfAA");var i=n("iYz8"),o=n.n(i),r=n("6UaR"),a=n.n(r),s=n("Dcj1"),c=n.n(s),l=n("O0yt"),u=n.n(l),d=n("0lTi"),p=n.n(d),h=n("UtpJ"),f=n.n(h),_=n("D3kx"),m=n.n(_),v=n("/FZm"),g=n.n(v),b=n("ZbhI"),y=n.n(b),w=n("a0dU"),x=n.n(w),S=(n("ls82"),n("SPx3")),k=n.n(S),j=n("F1Dt"),O=n.n(j);n("O1Br");function A(e){if(void 0===u.a||null==c()(e)){if(a()(e)||(e=function(e,t){var n;if(!e)return;if("string"==typeof e)return L(e,t);var i=f()(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return p()(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return L(e,t)}(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r,s=!0,l=!1;return{s:function(){i=o()(e)},n:function(){var e=i.next();return s=e.done,e},e:function(e){l=!0,r=e},f:function(){try{s||null==i.return||i.return()}finally{if(l)throw r}}}}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}window.app.controller("innerNaireCtrl",["$scope","dataService","$hcForm","$compile",function(e,t,n,i){e.init=k()(x.a.mark((function t(){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getNaireTempContent();case 2:case"end":return t.stop()}}),t)}))),e.close=function(){e.$dialog.resolve_data(!1),e.$dialog.dialog_close()},e.submit=function(){e.$dialog.resolve_data(e.naire_info),e.$dialog.dialog_close()},e.getNaireTempContent=k()(x.a.mark((function i(){var o;return x.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return o=e.params.naire_template_id,i.next=3,t.callHcmOpenApi("eval.naire.template.get.temp.content",{naire_temp_id:o},null,!0).then((function(t){var i;e.naire=t,e.naire_form=n.createForm().$setMeta(null===(i=t.content)||void 0===i?void 0:i.content),e.naire_info=e.naire_form.data}));case 3:case"end":return i.stop()}}),i)}))),e.$watch("naire_info",(function(t,n){if(e.naire_form&&"undefined"!==t&&null!==t&&t!==n){for(var o in e.score=0,t){var r,a=e.naire_form.fields[o-1];if(a&&y()(r=["radiofield","numberfield","starfield"]).call(r,a.type)>-1)if("radiofield"===a.type){var s,c;if(n&&t[o]!==n[o])g()(c=$(".hc-naire .naire-content hc-form-component").eq(o-1)).call(c,"hc-input-radio .reason_input").remove();if(a.options.reason&&-1!==y()(s=a.options.reason).call(s,t[o])&&t[o]!==(!n||n[o])){var l,u,d="<input class='reason_input' ng-model='model.reason[".concat(o,"]' placeholder='请输入选择该选项的原因' type='text'>");2===(null===(l=e.object_info)||void 0===l?void 0:l.status)&&(d="<input class='reason_input' readonly ng-model='model.reason[".concat(o,"]' type='text'>")),g()(u=$(".hc-naire .naire-content hc-form-component").eq(o-1)).call(u,"hc-input-radio").append(i(d)(e))}var p,h=A(a.options.list);try{for(h.s();!(p=h.n()).done;){var f=p.value;if(f.value===t[o]){e.score=e.isWithWeight?e.score+f.score*a.options.weight:e.score+f.score;break}}}catch(e){h.e(e)}finally{h.f()}}else e.score=e.isWithWeight?e.score+Number(t[o])*a.options.weight:e.score+Number(t[o])}e.obj_score=m()(m()(e.score).toFixed(2))}}),!0),e.$dialog.operates([{label:"取消",func:e.close},{label:"提交",func:e.submit,default:!0}])}]),t.a={controller:"innerNaireCtrl",template:O.a}},x0Zu:function(e,t){e.exports='<div ng-init="$ctrl.$onInit()" class="board-setting-dialog">\n    <div class="setting-area">\n        <hc-form model="$ctrl.form_model"></hc-form>\n        <div class="setting-panel"></div>\n        <div class="extra-panel"></div>\n    </div>\n\n    \x3c!-- <div class="preview-area">\n        <div ng-if="!$ctrl.preview_model" class="valid-tip">\n            <hc-svg options="{icon:\'hcm-no-content\'}" class="no-data-svg"></hc-svg>\n            请完善插件配置信息\n        </div>\n        <div ng-if="$ctrl.validate_update" class="valid-update">\n            检测到图形配置变化, 点击<span ng-click="$ctrl.refreshPreviewModelVersion($event)" class="valid-update-btn">刷新</span>\n        </div>\n        <portal-chart\n            ng-if="!!$ctrl.preview_model"\n            model=\'$ctrl.preview_model\'\n        ></portal-chart>\n    </div> --\x3e\n\n    <div class="preview-area">\n        <home-widget-common-container tabs="$ctrl.tabs" operates="$ctrl.operates" current-tab="$ctrl.currentTab">\n            <home-widget-body-list-container options="$ctrl.setting_panel_data" no-advance-query="false" filter-dict="$ctrl.filterDict">\n            </home-widget-body-list-container>\n        </home-widget-common-container>\n    </div>\n</div>\n\n'},"yO+l":function(e,t,n){"use strict";var i=n("1hbj"),o=(n("srGB"),n("YvK2"));n("17i/");window.app.directive("waterfallViewSingle",[function(){return{restrict:"EA",template:n("f3y0"),scope:{childModel:"=",role:"=",checkRoleFunctions:"=",getItemId:"="},controller:["$scope","$state","$rootScope","$hcDialog","$controller","contextService","BaseCRUDService","$filter",function(e,t,n,r,a,s,c,l){var u=c.getModelService(e.childModel.model),d=e.childModel.meta_state||t.params.meta_state||e.role;a(o.a,{$scope:e,CRUDService:u,InfoDialog:Object(i.a)(e.childModel.model,d)}),e.meta_state=d,e.setTitle=function(){},e.initBefore=function(){e.title_tip=e.childModel.tip,e.hide_title=e.childModel.hide_title},e.individualParse=function(t){return e.checkRoles(t.role),t},e.checkRoles=function(t){var n;null===(n=e.checkRoleFunctions)||void 0===n||n.checkRoles(t)},e.getFilterDict=function(){var t,n={};return n[(null===(t=e.childModel)||void 0===t?void 0:t.parent_id)||"origin_id"]=l("tryInteger")(p()),n};var p=function(){return e.getItemId&&e.getItemId()};e.refreshChild=function(e){n.$emit("refresh_child_signal",e)},n.$on("waterfall_data_change",(function(){e.fetchData()})),n.$on("refresh_child",(function(t,n){n&&n===e.childModel.key&&e.fetchData()}))}]}}])},yW4K:function(e,t){e.exports='<div class="waterfall-view-pc" ng-init="init()" ng-if="$ctrl.client === \'pc\'">\n    <div class="waterfall-view-top" ng-if="dev_btn_model.visible_actions().length > 0">\n        <div class="top-left-content">\n            <div class="top-header">{{(base_config.top_title|valueToFunc)()}}</div>\n        </div>\n        <div class="top-right-content">\n            <div class="top-description" ng-bind-html="(base_config.top_description|valueToFunc)()|toTrusted"></div>\n            <hc-list-btn model="dev_btn_model"></hc-list-btn>\n        </div>\n    </div>\n    <div class="waterfall-view-content model-view-style">\n        <div class="waterfall-view-nav"\n             ng-class="{\n                         \'position-right\':model_meta.base_config.nav_position === \'right\',\n                         \'position-left\':model_meta.base_config.nav_position !== \'right\'\n                         }">\n            <div class="waterfall-view-nav-content">\n                <div class="waterfall-view-nav-top">\n                    <div class="waterfall-nav-title">{{model_meta.description || \'\'}}</div>\n                    <div class="waterfall-view-nav-set" ng-if="model_meta.actions.length>0">\n                        <div ng-repeat="_action in model_meta.actions"\n                             class="btn-icon {{_action.icon||\'icon-hcm-set\'}}"\n                             ng-click="parseParentAction(_action)"\n                             ng-if="_action.key === \'setup\'"\n                        ></div>\n                    </div>\n                </div>\n                <div class="waterfall-view-nav-item"\n                     ng-repeat="_item in nav_items |orderBy: \'sequence\' track by $index"\n                     ng-click="goChild($index)"\n                     ng-mouseover="mouseHover(_item,$index)"\n                     ng-mouseleave="mouseLeave()"\n                     ng-init="outerIndex=$index">\n                    <div class="text-block">\n                        <div class="icon"\n                             ng-class="{\'selected\':current_nav===$index||(!current_nav&&$index===0)}"></div>\n                        <div class="line" ng-hide="nav_items.length==$index+1"></div>\n                    </div>\n                    <div class="text"\n                         ng-class="{\'selected\':current_nav===$index||(!current_nav&&$index===0)}">{{_item.label}}</div>\n                    <span ng-if="_item.attachment" class="attachment"\n                          ng-class="_item.attachment.class">{{_item.attachment.label}}</span>\n                </div>\n            </div>\n        </div>\n        <div class="waterfall-view-body"\n             ng-class="{\n                         \'position-right\':model_meta.base_config.nav_position === \'right\',\n                         \'position-left\':model_meta.base_config.nav_position !== \'right\'\n                         }">\n            <div class="waterfall-view-component" ng-repeat="_item in nav_items |orderBy: \'sequence\' track by $index"\n                 ng-hide="_item.hide">\n                <div class="tag-head">\n                    \x3c!--主体内容--\x3e\n                    <waterfall-view-base class="view-component"\n                                         ng-if="_item[\'view\']===\'base\'"\n                                         child-model="_item"\n                                         role="role"\n                                         get-item-id="$ctrl.getItemID"></waterfall-view-base>\n                    <waterfall-view-single class="view-component"\n                                           ng-if="_item[\'view\']===\'single\'"\n                                           child-model="_item"\n                                           role="role"\n                                           get-item-id="$ctrl.getItemID"></waterfall-view-single>\n                    <waterfall-view-multi class="view-component"\n                                          ng-if="_item[\'view\']===\'multi\'"\n                                          child-model="_item"\n                                          role="role"\n                                          get-item-id="$ctrl.getItemID"></waterfall-view-multi>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n\n<div class="waterfall-view-mobile hcm-nav-content" ng-init="init()" ng-if="$ctrl.client === \'mobile\'">\n    <div class="waterfall-view-content mobile-waterfall-content">\n        <div class="waterfall-view-body">\n            <div class="waterfall-view-component" ng-repeat="_item in nav_items |orderBy: \'sequence\' track by $index"\n                 ng-hide="_item.hide">\n                <div class="tag-head">\n                    <waterfall-view-base class="view-component"\n                                         ng-if="_item[\'view\']===\'base\'"\n                                         child-model="_item"\n                                         role="role"\n                                         get-item-id="$ctrl.getItemID"></waterfall-view-base>\n                    <waterfall-view-single class="view-component"\n                                           ng-if="_item[\'view\']===\'single\'"\n                                           child-model="_item"\n                                           role="role"\n                                           get-item-id="$ctrl.getItemID"></waterfall-view-single>\n                    <waterfall-view-multi class="view-component"\n                                          ng-if="_item[\'view\']===\'multi\'"\n                                          child-model="_item"\n                                          role="role"\n                                          get-item-id="$ctrl.getItemID"></waterfall-view-multi>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n\n\n'},ymmX:function(e,t,n){"use strict";var i=n("7aWf"),o=n.n(i),r=n("bQgN");n("RkC6"),n("srGB");window.app.service("OrgDeptSearchService",["BaseCRUDService","dataService","templateService","$state",function(e,t,n,i){angular.extend(this,e.getModelService("OrgDepartment")),this.getItemList=function(e,n,i,o,r,a,s){return t.callHcmOpenApi("org.position.search",{org_id:n["position.parent_id"].child_include,key:e,filter_org_type:20,role:"manager"}).then((function(e){var t={list:[],count:0};return e.length&&(t={list:e,count:e.length}),t}))}}]);window.app.controller("orgDeptNewSearchDailogController",["$scope","OrgDeptSearchService","BaseCRUDService",function(e,t,n){var i=n.getModelService("Employee");e.init=function(){e.tab_item=e.params.hide_org?[{value:"emp",label:"人员"}]:[{value:"emp",label:"人员"},{value:"org",label:"组织"}],e.current_tab="emp",e.empSearchOptions={crudService:i,radio_list:[{value:"child_include",name:"包含下级"},{value:"current_state",name:"本级"},{value:"all",name:"全公司"}],radio_default:"child_include",filter_dict:e.params.filter_dict,meta_state:e.params.emp_state},e.orgSearchOptions={crudService:t,radio_list:[{value:"child_include",name:"包含下级"},{value:"all",name:"全公司"}],radio_default:"child_include",meta_state:e.params.org_state},r.a.loadComponent("hcSearchList").then((function(){e.isLoaded=!0,e.$apply()}))},e.changeType=function(t){e.current_tab=t},e.$dialog.operates([{label:"取消",func:function(){e.$dialog.dialog_close()}},{label:"确认",func:function(){e.confirm()},default:!0,is_important:!0}]),e.confirm=function(){var t;t="emp"===e.current_tab?e.empSearchOptions.getSelectedItem():e.orgSearchOptions.getSelectedItem(),e.$dialog.resolve_data({type:e.current_tab,item:t}),e.$dialog.dialog_close()}}]);t.a={controller:"orgDeptNewSearchDailogController",template:o.a,name:"orgDeptNewSearchDailog"}},ysBk:function(e,t){e.exports='<div class="home-widget-emp-card-info-mobile" ng-init="init()" ng-if="client===\'mobile\'">\n    <div class="emp-card-sign">\n        <span class="text">{{emp_slogan}}</span>\n        <span class="icon icon-hcm-edit" ng-repeat="item in model_meta.extend"\n              ng-if="item[\'key\']==\'show_sign\'&& !item[\'value\'].hide" ng-click="editSlogan()"></span>\n    </div>\n    <hc-list-new class="emp-card-height"  model="list_model"></hc-list-new>\n</div>\n'},ytNu:function(e){e.exports=JSON.parse('{"tip":"","fields":[{"label":"卡片信息模型","key":"model","component":"hc-super-selector","options":{"data_type":"string","individual_name":"name_description","placeholder":"请输入列表模型","returnFormat":"name","selectorObject":"hcm.db.object","maxlength":40,"require":true,"singleLine":true}},{"key":"id","label":"数据id","component":"hc-input","options":{"singleLine":true,"width":"col-12","placeholder":"请输入数据id","required":false,"refer_data":[{"label":"可选变量"}]}},{"key":"id_require","label":"数据id依赖","component":"hc-input","options":{"singleLine":true,"width":"col-12","placeholder":"请配置id依赖","required":false}},{"key":"state","label":"卡片信息场景","mode":"base","component":"hc-input","options":{"singleLine":true,"width":"col-12","placeholder":"请输入列表场景","required":false}}]}')},zeMa:function(e,t){e.exports='<div class="border-container">\n    <hcm-board model="$ctrl.board_model"></hcm-board>\n</div>\n'},zvNk:function(e){e.exports=JSON.parse('{"tip":"","fields":[{"key":"block_info","label":"数据源设置","component":"hc-input-mask","options":{"singleLine":true,"width":"col-12","placeholder":"点击设置数据源"}},{"key":"data_dim","label":"预制统计维度","dataPath":["data","dim"],"component":"hc-input-tag","options":{"tip":"配置维度1和2的默认选项，\\n第一个字段为维度1的默认值，\\n第二个字段为维度2的默认值,\\n之后配置的字段无效","singleLine":false,"width":"col-12","placeholder":"请输入维度","required":true}},{"key":"data_aggr","label":"预制统计值","dataPath":["data","aggr"],"component":"hc-input-tag","options":{"tip":"配置统计值的默认选项","singleLine":false,"width":"col-12","placeholder":"请输入统计","required":true}},{"key":"optional_dim","label":"统计维度1可选值","dataPath":["optional_dim"],"component":"hc-input-tag","options":{"tip":"配置维度1下拉菜单中的可选字段","singleLine":false,"width":"col-12","placeholder":"请输入维度","required":true}},{"key":"optional_dim2","label":"统计维度2可选值","dataPath":["optional_dim2"],"component":"hc-input-tag","options":{"tip":"配置维度2下拉菜单中的可选字段,\\n如果不配置则默认取维度1中的配置","singleLine":false,"width":"col-12","placeholder":"请输入维度","required":true}},{"key":"optional_aggr","label":"可选统计值","dataPath":["optional_aggr"],"component":"hc-input-tag","options":{"tip":"配置统计下拉菜单中的可选字段","singleLine":false,"width":"col-12","placeholder":"请输入统计","required":true}},{"key":"report_style","label":"交叉设置","component":"hc-input-radio","options":{"list":[{"value":"normal","name":"汇总表"},{"value":"cross","name":"交叉汇总表"}],"singleLine":true,"width":"col-12","default":"normal","returnFormat":"value","required":true}},{"key":"filter","label":"过滤设置","component":"hc-input-script","options":{"singleLine":false,"mode":"json","width":"col-12","placeholder":"请输入过滤条件","required":false}},{"key":"drill","label":"穿透设置","component":"hc-input-json","options":{"singleLine":false,"mode":"json","width":"col-12","placeholder":"请输入穿透配置","required":false}},{"key":"require","label":"刷新依赖","component":"hc-input-script","options":{"singleLine":true,"mode":"json","width":"col-12","placeholder":"请输入过滤条件","required":false}}]}')}}]);