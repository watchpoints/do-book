(window.webpackJsonp=window.webpackJsonp||[]).push([[164,19],{"+lK5":function(e,t,n){"use strict";var i=n("ZbhI"),a=n.n(i),o=n("M5Mt"),s=n.n(o),c=n("WxoT"),r=n.n(c),l=n("mnMc"),_=n.n(l),d=n("+oHS"),p=n.n(d),u=n("RXMP"),m=n.n(u),g=n("o+MX"),h=n.n(g),v=n("5PDf"),f=n.n(v),y=n("FLGM"),b=n.n(y);window.app.factory("portalService",["$rootScope","dataService","$q",function(e,t,n){return{pluginsConfig:function(){var e=n.defer();return t.callHcmOpenApi("portal.plugins.config",{},null,!0).then((function(t){var n,i,a={};b()(t).call(t,(function(e){a[e.category_key]?a[e.category_key].children.push(e):(a[e.category_key]=angular.copy(e.category),a[e.category_key].children=[e])})),e.resolve(f()(n=b()(i=p()(a)).call(i,(function(e){return a[e]}))).call(n,(function(e){return e.children.length>0})))})),e.promise},getPlugins:function(){return t.callHcmOpenApi("portal.plugins.list",{},null,!0)},modifyPlugins:function(e){return t.callHcmOpenApi("portal.plugins.modify",{info:e},null,!0)},resetPlugins:function(){return t.callHcmOpenApi("portal.plugins.reset",{},null,!0)}}}]);n("vjaz"),n("E0Ah"),n("gsMG");var w=n("KYsz"),$=n.n(w),x=(n("sStD"),n("o3ei"),n("UAhV")),k=n("z/LF"),M=n.n(k),E=n("CkDz");n("xAfy");window.app.controller("portalPluginsSetting",["$scope","dataService","hcPluginsSettingService","$hcForm","$hcDialog","dataToolService","contextService",function(e,t,n,i,o,s,c){e.init=function(){var t,n;e.show_new_portal=!!(null===(t=c.getContext("auth"))||void 0===t||null===(n=t.company_setting)||void 0===n?void 0:n.show_new_portal),e.getPluginsConfig(),e.plugin=null},e.getPluginsConfig=function(){n.pluginsConfig().then((function(t){var n=0===e.params.target||void 0===e.params.target?"pc":"mobile";e.pluginsConfig=$()(t).call(t,(function(t,i){var o;return i.target&&!((null===(o=i.target)||void 0===o?void 0:a()(o).call(o,n))>-1)||(i.is_new||i.is_old)&&i.is_new!==e.show_new_portal&&i.is_old!==!e.show_new_portal||t.push(i),t}),[])}))},e.choose_plugins=function(t){var n=angular.extend({"home-widget-message":x.a,"count-sec":{title:"组件设置",controller:E.a,template:M.a,size:"middle"}},s.getWidget());n[t.plugin]?o.getDialog(n[t.plugin]).show(t).then((function(n){n.params=n.params||{},n.message_show_sort&&(n.params.message_show_sort=n.message_show_sort,n.params.is_dynamic=n.is_dynamic),n.plugin=t.plugin,e.plugin=n,e.callback(n)})):(e.plugin=t,e.callback())},e.callback=function(){e.$dialog.resolve_data(e.plugin),e.$dialog.dialog_close()}}]);n("pNMO"),n("4Brf"),n("4mDm"),n("07d7"),n("5s+n"),n("PKPk"),n("3bBZ");var O=n("OBge"),A=n.n(O),S=n("lHQ6"),C=n.n(S),D=n("a0dU"),P=n.n(D),j=(n("ls82"),n("SPx3")),I=n.n(j),T=(n("xxHt"),n("sGGm"),n("wd/R")),B=n.n(T);n("bmIa"),n("F6Fg"),n("UnGC");window.app.directive("homeWidgetTimeCalendar",(function(){return{restrict:"E",template:n("Pfe1"),scope:{model:"="},controller:["$scope","$rootScope","$q","dataService","homeWidgetAttendCalendarService","TimeCommonService","contextService","TimeDataService",function(e,t,n,i,a,o,s,c){e.reduce_permit=!0,e.auth=s.getContext("auth"),e.weeks=["一","二","三","四","五","六","日"],e.init=I()(P.a.mark((function t(){return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.current_date=e.selected_date=B()().format("YYYY-MM-DD"),e.year=e.calendar_year=B()(e.current_date).year(),e.month=e.calendar_month=B()(e.current_date).month()+1,e.employee_id=e.auth.employee.id,e.depart_id=e.auth.jobs[0].department_id,t.next=7,e.getPreMonthCount();case 7:e.checkInfo=t.sent,e.setCalendar(e.year,e.month);case 9:case"end":return t.stop()}}),t)}))),e.getPreMonthCount=function(){var e=n.defer();return i.callHcmOpenApi("time.parameters.setting.get.data.by.key.other",{time_depart:!0,key:"attend_calendar_data_view_month"}).then((function(t){t?e.resolve({check:!0,value:C()(t.value)}):e.resolve({check:!1,value:0})}),(function(){e.resolve({check:!1,value:0})})),e.promise},e.hex12Boolean=function(t,n){if(!e.checkInfo.check)return!0;if(t<e.year||t===e.year&&n<e.month){var i=e.month-n;if((i=i<1?i+12*(e.year-t):i)>e.checkInfo.value)return!1}return!0},e.calendarMinus=function(t,n){"m"===n?1===e.calendar_month?(e.calendar_month=12,e.calendar_year=e.calendar_year-1):e.calendar_month=e.calendar_month-1:e.calendar_year=e.calendar_year-1,t&&e.setCalendar(e.calendar_year,e.calendar_month,n)},e.calendarPlus=function(t,n){"m"===n?12===e.calendar_month?(e.calendar_month=1,e.calendar_year=e.calendar_year+1):e.calendar_month=e.calendar_month+1:e.calendar_year=e.calendar_year+1,t&&e.setCalendar(e.calendar_year,e.calendar_month,n)},e.setCalendar=function(n,i,a){if(!e.hex12Boolean(n,i))return t.show_warning("对不起，"+n+"年"+i+"月及以前数据已结转封存，无法查看！"),void e.calendarPlus(!1,a);e.reduce_permit=!0,e.calendar_data=o.getMonthCalendar(n,i),e._fetchSchedule(o.getMonthBegin(n,i),o.getMonthEnd(n,i)).then((function(t){e.month_calendar_data=t}))},e._fetchSchedule=function(t,i){var o=n.defer(),s=[a.getDataList(t,i,e.depart_id,[e.employee_id]),a.getDataListByEmp(t,i,e.employee_id)];return A.a.all(s).then((function(t){var n,i,a={};m()(n=t[0].list).call(n,(function(e){a[e.date]=e})),e.schedule_month=t[1].count_month,e.shift_month=t[1].shift_month,e.work_unusual=t[1]._countType,e.work_onjob_count=t[1].work_onjob_count,e.work_onjob=t[1].work_onjob,e.detail=t[1]._detail,e.item_keys=p()(t[1]._detail),b()(i=e.item_keys).call(i,(function(n){e.detail[n].count=t[1]._detail[n]._count,e.detail[n].sum=t[1]._detail[n]._sum})),o.resolve(a)})),o.promise},e.single_click=!1,e.refreshData=function(){if(e.single_click)t.show_warning("数据刷新中，请勿重复刷新。","warning");else{e.single_click=!0,t.show_waiting();var n=o.getMonthBegin(e.calendar_year,e.calendar_month),i=o.getMonthEnd(e.calendar_year,e.calendar_month);c.attendCalcService(n,i,e.depart_id,[e.employee_id]).then((function(){e._fetchSchedule(n,i).then((function(t){e.month_calendar_data=t})),e.single_click=!1,t.show_warning("刷新成功","warning"),t.hide_waiting()}),(function(n){t.show_warning(n.description,"warning"),e.single_click=!1,t.hide_waiting()}))}},e.dateView=function(t){e.selected_date=t}}]}}));n("XNyo"),n("b/Sd");window.app.directive("portal",[function(){return{restrict:"EA",replace:!0,template:n("0I+d"),scope:{model:"="},controller:["$scope","$rootScope","$hcDialog","portalService","dataToolService","hcAutoCopyService","contextService",function(e,t,i,o,c,l,d){e.init=function(){var t,n,i,a,o;e.roles=null!==(t=null===(n=d.getContext("auth"))||void 0===n?void 0:n.roles)&&void 0!==t?t:{},e.is_admin=(null===(i=e.roles)||void 0===i?void 0:i.onlyoneowner)||(null===(a=e.roles)||void 0===a?void 0:a["sys-manager"]),e.is_onlyoneowner=null===(o=e.roles)||void 0===o?void 0:o.onlyoneowner,e.getPlugins(),e.setOperate(),e.sortable_config={sort:!1,animation:300}},e.getPlugins=function(){o.getPlugins().then((function(t){e.plugins=t}))},e.modifyPlugins=function(n){o.modifyPlugins(n||e.plugins).then((function(n){e.plugins=n,t.show_warning("修改成功")}))},e.resetPlugins=function(){o.resetPlugins().then((function(n){e.plugins=n,t.show_warning("修改成功")}))},e.setOperate=function(){e.plugins_set=[],e.portal_operate=[{key:"add_plugins",label:"添加插件",click:e.add_plugins},{key:"restore_layout",label:"恢复默认布局",click:e.restore_layout},{key:"adjust_layout",label:"调整布局",click:e.adjust_layout}]},e.add_plugins=function(){i.getDialog({controller:"portalPluginsSetting",template:n("uMe+")}).params({}).title("新增插件").show().then((function(n){var i,a,o;"app_list"===(null==n||null===(i=n.category)||void 0===i?void 0:i.key)&&f()(a=e.plugins).call(a,(function(e){return"app_list"===e.category_key})).length?t.show_warning("主页中已经存在“最近应用”插件"):(n.params=n.params||{},n.is_dynamic&&(n.params.is_dynamic=n.is_dynamic,n.params.message_show_sort=n.message_show_sort),e.modifyPlugins(h()(o=e.plugins).call(o,[n])))}))},e.copy_plugin_config=function(e){var n,i=angular.copy(e);m()(n=p()(i)).call(n,(function(e){var t;_()(t=["key","params"]).call(t,e)||delete i[e]})),console.log("复制插件配置："+r()(i)),l.copy(r()(i))&&t.show_warning("已复制到剪贴板: "+r()(i))},e.delete_plugin=function(t){var n,i;s()(n=e.plugins).call(n,a()(i=e.plugins).call(i,t),1)},e.edit_plugin=function(t,n){var a=angular.extend({"home-widget-message":x.a},c.getWidget());"dashboard_child"===t.key&&i.getDialog(a[t.category.plugin]).params(t.params).show().then((function(t){e.plugins[n]=t}))},e.restore_layout=function(){i.confirm("是否恢复默认布局?",[{caption:"确认",func:function(){e.resetPlugins()}}])},e.adjust_layout=function(){e.sortable_config.sort=!0},e.cancel_adjust_layout=function(){e.sortable_config.sort=!1,e.getPlugins()},e.save_adjust_layout=function(){0===e.plugins.length?i.confirm("当前没有插件，即将恢复默认布局?",[{caption:"确认",func:function(){e.modifyPlugins(),e.sortable_config.sort=!1}}]):(e.modifyPlugins(),e.sortable_config.sort=!1)},e.showDelete=function(t){return"public"===t.shared_type&&e.is_onlyoneowner||"public"!==t.shared_type}}]}}])},"/443":function(e,t){e.exports='\x3c!--<home-widget-common-container class="home-widget-inner-recruit-job"--\x3e\n\x3c!--                              tabs="$ctrl.tabs" operates="$ctrl.operates" current-tab="\'inner-recruit\'">--\x3e\n\x3c!--    <div class="mobile-part" ng-if="$ctrl.client === \'mobile\'" ng-click="$ctrl.goToJobView($ctrl.job_list.list[0])">--\x3e\n\x3c!--        <div class="job-first-line">--\x3e\n\x3c!--            <div class="new-job">最新</div><div class="job-name">{{$ctrl.job_list.list[0].name}}</div>--\x3e\n\x3c!--        </div>--\x3e\n\x3c!--        <div class="job-second-line">--\x3e\n\x3c!--            <div>--\x3e\n\x3c!--                <span>{{$ctrl.job_list.list[0].department_name}}</span>--\x3e\n\x3c!--                <span>{{$ctrl.job_list.list[0].work_city}}</span>--\x3e\n\x3c!--            </div>--\x3e\n\x3c!--            <div class="release-time">{{$ctrl.job_list.list[0].release_date|timeFormatOne}}</div>--\x3e\n\x3c!--        </div>--\x3e\n\x3c!--    </div>--\x3e\n\x3c!--    <div class="pc-part" ng-if="$ctrl.client === \'pc\'">--\x3e\n\x3c!--        <ul>--\x3e\n\x3c!--            <li ng-repeat="job in $ctrl.job_list.list track by $index" ng-click="$ctrl.goToJobView(job)">--\x3e\n\x3c!--                <div class="job-first-line">--\x3e\n\x3c!--                    <div class="new-job" ng-if="$index === 0">最新</div><div ng-class="{\'job-name\': $index === 0}">{{job.name}}</div>--\x3e\n\x3c!--                </div>--\x3e\n\x3c!--                <div class="job-second-line">--\x3e\n\x3c!--                    <div>--\x3e\n\x3c!--                        <span>{{job.department_name}}</span>--\x3e\n\x3c!--                        <span>{{job.work_city}}</span>--\x3e\n\x3c!--                        <span>{{job.contacts}}</span>--\x3e\n\x3c!--                        <span ng-if="job.auto_offline_date">{{job.auto_offline_date.slice(0, 10)}}截止</span>--\x3e\n\x3c!--                    </div>--\x3e\n\x3c!--                    <div class="release-time">{{job.release_date|timeFormatOne}}</div>--\x3e\n\x3c!--                </div>--\x3e\n\x3c!--            </li>--\x3e\n\x3c!--        </ul>--\x3e\n\x3c!--    </div>--\x3e\n\x3c!--</home-widget-common-container>--\x3e\n\n<home-widget-common-container class="home-widget-inner-recruit-job"\n                              tabs="tabs" operates="operates" current-tab="\'inner-recruit\'">\n    <div ng-init="init()" class="portal-job-plugin" ng-class="{\'mobile-style\': client === \'mobile\'}">\n        <hc-list-new model="list_model"></hc-list-new>\n    </div>\n</home-widget-common-container>\n'},"/5Yh":function(e,t,n){"use strict";n.r(t);n("rB9j"),n("Rm1S");var i=n("RXMP"),a=n.n(i),o=n("+oHS"),s=n.n(o),c=n("KYsz"),r=n.n(c),l=n("M5Mt"),_=n.n(l),d=n("ZbhI"),p=n.n(d),u=n("5PDf"),m=n.n(u),g=n("0vOt"),h=n("U/5H"),v="Sortable:ng-sortable",f=h.prototype._onTapStart;h.prototype._onTapStart=function(e){e.stopPropagation(),f.apply(this,arguments)},g.a.directive("ngSortable",["$parse",function(e){var t,n;return{restrict:"AC",scope:{ngSortable:"=?"},link:function(i,o){var c,l,d=o[0],u=angular.extend(i.ngSortable||{}),g=[],f=function(t,n){var i=m()([]).call(t.childNodes,(function(e){var t;return 8===e.nodeType&&-1!==p()(t=e.nodeValue).call(t,"ngRepeat:")}))[0];if(!i)return function(){return null};i=i.nodeValue.match(/ngRepeat:\s*(?:\(.*?,\s*)?([^\s)]+)[\s)]+in\s+([^\s|]+)/);var a=e(i[2]);return function(){return a(n.$parent)||[]}}(d,i);function y(e){var t=e.oldIndex,n=e.newIndex,i=$(d).children("[ng-repeat]").index();(!i||-1==i)&&(i=0);var a=function(e){return"number"==typeof e?(e<i?e=i:e-=i,e):e};return{oldIndex:t=a(t),newIndex:n=a(n)}}function b(e,t){var n="on"+e.type.charAt(0).toUpperCase()+e.type.substr(1),i=f(),a=y(e);u[n]&&u[n]({model:t||i[e.newIndex],models:i,oldIndex:a.oldIndex,newIndex:a.newIndex})}function w(e){var a=f();if(a){var o=y(e),s=o.oldIndex,c=o.newIndex;if(d!==e.from){var r=e.from[v]();t=r[s],e.clone?(t=angular.copy(t),_()(r).call(r,h.utils.index(e.clone),0,_()(r).call(r,s,1)[0]),e.from.removeChild(e.clone)):_()(r).call(r,s,1),_()(a).call(a,c,0,t),e.from.insertBefore(e.item,n)}else _()(a).call(a,c,0,_()(a).call(a,s,1)[0]);i.$apply()}}d[v]=f,l=h.create(d,r()(c=s()(u)).call(c,(function(e,t){return e[t]=e[t]||u[t],e}),{onStart:function(e){n=e.from===e.item.parentNode?e.item.nextSibling:e.clone.nextSibling,b(e),i.$apply()},onEnd:function(e){b(e,t),i.$apply()},onAdd:function(e){w(e),b(e,t),i.$apply()},onUpdate:function(e){w(e),b(e)},onRemove:function(e){b(e,t)},onSort:function(e){b(e)}})),o.on("$destroy",(function(){a()(angular).call(angular,g,(function(e){e()})),l.destroy(),d[v]=null,d=null,g=null,l=null,n=null})),a()(angular).call(angular,["sort","disabled","draggable","handle","animation","group","ghostClass","filter","onStart","onEnd","onAdd","onUpdate","onRemove","onSort"],(function(e){g.push(i.$watch("ngSortable."+e,(function(t){void 0!==t&&(u[e]=t,/^on[A-Z]/.test(e)||l.option(e,t))})))}))}}}])},"/kcl":function(e,t){e.exports='<div class="home-widget-emp-card-info" ng-init="init()" ng-if="client===\'pc\'">\n    <div class="profile-info-content">\n        <div class="profile"><span class="content" ng-click="empProfile()">{{\'common_home_widget_emp_card_profile_title\'| translate}}</span></div>   \x3c!--个人资料--\x3e\n        <div class="photo" ng-if="view_meta_object.photo">\n            <hc-primary-photo options="view_meta_object.photo.options" ng-model="view_model.data.photo"\n                              class="hc_primary_photo_body"></hc-primary-photo>\n        </div>\n        <div class="desc">\n            <div class="name">{{view_model.data.name}}</div>\n            <div class="extend">\n                <div class="extend-item {{(view_meta_object[item_].options||{}).color}}"\n                     ng-repeat="item_ in extendModel.show_fields.list">\n                    <span ng-if="extendModel.show_fields.show_label && extendModel.show_fields.show_label.includes(item_)">{{view_meta_object[item_].label}}:</span>\n                    <span\n                        ng-bind-html="view_model.data|hcListCellData:view_meta_object[item_]|infoDefault|toTrusted"></span>\n                    <span class="hcm-tip" ng-if="(view_meta_object[item_].options||{}).tip">\n                        <span class="tip icon icon-hcm-question"></span>\n                        <span class="tip-detail">{{(view_meta_object[item_].options.tip|valueToFunc)()}}</span>\n                </span>\n                </div>\n            </div>\n        </div>\n        <div class="user-profile-sign" ng-if="!extendModel.show_sign.hide">\n            <span class="text">{{emp_slogan}}</span>\n            <span class="icon icon-hcm-edit" ng-click="editSlogan()"></span>\n        </div>\n    </div>\n</div>\n'},"/mB3":function(e,t,n){"use strict";n("srGB");window.app.service("FeedbackUserService",["BaseCRUDService","dataService","$location","Upload","$hcDialog","$q",function(e,t,n,i,a,o){angular.extend(this,e.getBaseService("feedback.outer")),this.getReplyList=function(e,n,i,a,o){return t.callHcmOpenApi("feedback.reply.outer.list",{filter_str:e,filter_dict:n,page_index:i,page_size:a,extra_property:o})},this.createItem=function(e,i){return e.remote_login=n.$$absUrl,t.callHcmOpenApi("feedback.outer.create",{info:e,model:i})},this.replyCreate=function(e,n){return t.callHcmOpenApi("feedback.reply.outer.create",{info:e,model:n})},this.getFileInfo=function(e){return t.callHcmOpenApi("feedback.outer.documents.get.info",{index_list:e})},this.replyPastePicInputChange=function(e){var t=o.defer();return e._params.file.upload=i.upload({url:e.upload_url,data:e._params}).then((function(n){a.simpleForm("是否粘贴该截图",[{key:"img",component:"hc_input_upload_multiple",attrs:{style:"display:flex;justify-content:center"},options:{width:"col-12",mode:"box_list",type:"img",readOnly:!0,not_del:!0,custom_api:e.custom_api}}],{img:n.data.index_list[0].index}).then((function(){t.resolve({images:n.data.index_list[0].index,file_name:n.data.index_list[0].file_name})}))})),t.promise}}])},"0I+d":function(e,t){e.exports='<div class="portal" ng-init="init()">\n    <div class="plugins" ng-class="{\'sort\':sortable_config.sort}" ng-sortable="sortable_config" ng-if="plugins">\n        <div ng-repeat="plugin in plugins">\n            <home-widget-application ng-if="plugin.category.plugin===\'home-widget-application\'"\n                                     model="plugin"></home-widget-application>\n            <home-widget-dashboard ng-if="plugin.category.plugin===\'home-widget-dashboard\'"\n                                   model="plugin"></home-widget-dashboard>\n            <home-widget-message ng-if="plugin.category.plugin===\'home-widget-message\'"\n                                 model="plugin"></home-widget-message>\n            <home-widget-app-list ng-if="plugin.category.plugin===\'home-widget-app-list\'"\n                                  model="plugin"></home-widget-app-list>\n            <home-widget-time-calendar ng-if="plugin.category.plugin===\'home-widget-time-calendar\'"\n                                       model="plugin"></home-widget-time-calendar>\n            <home-widget-calendar ng-if="plugin.category.plugin===\'home-widget-calendar\'"\n                                  model="plugin"></home-widget-calendar>\n            <div class="drag-mask" ng-if="sortable_config.sort">\n                <div class="personal-operate">\n                    <span class="icon icon-hcm-edit" title="修改" ng-if="plugin.key===\'dashboard_child\'"\n                          ng-click="edit_plugin(plugin,$index)"></span>\n                    <span class="icon icon-hcm-copy" title="复制插件配置" ng-if="is_admin"\n                          ng-click="copy_plugin_config(plugin)"></span>\n                    <span class="icon icon-hcm-trash" title="删除" ng-click="delete_plugin(plugin)"\n                          ng-if="showDelete(plugin)"></span>\n                </div>\n                <div class="tip">拖拽进行移动</div>\n            </div>\n        </div>\n    </div>\n\n    <div class="add-operate" ng-class="{hover:operate}" ng-mouseover="operate=true" ng-mouseleave="operate=false"\n         ng-if="!sortable_config.sort">\n        <div class="details">\n            <div ng-repeat="item in portal_operate" ng-click="item.click()">\n                {{item.label}}\n            </div>\n        </div>\n        <div class="icon icon-hcm-add"></div>\n    </div>\n\n    <div class="layout_confirm" ng-if="sortable_config.sort">\n        <div class="operate-content">\n            <div class="btn-pc secondary" ng-click="cancel_adjust_layout()">取消</div>\n            <div class="btn-pc primary" ng-click="save_adjust_layout()">保存布局</div>\n        </div>\n        <div class="tip-content">\n            <div class="primary">\n                请拖拽卡片调整卡片的布局，再点击保存布局即可生效\n            </div>\n            <div class="secondary">\n                备注：取消 - 不保存当前布局直接退出\n            </div>\n        </div>\n    </div>\n</div>\n\n\n'},"0vOt":function(e,t,n){"use strict";var i=n("KHwQ");t.a=i.module("myApp")},"0xni":function(e,t,n){"use strict";n("07d7"),n("5s+n");var i=n("FLGM"),a=n.n(i),o=n("6UaR"),s=n.n(o),c=n("eLKs"),r=n.n(c),l=n("/FZm"),_=n.n(l),d=n("Kwsy"),p=n.n(d),u=n("MoVH"),m=n.n(u),g=(n("JAQY"),n("4l1m"),n("8Auy")),h=function(){function e(e,t,n,i){this.$scope=e,this.$rootScope=t,this.$hcDialog=n,this.$element=i}return e.prototype.$onInit=function(){var e,t=this,i=this;(this.parsedOptions=this.funcParse(i.options),this.$scope.super_go=function(e,n,i,a){t.$rootScope.super_go(e,n,i,a)},this.model&&this.model.length>1)?p()((function(){n.e(92).then(n.bind(null,"TaHA")).then((function(e){var t,n,a=e.Swiper,o=e.Pagination,s=e.Autoplay,c=e.Navigation;a.use([o,s,c]);var r=_()(t=i.$element).call(t,".swiper-container")[0];i.carousel=new a(r,{direction:"horizontal",loop:!0,pagination:{el:".swiper-pagination",clickable:!0},autoplay:{delay:(null===(n=i.parsedOptions)||void 0===n?void 0:n.delay)||3e3,disableOnInteraction:!1},on:{click:function(e){var t=e.activeIndex;i.proxyClick(e,t)}},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}})}))}),1e3):this.$scope.imgClick=r()(e=this.proxyClick).call(e,this);this.$scope.$on("collapse-menu-plugins",(function(){p()((function(){var e,t;s()(i.carousel)?null===(e=i.carousel)||void 0===e||a()(e).call(e,(function(e){e.update()})):null===(t=i.carousel)||void 0===t||t.update()}),100)})),this.$scope.$watch("$ctrl.model",(function(e,t){e!==t&&p()((function(){var e,t;s()(i.carousel)?null===(e=i.carousel)||void 0===e||a()(e).call(e,(function(e){e.update()})):null===(t=i.carousel)||void 0===t||t.update()}))}),!0)},e.prototype.funcParse=function(e){var t={SCOPE:this.$scope,$hcDialog:this.$hcDialog,WINDOW:window};return g.a.jsonEval(e,t,{})},e.prototype.proxyClick=function(e,t){var n,i;null===(i=null===(n=this.parsedOptions)||void 0===n?void 0:n.drill)||void 0===i||i.call(n,e,t)},e.$inject=["$scope","$rootScope","$hcDialog","$element"],e}();window.app.component("hcCarousel",{bindings:{model:"<?",options:"<?"},template:m.a,controller:h})},"1NbK":function(e,t,n){n("7xSq")},"1lpt":function(e,t,n){e.exports=n.p+"resources/images/6a5810528d541033bcf97c708dee2309.png"},"1zKW":function(e,t,n){n("HyfL").factory("orgService",["$timeout","dataService","contextService","$q","$state","$hcDialog","listCacheService2","templateService",function(e,t,i,a,o,s,c,r){return{searchOrg:function(e){return c(null,"depart.search",{key:e})},superSearchOrg:function(e,t){return c(null,"role.depart.search",{key:e,role:t})},dynamicAction:function(e){return t.callHcmOpenApi("dynamic.script.for.common.api",{plugin:"orgDeptOverLook",param:{org_id:e}})},getDepartmentInfo:function(e,n,i){return t.callHcmOpenApi("department.info",{id:e||"",include_part:n,to_loan:i},"local,240",!0)},getDepartmentJsonInfo:function(e){return t.callHcmOpenApi("department.get.json.info",{dept_id:e||""},"local,240",!0)},getDeptInfo:function(e,n,i){return t.callHcmOpenApi("depart.info",{id:e||"",include_part:n,to_loan:i},"local,240",!0)},getDeptInfoEmp:function(e){return t.callHcmOpenApi("depart.info.emp",{id:e||""},"local,240",!0)},getDeptCard:function(e){return t.callHcmOpenApi("depart.card",{id:e||""},null,!0)},getDeptCards:function(e){return t.callHcmOpenApi("role.depart.cards",{role:e||""},null,!0)},getDeptManager:function(e){return t.callHcmOpenApi("depart.children.manager",{id:e||""},null,!0)},getDeptTrend:function(e){return t.callHcmOpenApi("depart.employee.trend",{id:e,date:"%(d)s"},null,!0)},getDeptEmployeeCount:function(e,n,i,a){return t.callHcmOpenApi("depart.employee",{id:e,_return:"count",type:n,bdate:i,edate:a},null,!0)},getDeptFlowCount:function(e){return t.callHcmOpenApi("emp.begin.end.month.count",e,"local,24",!0)},getDeptFlowData:function(e){return t.callHcmOpenApi("execute_assemble_api_service",{assemble_config:"message.template.employee.flow.json",param:{depart_id:e}},"local,240",!0)},getPositionFromDepartment:function(e,n){return t.callHcmOpenApi("get.position.by.department.direct",{department_id:e,_from:0,page_size:1e3,filter_str:n})},getMyDepartmentByRole:function(e,n){return t.callHcmOpenApi("dept.my.list",{role:e,is_display_unit:n},"local,240",!0)},showPlan:function(e,t){var i={dept_id:e,dept_name:t};return s.getDialog({controller:"orgPlanCtrl",template:n("N25Y")}).params(i).size("middle").show()},getPlanSubCount:function(e){return t.callHcmOpenApi("department.plan.get.sub.count",{dept_id:e},null,!0)},getPlanByYear:function(e,n){return t.callHcmOpenApi("department.plan.get.by.year",{dept_id:e,year:n},null,!0)},setPlanByYear:function(e,n){return t.callHcmOpenApi("department.plan.save",{dept_id:e,plan_list:n},null,!0)},getSubOrg:function(e,n,i,a){return t.callHcmOpenApi("department.get.sub.org",{role:i||"cm-org-emp",filter_org_type:n||40,need_mapping:!1,dept_id:e,is_show_disable:a},null,!0)},getManageList:function(e){return t.callHcmOpenApi("org.team.get.team.list",{dept_id:e},null,!0)},overLookDetails:function(){return r.loadTemplate("org_over_look_details.json")},showButtonBar:function(){return r.loadTemplate("org_is_show_button_bar.json")},getMyOrgList:function(e){return t.callHcmOpenApi("root.org.list.get",e,"local,240",!0)},getMySubOrgList:function(e){return t.callHcmOpenApi("org.sub.get.by.date",e,"local,240",!0)}}}])},"21L5":function(e,t){e.exports='<div class="home-widget-emp-card-info-mobile" ng-init="init()" ng-if="client===\'mobile\'">\n    <div class="emp-card-sign">\n        <span class="text">{{emp_slogan}}</span>\n        <span class="icon icon-hcm-edit" ng-repeat="item in model_meta.extend"\n              ng-if="item[\'key\']==\'show_sign\'&& !item[\'value\'].hide" ng-click="editSlogan()"></span>\n    </div>\n    <div class="emp-card-content">\n    <hc-view model="view_model" class="view_model_mobile" ng-click="empProfile()"></hc-view>\n    <div class="emp-workflow" ng-click="unreadMessage()">\n        <span class="child-one">\n        </span>\n        <span class ="child-two">\n            <div class="high-light">{{unread_count.unread_count > 99 ? \'99+\' : unread_count.unread_count}}</div>\n            <div class="workflow-font">待办</div>\n        </span>\n    </div>\n    </div>\n</div>\n'},"2dDx":function(e,t){e.exports='<div class="announce-container">\n    <div class="swiper-wrapper">\n        <div class="content swiper-slide" ng-repeat="announce in $ctrl.arrAnnounce" \n            data-id={{announce.id}}> \n            <div class="flex-left">\n                <div class="announce">\n                    <div class="icon icon-activity"></div>\n                    <div class="category" ng-if="announce.category">\n                        <span>{{announce.category}}</span>\n                    </div>\n                    <span class="text">{{announce.name}}</span>\n                </div> \n            </div>\n            <div class="flex-right" ng-if="$ctrl.client===\'pc\'&&announce.announce_time">\n                {{announce.announce_time|timeFormatOne}}\n            </div>\n        </div>\n    </div>\n</div>'},"3eGX":function(e,t,n){n("sMBO");var i=n("M5Mt"),a=n("ZbhI"),o=n("7xSq");n("CAp6"),o.directive("circleGroupSelector",(function(){return{template:n("VToV"),scope:{},controller:["contextService","$scope","$rootScope","circleGroupService","$state","$timeout",function(e,t,n,i,a,o){t.is_select=!1,t.bottom_menu={btn_cancel:{caption:"取消",class:"hcmui-button-normal-fullline",func:function(){t.close()}}},t.begin=function(n){t.option=n,t.is_select=!0,t.search_key="",t.callback=n.callback,i.getNormalGroupList().then((function(e){t.group_data=e,t.$broadcast("search_content_refresh")})),!1===e.getContext("auth").company_setting.IS_CIRCLE_PUBLIC_OPEN?t.public_open=!1:t.public_open=!0,t.public_open&&i.getPublicGroup().then((function(e){t.public_group_data=e}))},t.close=function(){t.option&&t.option.cancel_callback&&t.option.cancel_callback(),t.is_select=!1,o((function(){t.option=null}),500)},t.$on("circle-group-select-event",(function(e,n){t.begin(n)})),t.$watch("search_key",(function(e){t.is_select&&(e&&""!=e?(t._search_timeout&&o.cancel(t._search_timeout),t._search_timeout=o((function(){t.group_search_data=i.searchGroup(e),t.group_search_data.load(null,(function(e){t.$broadcast("search_content_refresh",e)})).then((function(){t.group_search_data.next(!0)}))}),500)):(t.group_search_data=null,t.$broadcast("search_content_refresh",!0)))})),t.group_select=function(e){t.is_select=!1,t.callback({class:"group",data:e})}}]}})),o.directive("groupMemberSelector",(function(){return{template:n("6c64"),scope:{},controller:["contextService","$scope","$rootScope","circleGroupService","$state","$timeout","$filter",function(e,t,n,o,s,c,r){t.is_select=!1,t.auth=e.getContext("auth"),t.bottom_menu={btn_ok:{caption:r("translate")("confirm"),class:"hcmui-button-default-fullline",func:function(){t.submit()}},btn_cancel:{caption:r("translate")("Cancel"),class:"",func:function(){t.close()}}},t.begin=function(e){o.getGroupMembers(e.id).then((function(e){t.member_list=e,t.$broadcast("group_members_list_refresh",!0)})),t.option=e,t.is_select=!0,t.selected=[],t.selected_id=[],t.pre_selected_id=e.pre_selected||[],t.callback=e.callback},t.close=function(){t.option&&t.option.cancel_callback&&t.option.cancel_callback(),t.is_select=!1,c((function(){t.option=null}),500)},t.$on("group-member-select-event",(function(e,n){t.begin(n)})),t.select=function(e){var n,o;if(!(a(n=t.pre_selected_id).call(n,e.id)>-1)){var s,c,r=a(o=t.selected_id).call(o,e.id);if(r>-1)i(s=t.selected).call(s,r,1),i(c=t.selected_id).call(c,r,1);else t.selected.push({id:e.id,name:e.name,photo:e.photo}),t.selected_id.push(e.id)}},t.un_select=function(e){var n,o,s,c=a(n=t.selected_id).call(n,e.id);c>-1&&(i(o=t.selected).call(o,c,1),i(s=t.selected_id).call(s,c,1))},t.submit=function(){t.selected_id.length<1||(t.is_select=!1,t.callback({class:"employee",data:t.selected}))}}]}}))},"4Tcp":function(e,t,n){e.exports=n.p+"resources/images/a58e578165e2e570b6c3ba645a39c38d.jpg"},"5Imb":function(e,t,n){e.exports=n.p+"resources/images/c8be479caf33b52b943c9259534bbdd8.jpg"},"5Y2l":function(e,t){e.exports='<div  ng-init="init()" ng-style="{\'height\':\'100%\'}">\n    <home-widget-common-container tabs="$ctrl.tabs" operates="$ctrl.operates" current-tab="$ctrl.currentTab">\n        <home-widget-body-list-container model-name="$ctrl.model">\n\n        </home-widget-body-list-container>\n    </home-widget-common-container>\n</div>\n'},"6Fiv":function(e,t,n){e.exports=n.p+"resources/images/4a6f7a0cffae5d63a42cf35e280e5258.png"},"6c64":function(e,t){e.exports='<div class="employee-selector group-member-selector ng-hide pop-window up" ng-show="is_select" ng-init="init()"\n     ng-cloak>\n    <div ng-show="is_select">\n        <div i-scroll="group_members_list" class="list-person">\n            <div>\n                <div class="list-person-item tg" ng-repeat="_e in member_list"\n                     ng-click="select(_e)" ng-if="_e.id!=auth.employee.id">\n                    <div class="icon">\n                        <img ng-src="{{_e.photo|hcPhoto:64}}">\n                    </div>\n\n                    <div class="content">\n                        <div class="name">{{_e.name}}</div>\n                    </div>\n                    <div class="select-oper"\n                         ng-class="{\'blue icon-hcm-right-circle\':selected_id.indexOf(_e.id)>-1,\'gray icon-hcm-right-circle\':pre_selected_id.indexOf(_e.id)>-1}"></div>\n                </div>\n            </div>\n        </div>\n        <div class="selected-area" ng-show="selected.length>0">\n            <div ng-repeat="_selected in selected" ng-click="un_select(_selected)">\n                <img ng-src="{{_selected.photo|hcPhoto:64}}">\n            </div>\n        </div>\n        <bottom-menu menu="bottom_menu"></bottom-menu>\n    </div>\n\n</div>\n'},"7MTh":function(e,t,n){"use strict";var i=n("FLGM"),a=n.n(i),o=n("8xC1"),s=n("TT7f"),c=n.n(s),r=(n("Utim"),n("nI6X"),n("h5m7"),n("wd/R")),l=n("8Auy");o.a.component("employeeWidget",{bindings:{searchKey:"<",resultState:"=",onHideSearch:"&"},template:c.a,controller:["SpecialistSearchService","$rootScope","$state","$filter","contextService","$scope","dataService",function(e,t,n,i,o,s,c){var _=this;this.$onInit=function(){s.empState="emp",e.searchPath().then((function(e){var a;if(null==e||null===(a=e.list_config)||void 0===a?void 0:a.operate_default){var o;_.operateDefault=i("valueToFunc")(function(e){"function"!=typeof s.super_go&&(s.super_go=t.super_go);var i={SCOPE:s,STATE:n,location:window.location,history:window.history,document:document,dataService:c,rootScope:t,WINDOW:window};return l.a.jsonEval(e,i,{})}(null==e||null===(o=e.list_config)||void 0===o?void 0:o.operate_default)),_.hasOperateDefault=!0}}))},this.getFilterDict=function(e){var t,n=r().format("YYYY-MM-DD"),i={begin_date:{lte:n},end_date:{gt:n},"employee.search_string":{like:e}},s=o.getContext("auth").company_setting.EMP_SEARCH_NEED_CHARGE,c=a()(t=o.getContext("auth").manager_departs).call(t,(function(e){return e.id}));return"1"==s&&0===c.length?0:("1"==s&&(i["department.origin_id"]={child_include:c}),i)},this.$onChanges=function(t){for(var n in s.dynamicMode=o.getContext("auth").company_setting.emp_use_dynamic_mode,s.develop=o.getContext("auth").company_setting.EMP_SEARCH_NEED_EXTEND,t)"searchKey"===n&&function(){_.resultState.is_searching++;var t=(new Date).getTime();if(_.api_flag=t,s.empResult=s.dynamicMode&&s.develop?{state:"search_list",params:{index:s.$ctrl.searchKey}}:{state:"search_result",params:{index:s.$ctrl.searchKey,group:"emp"}},s.dynamicMode&&s.develop){var n=_.getFilterDict(_.searchKey);0===n?(_.resultState.result_count=0,_.resultState.is_searching--):e.searchEmp(n,_.searchKey).then((function(n){_.emp_list=[],e.searchPath().then((function(t){var i;a()(i=n.data.list).call(i,(function(n){var i=e.getPathList(n,t);_.emp_list.push(i)}))})),_.api_flag===t?(_.count=n.data.count,_.searKey=n.searchKey,_.resultState.is_searching--,_.resultState.result_count+=n.data.count):_.resultState.is_searching--}))}else e.searchEmployee(_.searchKey).then((function(e){_.api_flag===t?(_.emp_list=e.list,_.count=e.count,_.resultState.is_searching--,_.resultState.result_count+=_.emp_list.length):_.resultState.is_searching--}))}()}}]})},"7QQP":function(e,t){e.exports='<div class="home-widget-message-task" ng-init="init()" ng-style="{\'height\':\'100%\'}">\n    <home-widget-common-container\n        class="home-widget-message-task-header"\n        tabs="$ctrl.tabs"\n        operates="$ctrl.operates"\n        current-tab="$ctrl.currentTab"\n    >\n        <home-widget-body-list-container\n            class="home-widget-message-task-container"\n            model-name="$ctrl.model"\n            filter-dict="$ctrl.filterDict"\n            refresh="$ctrl.refresh"\n        >\n\n        </home-widget-body-list-container>\n    </home-widget-common-container>\n</div>\n'},"7rJ9":function(e,t){e.exports='<div class="general-role-error-box">\n    <div class="info">\n\n        <div  class="error-info">\n            <div>\n                您的企业域名不正确\n            </div>\n        </div>\n    </div>\n    <div ng-click="go_index()" class="oper">\n        回到主页\n    </div>\n</div>\n'},"7xSq":function(e,t,n){var i=n("KHwQ").module("myApp");e.exports=i},"8rxN":function(e,t,n){"use strict";n("sMBO");var i=n("M5Mt"),a=n.n(i),o=n("ZbhI"),s=n.n(o),c=n("5PDf"),r=n.n(c),l=n("RXMP"),_=n.n(l),d=n("WxoT"),p=n.n(d),u=n("FLGM"),m=n.n(u),g=n("Im7n"),h=n.n(g);n("8Auy");window.app.controller("MostUsedAppAdjustCtrl",["$scope","$hcConfigList","$hcDataset","contextService","$q","HomeWidgetMostUsedAppService","IndexService","$filter","$rootScope","hcAutoCopyService",function(e,t,n,i,o,c,l,d,u,g){e.init=function(){e.auth=i.getContext("auth"),e.initComponent()},e.submit=function(){var t=e.parse_app_list_order();t&&(e.$dialog.resolve_data(t),e.$dialog.dialog_close())},e.cancel=function(){e.$dialog.dialog_close()},e.cleanInvalidData=function(){var t,n=m()(t=e.invalid_id).call(t,(function(e){return c.delMostUsedApp(e)}));o.all(n).then((function(){u.show_warning("已清理"+e.invalid_id.length+"条无效记录"),e.initComponent()}))},e.copyAppList=function(){var t;g.copy(p()(m()(t=e.dataset_model.selected_list).call(t,(function(e){return{app_id:e.id,is_service:e.is_service}})))),u.show_warning("已将应用ID复制到剪贴板")},e.operate_meta=[{key:"cancel",label:"取消",func:e.cancel},{key:"submit",label:"确定",default:!0,func:e.submit},{key:"clear_invalid",default:!0,label:"清理无效记录",hide:function(){return!d("getValue")(e,["invalid_id","length"])},left:!0,func:e.cleanInvalidData},{key:"get_app_id_list",label:"复制应用列表",hide:function(){var t,n,i,a;return!((null===(t=e.auth)||void 0===t||null===(n=t.roles)||void 0===n?void 0:n.onlyoneowner)||(null===(i=e.auth)||void 0===i||null===(a=i.roles)||void 0===a?void 0:a["sys-manager"]))},left:!0,func:e.copyAppList}],e.$dialog.operates(e.operate_meta),e.initComponent=function(){var i={favor_app_list:c.getMostUsedAppList(e.auth.company.id,e.auth.employee.id),my_app:l.getMyApplication("pc")};o.all(i).then((function(i){var a,o;e.application_list=[],e.my_app=angular.copy(i.my_app),e.my_app=m()(a=e.my_app).call(a,(function(t){var n;return t.key=t.id,_()(n=t.applications).call(n,(function(t){t.key=t.id,t.label=t.name,e.application_list.push(t)})),t.fields=t.applications,t})),e.favor_app_list=[],e.invalid_id=[],e.origin_favor_app_list=angular.copy(i.favor_app_list),m()(o=i.favor_app_list.list).call(o,(function(t){var n,i=r()(n=e.application_list).call(n,(function(e){return e.id===t.app_id&&!!e.is_service==!!t.is_service}))[0];d("isValidValue")(i)?(i.sequence=t.sequence,i.favor_id=t.id,e.favor_app_list.push(i)):t.id&&e.invalid_id.push(t.id)})),e.invalid_id.length>0&&u.show_warning('存在不可用的最近应用，如需清理请点击"清理无效记录"'),e.dataset_model=n.createDataset({loader:e.getDatasetData,load_params:[]}),e.dataset_model.$initDataset(),e.dataset_model.selected_list=angular.copy(e.favor_app_list),e.config_model=t.createConfigList({meta:[{width:100,label:"名称",field:["name"]}],data:e.dataset_model.selected_list,show_index:!0,operates:[{icon:"icon-hcm-arrow-cross-up-solid",func:function(t,n){e.operateCondition.move_up(t,n)}},{icon:"icon-hcm-arrow-cross-down-solid",func:function(t,n){e.operateCondition.move_down(t,n)}},{icon:"icon-hcm-delete-circle-solid",func:function(t,n){e.operateCondition.delete(t,n)}}]})}))},e.getDatasetData=function(){var t=o.defer();return t.resolve(e.my_app),t.promise},e.parse_app_list_order=function(){var t,n,i,a;if(!(e.dataset_model.selected_list.length>32)){e.selectedAppList=m()(t=e.dataset_model.selected_list).call(t,(function(e,t){var n;return{id:e.id,sequence:t,is_service:null!==(n=e.is_service)&&void 0!==n&&n}}));var o=[],s=[];m()(n=e.selectedAppList).call(n,(function(t){var n,i=r()(n=e.favor_app_list).call(n,(function(e){return e.id===t.id}))[0];i?(i.parsed=!0,i.favor_id?(t.favor_id=i.favor_id,i.sequence!==t.sequence&&o.push(t)):s.push(t)):s.push(t)}));var c=m()(i=r()(a=e.favor_app_list).call(a,(function(e){return!e.parsed}))).call(i,(function(e){return{id:e.favor_id}}));return{data_to_add:s,data_to_modify:o,data_to_del:c}}u.show_warning("自定义保存的应用不得超过32个")},e.operateCondition={move_up:function(t){var n,i=s()(n=e.dataset_model.selected_list).call(n,t);if(0!==i){var o,c,r=a()(o=e.dataset_model.selected_list).call(o,i,1)[0];a()(c=e.dataset_model.selected_list).call(c,i-1,0,r)}},move_down:function(t){var n,i=s()(n=e.dataset_model.selected_list).call(n,t);if(i!==e.dataset_model.selected_list.length-1){var o,c,r=a()(o=e.dataset_model.selected_list).call(o,i,1)[0];a()(c=e.dataset_model.selected_list).call(c,i+1,0,r)}},delete:function(t){var n,i,o=s()(n=e.dataset_model.selected_list).call(n,t);a()(i=e.dataset_model.selected_list).call(i,o,1)}}}]),t.a={controller:"MostUsedAppAdjustCtrl",template:h.a,title:"常用应用设置"}},"8xC1":function(e,t,n){"use strict";var i=n("KHwQ").module("myApp");t.a=i},"9bPn":function(e,t){e.exports='<div class="home-widget-growth-record">\n    <div ng-init="init()" class="growth-record-plugin" ng-class="{\'mobile-style\': client === \'mobile\'}">\n        <hc-list-new class="list-style-display" model="list_model"></hc-list-new>\n    </div>\n</div>'},"9qd1":function(e,t){e.exports='<style>\n    .pc-main-frame .banner-content {\n        font-style: italic;\n        font-weight: bolder;\n        font-size: 15px;\n        text-align: center;\n        color: blueviolet;\n        width: 300px;\n    }\n</style>\n<div class="pc-main-frame" ng-class="{\'full-screen\':is_full_screen,\'is-terminal\':display_type===\'terminal\'}"\n    ng-controller="PCMainCtrl" ng-init="init()">\n    <div class="header-banner" ng-click="menuChange($event, false, true)" id="header">\n        <nav id="nav-list" ng-class="{\'hide\': specialist_state}">\n            <div class="left-conent">\n                <div class="logo-title" ng-click="go_index()">\n                    <div class=\'logo-panel\' ng-if="auth.company.top_menu_img" ng-click="go_index()">\n                        <img class="logo" alt=\'未获取到图片数据\' ng-src="{{backgroundImg}}">\n                    </div>\n                    <span ng-hide="auth.company.hide_special_title">{{auth.company.special_title || \'HCM Cloud\'}}</span>\n                </div>\n                <div class="split-line" ng-if="is_banner_menu"></div>\n                \x3c!--菜单按钮 --\x3e\n                <div class="menu-icon icon-hcm-application-circle-solid" ng-if="is_banner_menu"\n                    ng-click="menuChange($event)" hc-title="{{\'common_main_pc_hc_title_menu\'|translate}}"></div>\n                \x3c!--菜单--\x3e\n            </div>\n\n            <div ng-repeat="tab in tab_list track by $index"\n                 class="icon {{tab.list && tab.list.length > 0 ? \'\' : tab.icon}} {{tab.class}}"\n                 ng-if="!(tab.hide|valueToFunc)()"\n                 ng-click="tab.list && tab.list.length > 0 ? null : tab.func($event)"\n                 tabindex="0"\n                 ng-blur="(tab.blur|valueToFunc)($index)"\n                 ng-class="{\'with-inner\': tab.list && tab.list.length > 0}"\n                 hc-title="{{tab.description}}"\n                 options="{mode: \'tip\', seconds: 0}">\n                <div class="attachment {{tab.attachment_class}}" ng-if="tab.attachment()">{{tab.attachment()}}</div>\n                <div class="inner-icon {{tab.icon}}"\n                     ng-if="tab.list.length > 0"\n                     ng-class="{\'list-expand\': {{tab.expand_variable}}}"\n                     ng-click="tab.func($event, $index)">\n                </div>\n                <div class="operate-add-popup" ng-show="{{tab.expand_variable}}" ng-if="tab.list.length > 0" ng-cloak>\n                    <div ng-repeat="item in tab.list" class="article-type tg" ng-click="item.func()" ng-if="!(tab.hide|valueToFunc)()">\n                        <div class="img-box">\n                            <div class="img {{item.icon}}"></div>\n                        </div>\n                        <div class="name">{{item.caption}}</div>\n                    </div>\n                    <div class="contact" ng-if="tab.contact_list && tab.contact_list.length > 0">\n                        <div ng-repeat="item in tab.contact_list" class="contact-item">\n                            <div class="caption">\n                                <div class="caption-icon {{item.icon}}"></div>\n                                <div class="label">{{item.label}}</div>\n                            </div>\n                            <div class="content">{{item.content}}</div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <div class="user_box" tabindex="0" ng-click="click_user_box($event)">\n                <div class="user-box-banner">\n                    <img class=\'user-photo\' ng-src="{{auth.employee.photo|hcPhoto:46}}" alt="user-photo">\n                </div>\n                <div class="user-box-popup" ng-show="is_user_box_show" ng-cloak>\n                    <div class="user-name">{{auth.privileged ? auth.privileged.name + \' 代表 \' + auth.employee.name :\n                        (auth.collaborator ? auth.collaborator.name :auth.employee.name) || \'游客\' }}</div>\n                    <div ng-repeat="v in menu_list" ng-click="handleMenuClick($event,v)" ng-mouseenter="handleMouseEnter($event,v)"\n                        id="{{v.key}}" ng-show="!(v.hide|valueToFunc)()">{{v.label}}</div>\n                </div>\n                <div class="company-list" ng-show="show_company_list">\n                    <div ng-repeat="company in company_list track by $index" ng-click="change_company(company)"\n                        class="sub">\n                        <span hc-title="{{company.name}}"\n                            options="{mode: \'tip\', showOnOverflow: true}">{{company.name}}</span>\n                        <div class="icon-hcm-right sys-color" ng-if="isCurrentCompany(company)"></div>\n                    </div>\n                </div>\n                <div class="sub-menu-list" ng-show="show_sub_menu_list">\n                    <div ng-repeat="sub in sub_menu_list track by $index" ng-click="resolve_sub_menu(sub)"\n                        class="sub">\n                        <span hc-title="{{sub.name}}"\n                            options="{mode: \'tip\', showOnOverflow: true}">{{sub.name}}</span>\n                        \x3c!-- <div class="icon-hcm-right sys-color" ng-if="isCurrentCompany(company)"></div> --\x3e\n                    </div>\n                </div>\n            </div>\n            <div class="user_box user-name">\n                {{auth.employee.name || \'游客\'}}\n            </div>\n        </nav>\n        \x3c!-- 专员搜索界面 --\x3e\n        <specialist-search search-reslute="specialist_search_temp" need-netconect="0" show-search="specialist_state"\n            roles="auth.roles" on-close="hide_specialist_search()"></specialist-search>\n    </div>\n\n    <div class="header-banner" id="terminal-header" ng-if="show_terminal_header()">\n        <nav id="nav-list" ng-class="{\'hide\': specialist_state}">\n            <div class="left-conent">\n                <div class="logo-title">\n                    <div class=\'logo-panel\' ng-if="auth.company.top_menu_img" ng-click="go_index()">\n                        <img class="logo" alt=\'未获取到图片数据\' ng-src="{{backgroundImg}}">\n                    </div>\n                    <span ng-hide="auth.company.hide_special_title">{{auth.company.special_title || \'HCM Cloud\'}}</span>\n                </div>\n                <div class="split-line" ng-if="is_banner_menu"></div>\n                \x3c!--菜单按钮 --\x3e\n                <div class="menu-icon icon-hcm-application-circle-solid" ng-if="is_banner_menu"\n                    ng-click="menuChange($event)" hc-title="菜单"></div>\n            </div>\n\n            <div class="user_box" tabindex="0" ng-click="click_user_box($event)">\n                <div class="user-box-banner">\n                    <img class=\'user-photo\' ng-src="{{auth.employee.photo|hcPhoto:46}}" alt="user-photo">\n                </div>\n                <div class="user-box-popup" ng-show="is_user_box_show" ng-cloak>\n                    <div class="user-name">{{auth.privileged ? auth.privileged.name + \' 代表 \' + auth.employee.name :\n                        (auth.collaborator ? auth.collaborator.name :auth.employee.name) || \'游客\' }}</div>\n                    <div ng-click="logout({mode: \'terminal\'})">退出</div>\n                </div>\n            </div>\n        </nav>\n    </div>\n\n    <div class="hcm-nav-side" ng-mouseover="showNav()" ng-mouseleave="hideNav()" ng-if="pc_main_side_index===\'tree\'&&show_side_nav()">\n        <div class="item-container">\n            <div ng-repeat="category in app_category_list track by $index" class="category-item" hcm-key="{{category.id}}"\n                ng-class="{\'is-opened\': !current_category_id&&category_more_show.id === category.id}">\n                <div class="nav-item" ng-click="toggleCategory(category, $index)">\n                    <span class="icon {{category.icon || \'icon-hcm-cloud\'}}"></span>\n                    <span class="label">{{ category.name }}</span>\n                    <span class="icon right" ng-show="category.classify_list"\n                        ng-class="category_more_show.id===category.id?\'icon-hcm-arrow-up\':\'icon-hcm-arrow-down\'"></span>\n                </div>\n                \x3c!-- <div ng-repeat="sub_category in category.child"\n                    ng-if="sub_category.category_id===current_category_id"\n                    ng-click="showChild($event, category,sub_category.id)"\n                    ng-class="{\'selected\': sub_category.id===current_sub_category_id}" class="nav-item child-item">\n                    <span class="icon {{sub_category.icon || \'icon-hcm-cloud\'}}"></span>\n                    <span class="label">{{ sub_category.name }}</span>\n                </div> --\x3e\n\n                <ul class="classify-item" ng-repeat="classify in category.classify_list track by $index">\n                    <span class="classify-name">{{classify.name}}</span>\n                    <li  ng-repeat="app in classify.applications track by $index">\n                        <a class="application" ng-click="jumpTo(app, $event)" ng-href="{{app.href}}"\n                            ng-attr-target="{{is_open_new_page?\'_blank\':\'\'}}">\n                            <span class="application-name">{{app.name}}</span>\n                        </a>\n                    </li>\n            </div>\n        </div>\n    </div>\n\n    <dragging-navigate ng-if="show_back" navigates="goBack" id="back-nav" title="{{\'返回\'}}"></dragging-navigate>\n    <hcm-common-menu ng-if="is_banner_menu"></hcm-common-menu>\n    <hcm-breadcrumb ng-if="enable_breadcrumb" ng-class="{ \'show-breadcrumb\': $state.params._menu_id }" ng-style="{\'left\': show_side_nav()? \'64px\': \'0\'}"></hcm-breadcrumb>\n    <hcm-navigation ng-if="enable_hcm_navigation && $state.params.nav_model" ng-class="{\'show-navigation\': $state.params.nav_model}"></hcm-navigation>\n    \x3c!--    <pc-main-side-nav model="app_list" nav-show="is_main_nav_show"></pc-main-side-nav>--\x3e\n    <div ui-view class="h-c-main-content" ng-if="menu_style !== undefined"\n        ng-style="{\'left\': show_side_nav()? \'64px\': \'0\'}"></div>\n    <article-comment ng-cloak></article-comment>\n    <new-article-item ng-cloak></new-article-item>\n    <employee-selector ng-cloak></employee-selector>\n    <circle-group-selector ng-cloak></circle-group-selector>\n    <group-member-selector ng-cloak></group-member-selector>\n    <datetime-picker></datetime-picker>\n    <position-selector></position-selector>\n    <div class="quit-full-screen" ng-click="quit_full_screen()">\n        <div class="icon-hcm-arrow-narrow"></div>\n    </div>\n</div>\n<side-bar class="pc-main-side-bar"></side-bar>\n'},AGQQ:function(e,t){e.exports="<home-widget-emp-card-mobile></home-widget-emp-card-mobile>\n<home-widget-emp-card-pc></home-widget-emp-card-pc>\n"},AmdD:function(e,t){e.exports='\x3c!--<div class="ui-view"></div>--\x3e\n<ui-view></ui-view>'},Ax3d:function(e,t,n){"use strict";n.r(t),n("0vOt").a.factory("circleMiniService",["dataService","paramMix","$q","$state","$http",function(e,t,n,i,a){return{getFeed:function(n,i){return e.callHcmOpenApi("circle.feed.get",{biz_id:t.encryption(n),biz_name:i||""},null,!0)},getGroup:function(t){return e.callHcmOpenApi("circle.group.get",{group_id:t||""},null,!0)},getInfo:function(t){return e.callHcmOpenApi("emp.info",{id:t},null,!0)},articleCreate:function(t){return t.except=["all"],e.callHcmOpenApi("feed.article.create",t,null,!0)}}}])},BGAH:function(e,t){e.exports='<div >\n    <ui-view class="main_no_header"></ui-view>\n    <datetime-picker></datetime-picker>\n</div>'},Bwqw:function(e,t){e.exports='<div ng-if="$ctrl.searchKey && $ctrl.org_list.length">\n    <widget-header\n            name="组织"\n            result-count="$ctrl.count"\n            on-hide-search="$ctrl.onHideSearch()"\n            show-all-model="{state:\'org_list\', params: {filter_str: $ctrl.searchKey}}"\n    ></widget-header>\n    <widget-item\n            ng-repeat="org in $ctrl.org_list"\n            search-data="org"\n            search-key="$ctrl.searchKey"\n            icon\n            on-hide-search="$ctrl.onHideSearch()"\n            forward-model="{state: \'org_details_base\',\n            params: {id: org.id, effdt: current_date, model: org.org_type===10?\'OrgUnit\':\'OrgDepartment\'}}"\n    ></widget-item>\n</div>\n'},CAp6:function(e,t,n){n("oVuX"),n("7xSq").factory("circleGroupService",["listCacheService2","dataService","contextService","$q","$state",function(e,t,n,i,a){return{getGroupList:function(){return e({class:"circle_group"},"circle.group.list",{})},getNormalGroupList:function(){return t.callHcmOpenApi("circle.group.normal.list",{},null,!0)},getPublicGroup:function(){return t.callHcmOpenApi("circle.group.public",{},null,!0)},searchGroup:function(t){return e(null,"circle.group.search",{key:t})},getGroup:function(e){return t.callHcmOpenApi("circle.group.get",{group_id:e||""},null,!0)},getGroupByFeed:function(e){return t.callHcmOpenApi("circle.group.get.by.feed",{feed_id:e||""},null,!0)},getGroupMembers:function(e){return t.callHcmOpenApi("feed.get.members",{biz_id:e},null,!0)},invite:function(e,n){return t.callHcmOpenApi("circle.group.invite",{group_id:e,employee_ids:n.join(",")},null,!0)},createGroup:function(e){return t.callHcmOpenApi("circle.group.create",{group_name:e},null,!0)},quitGroup:function(e){return t.callHcmOpenApi("circle.group.quit",{group_id:e||"",except:[80002]},null,!0)},removeFromGroup:function(e,n){return t.callHcmOpenApi("circle.group.quit",{group_id:e||"",employee_id:n,except:[80002]},null,!0)},closeGroup:function(e){return t.callHcmOpenApi("circle.group.close",{group_id:e||"",except:[80002]},null,!0)},modifyGroup:function(e,n){return t.callHcmOpenApi("circle.group.modify",{group_id:e,group_name:n},null,!0)},getGroupUnread:function(){return t.callHcmOpenApi("circle.group.unread",{},null,!0)}}}])},CTrm:function(e,t,n){n("3eGX")},CkDz:function(e,t,n){"use strict";n("sMBO");var i=n("eLKs"),a=n.n(i),o=n("FLGM"),s=n.n(o),c=n("OBge"),r=n.n(c),l=n("mrSG"),_=n("m5Re"),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.scheme_confirm=function(){t.form_model.data=t.scope.params,t.scope.$dialog.resolve_data(t.form_model.data),t.scope.$dialog.dialog_close()},t}return Object(l.d)(t,e),t.prototype.initFormBefore=function(){var e,t;return Object(l.c)(this,void 0,void 0,(function(){return Object(l.e)(this,(function(n){return null===(t=null===(e=this.scope)||void 0===e?void 0:e.$dialog)||void 0===t||t.operates([{label:"取消",func:this.scope.$dialog.dialog_close},{label:"确定",func:this.scheme_confirm,default:!0}]),this.form_meta={fields:angular.copy(_.fields),groups:angular.copy(_.groups),tip:_.tip},[2]}))}))},t.prototype.getMeta=function(){var e,t;return Object(l.c)(this,void 0,r.a,(function(){var n,i;return Object(l.e)(this,(function(o){var c,r,l;return this,n=this.form_meta.fields,i=null===(t=null===(e=this.options)||void 0===e?void 0:e.context_meta)||void 0===t?void 0:s()(t).call(t,(function(e){return{label:e.label,category:"上下文参数",value:e.key,type:"var",key:e.key}})),n.getKey("data").options.mask=a()(c=this.dataBlockMask).call(c,this),n.getKey("data").options.onClick=a()(r=this.dataBlockSetting).call(r,this),n.getKey("drill").options.refer_data=[{label:"可选变量",items:i}],n.getKey("formula").options.computeService={getFieldList:a()(l=this.getDataRefer).call(l,this),domain:"base.report"},[2,n]}))}))},t.prototype.getDataRefer=function(){return Object(l.c)(this,void 0,void 0,(function(){var e,t,n,i,a,o,c,r,_,d;return Object(l.e)(this,(function(p){switch(p.label){case 0:var u;if(e=[],this.options.context_meta)e.push({key:"context_params",name:"上下文参数",list_fields:s()(u=this.options.context_meta).call(u,(function(e){return{name:e.label,category:"上下文参数",key:e.key,type:"var"}}))});if(!this.form_model.data.data)return[3,8];n=function(n){return Object(l.e)(this,(function(a){switch(a.label){case 0:return[4,i.dataBlockService.getAvailFields(n)];case 1:return t=a.sent(),e.push({key:n.key,name:n.name?n.name:n.key,list_fields:s()(t).call(t,(function(e){return{name:e.label,category:n.name?n.name:n.key,key:"main"===n.key?e.value:n.key+"."+e.value,type:"var"}}))}),[2]}}))},i=this,p.label=1;case 1:p.trys.push([1,6,7,8]),a=Object(l.i)(this.form_model.data.data),o=a.next(),p.label=2;case 2:return o.done?[3,5]:(c=o.value,[5,n(c)]);case 3:p.sent(),p.label=4;case 4:return o=a.next(),[3,2];case 5:return[3,8];case 6:return r=p.sent(),_={error:r},[3,8];case 7:try{o&&!o.done&&(d=a.return)&&d.call(a)}finally{if(_)throw _.error}return[7];case 8:return[2,e]}}))}))},t.prototype.getGroupMeta=function(){return Object(l.c)(this,void 0,r.a,(function(){return Object(l.e)(this,(function(e){return[2,this.form_meta.groups]}))}))},t.prototype.validateTemplateData=function(){var e;return Object(l.c)(this,void 0,void 0,(function(){var t;return Object(l.e)(this,(function(n){return(t=null===(e=this.setting_panel_data.data)||void 0===e?void 0:e.getKey("main"))||this.rootScope.show_warning("可视化需要指定'main'数据块, 请前往数据定义进行指定"),[2,t]}))}))},t.prototype.refreshViewModel=function(e){return void 0===e&&(e=null),Object(l.c)(this,void 0,r.a,(function(){var t;return Object(l.e)(this,(function(n){switch(n.label){case 0:return e=e||this.setting_panel_data.chart,this.validateTemplateData(),e?(t=this.parent,[4,this.dataService.callHcmOpenApi("flex.template.calc",{template:e,block_info:this.setting_panel_data.data,params:this.options.context_data})]):[2];case 1:return t.preview_model=n.sent(),[2]}}))}))},t}(n("VxaH").a);t.a=d},DAXO:function(e,t){e.exports='<div class="home-widget-recruit" ng-init="init()">\n    <div class="home-widget-header">\n        <div class="menu">\n            <div class="icon-hcm-calendar"\n                 ng-class="{selected:true}">\n                {{"面试日历"}}\n            </div>\n            <div class="refresh icon-hcm-refresh" ng-click="$ctrl.refreshInterviewData()"></div>\n        </div>\n        <div class="calendar-header">\n            <div class="btn left icon-hcm-arrow-left-double" ng-click="$ctrl.calendarMinus(true, \'y\')"></div>\n            <div class="btn left icon-hcm-arrow-left" ng-click="$ctrl.calendarMinus(true, \'m\')"></div>\n            <div class="text">{{$ctrl.calendar_year}}年{{$ctrl.calendar_month}}月</div>\n            <div class="btn right icon-hcm-arrow-right" ng-click="$ctrl.calendarPlus(true, \'m\')"></div>\n            <div class="btn right icon-hcm-arrow-right-double" ng-click="$ctrl.calendarPlus(true, \'y\')"></div>\n        </div>\n    </div>\n    <div class="home-widget-content">\n        <table class="calendar-content">\n            <tr class="weekday">\n                <th ng-repeat="_w in $ctrl.weeks track by $index">\n                    <div class=\'week-item\'>\n                        {{_w}}\n                    </div>\n                </th>\n            </tr>\n            <tr ng-repeat="_c in $ctrl.calendar_data">\n                <td ng-repeat="_d in _c track by $index">\n                    <div ng-if="_d" class="calendar-item"\n                         ng-class="{current_date:_d.date==$ctrl.current_date,selected_date:_d.date==$ctrl.selected_date}">\n                        <div class="day">{{_d.date == $ctrl.current_date ? "今天" : _d.label}}</div>\n                        <div class="desc" ng-class="{\'is_important\':_d.high_light}">\n                            {{_d.lunar_date}}\n                        </div>\n                        <div class="interview-count-detail"\n                             ng-click="$ctrl.checkInterviewDetail(_d.date, $ctrl.month_calendar_data[_d.date])"\n                             hc-title="{{\'点击查看应聘者详情\'}}"\n                             options="{\'mode\': \'tip\',\'seconds\': 0, \'direction\': \'column\'}">{{$ctrl.month_calendar_data[_d.date].length}}</div>\n                    </div>\n                </td>\n            </tr>\n        </table>\n    </div>\n</div>\n'},E0Ah:function(e,t,n){"use strict";n("sMBO");var i=n("LYCE"),a=n.n(i),o=n("HnXd"),s=n.n(o),c=n("qjzJ"),r=n.n(c),l=n("RXMP"),_=n.n(l),d=n("fHi0"),p=n.n(d),u=n("5PDf"),m=n.n(u),g=n("OWCx"),h=n.n(g),v=n("+oHS"),f=n.n(v),y=n("04Ix"),b=n.n(y),w=n("ZbhI"),$=n.n(w),x=n("o+MX"),k=n.n(x),M=n("guyh"),E=n.n(M),O=n("UtpJ"),A=n.n(O),S=n("3xDC"),C=n.n(S),D=n("lHQ6"),P=n.n(D),j=n("a0dU"),I=n.n(j),T=(n("ls82"),n("SPx3")),B=n.n(T),L=(n("TpQQ"),n("F7HG"),n("v6AK"),n("mshF"));function R(e,t){var n=f()(e);if(h.a){var i=h()(e);t&&(i=m()(i).call(i,(function(t){return p()(e,t).enumerable}))),n.push.apply(n,i)}return n}window.app.component("homeWidgetMessage",{template:n("skWO"),bindings:{model:"=",options:"<"},require:{boardCtrl:"?^hcPortalBoard"},controller:["$scope","$filter","$rootScope","homeWidgetMessageService","messageService","contextService","$hcDialog",function(e,t,n,i,o,c,l){e.init=B()(I.a.mark((function t(){return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.sizes=[10,20,50],void 0===e.model&&(e.model=e.$ctrl.options||e.$ctrl.model),e.message_show_control=e.model.params||{is_dynamic:!1,message_show_sort:"desc"},e.dynamic_controller=e.message_show_control.is_dynamic,e.currentkey=e.model.key,e.getBodyWidth(),e.initMenu(),e.refreshData();case 8:case"end":return t.stop()}}),t)}))),e.getBodyWidth=function(){var t=document.documentElement.clientWidth||740;e.elementwidth=(t-228-.024*t)/2},e.initMenu=function(){var n;if("message_todo"===e.model.key)null===(n=e.$ctrl.boardCtrl)||void 0===n||n.componentRegister("message_notify",e),e.menu=[{key:"task",label:t("translate")("common_home_widget_message_task_todo"),icon:"icon-list-pending",float:"left"},{key:"task_done",label:t("translate")("common_home_widget_message_task_done"),float:"left",icon:"icon-list-processed"}];else if("message_notify"===e.model.key){var i;null===(i=e.$ctrl.boardCtrl)||void 0===i||i.componentRegister("message_notify",e),e.menu=[{key:"work_warn",label:t("translate")("my_warning"),float:"left",icon:"icon-list-pending"},{key:"warn_done",label:t("translate")("resolved_alert"),float:"left",icon:"icon-list-processed"}]}else"message_normal"===e.model.key?e.menu=[{key:"message_normal",label:t("translate")("unread_messages"),float:"left",icon:"icon-list-pending"},{key:"message_normal_done",label:t("translate")("already_read_messages"),float:"left",icon:"icon-list-processed"}]:"message_process"===e.model.key&&(e.menu=[{key:"task_collect",label:t("translate")("pending_process"),float:"left",icon:"icon-list-pending"}]);(e.dynamic_controller||"message_process"===e.currentkey)&&(e.dynamic_controller=!0,e.menu.push({key:"see_more",label:"查看更多",icon:"icon-list-processed",float:"right"}))},e.pageText=t("translate")("/page"),e.refreshData=function(n){e.message_sort_oder=e.message_show_control.message_show_sort||"desc",e.page_index=1,e.page_size=e.page_size||"10".concat(t("translate")("/page")),e.message_show_control.is_dynamic&&(e.page_size="11".concat(t("translate")("/page"))),e.message_list=null,e.currentMenu=n||e.menu[0].key,e.getMessageList()},e.getMessageList=function(){("work_warn"===e.currentMenu||"warn_done"===e.currentMenu?i.getWarnList(e.currentMenu,e.page_index++,P()(e.page_size),{to:c.getContext("auth").employee.id},e.message_sort_oder):"message_normal"===e.currentMenu||"message_normal_done"===e.currentMenu?i.getMessageList(e.currentMenu,e.page_index++,P()(e.page_size),e.message_sort_oder):"task_collect"===e.currentMenu?i.getTaskCollect({}):i.getMessageList(e.currentMenu,e.page_index++,P()(e.page_size),e.message_sort_oder)).then((function(t){if("task_collect"===e.currentMenu){e.wf_count_list=t.count;var n=[];for(var i in e.wf_count_list)e.wf_count_list[i].count>0&&n.push({id:P()(i),name:e.wf_count_list[i].name,count:e.wf_count_list[i].count});var a,o,s=[];if(e.elementwidth<=800)s=C()(a=A()(o=E()(n).call(n,(function(e,t){return t.count-e.count}))).call(o,0,4)).call(a);else if(800<e.elementwidth<=980){var c,r;s=C()(c=A()(r=E()(n).call(n,(function(e,t){return t.count-e.count}))).call(r,0,5)).call(c)}else if(980<e.elementwidth<1180){var l,_;s=C()(l=A()(_=E()(n).call(n,(function(e,t){return t.count-e.count}))).call(_,0,6)).call(l)}else{var d,p;s=C()(d=A()(p=E()(n).call(n,(function(e,t){return t.count-e.count}))).call(p,0,7)).call(d)}e.message_list=s,e.haveMoreMessage=null}else{var u;e.message_list=k()(u=e.message_list||[]).call(u,t.list),e.message_show_control.is_dynamic||(e.haveMoreMessage=null!==t.next)}}))},e.jump=function(t,n){var i;n&&n.stopPropagation(),~$()(i=["message_todo","message_normal","message_process"]).call(i,e.model.key)?e.go_message(t):e.go_warn(t)},e.message_down=function(){var t=B()(I.a.mark((function t(n,a){var o;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a&&a.stopPropagation(),o={id_:n.id,info:{status:2}},t.next=4,i.warnEdit(o).then((function(t){e.refreshData()}));case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.ge_message_list=function(t){switch(t){case"task":n.super_go("messages",{type:"task",message_display:"notify",message_sort_oder:e.message_sort_oder});break;case"task_done":n.super_go("messages",{type:"task_done",message_display:"notify",message_sort_oder:e.message_sort_oder});break;case"work_warn":n.super_go("messages",{type:"work_warn",message_display:"work_warn",message_sort_oder:e.message_sort_oder});break;case"warn_done":n.super_go("messages",{type:"warn_done",message_display:"work_warn",message_sort_oder:e.message_sort_oder});break;case"message_normal":n.super_go("messages",{type:"message_normal",message_display:"message_normal",message_sort_oder:e.message_sort_oder});break;case"message_normal_done":n.super_go("messages",{type:"message_normal_done",message_display:"message_normal",message_sort_oder:e.message_sort_oder});break;case"task_collect":n.super_go("workflow_online.pending",{current_biz:0});break;default:n.super_go("messages",{type:"notify",message_sort_oder:e.message_sort_oder})}},e.go_message=function(t){if("task_collect"!==e.currentMenu)if(t.unread=!1,t.go_state&&""!==t.go_state)if(o.getMessage(t.id),"messagerouter"===t.go_state)t.go_url?window.open(t.go_url):n.show_warning("消息类别错误,无法查看!");else if("show_robot"===t.go_state){var i=t.go_param;L.a.getCustomDialogCtrl("HCMChatDialog").then((function(e){l.getDialog(e).show(function(e){for(var t=1;t<arguments.length;t++){var n,i=null!=arguments[t]?arguments[t]:{};if(t%2)_()(n=R(Object(i),!0)).call(n,(function(t){b()(e,t,i[t])}));else if(r.a)s()(e,r()(i));else{var o;_()(o=R(Object(i))).call(o,(function(t){a()(e,t,p()(i,t))}))}}return e}({target:"HCMRobot"},i))}))}else{if("show_comm_task_dialog"===t.go_state)return L.a.getCustomDialogCtrl("HCMChatTaskDialog").then((function(e){return l.getDialog(e).size("super-max").show({instance_id:t.go_param.instance_id,target:t.go_param.target,sender:t.go_param.sender,meta_state:t.go_param.meta_state,alter_data:t.go_param.alter_data})}));var c,d=(null===(c=t.go_param)||void 0===c?void 0:c.is_vue)||!1;n.super_go(t.go_state,t.go_param,{is_vue:d})}else n.super_go("message",{id:t.id});else n.super_go("workflow_online.pending",{current_biz:t.id})},e.go_warn=function(e){var t={id_:e.id,info:{status:2}};i.warnEdit(t).then((function(e){})),n.super_go(e.state.name,e.state.param)},e.$watch("model",(function(t,n){t!==n&&e.init()}))}]})},EC8D:function(e,t){e.exports='<home-widget-emp-card-new-mobile></home-widget-emp-card-new-mobile>\n<home-widget-emp-card-new-pc options="options" ></home-widget-emp-card-new-pc>\n'},ESYO:function(e,t,n){e.exports=n.p+"resources/images/74bf3ec34a0523b0f9ddd71d3bf37ac6.jpg"},EVMC:function(e,t){e.exports='<div class="home-widget" ng-init="init()">\n    <div class="home-widget-header">\n        <div class="icon icon-hcm-view-card"></div>\n        <div class="header-label">{{model.category.label||$ctrl.model.category.label}}</div>\n        <div class="icon right icon-hcm-set"\n             ng-click="adjust_most_used_app()"></div>\n    </div>\n    <div class="home-widget-body">\n        <div class="no-data" ng-if="app_list&&app_list.length<1">\n            <hc-svg options="{icon:\'hcm-no-content\'}"></hc-svg>\n            <div class="label">当前没有内容</div>\n        </div>\n        <div class="app-list" ng-show="app_list && app_list.length > 0">\n            <div class="item-container" ng-repeat="app_slice in app_slice_list track by $index">\n                <div class="app-item-wrapper"\n                     ng-repeat="_app in app_slice track by $index">\n                    <a class="app-item"\n                       ng-click="beforeJumpToApp(_app, $event)"\n                       ng-href="{{_app.href}}"\n                       ng-attr-target="{{(is_open_new_page || _app.open_new_page)?\'_blank\':\'\'}}"\n                       ng-class="{\'from-role\': _app.from_role}">\n                        <hc-icon app="_app" options="\'icon-top\'"></hc-icon>\n                        <div class="label">{{_app.name}}</div>\n                    </a>\n                </div>\n            </div>\n        </div>\n        <div class="page-index-bar"\n             ng-show="index_list.length > 1">\n            <div class="index-bar-item"\n                 ng-repeat="item in index_list track by $index"\n                 ng-class="{\'selected\': page_index === item}"\n                 ng-click="changePage(item)"\n            ></div>\n        </div>\n    </div>\n</div>\n'},F6Fg:function(e,t,n){"use strict";n("sMBO"),n("toAj");var i,a,o,s,c,r,l=n("5PDf"),_=n.n(l);n("d1Vp");_()(i=window.app).call(i,"timeAttendItem",(function(){return function(e,t){return e?e.result?"work_onjob"===e.result_item&&((null==e?void 0:e.status)&&-1===e.status||t)?e.shift.name:e.result.desc:e.shift?e.shift.name:"":""}})),_()(a=window.app).call(a,"timeAttendItemWithMode",(function(){return function(e,t){return e?e.result?"result"===t?e.result.desc:e.shift.name:e.shift?e.shift.name:"-":"-"}})),_()(o=window.app).call(o,"timeAttendData",(function(){return function(e){if(e){var t=0+e.work_onjob+e.overtime_normal+e.overtime_rest+e.overtime_holiday;return t>0?(t/60).toFixed(1):"-"}return"-"}})),_()(s=window.app).call(s,"timeAttendItemClass",(function(){return function(e,t){var n="";if(e){if(-1===e.shift_id&&e.result&&"work_rest"===e.result.name)return"rest";if(e.result){if(-1===e.status)return"forecast";t.length>0?n=(t=_()(t).call(t,(function(t){return e.result.priority>=t.min&&e.result.priority<t.max}))).length>0&&t[0].color||"invalid":(e.result&&e.result.priority>=60&&(n="abnormal"),e.result&&e.result.priority>=30&&e.result.priority<60&&(n="warning"))}else e.manual||(n="forecast")}else n="invalid";return n}})),_()(c=window.app).call(c,"timeAttendSchedule",(function(){return function(e){return e&&e.shift?e.shift.name:""}})),_()(r=window.app).call(r,"timeAttendResult",(function(){return function(e){return e&&e.result?e.status>=0?e.result.desc:"*"+e.result.desc:""}}))},F7HG:function(e,t,n){var i=n("LYCE"),a=n("HnXd"),o=n("qjzJ"),s=n("RXMP"),c=n("fHi0"),r=n("5PDf"),l=n("OWCx"),_=n("+oHS"),d=n("a0dU"),p=n("FLGM"),u=n("04Ix");n("ls82");var m=n("SPx3"),g=n("3xDC");function h(e,t){var n=_(e);if(l){var i=l(e);t&&(i=r(i).call(i,(function(t){return c(e,t).enumerable}))),n.push.apply(n,i)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n,r=null!=arguments[t]?arguments[t]:{};if(t%2)s(n=h(Object(r),!0)).call(n,(function(t){u(e,t,r[t])}));else if(o)a(e,o(r));else{var l;s(l=h(Object(r))).call(l,(function(t){i(e,t,c(r,t))}))}}return e}window.app.factory("homeWidgetMessageService",["$rootScope","dataService","$q",function(e,t,n){return{getMessageList:function(e,i,a){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"desc",s=n.defer();return t.callHcmOpenApi("message.list",{type:e,page_index:i,page_size:a,ch_read:!1}).then((function(e){var t;"asc"===o&&g(t=e.list).call(t);e.count>i*a?e.next=!0:e.next=null,s.resolve(e)})),s.promise},getWarnList:function(e,i,a,o){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"desc",c=n.defer(),r={sorts:[{type:"desc",key:"update_time"}]};return o.status="warn_done"===e?2:1,t.callHcmOpenApi("warn.message.list",{page_index:i,page_size:a,filter_dict:o,extra_property:r}).then((function(e){var t;"asc"===s&&g(t=e.list).call(t);e.count>(i+1)*a?e.next=!0:e.next=null,c.resolve(e)})),c.promise},warnEdit:function(e){return t.callHcmOpenApi("warn.message.edit",e)},getTaskCollect:function(e){return t.callHcmOpenApi("workflow.instance.detail.get.unprocess.list.count",e)},getMessageSetting:function(){return t.callHcmOpenApi("get.message.control.setting",{})},getModelList:(i=m(d.mark((function e(n){var i,a,o,s,c,r,l=arguments;return d.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=l.length>1&&void 0!==l[1]?l[1]:"desc",e.next=3,t.callHcmOpenApi("hcm.model.list",n);case 3:return o=e.sent.list,"asc"===a&&g(r).call(r),e.next=7,t.callHcmOpenApi("hcm.model.count",v(v({},n),{count_by:["id"],page_index:null}));case 7:if(e.t2=i=e.sent.list,e.t1=null===e.t2,e.t1){e.next=11;break}e.t1=void 0===i;case 11:if(!e.t1){e.next=15;break}e.t3=void 0,e.next=16;break;case 15:e.t3=i[0].id;case 16:if(e.t0=e.t3,e.t0){e.next=19;break}e.t0=0;case 19:return s=e.t0,c=s>(n.page_index+1)*n.page_size||null,r=p(o).call(o,(function(e){return{content:e.wf_inst.wf_inst_title,create_time:e.create_time}})),e.abrupt("return",{list:r,next:c});case 23:case"end":return e.stop()}}),e)}))),function(e){return i.apply(this,arguments)})};var i}])},F8aG:function(e,t,n){"use strict";n("oVuX"),n("sMBO"),n("rB9j"),n("hByQ");var i=n("+oHS"),a=n.n(i),o=n("FLGM"),s=n.n(o),c=n("RXMP"),r=n.n(c),l=(n("NcmB"),n("LcEz"),n("7MTh"),n("wd/R")),_=(n("ZnTZ"),n("O3SW")),d=n.n(_);n("bsgm");n("8xC1").a.component("searchResultItem",{bindings:{searchData:"<",searchKey:"<",icon:"<",onHideSearch:"&",onOperateDefault:"&?",hasOperateDefault:"<?"},template:d.a,controller:["empHistoryService","$scope","$rootScope","$hcDialog",function(e,t,n,i){var a=this;this.$onInit=function(){t.searchData=a.searchData},t.go_emp=function(o){e().pushHistory(t.searchData),a.hasOperateDefault?a.onOperateDefault():n.super_go("emp",{id:o}),i.closeAll()}}]});var p=n("8Auy");window.app.directive("searchWidget",(function(){return{template:n("sBfz"),scope:{},controller:["dataService","empHistoryService","contextService","$scope","$rootScope","$state","$timeout","$filter","SearchService","SpecialistSearchService",function(e,t,n,i,o,c,_,d,u,m){var g;this.$onInit=function(){m.searchPath().then((function(t){var n;if(null==t||null===(n=t.list_config)||void 0===n?void 0:n.operate_default){var a;i.operateDefault=d("valueToFunc")(function(t){"function"!=typeof i.super_go&&(i.super_go=o.super_go);var n={SCOPE:i,STATE:c,location:window.location,history:window.history,document:document,dataService:e,rootScope:o,WINDOW:window};return p.a.jsonEval(t,n,{})}(null==t||null===(a=t.list_config)||void 0===a?void 0:a.operate_default)),i.hasOperateDefault=!0}}))},i.models=u.getSearchModel(),i.dept_full_path=n.getContext("auth").company_setting.DEPT_FULL_PATH,i.models_index={},r()(g=i.models).call(g,(function(e){i.models_index[e.group_key]=e})),i.dynamicMode=n.getContext("auth").company_setting.emp_use_dynamic_mode,i.develop=n.getContext("auth").company_setting.EMP_SEARCH_NEED_EXTEND,i.index="",i.result={},i.load_history=function(){i.history=t().loadHistory()},i.getFilterDict=function(e){var t,i=l().format("YYYY-MM-DD"),a={begin_date:{lte:i},end_date:{gt:i},"employee.search_string":{like:e}},o=n.getContext("auth").company_setting.EMP_SEARCH_NEED_CHARGE,c=s()(t=n.getContext("auth").manager_departs).call(t,(function(e){return e.id}));return"1"==o&&0===c.length?0:("1"==o&&(a["department.origin_id"]={child_include:c}),a)},i.search=function(){var t;i.is_searching=0,i.result_count=0,r()(t=i.models).call(t,(function(t){if(i.is_searching++,i.dynamicMode&&i.develop){var n=i.getFilterDict(i.index);0===n?(i.result_count=0,i.is_searching--):m.searchEmp(n,i.index).then((function(e){i.emp_list=[],m.searchPath().then((function(t){var n,a;null==e||null===(n=e.data)||void 0===n||s()(a=n.list).call(a,(function(e){var n=m.getPathList(e,t);i.emp_list.push(n)}))})),i.is_searching--,i.searKey=e.searchKey,i.result_count+=e.data.count}))}else e.callHcmOpenApi(t.open_api,{key:i.index,_from:"mini",fields:["id","name","job_title","department","dept_id","photo","life_photo","unit_id","company_name","job_id"]},null,!0).then((function(e){var n;(i.is_searching--,i.result[t.group_key]=e,i.result_count=e.count,i.$emit("search_content_changed",!0),i.dept_full_path)&&u.gerDeptFullPathaa(s()(n=e.list).call(n,(function(e){return e.dept_id}))).then((function(t){var n,i;r()(n=a()(t)).call(n,(function(e){var n,i=[];r()(n=t[e]).call(n,(function(e){i.push(e.name)})),i=i.join("-"),t[e]=i})),r()(i=e.list).call(i,(function(e){e.full_path=t[e.dept_id]}))}))}))}))},i.go_class=function(e){i.dynamicMode&&i.develop?o.super_go("search_list",{index:i.index}):o.super_go("search_result",{group:e,index:i.index})},i.$on("search_key_changed",(function(e,t){i.index=t||"",t&&""!==t?i.search():(i.load_history(),i.$emit("search_content_changed"),i.result={})})),i.clearHistory=function(){t().clearHistory(),i.load_history()}}]}}))},GbEv:function(e,t){e.exports='<style>\n\n</style>\n<div class="circle-side-bar-mask ng-hide" ng-show="circle_side_bar_show">\n    <div class="circle-side-bar-left" ng-click="close_circle_side_bar()"></div>\n    <div class=\'circle-side-bar ng-hide\' ng-show="circle_side_bar_show">\n        \x3c!--<div ng-include="curr_template" class="circle-side-bar-content {{circle_side_bar_animator}}"></div>--\x3e\n        <dynamic-include template="{{curr_template}}"\n                         class="circle-side-bar-content {{circle_side_bar_animator}}" ></dynamic-include>\n        <div class="circle-side-bar-bottom-menu">\n            <div class="right">\n                <div class="circle-side-bar-menu-item {{_i.icon}}"\n                     ng-repeat="_i in bottom_menu|filter:{align:\'right\',enable:\'true\'}|orderBy:\'index\'"\n                     ng-click="_i.func()" ng-class="{label:_i.label}">{{_i.label}}</div>\n                \x3c!--<div class="circle-side-bar-menu-item menu-refresh {{is_circle_side_bar_refreshing?\'waiting\':\'icon-hcm-refresh\'}}"--\x3e\n                     \x3c!--ng-click="circle_side_bar_refresh()">--\x3e\n                \x3c!--</div>--\x3e\n            </div>\n            <div class="left">\n                <div class="circle-side-bar-menu-item icon-hcm-arrow-left" ng-show="history.length>0"\n                     ng-click="back()"></div>\n                <div class="circle-side-bar-menu-item {{_i.icon}}"\n                     ng-style="_i.style"\n                     ng-repeat="_i in bottom_menu|filter:{align:\'left\',enable:\'true\'}|orderBy:\'index\'"\n                     ng-click="_i.func()" ng-class="{label:_i.label}" ng-hide="(_i.hide|valueToFunc)()">{{_i.label}}</div>\n            </div>\n        </div>\n        <article-comment controller="article_comment_controller"></article-comment>\n        <new-article-item init-visible="false"></new-article-item>\n        <employee-selector></employee-selector>\n        <circle-group-selector></circle-group-selector>\n        <group-member-selector></group-member-selector>\n    </div>\n    <file-preview controller="file_preview_controller"></file-preview>\n</div>\n'},H3Dw:function(e,t,n){"use strict";n("rB9j"),n("EnZy");var i=n("lHQ6"),a=n.n(i),o=n("FLGM"),s=n.n(o),c=n("a0dU"),r=n.n(c),l=n("5PDf"),_=n.n(l),d=(n("ls82"),n("SPx3")),p=n.n(d),u=n("1hbj"),m=(n("srGB"),n("0Xdj")),g=(n("dOAv"),n("9DwR"));window.app.directive("homeWidgetEmpCard",[function(){return{restrict:"EA",template:n("AGQQ"),scope:{},controller:[function(){}]}}]),window.app.directive("homeWidgetEmpCardPc",[function(){return{restrict:"EA",template:n("crAE"),scope:{},controller:["$scope","$state","$rootScope","$hcDialog","$controller","contextService","BaseCRUDService","dataService","$filter",function(e,t,n,i,o,c,l,d,g){var h=l.getModelService("Employee");o(m.a,{$scope:e,CRUDService:h,InfoDialog:Object(u.a)("Employee")}),e.initBeforeAsync=p()(r.a.mark((function t(){var n,i,a,o,s,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.callHcmOpenApi("hcm.model.list",{model:"EmployeeSlogan",filter_dict:{employee_id:e.auth.employee.id}});case 2:if(n=t.sent,e.slogan_data=n.list,!e.slogan_data.length){t.next=8;break}e.emp_slogan=n.list[0].slogan,t.next=14;break;case 8:return t.next=10,d.callHcmOpenApi("hcm.model.meta",{model:"EmployeeSlogan",biz_type:"info",state:"home"});case 10:s=t.sent,c=_()(i=s.extend).call(i,(function(e){return"company_default"===e.key})),e.company_default=c.length>0?null===(a=c[0])||void 0===a||null===(o=a.value)||void 0===o?void 0:o.default:"",e.emp_slogan=e.company_default;case 14:case"end":return t.stop()}}),t)}))),e.setTitle=function(e){},e.getMetaState=function(){return"empCard"},e.getItemID=function(){return e.auth.employee.id},e.initAfter=function(){var n,i="mobile"===e.client?4:3;e.view_btn_model.$setShowMax(i),e.emp_id=t.params.id,e.extendModel={},s()(n=e.view_model.viewMeta.extend).call(n,(function(t){e.extendModel[t.key]=t.value}))},e.individualParse=function(e){var t;return s()(t=e.fields).call(t,(function(e){if("photo"===e.key){var t=e.options.photo_size.split(",");switch(window.screen.width){case 1680:t[0]=a()(1.25*t[0]),t[1]=a()(1.25*t[1]);break;case 1920:t[0]=a()(1.5*t[0]),t[1]=a()(1.5*t[1])}e.options.photo_size=t[0]+","+t[1]}})),e},e.empProfile=function(){n.super_go("emp")},e.editSlogan=p()(r.a.mark((function t(){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.getDialog(Object(u.a)("EmployeeSlogan","home")).size("small").show({mode:e.slogan_data.length?"edit":"new",data:e.slogan_data.length?e.slogan_data[0]:null,alter:{employee_id:e.auth.employee.id}});case 2:n=t.sent,e.emp_slogan=n.slogan;case 4:case"end":return t.stop()}}),t)})))}]}}]),window.app.directive("homeWidgetEmpCardMobile",[function(){return{restrict:"EA",template:n("ysBk"),scope:{},controller:["$scope","$state","$rootScope","$hcDialog","$controller","contextService","BaseCRUDService","dataService",function(e,t,n,i,a,o,s,c){var l=s.getModelService("Employee");a(g.a,{$scope:e,CRUDService:l,InfoDialog:Object(u.a)("Employee")}),e.initBeforeAsync=p()(r.a.mark((function t(){var n,i,a,o,s,l;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.callHcmOpenApi("hcm.model.list",{model:"EmployeeSlogan",filter_dict:{employee_id:e.auth.employee.id}});case 2:return n=t.sent,t.next=5,c.callHcmOpenApi("workflow.instance.detail.get.unprocess.list.count",{});case 5:if(e.process_count=t.sent,e.slogan_data=n.list,!e.slogan_data.length){t.next=11;break}e.emp_slogan=n.list[0].slogan,t.next=17;break;case 11:return t.next=13,c.callHcmOpenApi("hcm.model.meta",{model:"EmployeeSlogan",biz_type:"info",state:"home"});case 13:s=t.sent,l=_()(i=s.extend).call(i,(function(e){return"company_default"===e.key})),e.company_default=l.length>0?null===(a=l[0])||void 0===a||null===(o=a.value)||void 0===o?void 0:o.default:"",e.emp_slogan=e.company_default;case 17:case"end":return t.stop()}}),t)}))),e.setTitle=function(e){},e.getFilterDict=function(){return{id:e.auth.employee.id}},e.getMetaState=function(){return"empCard"},e.editSlogan=p()(r.a.mark((function t(){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.getDialog(Object(u.a)("EmployeeSlogan","home")).size("small").show({mode:e.slogan_data.length?"edit":"new",data:e.slogan_data.length?e.slogan_data[0]:null,alter:{employee_id:e.auth.employee.id}});case 2:n=t.sent,e.emp_slogan=n.slogan;case 4:case"end":return t.stop()}}),t)}))),e.showProcessTask=p()(r.a.mark((function t(){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.getDialog(Object(u.a)("EmployeeSlogan","home")).size("small").show({mode:e.slogan_data.length?"edit":"new",data:e.slogan_data.length?e.slogan_data[0]:null,alter:{employee_id:e.auth.employee.id}});case 2:n=t.sent,e.emp_slogan=n.slogan;case 4:case"end":return t.stop()}}),t)})))}]}}])},HNFB:function(e,t,n){"use strict";n.r(t);n("oVuX");var i=n("8xC1"),a=(n("Utim"),n("JO1g")),o=n.n(a),s=(n("g6M4"),n("PTQ2"),n("7MTh"),n("a0dU")),c=n.n(s),r=(n("ls82"),n("SPx3")),l=n.n(r),_=n("UtpJ"),d=n.n(_),p=n("lIYI"),u=n.n(p),m=(n("pRBk"),n("h5m7"),n("o+MX")),g=n.n(m),h=n("ZnTZ"),v=n.n(h);n("bsgm"),n("NRto");i.a.component("widgetItem",{bindings:{searchData:"<",searchKey:"<",icon:"<",onHideSearch:"&",forwardModel:"<",forwardUrl:"<",onOperateDefault:"&?",hasOperateDefault:"<?"},template:v.a,controller:["$state",function(e){var t=this;this.$onInit=function(){},this.href=function(){var n,i,a;return g()(n="".concat(location.pathname)).call(n,e.href(null===(i=t.forwardModel)||void 0===i?void 0:i.state,null===(a=t.forwardModel)||void 0===a?void 0:a.params,{inherit:!1}))},this.url=function(){return t.forwardUrl},this.hideSearch=function(e){t.onHideSearch(),t.hasOperateDefault&&(null==e||e.preventDefault(),t.onOperateDefault())}}]});n("TWNs"),n("rB9j"),n("JfAA"),n("UxlC");var f=n("5PDf"),y=n.n(f);y()(i.a).call(i.a,"highLight",(function(){return function(e,t){if(!t)return e;var n=new RegExp(t,"g");return n.test(e)?e.replace(n,"<strong>".concat(t,"</strong>")):e}})),y()(i.a).call(i.a,"listToString",(function(){return function(e){return e&&e.join("/")}})),i.a.component("applicationWidget",{bindings:{searchKey:"<",resultState:"=",onHideSearch:"&"},template:u.a,controller:["SpecialistSearchService","$rootScope","$state","appHistoryService",function(e,t,n,i){var a=this;this.$onInit=function(){},this.$onChanges=function(t){for(var n in t)"searchKey"===n&&(a.resultState.is_searching++,e.searchApplication(a.searchKey).then((function(e){a.total=e.length,a.app_list="mobile"===window.client?e:d()(e).call(e,0,3),a.resultState.is_searching--,a.resultState.result_count+=a.app_list.length})))},this.click=function(){var e=l()(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"mobile"===window.client&&i().pushHistory(t),a.onHideSearch();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]});var b=n("Bwqw"),w=n.n(b);i.a.component("organizationWidget",{bindings:{searchKey:"<",resultState:"=",onHideSearch:"&"},template:w.a,controller:["SpecialistSearchService","$rootScope","$filter","$state","contextService","$scope",function(e,t,n,i,a,o){var s=this;this.$onInit=function(){o.current_date=n("dateFormat")(new Date,"yyyy-MM-dd")},this.$onChanges=function(t){for(var n in t)"searchKey"===n&&"cm-org-emp.org"in a.getContext("auth").roles&&function(){s.resultState.is_searching++;var t=(new Date).getTime();s.api_flag=t;var n=a.getContext("auth").roles["cm-org-emp.org"][0]&&a.getContext("auth").roles["cm-org-emp.org"][0].id;e.searchOrganization(s.searchKey,n).then((function(e){var n;s.api_flag===t?(s.org_list=d()(n=e.list).call(n,0,3),s.count=e.count,s.resultState.is_searching--,s.resultState.result_count+=s.org_list.length):s.resultState.is_searching--}))}()}}]}),i.a.component("specialistSearch",{bindings:{showSearch:"<",myRoles:"<roles",onClose:"&",searchReslute:"=",needNetconect:"="},template:o.a,controller:["SpecialistSearchService","$scope","appHistoryService",function(e,t,n){var i=this;this.$onInit=function(){i.has_permission=!1,i.search_key="",i.client=window.client,i.result_state={result_count:0,is_searching:0},t.$watch("$ctrl.search_key",(function(){i.result_state.result_count=0})),1===i.needNetconect?e.getPluginsConfig(i.myRoles).then((function(e){i.plugins=e.my_plugins,i.desc_list="pc"===i.client?e.desc_list:["应用"],i.placeholder="搜索 ".concat(i.desc_list.join("、"))})):t.$watch("$ctrl.searchReslute",(function(e,t){e&&(i.plugins=i.searchReslute.my_plugins,i.desc_list="pc"===i.client?i.searchReslute.desc_list:["应用"],i.placeholder="搜索 ".concat(i.desc_list.join("、")))}),!0),i.history=n().loadHistory()},this.$onChanges=function(e){for(var t in e)"showSearch"===t&&!0===i.showSearch&&document.querySelector("specialist-search input[autofocus]").focus()},this.inputClick=function(e){e.stopPropagation()},this.hide_search=function(){i.search_key="",i.onClose()},this.on_cross_click=function(){i.search_key?i.search_key="":i.hide_search()},this.clearHistory=function(){n().clearHistory(),i.history=n().loadHistory()}}]})},HyfL:function(e,t,n){var i=n("KHwQ").module("myApp");e.exports=i},IW72:function(e,t,n){n("rB9j"),n("EnZy");var i=n("ZbhI"),a=n("M5Mt"),o=n("FLGM"),s=n("HyfL");n("1zKW"),s.directive("positionSelector",(function(){return{restrict:"E",scope:{},template:n("W+YA"),controller:["$scope","$timeout","orgService",function(e,t,n){e.is_position_show=!1,e.bottom_menu={btn_cancel:{caption:"取消",class:"",func:function(){e.close()}},btn_all_select:{caption:"全选",class:"hcmui-button-default-fullline",func:function(){e.all_select()}},btn_ok:{caption:"确定",class:"hcmui-button-default-fullline",func:function(){e.submit()}}},e.begin=function(t){var n;e.title=t.title||"请选择职位",e.single_select=t.single_select,e.pre_selected=t.pre_selected||[],e.pre_selected_id=o(n=e.pre_selected).call(n,(function(e){return e.id})),!e.single_select&&t.all_select||delete e.bottom_menu.btn_all_select,e.selected=[],e.selected_id=[],e.callback=t.callback,e.parent_id=0,e.root_org_id=0,e.selected_org=null,e.is_loading_data=!1,e.is_position_show=!0,e.showOrg("")},e.showOrg=function(t){e.is_loading_data=!0,e.org_list=[],e.item_datas=[],0==e.parent_id&&(e.root_org_id=t),e.parent_id=t,t&&e.getPositionFromDepartment(t),n.getDeptInfo(t).then((function(t){e.org_list=t.child_list,e.fullName=t.full_name,e.refresh_bread(t),e.$broadcast("search_content_refresh",!0),e.is_loading_data=!1}))},e.getPositionFromDepartment=function(t){n.getPositionFromDepartment(t).then((function(t){e.item_datas=t.list}))},e.refresh_bread=function(t){for(var n,i=o(n=t.full_name.split("!")).call(n,(function(e,n){return{name:e,id:t.tree_id.split("!")[n]}})),s=0,c=0;c<i.length;c++)if(i[c].id==e.root_org_id){s=c;break}s>0&&a(i).call(i,0,s),e.org_bread=i},e.selectPosition=function(t){var n,o;if(t.belong_org=e.org_bread,e.single_select)e.selected=[t],e.selected_id=[t.id];else{if(i(n=e.pre_selected_id).call(n,t.id)>-1)return;if(i(o=e.selected_id).call(o,t.id)>-1){var s,c,r,l=i(s=e.selected_id).call(s,t.id);a(c=e.selected).call(c,l,1),a(r=e.selected_id).call(r,l,1)}else e.selected.push(t),e.selected_id.push(t.id)}},e.un_select=function(t){var n,o,s,c=i(n=e.selected_id).call(n,t.id);a(o=e.selected).call(o,c,1),a(s=e.selected_id).call(s,c,1)},e.all_select=function(){var t;o(t=e.item_datas).call(t,(function(t){var n;i(n=e.pre_selected_id||[]).call(n,t.id)<0&&(e.selected.push(t),e.selected_id.push(t.id),t.belong_org=e.org_bread)}))},e.submit=function(){window.event.stopPropagation(),e.selected_id.lenth<1?$rootScope.show_warning("请先选择职位","warning"):(e.is_position_show=!1,e.callback(e.selected))},e.close=function(){e.option&&e.option.cancel_callback&&e.option.cancel_callback(),e.is_position_show=!1},e.positionSelectorClick=function(e){e.stopPropagation()},e.$on("position-select-event",(function(t,n){e.begin(n)}))}]}}))},IkEK:function(e,t,n){"use strict";n.r(t);n("oVuX"),n("rB9j"),n("UxlC");var i=n("M5Mt"),a=n.n(i),o=n("FLGM"),s=n.n(o),c=n("7xSq"),r=n.n(c);n("1NbK"),n("CAp6"),n("CHk/"),r.a.directive("articleComment",(function(){return{template:n("smUh"),scope:{},controller:["$filter","circleGroupService","contextService","$scope","$rootScope","commentService","$state","$timeout","$hcListBtn",function(e,t,n,i,o,c,r,l,_){i.start_to_employee_select=function(){var e,t;i.group&&2==i.group.group_type||(i.group&&1==i.group.group_type?i.$emit("group-member-select",{id:i.article.feed.biz_id,selected:s()(t=i.comment_at).call(t,(function(e){return e.id})),callback:function(e){i.comment_at=e.data}}):i.$emit("employee-select",{selected:s()(e=i.comment_at).call(e,(function(e){return e.id})),callback:function(e){i.comment_at=e.data}}))},i.init=function(){var e=[{key:"cancel",label:"取消",func:i.close_comment},{key:"submit",label:"发送",is_important:!0,func:i.submit_comment,disabled:function(){return i.is_commenting||i.content_length_overflow}}];i.list_btn_model=_.createListBtn().$setMeta(e)},i.$on("article-comment-event",(function(e,n){i.is_comment=!0,i.article=n.article,t.getGroupByFeed(i.article.feed_id).then((function(e){i.group=e})),i.reply=n.reply,i.comment_text="",i.comment_at=[],i.callback=n.callback,l((function(){$(".article-comment .comment-input").focus()}),500)})),i.un_at_employee=function(e){var t;a()(t=i.comment_at).call(t,e,1)},i.content_length=0,i.content_change=function(){i.content_length=i.comment_text.replace(/\r\n/g,"<BR>").replace(/\n/g,"<BR>").length,i.content_length_overflow=i.content_length>150},i.close_comment=function(){i.is_comment=!1},i.submit_comment=function(){var e;i.is_commenting||i.content_length_overflow||(i.is_commenting=!0,c.createComment({article_id:i.article.id,reply_to_id:i.reply?i.reply.id+":"+i.reply.obj_type:"",comment:i.comment_text.replace(/\r\n/g,"<BR>").replace(/\n/g,"<BR>"),at_employee_ids:s()(e=i.comment_at).call(e,(function(e){return e.id})).join(",")}).then((function(e){i.is_commenting=!1,i.is_comment=!1,l((function(){$(".article-comment .comment-input").blur()}),300),i.callback(e)})))}}]}}))},Im7n:function(e,t){e.exports='<div ng-init="init()" class="hcm-nav-content">\n    <div class="hcm-nav full-height">\n        <div class="hcm-nav-fixed">\n            <hc-dataset model="dataset_model"></hc-dataset>\n        </div>\n    </div>\n\n    <div class="hcm-content">\n        <div class="hcm-hc-list-container">\n            <hc-config-list model="config_model"></hc-config-list>\n        </div>\n    </div>\n</div>'},JO1g:function(e,t){e.exports='\x3c!--搜索界面--\x3e\n<div class="search-view" ng-if="$ctrl.myRoles">\n    \x3c!--搜索框--\x3e\n    <header ng-if="$ctrl.showSearch" ng-click="$ctrl.hide_search()">\n        <label ng-click="$ctrl.inputClick($event)">\n            <span class="icon-hcm-check icon"></span>\n            <input\n                autofocus\n                ng-model="$ctrl.search_key"\n                ng-model-options="{debounce:{default:800}}"\n                placeholder="{{$ctrl.placeholder}}"\n            >\n            <span class="waiting" ng-show="$ctrl.result_state.is_searching > 0"></span>\n            <span class="icon-hcm-delete icon" ng-click="$ctrl.on_cross_click()"></span>\n        </label>\n    </header>\n    \x3c!--下拉菜单--\x3e\n    <div class="drop-box" ng-if="$ctrl.showSearch" ng-show="$ctrl.showSearch">\n        <div class="none-input" ng-show="!$ctrl.search_key&&window.client===\'mobile\'">\n            <p id="slogan">{{\'search_the_entire_system\'|translate}}</p>\n            <p id="widgets-name"><span ng-repeat="name in $ctrl.desc_list">{{name}}</span></p>\n        </div>\n        <div class="none-result"\n             ng-show="$ctrl.search_key && $ctrl.result_state.result_count==0 && $ctrl.result_state.is_searching==0">\n            <hc-svg options="{icon:\'hcm-no-content\'}" class="no-data-svg"></hc-svg>\n            当前无结果\n        </div>\n        <div class="is-searching"\n             ng-show="$ctrl.search_key && $ctrl.result_state.result_count==0 && $ctrl.result_state.is_searching > 0">\n        </div>\n        <div class="plugin-box"\n             ng-if="$ctrl.search_key"\n             ng-repeat="plugin in $ctrl.plugins">\n            \x3c!-- 新的组件仿照一下格式，添加到这里 --\x3e\n            <employee-widget\n                ng-if="plugin.name===\'employee-widget\'&&$ctrl.client===\'pc\'"\n                search-key="$ctrl.search_key"\n                on-hide-search="$ctrl.hide_search()"\n                result-state="$ctrl.result_state"\n            ></employee-widget>\n            <organization-widget\n                ng-if="plugin.name===\'organization-widget\'&&$ctrl.client===\'pc\'"\n                search-key="$ctrl.search_key"\n                on-hide-search="$ctrl.hide_search()"\n                result-state="$ctrl.result_state"\n            ></organization-widget>\n            <application-widget\n                ng-if="plugin.name===\'application-widget\'"\n                search-key="$ctrl.search_key"\n                on-hide-search="$ctrl.hide_search()"\n                result-state="$ctrl.result_state"\n            ></application-widget>\n        </div>\n        <div class="search-history" ng-if="$ctrl.client===\'mobile\' && !$ctrl.search_key">\n            <div class="search-head">\n                <div class="title">>{{\'historical_searches\'|translate}}</div>\n                <div class="icon-hcm-trash icon" ng-click="$ctrl.clearHistory()"></div>\n            </div>\n            <div class="search-item" ng-repeat="_item in $ctrl.history track by $index">\n                <widget-item search-data="_item" icon="_item.icon" forward-url="_item.url"></search-result-item>\n            </div>\n        </div>\n    </div>\n    \x3c!--mask--\x3e\n    <div class=\'mask\' ng-show="$ctrl.showSearch && $ctrl.client===\'pc\'" ng-click="$ctrl.hide_search()"></div>\n</div>\n'},JWgx:function(e,t,n){"use strict";var i=n("ZbhI"),a=n.n(i),o=n("PWlq"),s=n.n(o),c=(n("PfOS"),n("7VJd"),n("lq6P"));n("/mB3");window.app.controller("FeedbackInfoCtrl",["$controller","$scope","$rootScope","dataService","FeedbackUserService",function(e,t,n,i,o){e(c.a,{$scope:t,CRUDService:o}),t.client=window.client,t.meta_state="userInfo",t.initAfter=function(){o.getItemList(null,{current_state:"temporarily"},1,200,null).then((function(e){e.list.length>0?t.temp={id_:e.list[0].id,content:e.list[0].content,file:e.list[0].images}:t.temp={content:null,file:null},t.options.paste.readOnly=!1,t.options.file.readOnly=!1})),t.placeholder=t.base_form.field_metas.content.options.placeholder},t.default_operate=[{key:"back",hide:!0},{key:"submit",hide:!0}],t.options={paste:{readOnly:!0,maxlength:500},file:{width:"col-12",length:5,readOnly:!0,custom_api:{upload:"/document/outer/save",loadImg:"feedback.outer.documents.get.info",preview:"/document/outer/load/source/",img_src:"/document/outer/load/source/"},file_type:["doc","docx","dot","dotx","docm","dotm","xml","xls","xlsx","ppt","pptx","pdf","png","jpg","jpeg","bmp","zip"]}},t.goFeedbackList=function(){t.$dialog.dialog_close(),n.super_go("my_feedback",{})},t.temporarily=function(){t.temp.id_?o.editItem(t.temp.id_,{content:t.temp.content,images:t.temp.file}).then((function(){n.show_warning("暂存成功"),t.close()})):t.temp.content||t.temp.file?o.createItem({content:t.temp.content,images:t.temp.file,current_state:"temporarily"}).then((function(e){n.show_warning("暂存成功"),t.temp.id_=e.id,t.close()})):t.show_warning("无暂存内容","warning")},t.showNormalQuestion=function(e){window.open(e?"https://wiki.hcmcloud.cn/pages/viewpage.action?pageId="+e:"https://wiki.hcmcloud.cn/display/DOC/HCM+Cloud")},t.paste_pic=function(e){if(e.clipboardData||e.originalEvent){var n=e.clipboardData||e.originalEvent.clipboardData;if(n.items)for(var i=n.items,s=i.length,c=0;c<s;c++){var r;-1!==a()(r=i[c].type).call(r,"image")&&o.replyPastePicInputChange({_params:{file:i[c].getAsFile()},upload_url:"/document/outer/save",custom_api:{upload:"/document/outer/save",loadImg:"feedback.outer.documents.get.info",preview:"/document/outer/load/source/"}}).then((function(e){t.temp.file?t.temp.file+="#"+e.images:t.temp.file=e.images}))}}},t.submit=function(){t.temp.content?o.createItem({id:t.temp.id_,content:t.temp.content,images:t.temp.file}).then((function(){t.$dialog.resolve_data(),t.$dialog.dialog_close()})):t.show_warning("反馈内容不允许为空！","warning")}}]),t.a={controller:"FeedbackInfoCtrl",template:s.a,name:"feedback",maskClose:"mobile"===window.client}},Jf2n:function(e,t){window.app.factory("HomeWidgetMostUsedAppService",["BaseCRUDService",function(e){return angular.extend(e.getModelService("HomeWidgetMostUsedApp"),{getMostUsedAppList:function(e,t){return this.getItemList(null,{company_id:e,employee_id:t},1,1e4,{sorts:[{key:"sequence",type:"asc"}]})},addMostUsedApp:function(e,t,n,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return this.createItem({company_id:e,employee_id:t,app_id:n,is_service:a,sequence:i})},delMostUsedApp:function(e){return this.removeItem(e)}})}])},Jvcg:function(e,t){e.exports='<div class="home-widget" ng-init="init()">\n    <div class="home-widget-header">企业通知</div>\n    <div class="hc-list-homepage swiper-container" name=\'{{ list_model.name }}\' ng-if="list_model.view===\'homepage\'">\n        <div class="list-content swiper-wrapper">\n            <div class="row-container swiper-slide" ng-repeat="_row in list_model.data track by $index">\n                <div class="row flexbox"\n                    ng-on-click="list_model.operate_default&&list_model.operate_default(_row,$event,list_model.name)"\n                    ng-class="{\n                     \'hide-row-padding-top-bottom\':list_model.homepage_meta.hide_row_padding_top_bottom===true,\n                     \'border-bottom-hide\':list_model.homepage_meta.border_bottom_hide===true\n                 }" ng-style="{\'min-height\':list_model.homepage_meta.row_min_height+\'px\'}">\n                    <div class="photo {{list_model.columns_metas[list_model.homepage_meta.content.img.key].class|| list_model.homepage_meta.content.img.class ||\'circle\'}}"\n                        ng-if="list_model.homepage_meta.content.img && list_model.homepage_meta.content.img.position === \'left\'"\n                        ng-include="\'home_widget_carousel_info_image.html\'">\n                    </div>\n                    <div class="row-content flex-1">\n                        <div ng-if="[undefined,false,null].includes(list_model.homepage_meta[\'dynamic_template\'])"\n                            ng-include="\'default_home_widget_carousel.html\'"></div>\n                        <div ng-if="list_model.homepage_meta[\'dynamic_template\']===true"\n                            ng-include="\'dynamic_home_widget_carousel.html\'"></div>\n                        <div ng-if="list_model.homepage_meta[\'dynamic_template\']&&list_model.homepage_meta[\'dynamic_template\']!==true"\n                            ng-include="list_model.homepage_meta[\'dynamic_template\']+\'_hc_list.html\'"></div>\n                    </div>\n                    <div class="photo {{list_model.columns_metas[list_model.homepage_meta.content.img.key].class|| list_model.homepage_meta.content.img.class ||\'circle\'}}"\n                        ng-if="list_model.homepage_meta.content.img && list_model.homepage_meta.content.img.position === \'right\'"\n                        ng-include="\'home_widget_carousel_info_image.html\'">\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="carousel-pagination"></div>\n    <div class="swiper-button-next"></div>\n    <div class="swiper-button-prev"></div>\n</div>\n\x3c!--未设置，默认模板--\x3e\n<script id="default_home_widget_carousel.html" type="text/ng-template">\n    <div class="default-content {{ list_model.homepage_meta.defaultContentClass }}">\n        <div class="{{field.class}} {{getCellClass(_row, _col)}}"\n             ng-repeat="_col in list_model.columns track by $index"\n             ng-if="!_col.hide&&(_row|hcListCellData:_col||(!list_model.homepage_meta[\'hide_label\']&&_col.label))">\n            <span class="label"\n                  ng-if="_col.label&&!list_model.homepage_meta[\'hide_label\']">{{_col.label}}:</span>\n            <span class="value"\n                  ng-bind="_row|hcListCellData:_col|infoDefault"></span>\n        </div>\n    </div>\n<\/script>\n\x3c!--配置型模板--\x3e\n<script id="dynamic_home_widget_carousel.html" type="text/ng-template">\n    <div class="custom-content">\n        <div ng-repeat="_v in [\'top\',\'middle\',\'bottom\']"\n             class="flexbox {{_v+\'-area\'}} {{getCellClass(_row, _col)}}">\n            <div ng-repeat="_h in [\'left\',\'right\']"\n                 ng-if="list_model.homepage_meta.content[_v+\'_\'+_h+\'_area\']"\n                 class="area {{_v+\'-\'+_h+\'-area \'+list_model.homepage_meta.class[_v+\'_\'+_h+\'_area\']}}">\n                <div class="readPoint"\n                     ng-class="{read: !_row.is_read}"\n                     ng-if="list_model.homepage_meta.content.showPoint.includes(_v+\'_\'+_h+\'_area\')"></div>\n                <div\n                    ng-repeat="field in list_model.homepage_meta.content[_v+\'_\'+_h+\'_area\']"\n                    class="field {{(field.class|valueToFunc)(_row)}} {{(field[\'ng-class\']|valueToFunc)(_row,list_model.columns_metas[field.key])}}"\n                    ng-if="!(field.hide|valueToFunc)() && (\n                         ![undefined,null,\'\'].includes(_row|hcListCellData:list_model.columns_metas[field.key])\n                         ||(!list_model.homepage_meta[\'hide_label\']&&list_model.columns_metas[field.key].label)\n                     )"\n                    ng-click="onCellClick($event,_row,list_model.columns_metas[field.key])">\n                    <span class="label"\n                          ng-if="list_model.columns_metas[field.key].label&&!list_model.homepage_meta[\'hide_label\']">{{list_model.columns_metas[field.key].label}}:</span>\n                    <span class="value"\n                          ng-bind-html="chooseTimeTemplate(_row, list_model.columns_metas[field.key], field.type)"></span>\n                </div>\n            </div>\n        </div>\n    </div>\n<\/script>\n<script id="home_widget_carousel_info_image.html" type="text/ng-template">\n    <img\n        ng-src="{{_row|hcListCellData:(list_model.columns_metas[list_model.homepage_meta.content.img.key])|commonImage:[list_model.homepage_meta.content.img[\'image_config\']||\'hcPhoto\',list_model.homepage_meta.content.img[\'photo_size\']]}}"\n        ng-style="{\n                            width:(list_model.columns_metas[list_model.homepage_meta.content.img.key][\'image_config\']||[])[1]||300,\n                            height:(list_model.columns_metas[list_model.homepage_meta.content.img.key].class||\'circle\')==\'circle\'\n                                ?(list_model.columns_metas[list_model.homepage_meta.content.img.key][\'image_config\']||[])[1]||160\n                                :((list_model.columns_metas[list_model.homepage_meta.content.img.key][\'image_config\']||[])[1]||90)*1.26\n                        }"\n    />\n<\/script>\n'},KcY4:function(e,t,n){"use strict";n("07d7"),n("rB9j"),n("JfAA"),n("EnZy");var i=n("RXMP"),a=n.n(i),o=n("FLGM"),s=n.n(o),c=n("/FZm"),r=n.n(c),l=n("mrSG"),_=n("ihkt"),d=n.n(_),p=(n("9yW/"),n("PaGH")),u=function(){},m=function(e){function t(t,n,i,a,o,s,c,r,l){var _=e.call(this,t,n,i,a,o)||this;return _.isReset=!0,_.disabledMenu=!1,_.portalItem={id:"index",name:"首页",icon:"icon-hcm-home",view:"index"},_.onBreadcrumbChange=function(e){e.classify_id&&_.indexService.setAnchorClassify(e.id)},_.$state=s,_.$hcDialog=c,_.indexService=r,_.contextService=l,_.$scope.initAfter=function(){s.params._menu_id&&_.parseMenuId(s.params._menu_id),_.initStateChangeListener()},_.$scope.getMostUsedApps=u,_.$scope.noCacheGetMostUsedApps=u,_.$scope.getWorkBench=function(){},_}return Object(l.d)(t,e),t.prototype.$onInit=function(){var e,t,n,i,a;null===(e=this.$scope)||void 0===e||e.init(),this.auth=this.contextService.getContext("auth"),this.disabledMenu=(null===(n=null===(t=this.auth)||void 0===t?void 0:t.company_setting)||void 0===n?void 0:n.is_banner_menu)||"0"!==(null===(a=null===(i=this.auth)||void 0===i?void 0:i.company_setting)||void 0===a?void 0:a.pc_main_side_index)},t.prototype.initStateChangeListener=function(){var e=this;this.stateChangeListener=this.$rootScope.$on("$stateChangeSuccess",(function(t,n,i,a,o){e.parseMenuId(i._menu_id)}))},t.prototype.parseMenuId=function(e){var t,n,i,o,c=this;if(e){this.items=[],this.items.push(this.portalItem);var _,d,p,u,m=Object(l.f)(e.toString().split("!"),3),g=m[0],h=m[1],v=m[2];if(h="null"===h?"default":h,this.currentCategory=r()(t=this.$scope.category_list).call(t,(function(e){return e.id.toString()===g})),this.currentCategory)this.currentCategory=Object(l.a)(Object(l.a)({},this.currentCategory),{view:"index",params:{cateogry:this.currentCategory.id},disabled:this.disabledMenu,icon:null}),this.items.push(this.currentCategory),this.currentCategory.c_list||(this.currentCategory.c_list=s()(_=this.$scope.category_list).call(_,(function(e){return Object(l.a)(Object(l.a)({},e),{view:"index",params:{category:e.id},key:e.id})}))),a()(d=this.currentCategory.c_list).call(d,(function(e){var t,n;a()(t=e.classify_list).call(t,(function(e){var t;e.list=s()(t=e.applications).call(t,(function(e){return Object(l.a)(Object(l.a)({},e),{view:e.state,params:Object(l.a)({},e.param||{}),key:e.id})}))})),e.list=s()(n=e.classify_list).call(n,(function(e){return Object(l.a)(Object(l.a)({},e),{key:e.id})}))})),this.currentClassifiy=null===(n=this.currentCategory.classify_list)||void 0===n?void 0:r()(n).call(n,(function(e){return e.id.toString()===h}));if(this.currentClassifiy)this.currentClassifiy=Object(l.a)(Object(l.a)({},this.currentClassifiy),{view:"index",params:{cateogry:this.currentClassifiy.category_id||this.currentCategory.id},disabled:this.disabledMenu,icon:null}),this.items.push(this.currentClassifiy),this.currentClassifiy.c_list||(this.currentClassifiy.c_list=s()(p=this.currentCategory.classify_list).call(p,(function(e){return Object(l.a)(Object(l.a)({},e),{view:"index",params:{category:e.category_id||c.currentCategory.id},classify_id:e.id,key:e.id})}))),this.currentApp=null===(i=this.currentClassifiy.applications)||void 0===i?void 0:r()(i).call(i,(function(e){return e.id.toString()===v})),(null===(o=this.currentApp)||void 0===o?void 0:o.c_list)||(this.currentApp.c_list=s()(u=this.currentClassifiy.applications).call(u,(function(e){return Object(l.a)(Object(l.a)({},e),{view:e.state,params:Object(l.a)({},e.param||{})})})));this.currentApp&&(this.currentApp=Object(l.a)(Object(l.a)({},this.currentApp),{icon:null,disabled:this.disabledMenu}),this.items.push(this.currentApp)),this.isReset=!1}else this.resetMenuState()},t.prototype.resetMenuState=function(){this.isReset=!0,this.currentCategory=null,this.currentClassifiy=null,this.currentApp=null},t.prototype.$onDestroy=function(){var e;null===(e=this.stateChangeListener)||void 0===e||e.call(this)},t.$inject=["$controller","$scope","cacheService","$rootScope","$element","$state","$hcDialog","IndexService","contextService"],t}(p.a),g={template:d.a,controller:m};window.app.component("hcmBreadcrumb",g)},Lfbl:function(e,t,n){n("CAp6")},MoVH:function(e,t){e.exports='<div class="swiper-container">\n    <div class="swiper-wrapper">\n        <div class="swiper-slide" ng-repeat="_src in $ctrl.model track by $index">\n            <img ng-src="{{_src.index}}" ng-click="imgClick(null, 0)">\n            <span class="description" ng-if="_src.description">{{_src.description}}</span>\n        </div>\n    </div>\n    <div class="swiper-pagination"></div>\n    <div class="swiper-button-next" ng-if="$ctrl.parsedOptions.use_navigation"></div>\n    <div class="swiper-button-prev" ng-if="$ctrl.parsedOptions.use_navigation"></div>\n</div>'},N25Y:function(e,t){e.exports='<div class="org-plan">\n    <div class="top">\n\n        <div class="time-c">\n            <label>当前年度：</label>\n            <div ng-click="pickerClick(\'year\')" class="input">{{year}}</div>\n            <div ng-click="pickerClick(\'year\')" class="icon icon-hcm-calendar"></div>\n        </div>\n        <div class="org-plan-num">\n            <div class="next-num">含下级编制数：<span class="blue">{{plan_count_all}}</span></div>\n        </div>\n        <div class="org-plan-num">\n            <div class="next-num">本机构编制数：<span class="blue">{{currentPlanData}}</span></div>\n        </div>\n    </div>\n    \x3c!--<hc-form model="org_plan_form"></hc-form>--\x3e\n</div>\n'},NJvz:function(e,t,n){e.exports=n.p+"resources/images/2c23f757bdd7c394e6c6d6c423e55b53.png"},NLuq:function(e,t,n){"use strict";n.r(t);n("TWNs"),n("rB9j"),n("JfAA"),n("UxlC");var i=n("mrSG");function a(e,t,n,a,o){var s,c=this,r=a.getContext("auth"),l="local_language_setting_"+(null===(s=null==r?void 0:r.employee)||void 0===s?void 0:s.id);return{initLanguage:function(e){return Object(i.c)(c,void 0,void 0,(function(){var n;return Object(i.e)(this,(function(i){switch(i.label){case 0:return(n=o("firstValid")([e,window.localStorage.getItem(l),navigator.language,navigator.userLanguage]).toLowerCase().replace("-","_"))?[4,t.callHcmOpenApi("auth/change_language",{language:n})]:[3,2];case 1:if(i.sent().language!==n)return[2,!1];i.label=2;case 2:return[2,!0]}}))}))},changeLanguage:function(e){return Object(i.c)(c,void 0,void 0,(function(){return Object(i.e)(this,(function(n){switch(n.label){case 0:return r=a.getContext("auth"),e===r.language?[3,2]:[4,t.callHcmOpenApi("auth/change_language",{language:e})];case 1:return n.sent().language!==e?[2,!1]:(window.localStorage.setItem(l,e),[2,!0]);case 2:return[2]}}))}))}}}n("0vOt").a.service("LanguageService",a),a.$inject=["$rootScope","dataService","AuthService","contextService","$filter"]},NR7K:function(e,t){e.exports='<div ng-init="init()" class="hcm-nav-content">\n    <div class="hcm-nav full-height">\n        <div class="hcm-nav-fixed">\n            <hc-dataset model="dataset_model"></hc-dataset>\n        </div>\n    </div>\n\n    <div class="hcm-content">\n        <div class="hcm-hc-list-container">\n            <hc-config-list model="config_model" ng-if="config_model"></hc-config-list>\n        </div>\n    </div>\n</div>'},O3SW:function(e,t){e.exports='<a ng-href="{{$ctrl.href()}}" ng-click="go_emp($ctrl.searchData.id)">\n    <img alt="图标" ng-src="{{$ctrl.searchData.photo|hcPhoto:30}}"/>\n    <span id="icon" ng-class="$ctrl.icon" ng-if="$ctrl.icon"></span>\n    <div id="result">\n        <p id="title"\n           ng-bind-html="$ctrl.searchData.name | highLight:$ctrl.searchKey | toTrusted"></p>\n        <p id="path"\n           ng-bind-html="$ctrl.searchData.path_list | listToString | highLight:$ctrl.searchKey | toTrusted"></p>\n    </div>\n</a>\n'},OpN1:function(e,t){e.exports='<home-widget-common-container class="home-widget-time-calendar-assistant" tabs="$ctrl.tabs" operates="$ctrl.operates"\n                              current-tab="\'calendar_assistant\'">\n    <div class="week-calendar">\n        <div ng-repeat="_d in $ctrl.day_list track by $index">\n            <div class="calendar-head" ng-bind="[\'Sun\',\'Mon\',\'Tue\',\'Wed\',\'Thu\',\'Fri\',\'Sat\'][$index]|translate"></div>\n            <div class="calendar-item" ng-if="_d" ng-click="$ctrl.selectedDate(_d.date)"\n                 ng-class="_d.date === $ctrl.selected_date ? \'selected\': _d.date < $ctrl.current_date ? \'before\' : \'\'">\n                <div class="day"\n                     ng-bind="_d.date === $ctrl.current_date ? (\'time_today\'|translate) : _d.label"></div>\n                <div class="desc" ng-if="$ctrl.auth.language == \'zh_cn\'" ng-bind="_d.desc"></div>\n            </div>\n        </div>\n    </div>\n    <div class="punch-data">\n        <div class="punch-point">\n            <div class="notice-area">\n                <div class="notice-center"></div>\n            </div>\n            <div class="label" ng-bind="$ctrl.date_schedule.punch_begin_desc.label"></div>\n            <div class="punch-info" ng-class="$ctrl.date_schedule.punch_begin_desc.class"\n                 ng-bind="$ctrl.date_schedule.punch_begin_desc.content"></div>\n        </div>\n        <div class="transit-line"></div>\n        <div class="punch-point">\n            <div class="notice-area">\n                <div class="notice-center"></div>\n            </div>\n            <div class="label" ng-bind="$ctrl.date_schedule.punch_end_desc.label"></div>\n            <div class="punch-info" ng-class="$ctrl.date_schedule.punch_end_desc.class"\n                 ng-bind="$ctrl.date_schedule.punch_end_desc.content"></div>\n        </div>\n    </div>\n</home-widget-common-container>\n'},PCLm:function(e,t,n){"use strict";n("rB9j"),n("hByQ");var i=n("FLGM"),a=n.n(i),o=n("5PDf"),s=n.n(o),c=n("RXMP"),r=n.n(c),l=n("o+MX"),_=n.n(l);n("8xC1").a.factory("IndexService",["$rootScope","dataService","contextService","$q","templateService","$state",function(e,t,n,i,o,c){return self.last=null,self.stack=[],self.fetching=!1,{getMyApplication:function(e,o){var l,d,p=null===(l=n.getContext("auth"))||void 0===l||null===(d=l.company_setting)||void 0===d?void 0:d.enable_breadcrumb,u=function(e){if(e.url)e.href=e.url;else{var t,n,i,a;if(e.is_service)e.state="my_service_summary",e.param={id:e.id};else try{e.param="string"==typeof e.param?JSON.parse(e.param):e.param}catch(t){e.param={}}p&&e.id&&(e.param?e.param._menu_id=_()(t=_()(n="".concat(e.category_id,"!")).call(n,e.classify_id,"!")).call(t,e.id):e.param={_menu_id:_()(i=_()(a="".concat(e.category_id,"!")).call(a,e.classify_id,"!")).call(i,e.id)}),e.href=location.pathname+location.search+c.href(e.state,e.param,{inherit:!1})}},m=function(e,t){var n=[];return"list"===t?(r()(e).call(e,(function(e){u(e)})),n=e):t?r()(e).call(e,(function(e){var t;if(e.category){var i=s()(n).call(n,(function(t){return t.id===e.category.id}));i.length>0?i=i[0]:(i=angular.extend({},e.category),n.push(i)),i.classify_list=i.classify_list||[];var a=s()(t=i.classify_list).call(t,(function(t){return t.id===(e.classify||{id:"default"}).id}));a.length>0?a=a[0]:(a=angular.extend({},e.classify||{id:"default",name:"其他",number:"9999"}),i.classify_list.push(a)),u(e),a.applications=a.applications||[],a.applications.push(e)}})):r()(e).call(e,(function(e){if(e.category){var t=s()(n).call(n,(function(t){return t.id===e.category.id}));t.length>0?t=t[0]:(t=angular.extend({},e.category),n.push(t)),t.applications=t.applications||[],t.applications.push(e)}})),n},g=i.defer();if("pc"===e){if(self.stack.push(g),self._apps){for(var h=m(self._apps,o);self.stack.length;)self.stack.shift().resolve(h);return g.promise}self.fetching||(self.fetching=!0,t.callHcmOpenApi("hcm.application.my.all",{target:e},"application",!1).then((function(e){var t,n;self._apps=_()(t=e.app.list).call(t,a()(n=e.service.list).call(n,(function(e){return e.target=[],1===e.is_mobile&&e.target.push("mobile"),1===e.is_pc&&e.target.push("pc"),e.is_service=!0,e})));for(var i=m(self._apps,o);self.stack.length;)self.stack.shift().resolve(i)})))}else t.callHcmOpenApi("hcm.application.my.all",{target:e},"application",!1).then((function(e){var t,n,i=_()(t=e.app.list).call(t,a()(n=e.service.list).call(n,(function(e){return e.target=[],1===e.is_mobile&&e.target.push("mobile"),1===e.is_pc&&e.target.push("pc"),e.is_service=!0,e}))),s=m(i,o);g.resolve(s)}));return g.promise},searchEmp:function(e){var n=i.defer();return t.callHcmOpenApi("emp_search_service",{key:e},null,!0).then((function(t){self.lastEmpSearchKey=e,self.lastEmpSearchList=t.list,n.resolve(t)})),n.promise},searchDept:function(e){var n=i.defer();return t.callHcmOpenApi("dept_search_service",{key:e},null,!0).then((function(t){self.lastDeptSearchKey=e,self.lastDeptSearchList=t.list,n.resolve(t)})),n.promise},getSearchModel:function(e){return"emp"===e?{type:"emp",title:"员工搜索",place_holder:"员工：拼音、首字母、关键字...",search_func:"searchEmp",cache_key:"emp_search_cache",go_state:"emp"}:{type:"dept",title:"部门搜索",place_holder:"部门：拼音、首字母、关键字...",search_func:"searchDept",cache_key:"dept_search_cache",go_state:"org"}},getBarMeta:function(){return o.loadTemplate("index_bar_mobile.json")},scrollTop:this.scrollTop||0,setScrollTop:function(e){this.scrollTop=e},setAnchorClassify:function(e){this.anchor_classify_id=e},getAnchorClassify:function(){var e=this.anchor_classify_id;return this.anchor_classify_id=null,e}}}])},PH9r:function(e,t){e.exports='<div class="home-widget">\n    <div class="home-widget-body">\n        <hc-carousel model="$ctrl.carousel_model" options="$ctrl.options"></hc-carousel>\n    </div>\n</div>'},PTQ2:function(e,t,n){n("sMBO");var i=n("UtpJ"),a=n("M5Mt"),o=n("5PDf"),s=n("WxoT");window.app.factory("appHistoryService",["contextService","$http","$q",function(e,t,n){return function(){return self.getKey=function(){if(!self.hash_key_app){var t=null;e.getContext("auth").employee&&(t=e.getContext("auth").employee.id),self.hash_key_app=window.md5(s({user:t,state:"application-selector"}))}return self.hash_key_app},{loadHistory:function(){var e=window.storage.getItem("local",self.getKey());return null==e?[]:e},pushHistory:function(e){var t=window.storage.getItem("local",self.getKey()),n=null==t?[]:t;n=o(n).call(n,(function(t){return t.name!==e.name})),a(n).call(n,0,0,e),window.storage.setItem("local",self.getKey(),i(n).call(n,0,10))},clearHistory:function(){window.storage.setItem("local",self.getKey(),[])}}}}])},PWlq:function(e,t){e.exports='<div class="user-info-style" ng-init="init()">\n    <div class="feedback_content">\n        <div class="paste_input">\n            <div class="label">问题反馈</div>\n            <hc-text-area class="paste_area" ng-model="temp.content" ng-paste="paste_pic($event)" options="options.paste"\n                          placeholder="{{placeholder}}"></hc-text-area>\n        </div>\n        <div class="file_display">\n            <hc-input-upload-multiple options="options.file" ng-model="temp.file"></hc-input-upload-multiple>\n        </div>\n    </div>\n</div>\n'},PaGH:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));n("sMBO");var i=n("mnMc"),a=n.n(i),o=n("/FZm"),s=n.n(o),c=n("iX7I"),r=n("0vOt"),l=n("pMRX"),_=n.n(l),d=(n("WO7H"),function(){function e(e,t,n,i,o){var r=this;this.cacheService=n,t.new_side_nav=!0,e(c.default.controller,{$scope:t,$element:o}),this.$scope=t,this.$rootScope=i,this.$scope.tabsValueChange=function(e){var t;r.cacheService.setCache("currentMenuTab",e),r.$scope.currentMenuTab=s()(t=r.$scope.category_list).call(t,(function(t){return t.name===e}))},this.$scope.openMenu=!1,this.$scope.$on("openMenu",(function(e,t){var n;a()(n=[!1,!0]).call(n,t)?r.$scope.openMenu=t:r.$scope.openMenu=!r.$scope.openMenu})),this.$scope.close=function(e,t){null==e||e.stopPropagation(),t&&r.$scope.jumpTo(t,e),r.$scope.openMenu=!1},this.$scope.getWorkBench=function(){},this.$scope.getMenuStyleSetting=function(){}}return e.$inject=["$controller","$scope","cacheService","$rootScope","$element"],e}());r.a.component("hcmCommonMenu",{controller:d,template:_.a})},Pfe1:function(e,t){e.exports='<div class="home-widget" ng-init="init()">\n    <div class="home-widget-header flexbox">\n        <div class="menu">\n            <div class="icon-hcm-calendar"\n                 ng-class="{selected:true}">\n                {{"考勤日历"}}\n            </div>\n            <div class="refresh icon-hcm-refresh" ng-click="refreshData()"></div>\n        </div>\n        <div class="calendar-header">\n            <div class="btn left icon-hcm-arrow-left-double" ng-click="calendarMinus(true, \'y\')"></div>\n            <div class="btn left icon-hcm-arrow-left" ng-click="calendarMinus(true, \'m\')"></div>\n            <div class="text">{{calendar_year}}年{{calendar_month}}月</div>\n            <div class="btn right icon-hcm-arrow-right" ng-click="calendarPlus(true, \'m\')"></div>\n            <div class="btn right icon-hcm-arrow-right-double" ng-click="calendarPlus(true, \'y\')"></div>\n        </div>\n    </div>\n    <div class="home-widget-content">\n        <table class="calendar-content">\n            <tr class="weekday">\n                <th ng-repeat="_w in weeks track by $index">\n                    <div class=\'week-item\'>\n                        {{_w}}\n                    </div>\n                </th>\n            </tr>\n\x3c!--            <tr class=\'bu-la-bu-la\'></tr>--\x3e\n            <tr ng-repeat="_c in calendar_data">\n                <td ng-repeat="_d in _c track by $index">\n                    <div ng-if="_d" ng-click="dateView(_d.date)" class="calendar-item"\n                         ng-class="{selected:_d.date==selected_date}">\n                        <div class="day"\n                             ng-class="_d.date == current_date">{{_d.date == current_date ? "今天" : _d.label}}</div>\n                        <div class="sche {{month_calendar_data[_d.date]|timeAttendItemClass:[]}}">\n                            {{month_calendar_data[_d.date]|timeAttendItem}}\n                        </div>\n                    </div>\n                </td>\n            </tr>\n        </table>\n        <div class="calendar-statistic">\n            <div class="statistic-header">\n                {{"统计数据"}}\n            </div>\n            <div class="statistic-content">\n                <div class="content-item">\n                    <td>\n                        您本月应出勤<span class="input-number">{{schedule_month}}</span>天，共<span\n                        class="input-number">{{shift_month}}</span>小时，截止当前实出勤<span\n                        class="input-number">{{work_onjob_count}}</span>天，共<span\n                        class="input-number">{{work_onjob}}</span>小时。\n                    </td>\n                </div>\n                <table class="content-item">\n                    <tr class="content-table">\n                        <td class="content-table-td">{{"请假:"}}</td>\n                        <td>\n                            <span class="input-number">{{detail.leave.count}}</span> 次，<span\n                            class="input-number">{{detail.leave.sum}}</span> 小时\n                        </td>\n                    </tr>\n                    <tr class="content-table">\n                        <td class="content-table-td">{{"出差:"}}</td>\n                        <td>\n                            <span class="input-number">{{detail.trip.count}}</span> 次，<span\n                            class="input-number">{{detail.trip.sum}}</span> 小时\n                        </td>\n                    </tr>\n                    <tr class="content-table">\n                        <td class="content-table-td">{{"加班:"}}</td>\n                        <td>\n                            <span class="input-number">{{detail.overtime.count}}</span> 次，<span\n                            class="input-number">{{detail.overtime.sum}}</span> 小时\n                        </td>\n                    </tr>\n                    <tr class="content-table">\n                        <td class="content-table-td">{{"补签:"}}</td>\n                        <td>\n                            <span class="input-number">{{detail.fillcard.count}}</span> 次\n                        </td>\n                    </tr>\n                    <tr class="content-table">\n                        <td class="content-table-td">{{"迟到:"}}</td>\n                        <td>\n                            <span class="input-number">{{work_unusual[\'work_late\']}}</span> 次\n                        </td>\n                    </tr>\n                    <tr class="content-table">\n                        <td class="content-table-td">{{"早退:"}}</td>\n                        <td>\n                            <span class="input-number">{{work_unusual[\'work_early\']}}</span> 次\n                        </td>\n                    </tr>\n                    <tr class="content-table">\n                        <td class="content-table-td">{{"旷工:"}}</td>\n                        <td>\n                            <span class="input-number">{{work_unusual[\'work_absence\']}}</span> 次\n                        </td>\n                    </tr>\n                </table>\n            </div>\n        </div>\n    </div>\n</div>\n'},QQ65:function(e,t){e.exports='<div ng-init="init()" ng-style="{\'height\':\'100%\'}">\n    <home-widget-common-container current-tab="$ctrl.currentTab"\n                                  operates="$ctrl.operates" tabs="$ctrl.tabs">\n        <home-widget-body-list-container model-name="$ctrl.model">\n        </home-widget-body-list-container>\n    </home-widget-common-container>\n</div>\n'},SQzl:function(e,t,n){e.exports=n.p+"resources/images/76d6047eac125fbdfed4e33452234e92.jpg"},Seck:function(e,t,n){var i=n("UtpJ"),a=n("M5Mt"),o=n("5PDf"),s=n("WxoT");window.app.factory("empHistoryService",["contextService","$http","$q",function(e,t,n){return function(){return self.getKey=function(){return self.hash_key||(self.hash_key=window.md5(s({user:e.getContext("auth").employee.id,state:"employee-selector"}))),self.hash_key},{loadHistory:function(){var e=window.storage.getItem("local",self.getKey());return null==e?[]:e},pushHistory:function(e){var t=window.storage.getItem("local",self.getKey()),n=null==t?[]:t;n=o(n).call(n,(function(t){return t.id!==e.id})),a(n).call(n,0,0,e),window.storage.setItem("local",self.getKey(),i(n).call(n,0,20))},clearHistory:function(){window.storage.setItem("local",self.getKey(),[])}}}}])},T7v6:function(e,t){e.exports='<div class="home-widget-my-app">\n    <home-widget-common-container tabs="$ctrl.tabs" operates="$ctrl.operates" current-tab="$ctrl.currentTab"\n        hide-header="$ctrl.hideMobile">\n        <div class="no-data" ng-if="$ctrl.app_list&&$ctrl.app_list.length<1&&$ctrl.client===\'pc\'">\n            <hc-svg options="{icon:\'hcm-no-content\'}"></hc-svg>\n            <div class="label">{{\'common_home_widget_my_app_no_content\'|translate}}</div>  \x3c!--当前没有内容--\x3e\n        </div>\n        <div class="app-list" ng-show="$ctrl.app_list && $ctrl.app_list.length > 0">\n            <div class="item-container" ng-repeat="app_slice in $ctrl.app_slice_list track by $index">\n                <div class="app-item-wrapper" ng-repeat="_app in app_slice track by $index">\n                    <a class="app-item" ng-href="{{_app.href}}" ng-if="$ctrl.client===\'pc\'"\n                        ng-click="$ctrl.go_app(_app, $event)"\n                        ng-class="{\'from-role\': _app.from_role}"\n                        ng-attr-target="{{($ctrl.is_open_new_page || _app.open_new_page)?\'_blank\':\'_self\'}}">\n                        <hc-icon app="_app" options="\'icon-top\'"></hc-icon>\n                        <div class="label" hc-title="{{$ctrl.app_title_description ? _app.description : _app.name}}"\n                            options="{mode: \'tip\', showOnOverflow: !$ctrl.app_title_description}">\n                            {{_app.name}}\n                        </div>\n                    </a>\n                    <div class="app-item" ng-if="$ctrl.client===\'mobile\'"\n                        ng-class="{\'from-role\': _app.from_role}"\n                        ng-click="$ctrl.go_app(_app,$event)">\n                        <hc-icon app="_app" options="\'icon-top\'"></hc-icon>\n                        <div class="label" hc-title="{{$ctrl.app_title_description ? _app.description : _app.name}}"\n                            options="{mode: \'tip\', showOnOverflow: !$ctrl.app_title_description}">\n                            {{_app.name}}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class="page-index-bar" ng-show="$ctrl.index_list.length > 1">\n            <div class="index-bar-item" ng-repeat="item in $ctrl.index_list track by $index"\n                ng-class="{\'selected\': $ctrl.page_index === item}" ng-click="$ctrl.changePage(item)"></div>\n        </div>\n    </home-widget-common-container>\n</div>\n'},TT7f:function(e,t){e.exports='<div ng-if="$ctrl.searchKey && $ctrl.emp_list.length">\n    <widget-header\n            name="人员"\n            result-count="$ctrl.count"\n            on-hide-search="$ctrl.onHideSearch()"\n            show-all-model="empResult"\n    ></widget-header>\n    <widget-item\n            ng-repeat="emp in $ctrl.emp_list"\n            search-data="emp"\n            search-key="$ctrl.searchKey"\n            icon\n            on-hide-search="$ctrl.onHideSearch()"\n            on-operate-default="$ctrl.operateDefault(emp)"\n            has-operate-default="$ctrl.hasOperateDefault"\n            forward-model="{state: empState, params: {id: emp.id}}"\n    ></widget-item>\n</div>\n'},"Tp/3":function(e,t){e.exports='<div class="article-new-box pop-window" ng-show="actived" ng-cloak>\n    <div class="article-new" ng-show="actived">\n        <header>\n            <div class="icon icon-hcm-delete zsb-dialog-delete"\n                 ng-click="cancel()"></div>\n            <div class="icon assist icon-hcm-question"\n                 ng-click="showAssistDocument()" hc-title="帮助"\n                 options="{mode: \'tip\', seconds: 0}"\n            ></div>\n            <div class="main">\n                新消息\n            </div>\n        </header>\n\n        <div class="operate">\n            <div class="operate-panel">\n                <div class="operate-item" ng-click="start_at_employee_select()">\n                    <span class="icon icon-hcm-at"\n                          ng-class="{disabled:(article_item.to.group.group_type == 2||article_item.to.employee)}"></span>\n                </div>\n                <div class="operate-item">\n                        <span class="icon-hcm-camera icon" img-resize-upload l-width="600" l-quality="1"\n                              ng-model="pic"\n                              callback="add_img" controller="img_upload_controller" use-we-chat></span>\n                </div>\n            </div>\n        </div>\n\n        <div class="content">\n            <div class="content-main">\n                <textarea contentEditable class=\'f15\' placeholder="说点什么吧..."\n                          ng-model="article_item.content" ng-change="content_change()"></textarea>\n            </div>\n            <div class="at-employees" ng-show="article_item.at_employees.length>0">\n                <div ng-repeat="_emp in article_item.at_employees"\n                     ng-click="un_at_employee($index)" class="tg">\n                    {{_emp.name}}\n                </div>\n            </div>\n        </div>\n\n        <div class="imgs" ng-show="article_item.images.length>0">\n            <div class="img tg" ng-repeat="_img in article_item.images" ng-switch on="_img.status"\n                 ng-hide="_img.deleted"\n                 ng-click="show_img($index)">\n                <div ng-switch-when="uploading" class="img-waiting">上传中...\n                </div>\n                <div ng-switch-default>\n                    <div class="img-loading" ng-show="_img.status==\'loading\'"><br><br>上传成功<br>加载中\n                    </div>\n                    <img ng-src="{{_img.index|hcImage:\'80,80\'}}" ng-click=""\n                         sb-load="img_loaded($index)">\n                </div>\n                <div class="delete" ng-click="delete_img($index,$event)" ng-show="_img.status==\'loaded\'">\n                    <div class="icon-hcm-delete"></div>\n                </div>\n            </div>\n            <div class="img">\n                <div class="img-add icon-hcm-camera" img-resize-upload l-width="600" l-quality="1"\n                     ng-model="pic"\n                     callback="add_img">\n                </div>\n            </div>\n        </div>\n        <div class="attachment" ng-if="article_item.attachments.length>0">\n            <dynamic-article-attachment item="_att.class"\n                                        object-id="_att.id"\n                                        object-data="_att.data"\n                                        ng-repeat="_att in article_item.attachments"></dynamic-article-attachment>\n        </div>\n\n        <div class="to" ng-click="start_to_select()" ng-if="!disable_to_select">\n            <div class="to-oper" ng-class="{\'disabled\':disable_to_select}">\n                <span class="icon-hcm-add-circle"></span>\n            </div>\n            <div class="to-title">发送到：</div>\n            <div class="to-name">\n                {{article_item.to.feed.biz_name || article_item.to.group.name || article_item.to.employee.name || (public_open ? \'公司大厅\' : null)}}\n            </div>\n        </div>\n\n        <footer>\n            <hc-list-btn model="list_btn_model"></hc-list-btn>\n        </footer>\n    </div>\n</div>\n'},Ts5F:function(e,t,n){"use strict";n.r(t);var i=n("FLGM"),a=n.n(i);n("0vOt").a.factory("functionService",["dataService","$q",function(e,t){return{getFunctionPermission:function(n,i,a,o){var s={function:n,info:i,employee_id:a};o&&(s=angular.extend(s,o));var c=t.defer();return e.callHcmOpenApi("auth.function.operate.permission",s,null,!0).then((function(e){c.resolve(e)})),c.promise},getFunctionPermissionBatch:function(n,i){var o=a()(n).call(n,(function(e){return{function:e,info:i}})),s=t.defer();return e.callHcmOpenApi("auth.function.operate.permission.batch",{batch_function:o},null,!0).then((function(e){s.resolve(e)})),s.promise},getAppPermissionBatch:function(n,i,a){var o=t.defer();return e.callHcmOpenApi("auth.app.check.has.right",{roles:n,measure:i,employee_type:a},null,!0).then((function(e){o.resolve(e)})),o.promise},checkBtnPermission:function(e,t){var n=this;a()(e).call(e,(function(e){0==t[e.operate]&&(e.hide=!0),e.list&&n.checkBtnPermission(e.list,t)}))}}}])},U5sc:function(e,t){e.exports='<div class="mainBox message_title" ng-init="init()">\n    <div class="top"\n         ng-show="!(message_type ==\'img_message\' || message_type ==\'pdf_message\' || message_type ==\'system_img\'||message_type ==\'high_level_message\')">\n        <div class="title">{{title}}</div>\n        <div class="time">{{time}}</div>\n    </div>\n    \x3c!--    判断类型--\x3e\n    <div class=\'message\' ng-show="message_type==\'pdf_message\'">\n        <div id="printAppointDismissal"></div>\n    </div>\n    <div class=\'message\' ng-show="message_type==\'high_level_message\'">\n        <hc-mark-down class="markdown"\n                      ng-if="message"\n                      ng-model="message"\n                      options="{mode:\'view\'}"\n        ></hc-mark-down>\n\n        <div  ng-repeat="att in go_param.photo_file_index track by $index">\n            <img ng-src="/img?type=image&index={{att}}">\n        </div>\n        <div>\n            <div style="float: left" ng-show="show_file_preview">\n                <hc-input-upload-multiple class="multi-image"\n                                          options="multi_image_data_preview.options"\n                                          ng-model="file_list_str_preview"\n                ></hc-input-upload-multiple>\n            </div>\n            <div style="float: left" ng-show="show_file">\n                <hc-input-upload-multiple class="multi-image"\n                                          options="multi_image_data.options"\n                                          ng-model="file_list_str"\n                ></hc-input-upload-multiple>\n            </div>\n        </div>\n    </div>\n    <div class=\'message\' ng-show="message_type==\'system_img\'">\n        <img src="/document/loadsourceimage?index={{go_param.file_index}}">\n    </div>\n    <div class="message"\n         ng-show="!(message_type ==\'img_message\' || message_type ==\'pdf_message\' || message_type ==\'system_img\'||message_type ==\'high_level_message\')">{{message}}</div>\n</div>\n'},UAhV:function(e,t,n){"use strict";var i=n("l6uO"),a=n.n(i);n("wrxE");window.app.controller("portalMessageSetCtrl",["$scope","$hcForm","portalService",function(e,t,n){e.initScheme=function(){e.plugin=e.params,e.item_list=e.params.children,e.init_scheme_step(),e.set_scheme_form_and_operate(),e.scheme_form&&e.$watch("scheme_form.data",(function(t,n){e.scheme_form.data.message_show_sort&&(e.add_plugin_config.message_show_sort=e.scheme_form.data.message_show_sort,e.add_plugin_config.is_dynamic=e.scheme_form.data.is_dynamic)}),!0)},e.init_scheme_step=function(){e.current_scheme_step=1,e.scheme_step=[{key:"second_step",label:"卡片详情设置"},{key:"third_step",label:"卡片预览"}],e.previous_scheme_step=function(){e.current_scheme_step=e.current_scheme_step-1,e.set_scheme_form_and_operate()},e.next_scheme_step=function(){e.current_scheme_step=e.current_scheme_step+1,e.set_scheme_form_and_operate()}},e.set_scheme_form_and_operate=function(){var n=[{component:"hc-input-radio",label:"展示:",key:"is_dynamic",options:{singleLine:!0,width:"col-6",default:!1,list:[{value:!0,name:"轮播"},{value:!1,name:"静态"}],items_inline:!0}},{component:"hc-input-radio",label:"排序:",key:"message_show_sort",options:{width:"col-6",default:"desc",singleLine:!0,list:[{value:"desc",name:"升序"},{value:"asc",name:"降序"}],items_inline:!0}}];e.plugin_key&&"message_process"===e.plugin_key&&(n=[]),e.scheme_form=t.createForm("portalMessageSet").$setData(e.data||{}).$setMeta(n),e.$dialog.operates([{label:"取消",func:e.$dialog.dialog_close},{label:"上一步",func:e.previous_scheme_step,hide:1===e.current_scheme_step},{label:"确定",func:e.scheme_confirm,default:!0,hide:1===e.current_scheme_step}])},e.choose_plugin=function(t){e.add_plugin_config=t,e.plugin_key=t.key,e.next_scheme_step()},e.scheme_confirm=function(){e.$dialog.resolve_data(e.add_plugin_config),e.$dialog.dialog_close()}}]),t.a={controller:"portalMessageSetCtrl",template:a.a,title:"新增插件"}},UnGC:function(e,t,n){"use strict";window.app.factory("TimeDataService",["$q","dataService","BaseCRUDService",function(e,t,n){return angular.extend(angular.copy(n.getModelService)("AttendData"),{getDataCountTemp:function(e,n,i,a,o,s,c,r){return t.callHcmOpenApi("time.data.count.by.dept",{filter_dict:e,filter_str:n,query_str:i,dimension:a,status:o,page_index:s,page_size:c,extra_property:r})},getDataCount:function(e,n,i,a,o,s,c,r,l){return t.callHcmOpenApi("time.data.count",{begin_date:e,end_date:n,depart_id:i,is_child_include:a,shift_id:o,dimension:s,status:c,page_index:r,page_size:l})},getDataList:function(e,n,i,a,o,s,c,r,l,_){return t.callHcmOpenApi("time.data.list",{begin_date:e,end_date:n,depart_id:i,result_items:s,shift_ids:c,is_child_include:a,employee_ids:o,search_key:r,page_index:l,page_size:_})},getExtendDataList:function(e,n,i,a,o){return t.callHcmOpenApi("hcm.model.list",{model:"AttendData",filter_str:e,filter_dict:n,page_index:i,page_size:a,extra_property:o})},getDataListByDate:function(e,n,i,a,o,s,c){return t.callHcmOpenApi("time.data.list.by.date",{depart_id:e,is_child_include:i,date_:n,result_items:a,shift_id:o,page_size:c,page_index:s})},getResultDetail:function(e,n,i,a,o){return t.callHcmOpenApi("time.data.result.detail",{begin_date:e,end_date:n,depart_id:i,is_child_include:a,employee_ids:o})},attendCalc:function(e,n,i,a){return t.callHcmOpenWebSocket("time.data.result.calc",{begin_date:e,end_date:n,employee_ids:i,depart_id:a})},attendCalcByDateList:function(e,n){return t.callHcmOpenWebSocket("time.attend.calc.by.date.list",{date_list:e,employee_ids:n})},exportResult:function(e,n,i,a,o,s){return t.callHcmOpenWebSocket("time.data.month.export",{begin_date:e,end_date:n,depart_id:i,employee_ids:a,model:o,mode:s})},exportResultWithTime:function(e,n,i,a,o){return t.callHcmOpenApi("time.data.month.export_api",{begin_date:e,end_date:n,depart_id:i,employee_ids:a,model:o})},exportDayResult:function(e,n,i,a){return t.callHcmOpenWebSocket("time.data.day.export",{begin_date:e,end_date:n,depart_id:i,employee_ids:a})},sealedDateResult:function(e){return t.callHcmOpenApi("time.bill.month.sealed",e)},sealDateResult:function(e){return t.callHcmOpenApi("time.parameters.setting.get.data.by.key",{key:"seal_date",depart_id:e})},submitMonthSummary:function(e){return t.callHcmOpenApi("time.data.month.submit",e)},attendCalcService:function(e,n,i,a){return t.callHcmOpenApi("time.data.result.calc",{begin_date:e,end_date:n,depart_id:i,employee_ids:a})},getMonthListDefine:function(){return t.callHcmCloudApi("/template/load_template?key=time_month_list_define.json",{},"GET")},getMonthResultListDefine:function(){return t.callHcmCloudApi("/template/load_template?key=time_month_result_list_define.json",{},"GET")},getMenuDefine:function(){return n.getModelService("AttendData").getBizMeta("list","time")},getShiftMenuDefine:function(){return n.getModelService("AttendData").getBizMeta("info","shift")},getProfileMatrixNew:function(e,n,i,a,o){return t.callHcmOpenApi("time.profile.matrix.new",{filter_str:e,filter_dict:n,query_str:i,page_index:a,page_size:o})},saveMonthSubmit:function(e){return t.callHcmOpenApi("time.month.submit.save",e)},getAttendItems:function(){return t.callHcmOpenApi("hcm.model.list",{model:"AttendVirtualMeta"})},getWfBusiness:function(e,n){return t.callHcmOpenApi("business.mode.and.version.get",{business_id:e,business_number:n})},getWfBizVersion:function(e){return t.callHcmOpenApi("wf.inst.get.business.mode.and.version",{inst_id:e})}})}]),t.a="TimeDataService"},UoIc:function(e,t){e.exports='<home-widget-common-container class="home-widget-time-my-unusual" tabs="$ctrl.tabs" operates="$ctrl.operates"\n                              current-tab="\'my_unusual\'">\n    <div class="unusual-counts">\n        <div class="unusual-count-content" ng-repeat="_c in $ctrl.count_list track by $index"\n             ng-class="_c.class">\n            <div class="unusual-count" title={{_c.count}}>\n                {{_c.count}}\n            </div>\n            <div class="unusual-type" title={{_c.name}}>{{_c.name}}</div>\n        </div>\n    </div>\n    <button class="btn-pc primary" ng-click="$ctrl.goToMyUnusual()"\n            ng-if="$ctrl.client===\'pc\'">\n        <span class="label">{{\'to_handle\'|translate}}</span>\n    </button>\n    <span class="unusual-tip" ng-bind-html="$ctrl.tip" ng-if="$ctrl.client===\'pc\'"></span>\n</home-widget-common-container>\n'},Utim:function(e,t,n){"use strict";n("sMBO"),n("07d7"),n("TWNs"),n("rB9j"),n("JfAA");var i=n("iYz8"),a=n.n(i),o=n("6UaR"),s=n.n(o),c=n("Dcj1"),r=n.n(c),l=n("O0yt"),_=n.n(l),d=n("0lTi"),p=n.n(d),u=n("UtpJ"),m=n.n(u),g=n("o+MX"),h=n.n(g),v=n("RXMP"),f=n.n(v),y=n("FLGM"),b=n.n(y),w=n("+oHS"),$=n.n(w),x=n("mnMc"),k=n.n(x),M=n("5PDf"),E=n.n(M),O=n("8xC1");n("PCLm");function A(e){if(void 0===_.a||null==r()(e)){if(s()(e)||(e=function(e,t){var n;if(!e)return;if("string"==typeof e)return S(e,t);var i=m()(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return p()(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return S(e,t)}(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o,c=!0,l=!1;return{s:function(){i=a()(e)},n:function(){var e=i.next();return c=e.done,e},e:function(e){l=!0,o=e},f:function(){try{c||null==i.return||i.return()}finally{if(l)throw o}}}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}O.a.factory("SpecialistSearchService",["dataService","IndexService","$q","$state","$filter",function(e,t,n,i,a){var o=[];return{getPluginsConfig:function(t){return e.callHcmCloudApi("/template/load_template?key=specialist_search.json&v=1",{},"GET").then((function(e){var n,i=E()(n=e.plugins||[]).call(n,(function(e){var n;return E()(n=e.roles).call(n,(function(e){var n;return k()(n=$()(t)).call(n,e)})).length>0}));return{plugins_config:e,my_plugins:i,desc_list:b()(i).call(i,(function(e){return e.search_description}))}}))},isPermitted:function(e){return this.getPluginsConfig(e).then((function(e){return e.my_plugins.length>0}))},_applicationFilter:function(e,t){var n,i=new RegExp(t,"g"),a=[],o=A(e);try{for(o.s();!(n=o.n()).done;){var s=n.value;i.test(s.name)&&a.push(s)}}catch(e){o.e(e)}finally{o.f()}return a},searchApplication:function(e){var a=this,s=n.defer();return o.length?s.resolve(this._applicationFilter(o,e)):t.getMyApplication("pc"===window.client?"pc":"mobile",!0).then((function(t){f()(t).call(t,(function(e){var t;f()(t=e.classify_list).call(t,(function(e){var t;f()(t=e.applications).call(t,(function(e){var t;o.push({icon:e.icon||e.icon_str,png_icon:e.png_icon,name:e.name,path_list:[e.category.name,(e.classify||{}).name,e.name],state:e.state,param:e.param,url:h()(t="".concat(location.pathname)).call(t,i.href(e.state,e.param))})}))}))})),s.resolve(a._applicationFilter(o,e))})),s.promise},searchEmployee:function(t){return e.callHcmOpenApi("emp.search",{key:t,_from:"mini",fields:["id","name","job_title","department","company_name","dept_id","photo","life_photo","unit_id","job_id"]},null,null,!1).then((function(e){var t;return b()(t=e.list).call(t,(function(e){e.path_list=[e.company_name,e.department,e.job_title]})),e.count=e.count<=200?e.count:"200+",e}))},searchEmp:function(t,n){return e.callHcmOpenApi("emp.search.new",{search_key:n,filter_dict:t}).then((function(e){return e.count=e.count<=200?e.count:"200+",{searchKey:n,data:e}}))},searchPath:function(){return e.callHcmOpenApi("hcm.model.meta",{biz_type:"list",model:"JobInformation",state:"search"}).then((function(e){return e}))},searchOrganization:function(t,n){var i=[];return e.callHcmOpenApi("org.department.list",{filter_str:t,filter_dict:{enabled:!0,id:{child_include:n}}},null,null,!1).then((function(e){var t;return f()(t=e.list).call(t,(function(e){i.push({id:e.id,name:e.name,org_type:e.org_type,path_list:[e.list_name]})})),{list:i,count:e.count}}))},getMyEmpListEnabled:function(){return e.callHcmOpenApi("hcm.model.list",{model:"HCMApplication",filter_dict:{category_id:3,id:3001}}).then((function(e){return e.list.length>0}),null,null,!1)},getPathList:function(e,t){var n,i,o={},s=t.list_config.list_meta.content.middle_left_area,c=b()(s).call(s,(function(e){return e.key}));o.path_list=[],o.id=e.employee_id,o.photo=e.employee.photo,o.name=e.employee.name,o.job_info=e;var r=b()(n=t.fields).call(n,(function(t){return a("hcListCellData")(e,t)})),l=b()(i=t.fields).call(i,(function(e){return e.key})),_=[];if(l.length===r.length)for(var d=0;d<l.length;d++)_[l[d]]=r[d];return b()(c).call(c,(function(e){var t=_[e];o.path_list.push(t)})),o}}}])},"V/L7":function(e,t,n){var i,a;void 0===(a="function"==typeof(i=function(e,t,n){return function(e,t,n,i,a,o){for(var s=0,c=["webkit","moz","ms","o"],r=0;r<c.length&&!window.requestAnimationFrame;++r)window.requestAnimationFrame=window[c[r]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[c[r]+"CancelAnimationFrame"]||window[c[r]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,t){var n=(new Date).getTime(),i=Math.max(0,16-(n-s)),a=window.setTimeout((function(){e(n+i)}),i);return s=n+i,a}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)});var l=this;for(var _ in l.options={useEasing:!0,useGrouping:!0,separator:",",decimal:".",easingFn:null,formattingFn:null},o)o.hasOwnProperty(_)&&(l.options[_]=o[_]);""===l.options.separator&&(l.options.useGrouping=!1),l.options.prefix||(l.options.prefix=""),l.options.suffix||(l.options.suffix=""),l.d="string"==typeof e?document.getElementById(e):e,l.startVal=Number(t),l.endVal=Number(n),l.countDown=l.startVal>l.endVal,l.frameVal=l.startVal,l.decimals=Math.max(0,i||0),l.dec=Math.pow(10,l.decimals),l.duration=1e3*Number(a)||2e3,l.formatNumber=function(e){var t,n,i,a;if(e=e.toFixed(l.decimals),n=(t=(e+="").split("."))[0],i=t.length>1?l.options.decimal+t[1]:"",a=/(\d+)(\d{3})/,l.options.useGrouping)for(;a.test(n);)n=n.replace(a,"$1"+l.options.separator+"$2");return l.options.prefix+n+i+l.options.suffix},l.easeOutExpo=function(e,t,n,i){return n*(1-Math.pow(2,-10*e/i))*1024/1023+t},l.easingFn=l.options.easingFn?l.options.easingFn:l.easeOutExpo,l.formattingFn=l.options.formattingFn?l.options.formattingFn:l.formatNumber,l.version=function(){return"1.7.1"},l.printValue=function(e){var t=l.formattingFn(e);"INPUT"===l.d.tagName?this.d.value=t:"text"===l.d.tagName||"tspan"===l.d.tagName?this.d.textContent=t:this.d.innerHTML=t},l.count=function(e){l.startTime||(l.startTime=e),l.timestamp=e;var t=e-l.startTime;l.remaining=l.duration-t,l.options.useEasing?l.countDown?l.frameVal=l.startVal-l.easingFn(t,0,l.startVal-l.endVal,l.duration):l.frameVal=l.easingFn(t,l.startVal,l.endVal-l.startVal,l.duration):l.countDown?l.frameVal=l.startVal-(l.startVal-l.endVal)*(t/l.duration):l.frameVal=l.startVal+(l.endVal-l.startVal)*(t/l.duration),l.countDown?l.frameVal=l.frameVal<l.endVal?l.endVal:l.frameVal:l.frameVal=l.frameVal>l.endVal?l.endVal:l.frameVal,l.frameVal=Math.round(l.frameVal*l.dec)/l.dec,l.printValue(l.frameVal),t<l.duration?l.rAF=requestAnimationFrame(l.count):l.callback&&l.callback()},l.start=function(e){return l.callback=e,l.rAF=requestAnimationFrame(l.count),!1},l.pauseResume=function(){l.paused?(l.paused=!1,delete l.startTime,l.duration=l.remaining,l.startVal=l.frameVal,requestAnimationFrame(l.count)):(l.paused=!0,cancelAnimationFrame(l.rAF))},l.reset=function(){l.paused=!1,delete l.startTime,l.startVal=t,cancelAnimationFrame(l.rAF),l.printValue(l.startVal)},l.update=function(e){cancelAnimationFrame(l.rAF),l.paused=!1,delete l.startTime,l.startVal=l.frameVal,l.endVal=Number(e),l.countDown=l.startVal>l.endVal,l.rAF=requestAnimationFrame(l.count)},l.printValue(l.startVal)}})?i.call(t,n,t,e):i)||(e.exports=a)},VMmK:function(e,t,n){var i,a=n("+oHS"),o=[],s=!1;window.app.factory("MenuStyleService",["$q","BaseCRUDService","contextService","$filter","dataService",function(e,t,n,c,r){return angular.extend(t.getModelService("MenuStyleSetting"),{getStyleSetting:function(t,c){var l=e.defer();if(o.push(l),!s){var _,d,p;s=!0;var u=null!==(_=null===(d=n.getContext("auth"))||void 0===d||null===(p=d.company_setting)||void 0===p?void 0:p.default_menu_style_setting)&&void 0!==_&&_;u=u?1:0,r.callHcmOpenApi("hcm.menu.style.setting.my",{employee_id:c}).then((function(e){for(s=!1,i=e&&0!==a(e).length&&e.list[0]||{menu_style:u};o.length;)o.shift().resolve(i)}))}return l.promise},getCenterList:function(){var t=e.defer();return r.callHcmOpenApi("get.center.list",{}).then((function(e){t.resolve(e)})),t.promise},setStyleSetting:function(e,t){return void 0===e?this.createItem(t):this.editItem(e,t)}})}])},VToV:function(e,t){e.exports='\n<div class="employee-selector ng-hide pop-window up" ng-show="is_select" ng-init="init()" ng-cloak>\n    <div ng-show="is_select">\n        <div class="search-box">\n            <div class="input">\n                <input placeholder="搜索：您的圈子" type="search" autocapitalize="off"\n                       autocorrect="off"\n                       autocomplete="off"\n                       spellcheck="false" ng-model="search_key">\n            </div>\n        </div>\n        <div class="search-content" i-scroll="search_content">\n            <div>\n                <div class="group-selector"\n                     ng-show="search_key==\'\'">\n                    <div class="group-selector-item company tg" ng-click="group_select(public_group_data)" ng-show="public_open">\n                        <div class="group-photo company">\n                            <div class="icon-homepage"></div>\n                        </div>\n\n                        <div class="content">\n                            公司大厅\n                        </div>\n                        <div class="select-oper blue icon-hcm-right-circle"\n                             ng-show="selected_group.id==public_group_data"></div>\n                    </div>\n                    <div ng-repeat="_c in group_data" class="group-selector-item tg"\n                         ng-click="group_select(_c)">\n                        <div class="group-photo">\n                            <img ng-repeat="_p in _c.members_photo track by $index" ng-src="{{_p|hcPhoto:46}}">\n                        </div>\n                        <div class="content">\n                            {{_c.name}}\n                        </div>\n                        <div class="select-oper blue icon-hcm-right-circle" ng-show="selected_group.id==_c.id"></div>\n                    </div>\n                </div>\n                <div class="search-result list-person" ng-show="search_key!=\'\'">\n                    <div ng-repeat="_c in group_search_data.list" class="group-selector-item tg"\n                         ng-click="group_select(_c)">\n                        <div class="group-photo">\n                            <img ng-repeat="_p in _c.members_photo track by $index" ng-src="{{_p|hcPhoto:46}}">\n                        </div>\n                        <div class="content">\n                            {{_c.name}}\n                            <span class="desc"></span>\n                        </div>\n                        <div class="select-oper blue icon-hcm-right-circle"\n                             ng-show="selected_group.id==_c.id"></div>\n                    </div>\n                    <list-next list-controller="group_search_data"></list-next>\n                </div>\n            </div>\n        </div>\n        <bottom-menu menu="bottom_menu"></bottom-menu>\n    </div>\n</div>'},Vviu:function(e,t){e.exports='<span id="name">{{$ctrl.name}}</span>\n<span id="count" ng-show="$ctrl.resultCount">共<strong>{{$ctrl.resultCount}}</strong>个结果</span>\n<a ng-href="{{$ctrl.href()}}" ng-click="$ctrl.onHideSearch()" ng-if="$ctrl.showAllModel && $ctrl.client===\'pc\'">查看全部</a>\n'},"W+YA":function(e,t){e.exports='<div class="pc-main-frame">\n  <div class="position-selector pop-window" ng-if="is_position_show" ng-init="init()" ng-click="positionSelectorClick($event)" ng-cloak>\n      <div ng-show="is_position_show">\n        <div class="title">\n            <div ng-hide="is_search">\n                <div class="main">{{title}}</div>\n            </div>\n        </div>\n        <div class="search-content" i-scroll="search_content">\n            <div>\n                <div class="search-org">\n                    <div class="org-bread">\n                        <div>\n                            <span class="org-bread-item tg" ng-click="showOrg(0)">全部</span>\n                            <span ng-repeat="_item in org_bread" ng-click="showOrg(_item.id)">\n                                <span class="org-bread-tag icon-hcm-arrow-right"></span>\n                            <span class="org-bread-item tg">{{_item.name}}</span>\n                            </span>\n                        </div>\n                    </div>\n                    <div class="position-filter" ng-if="item_datas.length">\n                        <div ng-repeat="item in item_datas" class="position-filter-item"\n                             ng-class="{\'item-pre-select\': pre_selected_id.indexOf(item.id)>-1,\'item-select\': selected_id.indexOf(item.id)>-1}">\n                            <div ng-click="selectPosition(item)">{{item.name}}</div>\n                        </div>\n                    </div>\n                    <div class="loading-data" ng-if="is_loading_data">加载中...</div>\n                    <div ng-if="!is_loading_data">\n                        <div class="no-data" ng-if="org_list.length < 1">\n                            <div class="logo icon-hcm-chat"></div>\n                            <div class="desc">没有下级组织了~</div>\n                        </div>\n                        <div class="org-child tg" ng-repeat="_item in org_list track by $index" ng-if="org_list.length > 0">\n                            <div class="select-oper tg">\n                            </div>\n                            <div class="content" ng-click="showOrg(_item.id)">\n                                <div class="main">{{_item.name}}</div>\n                                <div class="desc">{{_item.number}}</div>\n                            </div>\n                            <div class="icon-hcm-arrow-right tag" ng-click="showOrg(_item.id)"></div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class="selected-area" ng-show="selected.length>0 && !single_select">\n            <div ng-repeat="_selected in selected" ng-click="un_select(_selected)" class="selected-item">\n                {{_selected.name}}\n            </div>\n        </div>\n        <bottom-menu menu="bottom_menu"></bottom-menu>\n      </div>\n  </div>\n</div>\n'},WBnP:function(e,t,n){n("sMBO"),n("07d7"),n("JfAA");var i=n("M5Mt"),a=n("ZbhI"),o=n("7Gle"),s=n("RXMP"),c=n("5PDf"),r=n("UtpJ"),l=n("FLGM"),_=n("WxoT"),d=n("HyfL");n("cyO9"),n("Seck"),n("1zKW"),d.directive("employeeSelector",(function(){return{template:n("kzQ+"),scope:{},controller:["orgService","empService","empHistoryService","contextService","$scope","$rootScope","$state","$timeout","$q",function(e,t,n,d,p,u,m,g,h){p.is_select=!1,p.emp_history_service=n(),p.client=p.$root.client,p.bottom_menu={btn_cancel:{caption:"取消",class:"hcmui-button-normal-fullline",func:function(){p.is_group_select?p.show_home():p.close()}},btn_ok:{caption:"确定",class:"hcmui-button-default-fullline",func:function(){p.submit()}}},p.show_home=function(){p.search_key="",p.is_org_show=!1,g((function(){p.current_org=null,p.org_bread=null}),500),p.$broadcast("search_content_refresh",!0)},p.show_depart=function(t){p.is_org_show=!0,p.current_org=JSON.parse(window.sessionStorage.getItem("depart_info_"+t.toString())),p.current_org||(p.is_org_loading=!0),e.getDeptInfo(t).then((function(e){p.current_org=e,window.sessionStorage.setItem("depart_info_"+t.toString(),_(p.current_org)),p.refresh_bread(t),p.is_org_loading=!1,p.$broadcast("search_content_refresh",!0)}))},p.refresh_bread=function(){var e,t,n;(!p.org_bread&&(p.org_bread=[]),l(e=p.org_bread).call(e,(function(e,n){p.current_org.id===e.id&&(t=n+1)})),p.current_org)&&(t?p.org_bread=r(n=p.org_bread).call(n,0,t):p.org_bread.push({name:p.current_org.name,id:p.current_org.id}))},p.begin=function(e){var n,i=c(n=d.getContext("auth").jobs).call(n,(function(e){return e.is_primary}));p.my_org=i.length>0?i[0].department:null,p.top_org||(u.show_waiting(),p.getDeptCard(e).then((function(e){p.top_org=e,u.hide_waiting(),1===p.top_org.length&&p.my_org&&p.top_org[0].id==p.my_org.id&&(p.my_org=null)}))),!1===d.getContext("auth").company_setting.IS_CIRCLE_PUBLIC_OPEN?p.public_open=!1:p.public_open=!0,p.option=e,p.single_select=e.single_select||!1,p.bottom_menu.btn_ok.enabled=!p.single_select,p.is_select=!0,p.selected=[],p.selected_id=[],p.pre_selected_id=e.pre_selected||[],p.callback=e.callback,p.search_history=p.emp_history_service.loadHistory(),e.selected&&e.selected.length>0&&t.getInfoBatch(e.selected).then((function(e){var t;p.selected=e,p.selected_id=l(t=p.selected).call(t,(function(e){return e.id}))})),p.plugin=e.plugin||[],p.show_home()},p.getDeptCard=function(t){var n=h.defer();return t.role?(p.root_ids=[],e.getDeptCards(t.role).then((function(e){var t;s(t=e.data).call(t,(function(e){p.root_ids.push(e.id)})),n.resolve(e.data)}))):e.getDeptCard("").then((function(e){p.root_ids=[e.data.id],n.resolve([e.data])})),n.promise},p.close=function(){p.option&&p.option.cancel_callback&&p.option.cancel_callback(),p.is_select=!1,g((function(){p.option=null,p.is_org_show=!1}),500)},p.$on("dialog-all-close",(function(){p.is_select=!1})),p.$on("employee-select-event",(function(e,t){p.initData=t,p.begin(t)})),p.$watch("initData",(function(e,t){void 0!==t&&(p.top_org=void 0,p.begin(e))}),!0),p.isObjectValueEqual=function(e,t){var n=o(e),i=o(t);if(n.length!=i.length)return!1;for(var a=0;a<n.length;a++){var s=n[a];if(e[s]!==t[s])return!1}return!0},p.select_all=function(){var e;p.current_org&&l(e=p.current_org.employee_list).call(e,(function(e){p.select(e)}))},p.select=function(e){if(p.single_select)p.is_select=!1,p.emp_history_service.pushHistory(e),p.callback({class:"employee",data:e});else{var t,n;if(a(t=p.pre_selected_id).call(t,e.id)>-1)return;var o,s,c=a(n=p.selected_id).call(n,e.id);if(c>-1)i(o=p.selected).call(o,c,1),i(s=p.selected_id).call(s,c,1);else p.selected.push({id:e.id,adapter_id:e.adapter_id,name:e.name,photo:e.photo,dept_name:e.department,job_title:e.job_title,position_id:e.position_id}),p.selected_id.push(e.id),p.emp_history_service.pushHistory(e)}},p.un_select=function(e){var t,n,o,s=a(t=p.selected_id).call(t,e.id);s>-1&&(i(n=p.selected).call(n,s,1),i(o=p.selected_id).call(o,s,1))},p.$watch("search_key",(function(e){p.is_select&&(e&&""!=e?(p._search_timeout&&g.cancel(p._search_timeout),p._search_timeout=g((function(){p.option.role?p.search_result=t.superEmpSearchCustom(e,p.current_org?p.current_org.tree_id:void 0,p.option.role):p.search_result=t.superEmpSearch(e,p.current_org?p.current_org.tree_id:""),p.search_result.load(null,(function(e){p.$broadcast("search_content_refresh",e)})).then((function(){p.search_result.next(!0)}))}),500)):(p.search_history=p.emp_history_service.loadHistory(),p.search_result=null,p.group_search_data=null,p.$broadcast("search_content_refresh",!0)))})),p.submit=function(){p.selected_id.length<1||(p.is_select=!1,p.callback({class:"employee",data:p.selected}))},p.exec_plugin=function(e){e.begin(),p.close()}}]}}))},WGhI:function(e,t,n){e.exports='<div class="home-widget-emp-card-info" ng-init="init()" ng-if="client === \'pc\'">\n    \x3c!-- 上部分 包括标签、头像、机器人详情 --\x3e\n    <div class="top-content">\n        \x3c!-- 标签 --\x3e\n        <div class="types">\n            <div class="type type-1" ng-if="types.type_1">\n                <div class="icon"><img src="'+n("nCIt")+'"></img></div>\n                <div class="text">{{types.type_1}}</div>\n            </div>\n            <div class="type type-2" ng-if="types.type_2">\n                <div class="icon"><img src="'+n("ohwz")+'"></img></div>\n                <div class="text">{{types.type_2}}</div>\n            </div>\n        </div>\n        \x3c!-- 头像&详情 --\x3e\n        <div class="photo-desc">\n            <div class="photo" ng-if="view_meta_object.photo">\n                <hc-primary-photo options="view_meta_object.photo.options" ng-model="view_model.data.photo"></hc-primary-photo>\n            </div>\n            \x3c!-- 名称&跳转 --\x3e\n            <div class="name-go"  ng-click="goEdit()">\n                <div>{{view_model.data.name}}</div>\n                <span><img src="'+n("qg9n")+'"></img></span>\n            </div>\n            \x3c!-- 状态 --\x3e\n            <div class="status" ng-class="{\'offline\': !model, \'online\': model}" ng-if="showStatus">\n                <div ng-if="iconUpOrDown" ng-click="changeIcon()"><span class="icon-hcm-arrow-down"></span></div>\n                <div ng-if="!iconUpOrDown" ng-click="changeIcon()"><span class="icon-hcm-arrow-up"></span></div>\n                <div class="text" ng-if="model">在线</div>\n                <div class="text" ng-if="!model">离线</div>\n                <div class="dot" ng-class="{\'offline-dot\': !model, \'online-dot\': model}"></div>\n                \x3c!-- 切换状态的下拉弹窗 --\x3e\n                <div class="compose-selector-panel" ng-if="!iconUpOrDown">\n                    <div ng-repeat="v in options.list" ng-click="changeStatus(v)" class="selector-item" ng-hide="(v.hide|valueToFunc)()">{{v.name}}</div>\n                </div>\n            </div>\n\n            \x3c!-- view --\x3e\n            <div class="desc">\n                <div class="extend">\n                    <div class="extend-item {{(view_meta_object[item_].options||{}).color}}"\n                        ng-repeat="item_ in extendModel.show_fields.list">\n                        <span\n                            ng-if="extendModel.show_fields.show_label && extendModel.show_fields.show_label.includes(item_)">{{view_meta_object[item_].label}}:</span>\n                        <span ng-bind-html="view_model.data|hcListCellData:view_meta_object[item_]|infoDefault|toTrusted"></span>\n                        <span ng-if="item_ === \'number\'" class="icon" hc-auto-copy value="{{view_model.data.number}}"><img src="'+n("tpJm")+'"></img></span>\n                        <span class="hcm-tip" ng-if="(view_meta_object[item_].options||{}).tip">\n                            <span class="tip icon icon-hcm-question"></span>\n                            <span class="tip-detail">{{(view_meta_object[item_].options.tip|valueToFunc)()}}</span>\n                        </span>\n                    </div>\n                </div>\n            </div>\n        </div>\n        \x3c!-- 机器人 --\x3e\n        <div class="robot">\n            <div class="img" ng-click="openRobot()"><img src="'+n("1lpt")+'"></img></div>\n            <div class="name">小参</div>\n        </div>\n    </div>\n    \x3c!-- 下部分  包括两行文字 --\x3e\n    <div class="buttom-content">\n        \x3c!-- 在岗天数 --\x3e\n        <div class="day">\n            <div class="icon"><img src="'+n("6Fiv")+'"></div>\n            <div class="text">当前岗位{{nowJobDays}}天</div>\n        </div>\n        \x3c!-- 鼓励的话 --\x3e\n        <div class="harryup">感谢您在大参林{{daysOfInJob}}天的耕耘与付出！</div>\n    </div>\n</div>\n<div class="home-widget-emp-card-info" ng-init="init()" ng-if="client === \'mobile\'">\n    \x3c!-- 上部分 包括头像、详情、待办数量 --\x3e\n    <div class="top-content">\n        \x3c!-- 头像 --\x3e\n        <div class="photo">\n            <div class="photo" ng-if="view_meta_object.photo">\n                <hc-primary-photo options="view_meta_object.photo.options" ng-model="view_model.data.photo"></hc-primary-photo>\n            </div>\n        </div>\n        \x3c!-- desc --\x3e\n        <div class="desc">\n            <div>\n                \x3c!-- 称号--移动端固定取数或拼接  不支持扩展 --\x3e\n                <div class="name"><div>{{nameAndJob}}</div></div>\n                \x3c!-- 一段文字 --\x3e\n                <div class="harryup">感谢您在大参林{{daysOfInJob}}天的耕耘与付出！</div>\n            </div>\n        </div>\n        \x3c!-- 待办 --\x3e\n        <div class="undo">\n            <div class="undo-num" ng-click="go_pending()">{{undone}}</div>\n            <div class="undo-text">待办</div>\n        </div>\n    </div>\n    \x3c!-- 下部分  包括标签 --\x3e\n    <div class="buttom-content">\n        \x3c!-- 当前在岗--固定纯在 --\x3e\n        <div class="day">\n            <div class="icon"><img src="'+n("6Fiv")+'"></div>\n            <div class="text">当前岗位{{nowJobDays}}天</div>\n        </div>\n        \x3c!-- 标签--移动端就放两个   多了放不下 --\x3e\n        \x3c!-- <div class="types"> --\x3e\n            <div class="type type-1" ng-if="types.type_1">\n                <div class="icon"><img src="'+n("nCIt")+'"></img></div>\n                <div class="text">{{types.type_1}}</div>\n            </div>\n            <div class="type type-2" ng-if="types.type_2">\n                <div class="icon"><img src="'+n("ohwz")+'"></img></div>\n                <div class="text">{{types.type_2}}</div>\n            </div>\n        \x3c!-- </div> --\x3e\n    </div>\n</div>'},WYX2:function(e,t,n){n("WBnP")},XNyo:function(e,t,n){"use strict";n("4mDm"),n("07d7"),n("5s+n"),n("PKPk"),n("3bBZ");var i,a=n("FLGM"),o=n.n(a),s=n("+oHS"),c=n.n(s),r=n("RXMP"),l=n.n(r),_=n("OBge"),d=n.n(_),p=n("mrSG"),u=n("8xC1"),m=n("wd/R"),g=n.n(m),h=n("lPa1"),v=n.n(h),f=(n("7tsL"),n("9BZJ"),n("bmIa"),n("F6Fg"),n("yDEG")),y=n("p4uW");!function(e){e.y="y",e.m="m"}(i||(i={}));var b=function(){function e(e,t,n,i,a,o,s){this.$rootScope=e,this.homeWidgetCalendarService=t,this.$q=n,this.contextService=i,this.TimeCommonService=a,this.scope=o,this.templateService=s,this.weeks=["一","二","三","四","五","六","日"],this.calendarCategories=[{id:"moon",label:"日历"},{id:"attend",label:"考勤"}]}return e.prototype.$onInit=function(){var e,t,n,i,a;return Object(p.c)(this,void 0,void 0,(function(){var o,s=this;return Object(p.e)(this,(function(c){switch(c.label){case 0:return null===(e=this.boardCtrl)||void 0===e||e.componentRegister(this.key,this),this.calendar_category=(null===(t=this.options)||void 0===t?void 0:t.calendar_category)||"moon",this.selected_date=this.current_date=g()().format("YYYY-MM-DD"),this.calendar_year=g()(this.current_date).year(),this.calendar_month=g()(this.current_date).month()+1,this.employee_id=this.contextService.getContext("auth").employee.id,[4,this.setCalendar(this.calendar_year,this.calendar_month)];case 1:return c.sent(),[4,this.templateService.getTemplate("time_attend_calendar_config.json")];case 2:return o=c.sent(),this.show_tip=null===(a=null===(i=null===(n=null==o?void 0:o.template_config)||void 0===n?void 0:n.portal_plugin)||void 0===i?void 0:i.attend_tip_show)||void 0===a||a,this.scope.$watch("$ctrl.calendar_category",(function(e){"attend"===e&&s.getCalendarData()})),[2]}}))}))},e.prototype.setCalendar=function(e,t){return Object(p.c)(this,void 0,void 0,(function(){var n;return Object(p.e)(this,(function(i){switch(i.label){case 0:return n=this,[4,this.homeWidgetCalendarService.getCalendarWithLunar(e,t)];case 1:return n.calendar_data=i.sent(),[2]}}))}))},e.prototype.selectDate=function(e){if(this.selected_date=e,"attend"===this.calendar_category){var t={employee_id:this.employee_id,date:e};this.$rootScope.super_go("time_view_employee",t)}},e.prototype.calendarMinus=function(e){return Object(p.c)(this,void 0,void 0,(function(){return Object(p.e)(this,(function(t){switch(t.label){case 0:return"m"===e?1===this.calendar_month?(this.calendar_month=12,this.calendar_year=this.calendar_year-1):this.calendar_month=this.calendar_month-1:this.calendar_year=this.calendar_year-1,[4,this.setCalendar(this.calendar_year,this.calendar_month)];case 1:return t.sent(),"attend"===this.calendar_category&&this.getCalendarData(),[2]}}))}))},e.prototype.calendarPlus=function(e){return Object(p.c)(this,void 0,void 0,(function(){return Object(p.e)(this,(function(t){switch(t.label){case 0:return"m"===e?12===this.calendar_month?(this.calendar_month=1,this.calendar_year=this.calendar_year+1):this.calendar_month=this.calendar_month+1:this.calendar_year=this.calendar_year+1,[4,this.setCalendar(this.calendar_year,this.calendar_month)];case 1:return t.sent(),"attend"===this.calendar_category&&this.getCalendarData(),[2]}}))}))},e.prototype._fetchSchedule=function(e,t){var n=this,i=this.$q.defer(),a=[this.homeWidgetCalendarService.getDataList(e,t,[this.employee_id]),this.homeWidgetCalendarService.getDataListByEmp(e,t,this.employee_id)];return d.a.all(a).then((function(e){var t,a={};l()(t=e[0].list).call(t,(function(e){a[e.date]=e})),n.schedule_month=e[1].count_month,n.shift_month=e[1].shift_month,n.work_unusual=e[1]._countType,n.work_onjob_count=e[1].work_onjob_count,n.work_onjob=e[1].work_onjob,n.detail=e[1]._detail;var s=c()(e[1]._detail);o()(s).call(s,(function(t){n.detail[t].count=e[1]._detail[t]._count,n.detail[t].sum=e[1]._detail[t]._sum})),i.resolve(a)})),i.promise},e.prototype.$onResize=function(){},e.prototype.getSettingPanel=function(){return Object(f.c)(y.a)},e.prototype.getCalendarData=function(){var e=this;this._fetchSchedule(this.TimeCommonService.getMonthBegin(this.calendar_year,this.calendar_month),this.TimeCommonService.getMonthEnd(this.calendar_year,this.calendar_month)).then((function(t){e.month_calendar_data=t,e.statisticInfo="您本月应出勤"+e.schedule_month+"天，共"+e.shift_month+"小时，\n                                截止当前实出勤"+e.work_onjob_count+"天，共"+e.work_onjob+"小时。\n                                请假:\t"+e.detail.leave.count+" 次，"+e.detail.leave.sum+" 小时\n                                出差:\t"+e.detail.trip.count+" 次，"+e.detail.trip.sum+" 小时\n                                加班:\t"+e.detail.overtime.count+" 次，"+e.detail.overtime.sum+" 小时\n                                补签:\t"+e.detail.fillcard.count+" 次\n                                迟到:\t"+e.work_unusual.work_late+" 次\n                                早退:\t"+e.work_unusual.work_early+" 次\n                                旷工:\t"+e.work_unusual.work_absence+" 次"}))},e.$inject=["$rootScope","homeWidgetCalendarService","$q","contextService","TimeCommonService","$scope","templateService"],e}();u.a.component("homeWidgetCalendar",{bindings:{current_date:"<",options:"<",key:"<",context:"="},require:{boardCtrl:"?^hcmBoard"},controller:b,template:v.a})},YZRH:function(e,t,n){"use strict";n.r(t);n("pNMO"),n("4Brf"),n("oVuX"),n("07d7"),n("rB9j"),n("JfAA"),n("UxlC"),n("EnZy");var i=n("IeeE"),a=n.n(i),o=n("FLGM"),s=n.n(o),c=n("RXMP"),r=n.n(c),l=n("D3kx"),_=n.n(l),d=n("M5Mt"),p=n.n(d),u=n("eLKs"),m=n.n(u),g=n("0vOt");n("pt87");g.a.directive("msdWheel",["$parse",function(e){return{restrict:"A, C",link:function(t,n,i){var a,o=e(i.msdWheel),s=function(e,n,i,a){t.$apply((function(){o(t,{$event:e,$delta:n,$deltaX:i,$deltaY:a})}))};"undefined"!=typeof Hamster?((a=n.data("hamster"))||(a=Hamster(n[0]),n.data("hamster",a)),a.wheel(s),t.$on("$destroy",(function(){a.unwheel(s)}))):m()(n).call(n,"wheel",(function(e){t.$apply((function(){o(t,{$event:e})}))}))}}}]),g.a.directive("sideBar",(function(){return{restrict:"E",scope:{},template:n("GbEv"),controller:["$scope","$state","$rootScope","$timeout","$ocLazyLoad",function(e,t,n,i,a){e.set_bottom_menu=function(t){e.history=[],e.bottom_menu=t},e.circle_side_bar_animator="",e.history=[],e.curr_template=void 0,e.go=function(n,o,s){function c(n,a,o){var s=o&&"replace"==o.location;e.bottom_menu=[],e.circle_side_bar_show?(s||e.history.push({template:e.curr_template,params:e.curr_params}),e.circle_side_bar_animator=o&&o.animator||"",i((function(){e.circle_side_bar_animator=""}),1e3)):(e.history=[],e.circle_side_bar_animator="",e.circle_side_bar_show=!0),angular.extend(t.params,a),e.curr_params=a,e.curr_template=e.state.template,!e.state.template&&e.state.templateProvider&&e.state.templateProvider().then((function(t){e.set_template.apply(this,[t])}))}e.state=t.get(n),e.state.resolve&&e.state.resolve.moduleLoader?e.state.resolve.moduleLoader[1](a).then((function(e){c(0,o,s)})):c(0,o,s)},e.set_template=function(t){e.curr_template=t},e.set_history=function(t){e.history=t},e.back=function(){var a;if(n.page_forward="back",e.bottom_menu=[],e.history.length<1)e.close_circle_side_bar();else{var o=e.history.length-1;e.circle_side_bar_animator="slide-right",$.extend(t.params,e.history[o].params),e.curr_template=e.history[o].template,e.curr_params=e.history[o].params,p()(a=e.history).call(a,o,1),i((function(){e.circle_side_bar_animator=""}),600)}},e.close_circle_side_bar=function(){e.$broadcast("dialog-all-close"),e.circle_side_bar_show=!1,i((function(){e.curr_template=null}),300)},e.is_circle_side_bar_refreshing=!1,e.set_refresh=function(t){e.circle_side_bar_refresh=t},e.set_refreshing=function(t){e.refresh_waiting_times=e.refresh_waiting_times||0,t&&e.refresh_waiting_times++,t||e.refresh_waiting_times--,e.is_circle_side_bar_refreshing=e.refresh_waiting_times>0},e.$on("article-new",(function(t,n){e.$broadcast("article-new-event",n)})),e.$on("employee-select",(function(t,n){e.$broadcast("employee-select-event",n)})),e.$on("circle-group-select",(function(t,n){e.$broadcast("circle-group-select-event",n)})),e.$on("article-comment",(function(t,n){t.stopPropagation(),e.$broadcast("article-comment-event",n)})),e.$on("group-member-select",(function(t,n){e.$broadcast("group-member-select-event",n)})),e.$on("side-bar-go",(function(t,n){e.go(n.state,n.param,n.option)})),e.$on("side-bar-back",(function(t,n){e.back()})),e.$on("side-bar-close",(function(){e.close_circle_side_bar()})),e.controller={go:e.go,back:e.back}}]}})),g.a.directive("visitPath",(function(){return{restrict:"E",scope:{modulename:"=modulename",visitpathlist:"=visitpathlist"},template:n("xfL1"),controller:["$scope",function(e){e.module_name_click=function(){e.visitpathlist[0].click_item(e.visitpathlist[0].item_id)},e.modulename_demo="组织架构",e.visitpathlist_demo=[{item_id:"1",item_name:"浪潮集团",click_item:function(e){alert(e)}},{item_id:"2",item_name:"浪潮国际",click_item:function(e){alert(e)}},{item_id:"3",item_name:"总部",click_item:function(e){alert(e)}}]}]}})),g.a.directive("dynamicInclude",["$compile",function(e){return{restrict:"E",link:function(t,n,i,a){t.$watch("curr_template",(function(i){var a;(a=i)&&(n.html(a),$(n).show(),e(n.contents())(t))}))},scope:!0}}]),g.a.directive("countUp",(function(){return{restrict:"EAC",replace:!0,template:"<div></div>",scope:{startval:"=",endval:"=",decimals:"=",duration:"=",options:"="},link:function(e,t,i){var a=function(){var i=e.startval||0,a=e.endval||0,o=e.options||{useEasing:!0,useGrouping:!0,separator:",",decimal:"."};return new(n("V/L7"))(t[0],i,a,e.decimals,e.duration,o).start(),""};return e.$watch("endval",(function(t){if("number"==typeof t)a();else if("string"==typeof t){var n=t;n=_()(n.replace(/,/g,"")),isNaN(n)||(e.endval=n,a())}})),!0}}})),g.a.directive("bigCountUp",(function(){return{restrict:"E",scope:{title:"=title",title2:"=title2",value:"=value",desc:"=desc"},template:n("eNeq")}})),g.a.controller("newArticleItemCtrl",["$http","circleMiniService","$filter","$scope","$rootScope","$state","$timeout","hcImageService","contextService","$hcListBtn",function(e,t,n,i,a,o,c,l,_,d){i.$on("dialog-all-close",(function(){i.actived=!1})),i.$on("article-new-event",(function(e,t){i.begin(t)})),i.actived=!1,i.begin=function(e){i.article_item={to:{},content:e.content||"",images:e.images||[],at_employees:[],attachments:e.attachments||[]},!1===_.getContext("auth").company_setting.IS_CIRCLE_PUBLIC_OPEN?i.public_open=!1:i.public_open=!0,i.disable_to_select=!1,e.to_biz&&(i.disable_to_select=!0,"group"!=e.to_biz.split(":")[0]?t.getFeed(e.to_biz).then((function(e){i.actived=!0,i.article_item.to={feed:e}||null})):t.getGroup(e.to_biz.split(":")[1]).then((function(e){i.actived=!0,i.article_item.to={group:e}||null}))),e.to_employee&&(i.disable_to_select=!0,t.getInfo(e.to_employee).then((function(e){i.actived=!0,i.article_item.to={employee:e}}))),e.to_biz||e.to_employee||(i.actived=!0),i.callback=e.callback,i.cancel_callback=e.cancel_callback,i.content_length=0,c((function(){$(".article-new-box .content-main textarea").focus()}),500)},i.submit=function(){var e,o;if(!i.content_length_overflow&&1!=i.is_uploading&&1!=i.is_submitting){if(""==i.article_item.content)return a.show_warning("您实在无话可说？说两句吧..."),void(i.is_submitting=!1);var c=[],l=!1;if(r()(angular).call(angular,i.article_item.images,(function(e){if("uploading"==e.status)return l=!0,!1;c.push(e.index)})),l)a.show_warning("图片上传ing,请耐心等待...");else{if(!(i.public_open||i.article_item.to.group||i.article_item.to.employee||i.article_item.to.feed))return a.show_warning("请选择发送到哪","warning"),void(i.is_submitting=!1);i.is_submitting=!0,t.articleCreate({to_biz:i.article_item.to.group?"group:"+i.article_item.to.group.id.toString():i.article_item.to.feed?i.article_item.to.feed.biz_id:"",to_employee_id:i.article_item.to.employee?i.article_item.to.employee.id:"",content:n("xss_filter")(i.article_item.content.replace(/\r\n/g,"<BR>").replace(/\n/g,"<BR>")),images:c.join(),at_employee_ids:s()(e=i.article_item.at_employees).call(e,(function(e){return e.id})).join(","),attachments:s()(o=i.article_item.attachments).call(o,(function(e){return e.class+":"+(e.id?e.id.toString():"")+":"+(e.data?e.data.replace(/:/g,"^~").replace(/,/g,"^^"):"")})).join(",")}).then((function(e){i.is_submitting=!1,i.callback?(i.callback(e),i.actived=!1):i.actived=!1,i.cancel()}),(function(e){e.errcode&&40004==e.errcode?a.show_warning("圈子消息的长度不能超过500字哦!","warning"):a.show_warning(e.description,"warning"),i.is_submitting=!1}))}}},i.cancel=function(){i.cancel_callback?i.cancel_callback().then((function(){i.actived=!1})):i.actived=!1,i.$dialog&&i.$dialog.dialog_close()},i.showAssistDocument=function(){window.open("https://wiki.hcmcloud.cn/help/"+i.controllerName.hashCode())},i.start_at_employee_select=function(){var e,t;i.article_item.to.employee||i.article_item.to.group&&2==i.article_item.to.group.group_type||(i.article_item.to.group&&1==i.article_item.to.group.group_type?i.$emit("group-member-select",{id:i.article_item.to.group?"group:"+i.article_item.to.group.id.toString():i.article_item.to.feed?i.article_item.to.feed.biz_id:"",selected:s()(e=i.article_item.at_employees).call(e,(function(e){return e.id})),callback:function(e){i.article_item.at_employees=e.data}}):i.$emit("employee-select",{show_group:!1,selected:s()(t=i.article_item.at_employees).call(t,(function(e){return e.id})),callback:function(e){i.article_item.at_employees=e.data}}))},i.un_at_employee=function(e){var t;p()(t=i.article_item.at_employees).call(t,e,1)},i.add_img=function(e){var t={index:null,status:"uploading",deleted:!1};i.article_item.images.push(t),i.is_uploading=!0,l.uploadImg(e).then((function(e){i.is_uploading=!1,t.index=e,t.status="loaded"}))},i.delete_img=function(e,t){var n;t.stopPropagation(),p()(n=i.article_item.images).call(n,e,1)},i.show_img=function(e){var t,o=s()(t=i.article_item.images).call(t,(function(e){return n("hcImage")(e.index)}));a.img_preview(o,e)},i.start_to_select=function(e){i.disable_to_select||i.$emit("employee-select",{plugin:[{icon:"icon-hcm-community",title:"选择一个群组",desc:"选择一个属于您的群组",begin:function(){i.$emit("circle-group-select",{callback:function(e){""===e.data.id?i.article_item.to={}:i.article_item.to={group:e.data}||null}})}}],single_select:!0,selected:i.article_item.to.employee?[i.article_item.to.employee.id]:[],callback:function(e){"group"===e.class?""===e.data.id?i.article_item.to={}:i.article_item.to={group:e.data}||null:i.article_item.to={employee:e.data},i.article_item.at_employees=[]}})},i.params&&i.begin(i.params);var u=[{key:"cancel",label:"取消",func:i.cancel},{key:"submit",label:"发送",is_important:!0,func:i.submit,disabled:function(){return i.is_uploading||i.is_submitting||i.content_length_overflow}}];i.list_btn_model=d.createListBtn().$setMeta(u)}]),g.a.directive("newArticleItem",(function(){return{template:n("Tp/3"),scope:{},controller:"newArticleItemCtrl"}})),g.a.directive("timerCountDown",(function(){return{template:"<span>{{h}}:{{m}}:{{s}}<span>",restrict:"EAC",scope:{countTime:"="},link:function(e,t){e.getTime=function(){var t=Math.floor(e.countTime/1e3/60/60),n=Math.floor(e.countTime/1e3/60%60),i=Math.floor(e.countTime/1e3%60);e.h=t<10?"0"+t:t,e.m=n<10?"0"+n:n,e.s=i<10?"0"+i:i},e.getTime(),e.interval=a()((function(){e.countTime-=1e3,e.countTime>0?e.getTime():(clearInterval(e.interval),e.h=e.m=e.s="00")}),1e3)}}})),g.a.directive("timerCountUp",(function(){return{template:"<span>{{h}}:{{m}}:{{s}}<span>",restrict:"EAC",scope:{countTime:"="},link:function(e,t){e.getTime=function(){var t=Math.floor(e.countTime/1e3/60/60),n=Math.floor(e.countTime/1e3/60%60),i=Math.floor(e.countTime/1e3%60);e.h=t<10?"0"+t:t,e.m=n<10?"0"+n:n,e.s=i<10?"0"+i:i},e.getTime(),e.interval=a()((function(){e.countTime+=1e3,e.getTime()}),1e3)}}}))},ZnTZ:function(e,t){e.exports='<a ng-href="{{$ctrl.url()||$ctrl.href()}}" ng-click="$ctrl.hideSearch($event);">\n    <img alt="图标" ng-src="{{$ctrl.searchData.photo|hcPhoto:30}}" ng-if="!$ctrl.icon&&$root.client===\'pc\'"/>\n    \x3c!-- <span id="icon" ng-class="$ctrl.icon" ng-if="$ctrl.icon&&$root.client===\'pc\'"></span> --\x3e\n    <hc-icon app="$ctrl.searchData" options="\'icon-left\'" ng-if="$ctrl.icon && !$ctrl.searchData.photo"></hc-icon>\n    <div id="result">\n        <p id="title"\n           ng-bind-html="$ctrl.searchData.name | highLight:$ctrl.searchKey | toTrusted"></p>\n        <p id="path"\n           ng-bind-html="$ctrl.searchData.path_list | listToString | highLight:$ctrl.searchKey | toTrusted"></p>\n    </div>\n</a>\n'},bmIa:function(e,t,n){"use strict";n.r(t);n("07d7"),n("JfAA");var i=n("lHQ6"),a=n.n(i),o=n("wd/R"),s=n.n(o);window.app.factory("TimeCommonService",["listCacheService2","$timeout","dataService","contextService","$q",function(e,t,n,i,o){return{getMenuDefine:function(e){var t="/template/load_template?key="+e+".json";return n.callHcmCloudApi(t,{},"GET")},getListDefine:function(e){var t="/template/load_template?key=time_mgt_"+e+"_list_define.json";return n.callHcmCloudApi(t,{},"GET")},getBillDefine:function(e){var t="/template/load_template?key=time_mgt_"+e+"_bill_define.json";return n.callHcmCloudApi(t,{},"GET")},getListData:function(e){return n.callHcmOpenApi("time.bill.common.get.list",e)},getListCount:function(e){return n.callHcmOpenApi("time.bill.common.get.list.count",e)},saveBillData:function(e){return n.callHcmOpenApi("time.bill.save.bill.info",e)},delBillData:function(e){return n.callHcmOpenApi("time.bill.delete",e)},getBillData:function(e){return n.callHcmOpenApi("time.bill.get",e)},getLeaveItemList:function(){return n.callHcmOpenApi("leave.item.list",{})},getTripItemList:function(){return n.callHcmOpenApi("business.trip.item.list",{})},getOvertimeItemList:function(){return n.callHcmOpenApi("overtime.item.list",{})},getOvertimeTypeList:function(){return n.callHcmOpenApi("time.overtime.type.new.list",{})},getShiftList:function(){return n.callHcmOpenApi("time.shift.item.new.list",{})},getAttendYears:function(){for(var e=[],t=s()().year(),n=t+5;n>t-5;n--)e.push({value:n.toString(),label:n});return e},getAttendMonths:function(){for(var e=[],t=1;t<=12;t++)e.push({value:t<10?"0"+t.toString():t.toString(),label:t.toString()+"月"});return e},getAttendDays:function(e,t){t=void 0===t?s()().month()+1:t,e=void 0===e?s()().year():e;var n=[],i=31;4==t||6===t||9==t||11==t?i=30:2==t&&(i=e%4==0&&e%100!=0||e%400==0?29:28);for(var a=1;a<=i;a++)n.push({value:a<10?"0"+a.toString():a.toString(),label:a.toString()+"日"});return n},getAttendItem:function(){return n.callHcmOpenApi("time.attend.items",{})},getEmployeePunchInList:function(e,t,i,a,o){return n.callHcmOpenApi("time.punchin.list.by.employee",{employee_id:e,begin_date:t,end_date:i,page_index:a,page_count:o})},getEmployeePunchInListNew:function(e,t){return n.callHcmOpenApi("time.punch.data.get.month.data.punch.list",{employee_id:e,date_:t})},getScheduleSectionListForEmployeeView:function(e,t,i,a){return n.callHcmOpenApi("time.schedule.section.list.join.shift",{date:e,employee_id:a,depart_id:t,is_child_include:i})},getEmployeeLeaveList:function(e,t,i,a,o){return n.callHcmOpenApi("time.leave.list.by.employee",{employee_id:e,begin_date:t,end_date:i,page_index:a,page_count:o})},getEmployeeTypeLeaveList:function(e,t,i,a){return n.callHcmOpenApi("time.leave.list.by.employee.type",{employee_id:e,begin_date:t,end_date:i,leave_type:a},"session")},getEmployeeTripList:function(e,t,i,a,o){return n.callHcmOpenApi("time.trip.list.by.employee",{employee_id:e,begin_date:t,end_date:i,page_index:a,page_count:o})},getEmployeeOverTimeList:function(e,t,i,a,o){return n.callHcmOpenApi("time.overtime.list.by.employee",{employee_id:e,begin_date:t,end_date:i,page_index:a,page_count:o})},getEmployeeFieldWorkList:function(e,t){return n.callHcmOpenApi("time.field_work.list.by.employee",{employee_id:e,date:t})},getMyBillList:function(e){return n.callHcmOpenApi("time.bill.common.get.list",e)},getMyBillListCount:function(e,t,i,a,o){return n.callHcmOpenApi("time.bill.common.get.list.count",{category:e,selector:t,filter:i,emp_filter:a,is_self:o})},getMyWfByBizCount:function(e){return n.callHcmOpenApi("workflow.instance.detail.get.self.list.by.business.count",{business_number:e})},getWfByBiz:function(e){return n.callHcmOpenApi("workflow.get.workflow.by.business.number.department",e)},getEmpMonthWorkinghours:function(e,t,i,a){return n.callHcmOpenApi("time.working_hours.get.emp.month.workinghours",{year:e,month:t,employee_ids:i,depart_id:a})},getMonthCalendar:function(e,t){var n=s()({year:e,month:t-1,day:1}).weekday(),i=[];if(n>0){i[0]=[];for(var o=0;o<n;)i[0].push(void 0),o++}for(var c=s()({year:e,month:t-1,day:1}).daysInMonth(),r=1;r<=c;r++){var l=a()((r+n-1)/7);void 0===i[l]&&(i[l]=[]),i[l].push({date:s()({year:e,month:t-1,day:r}).format("YYYY-MM-DD"),label:r})}return i},getMonthDays:function(e,t){for(var n=[],i=["一","二","三","四","五","六","日"],a=s()({year:e,month:t-1,day:1}).daysInMonth(),o=1;o<=a;o++){var c=s()({year:e,month:t-1,day:o});n.push({date:c.format("YYYY-MM-DD"),weekday:i[c.weekday()],label:o,is_today:c.isSame(s()(),"day")})}return n},getDepartParam:function(e){return n.callHcmOpenApi("time.parameters.setting.depart.param.list",e)},getMonthBegin:function(e,t){return s()({year:e,month:a()(t)-1}).format("YYYY-MM-DD")},getMonthEnd:function(e,t){return s()({year:e,month:a()(t)-1}).endOf("month").format("YYYY-MM-DD")},getMyCenterMenu:function(){return n.callHcmCloudApi("/template/load_template_merge?key=time_my_center_menu.json",{},"GET")},getMyLocation:function(e){return n.callHcmOpenApi("attend.get.emp.location.list",e)},getMyWorkingHours:function(e){return n.callHcmOpenApi("time.working_hours.get.by.year.month.range",e)},getMyWorkingHoursDetail:function(e){return n.callHcmOpenApi("time.working_hours.details.by.year.month",e)},getBizBillDefine:function(e){var t="/template/load_template?key=time_biz_"+e+"_bill_define.json";return n.callHcmCloudApi(t,{},"GET")},getOrgInfo:function(e){return n.callHcmOpenApi("department.get.json.info",e)},initReportWf:function(e,t){return n.callHcmOpenApi(e,t)},exportMgtList:function(e){return n.callHcmOpenApi("time.mgt.list.export",e)},commonModelBillList:function(e){return n.callHcmOpenApi("hcm.model.list",e)},commonModelBillData:function(e){return n.callHcmOpenApi("hcm.model.get",e)},getTreeId:function(e){var t=o.defer();return n.callHcmOpenApi("time.common.execute.model.method",{model_:"Department",_func:"get_tree_id",params:{dept_id:e}}).then((function(e){e.success?t.resolve(e.result):t.reject()})),t.promise},getBizPubInfo:function(e){return n.callHcmOpenApi("business.mode.and.version.get",e)},validateInfo:function(e,t,i){return n.callHcmOpenApi("time.model.validators.check",{info:e,model:t,state:i})}}}]),t.default="TimeCommonService"},crAE:function(e,t){e.exports='<div class="home-widget-emp-card-info" ng-init="init()" ng-if="client===\'pc\'">\n    <div class="profile-info-content">\n        <div class="profile"><span class="content" ng-click="empProfile()">{{\'common_home_widget_emp_card_profile_title\'| translate}}</span></div>   \x3c!--个人资料--\x3e\n        <div class="photo" ng-if="view_meta_object.photo">\n            <hc-primary-photo options="view_meta_object.photo.options" ng-model="view_model.data.photo"\n                              class="hc_primary_photo_body"></hc-primary-photo>\n        </div>\n        <div class="desc">\n            <div class="name">{{view_model.data.name}}</div>\n            <div class="extend">\n                <div class="extend-item {{(view_meta_object[item_].options||{}).color}}"\n                     ng-repeat="item_ in extendModel.show_fields.list">\n                    <span ng-if="extendModel.show_fields.show_label && extendModel.show_fields.show_label.includes(item_)">{{view_meta_object[item_].label}}:</span>\n                    <span\n                        ng-bind-html="view_model.data|hcListCellData:view_meta_object[item_]|infoDefault|toTrusted"></span>\n                    <span class="hcm-tip" ng-if="(view_meta_object[item_].options||{}).tip">\n                        <span class="tip icon icon-hcm-question"></span>\n                        <span class="tip-detail">{{(view_meta_object[item_].options.tip|valueToFunc)()}}</span>\n                </span>\n                </div>\n            </div>\n        </div>\n        <div class="user-profile-sign" ng-if="!extendModel.show_sign.hide">\n            <span class="text">{{emp_slogan}}</span>\n            <span class="icon icon-hcm-edit" ng-click="editSlogan()"></span>\n        </div>\n    </div>\n</div>\n'},eNeq:function(e,t){e.exports='<style>\n    big-count-up {\n        display: block;\n    }\n\n    .big-count-up {\n        background: #fff;\n        padding: 20px 10px 10px;\n    }\n\n    .big-count-up .caption {\n        /*float: left;*/\n        text-align: left;\n    }\n\n    .big-count-up .desc {\n        padding-top: 5px;\n    }\n\n    .big-count-up .data {\n        float: right;\n        height: 50px;\n        line-height: 40px;\n    }\n\n    .big-count-up .title2 {\n        padding-top: 5px;\n    }\n</style>\n<div class="big-count-up tg">\n    <div class="data blue f40">\n        <count-up startval="0" endval="value" duration="1.5"></count-up>\n    </div>\n    <div class="caption">\n        <div class="f18">{{title}}&nbsp;</div>\n        <div class="f12 title2">{{title2}}&nbsp;</div>\n        <div class="desc f12 deep-gray">{{desc}}&nbsp;</div>\n    </div>\n</div>'},eR5k:function(e,t,n){"use strict";n("sMBO");var i=n("M5Mt"),a=n.n(i),o=n("ZbhI"),s=n.n(o),c=n("/FZm"),r=n.n(c),l=n("RXMP"),_=n.n(l),d=n("mnMc"),p=n.n(d),u=n("5PDf"),m=n.n(u),g=n("WxoT"),h=n.n(g),v=n("FLGM"),f=n.n(v),y=n("NR7K"),b=n.n(y);window.app.controller("NewMostUsedAppAdjustCtrl",["$scope","$hcConfigList","$hcDataset","contextService","$q","homeWidgetMyAppService","IndexService","$filter","$rootScope","hcAutoCopyService",function(e,t,n,i,o,c,l,d,u,g){e.init=function(){e.auth=i.getContext("auth"),e.initComponent()},e.submit=function(){var t=e.parse_app_list_order();t&&(e.$dialog.resolve_data(t),e.$dialog.dialog_close())},e.cancel=function(){e.$dialog.dialog_close()},e.cleanInvalidData=function(){var t,n=f()(t=e.invalid_id).call(t,(function(e){return c.delMostUsedApp(e)}));o.all(n).then((function(){u.show_warning("已清理"+e.invalid_id.length+"条无效记录"),e.initComponent()}))},e.copyAppList=function(){var t;g.copy(h()(f()(t=e.dataset_model.selected_list).call(t,(function(e){return{app_id:e.id,is_service:e.is_service}})))),u.show_warning("已将应用ID复制到剪贴板")},e.operate_meta=[{key:"cancel",label:"取消",func:e.cancel},{key:"submit",label:"确定",default:!0,func:e.submit},{key:"clear_invalid",default:!0,label:"清理无效记录",hide:function(){return!d("getValue")(e,["invalid_id","length"])},left:!0,func:e.cleanInvalidData},{key:"get_app_id_list",label:"复制应用列表",hide:function(){var t,n,i,a;return!((null===(t=e.auth)||void 0===t||null===(n=t.roles)||void 0===n?void 0:n.onlyoneowner)||(null===(i=e.auth)||void 0===i||null===(a=i.roles)||void 0===a?void 0:a["sys-manager"]))},left:!0,func:e.copyAppList}],e.$dialog.operates(e.operate_meta),e.initComponent=function(){var i={favor_app_list:c.getMostUsedAppList(0===e.params.category?["myservice"]:["favorite"],"pc",!0),my_app:l.getMyApplication("pc")};o.all(i).then((function(i){var a,o,s;e.application_list=[],e.my_app=angular.copy(m()(a=i.my_app).call(a,(function(t){var n,i;return 0===e.params.category?p()(n=["员工服务","管理服务","全员服务"]).call(n,t.name):!p()(i=["员工服务","管理服务","全员服务"]).call(i,t.name)}))),e.my_app=f()(o=e.my_app).call(o,(function(t){var n;return t.key=t.id,_()(n=t.applications).call(n,(function(t){t.key=t.id,t.label=t.name,e.application_list.push(t)})),t.fields=t.applications,t})),e.favor_app_list=[],e.invalid_id=[],e.origin_favor_app_list=angular.copy(i.favor_app_list),f()(s=i.favor_app_list.list).call(s,(function(t){var n,i=r()(n=e.application_list).call(n,(function(e){return e.id===t.app_id&&!!e.is_service==!!t.is_service}));d("isValidValue")(i)?(i.sequence=t.sequence,i.favor_id=t.id,e.favor_app_list.push(i)):t.id&&e.invalid_id.push(t.id)})),e.invalid_id.length>0&&u.show_warning('存在不可用的最近应用，如需清理请点击"清理无效记录"'),e.dataset_model=n.createDataset({loader:e.getDatasetData,load_params:[]}),e.dataset_model.$initDataset(),e.dataset_model.selected_list=angular.copy(e.favor_app_list),e.config_model=t.createConfigList({meta:[{width:100,label:"名称",field:["name"]}],data:e.dataset_model.selected_list,show_index:!0,operates:[{icon:"icon-hcm-arrow-cross-up-solid",func:function(t,n){e.operateCondition.move_up(t,n)}},{icon:"icon-hcm-arrow-cross-down-solid",func:function(t,n){e.operateCondition.move_down(t,n)}},{icon:"icon-hcm-delete-circle-solid",func:function(t,n){e.operateCondition.delete(t,n)}}]})}))},e.getDatasetData=function(){var t=o.defer();return t.resolve(e.my_app),t.promise},e.parse_app_list_order=function(){var t,n,i,a;if(!(e.dataset_model.selected_list.length>32)){e.selectedAppList=f()(t=e.dataset_model.selected_list).call(t,(function(e,t){var n;return{id:e.id,sequence:t,is_service:null!==(n=e.is_service)&&void 0!==n&&n}}));var o=[],s=[];f()(n=e.selectedAppList).call(n,(function(t){var n,i=m()(n=e.favor_app_list).call(n,(function(e){return e.id===t.id}))[0];i?(i.parsed=!0,i.favor_id?(t.favor_id=i.favor_id,i.sequence!==t.sequence&&o.push(t)):s.push(t)):s.push(t)}));var c=f()(i=m()(a=e.favor_app_list).call(a,(function(e){return!e.parsed}))).call(i,(function(e){return{id:e.favor_id}}));return{data_to_add:s,data_to_modify:o,data_to_del:c}}u.show_warning("自定义保存的应用不得超过32个")},e.operateCondition={move_up:function(t){var n,i=s()(n=e.dataset_model.selected_list).call(n,t);if(0!==i){var o,c,r=a()(o=e.dataset_model.selected_list).call(o,i,1)[0];a()(c=e.dataset_model.selected_list).call(c,i-1,0,r)}},move_down:function(t){var n,i=s()(n=e.dataset_model.selected_list).call(n,t);if(i!==e.dataset_model.selected_list.length-1){var o,c,r=a()(o=e.dataset_model.selected_list).call(o,i,1)[0];a()(c=e.dataset_model.selected_list).call(c,i+1,0,r)}},delete:function(t){var n,i,o=s()(n=e.dataset_model.selected_list).call(n,t);a()(i=e.dataset_model.selected_list).call(i,o,1)}}}]),t.a={controller:"NewMostUsedAppAdjustCtrl",template:b.a}},fB4s:function(e,t,n){n("v6AK")},fvO8:function(e,t,n){"use strict";n.r(t),window.app.service("PersonalSettingService",["BaseCRUDService","templateService","cacheService","contextService",function(e,t,n,i){var a;angular.extend(this,e.getModelService("PersonSetting"));var o=i.getContext("auth"),s=(null==o||null===(a=o.employee)||void 0===a?void 0:a.id)+"_show_app_icon";this.portalConfig={get showAppConfig(){var e;return null===(e=n.getCache(s))||void 0===e||e},set showAppConfig(e){n.setCache(s,e)}}}]),t.default="PersonalSettingService"},gMty:function(e,t){e.exports='<div class="hcm-navigation" ng-init="init()">\n    <hc-steps model="steps_model" ng-if="steps_model">\n        <div class="btn-icon-groups" ng-if="model_meta.actions.length>0 && !(!expand && title_icon)">\n            <div ng-repeat="_action in model_meta.actions" class="btn-icon {{_action.icon||\'icon-hcm-set\'}}"\n                 ng-click="parseParentAction(_action)"></div>\n        </div>\n    </hc-steps>\n</div>'},gsMG:function(e,t,n){"use strict";var i=n("UtpJ"),a=n.n(i),o=n("Vi3r"),s=n.n(o),c=n("5PDf"),r=n.n(c),l=n("FLGM"),_=n.n(l),d=n("o+MX"),p=n.n(d),u=n("+oHS"),m=n.n(u),g=n("KYsz"),h=n.n(g),v=n("RXMP"),f=n.n(v),y=n("EVMC"),b=n.n(y),w=(n("Jf2n"),n("5QaF"),n("8rxN")),x=n("yDEG"),k=n("p4uW");window.app.component("homeWidgetAppList",{template:b.a,require:{boardCtrl:"?^hcmBoard"},bindings:{key:"<",context:"=",model:"<?",options:"<?"},controller:["$scope","$controller","$q","HomeWidgetMostUsedAppService","$state","$hcDialog","$rootScope","$filter","IndexService","contextService","CompanyMetaService","templateService","dataService",function(e,t,n,i,o,c,l,d,u,g,v,y,b){e.init=function(){var t,n,i,a,o,s,c,r;null===(t=e.$ctrl.boardCtrl)||void 0===t||t.componentRegister(e.$ctrl.key,e),e.auth=g.getContext("auth"),e.company_id=null===(n=e.auth)||void 0===n||null===(i=n.company)||void 0===i?void 0:i.id,e.is_open_new_page="pc"===window.client&&(null!==(a=null===(o=e.auth)||void 0===o||null===(s=o.company_setting)||void 0===s?void 0:s.open_new_page)&&void 0!==a?a:null),e.self_id=null===(c=e.auth)||void 0===c||null===(r=c.employee)||void 0===r?void 0:r.id,e.initMenu(),e.page_index=1},e.getSettingPanel=function(){return Object(x.c)(k.a)},e.$onResize=function(){},e.initMenu=function(){u.getMyApplication("pc","list").then((function(t){var n;e.my_app=t,e.my_app_dic={},f()(n=e.my_app).call(n,(function(t){e.my_app_dic[t.id]?e.my_app_dic[t.id].push(t):e.my_app_dic[t.id]=[t]})),e.getMostUsedApps()}))},e.getMostUsedApps=function(){b.callHcmOpenApi("hcm.home.widget.most.used.app.my.all",{}).then((function(t){var n,i=[];try{var a,o,s,c,l,u="string"==typeof t.role_apps?null!==(a=JSON.parse(t.role_apps||"{}").role_apps)&&void 0!==a?a:{}:null!==(o=t.role_apps)&&void 0!==o?o:{},g=null!==(s=null==t||null===(c=t.role_app_recommend)||void 0===c?void 0:c.template_config)&&void 0!==s?s:{};angular.extend(u,g),i=h()(l=m()(e.auth.roles)).call(l,(function(e,t){var n=d("getValue")(u,[t]);return n&&f()(n).call(n,(function(e){e.from_role=!0})),p()(e).call(e,n||[])}),[])}catch(e){i=[]}e.favor_app_list=p()(i).call(i,t.personal_apps.list),e.app_list=[],_()(n=e.favor_app_list).call(n,(function(t){var n,i=angular.copy(r()(n=e.my_app_dic[t.app_id]||[]).call(n,(function(e){return!!e.is_service==!!t.is_service}))[0]);d("isValidValue")(i)&&(i.from_role=t.from_role,e.app_list.push(i))})),e.refreshPaging()}))},e.refreshPaging=function(){var t,n,i;i=document.getElementsByTagName("body")[0].getBoundingClientRect().width<1280?4:8,e.index_list=_()(t=s()(Array(Math.ceil(e.app_list.length/i)))).call(t,(function(e,t){return t+1})),e.app_slice_list=_()(n=e.index_list).call(n,(function(t){var n;return a()(n=e.app_list).call(n,(t-1)*i,t*i)})),e.index_list.length&&e.page_index>=e.index_list.length&&e.changePage(e.index_list.length)},e.changePage=function(t){$(".item-container").css({left:"-"+100*(t-1)+"%"}),e.page_index=t},e.adjust_most_used_app=function(){var e=g.getContext("auth"),t=e.employee.id,a=e.company.id;c.getDialog(w.a).show().then((function(e){var o,s,c,r,d,u=p()(o=p()(s=_()(c=e.data_to_add).call(c,(function(e){return i.createItem({company_id:a,employee_id:t,app_id:e.id,is_service:e.is_service,sequence:e.sequence})}))).call(s,_()(r=e.data_to_modify).call(r,(function(e){return i.editItem(e.favor_id,{company_id:a,employee_id:t,app_id:e.id,sequence:e.sequence})})))).call(o,_()(d=e.data_to_del).call(d,(function(e){return i.removeItem(e.id)})));n.all(u).then((function(){l.show_warning("修改成功！"),l.$broadcast("refresh_most_used_app")}))}))},e.$on("refresh_most_used_app",(function(){e.getMostUsedApps()})),e.go_app=function(t){l.super_go(t.state,t.param,null,e.is_open_new_page||t.open_new_page)},e.beforeJumpToApp=function(t,n){if(null==n||n.stopPropagation(),"show_dialog"!==t.state);else switch(null==n||n.preventDefault(),t.param.dialog_name){case"chat_robot":e.$emit("chat-robot",t.param||{});break;default:l.show_warning("暂不支持")}}}]})},h5m7:function(e,t,n){"use strict";var i=n("o+MX"),a=n.n(i),o=n("8xC1"),s=n("Vviu"),c=n.n(s);n("cNuy");o.a.component("widgetHeader",{bindings:{name:"@",resultCount:"<",onHideSearch:"&",showAllModel:"<"},template:c.a,controller:["$state",function(e){var t=this;this.$onInit=function(){t.client=window.client},this.href=function(){var n;return a()(n="".concat(location.pathname)).call(n,e.href(t.showAllModel.state,t.showAllModel.params))}}]})},iX7I:function(e,t,n){"use strict";n.r(t);n("sMBO"),n("qePV");var i=n("TEMH"),a=n.n(i),o=n("a0dU"),s=n.n(o),c=(n("ls82"),n("SPx3")),r=n.n(c),l=n("FLGM"),_=n.n(l),d=n("Kwsy"),p=n.n(d),u=n("/FZm"),m=n.n(u),g=n("5PDf"),h=n.n(g),v=n("M5Mt"),f=n.n(v),y=n("RXMP"),b=n.n(y),w=n("ypA+"),$=n.n(w),x=(n("+lK5"),n("w2Ej"),n("4eRX")),k=n("bQov");n("1hbj");window.app.directive("pcMainSideNav",(function(){return{restrict:"E",template:$.a,scope:{},controller:"pcMainSideNavCtrl"}})),window.app.controller("pcMainSideNavCtrl",["$scope","$state","$rootScope","$filter","homeWidgetMyAppService","contextService","IndexService","cacheService","PersonalSettingService","dataService","$element","MenuStyleService","$hcDialog",function(e,t,n,i,o,c,l,d,u,g,v,y,w){e.init=function(){var n,a,o,s,r,_,y,w,$,k,M,E,O,A,S,C,D,P,j;e.auth=c.getContext("auth"),e.categoryMoreShow=t.params.category?Number(t.params.category):e.show_portal&&"portal",e.show_portal=null!==(n=null===(a=e.auth)||void 0===a||null===(o=a.company_setting)||void 0===o?void 0:o.open_portal)&&void 0!==n?n:null,e.is_open_new_page=null!==(s=null===(r=e.auth)||void 0===r||null===(_=r.company_setting)||void 0===_?void 0:_.open_new_page)&&void 0!==s?s:null,e.show_app_icon=null===(y=u.portalConfig)||void 0===y?void 0:y.showAppConfig,e.display_type=t.params.display_type;var I=window.storage.getItem("local",Object(x.a)("portalCollapseExpand"+(null===(w=e.auth)||void 0===w||null===($=w.employee)||void 0===$?void 0:$.id)));e.expand=!i("isValidValue")(I)||I,e.show_new_portal=null!==(k=null===(M=e.auth)||void 0===M||null===(E=M.company_setting)||void 0===E?void 0:E.show_new_portal)&&void 0!==k?k:null,e.app_title_description=null===(O=e.auth)||void 0===O||null===(A=O.company_setting)||void 0===A?void 0:A.app_title_description,e.isWorkbench=null===(S=e.auth)||void 0===S||null===(C=S.company_setting)||void 0===C?void 0:C.open_workbench,e.workbenchType=(null===(D=e.auth)||void 0===D||null===(P=D.company_setting)||void 0===P?void 0:P.workbench_switch_type)||"1",e.getMenuStyleSetting(),t.params.sub_category&&(e.current_sub_category_id=Number(t.params.sub_category)),"terminal"===e.display_type?g.callHcmOpenApi("hcm.application.my.all",{target:"terminal"},"application",!1).then((function(t){e.terminal_apps=t.app.list})):l.getMyApplication("pc",!0).then((function(n){var a,o,s,c,r,l=angular.copy(n);(e.show_portal&&!e.new_side_nav&&f()(l).call(l,0,0,{id:"portal",name:i("translate")("portal"),number:0,order_number_pc:0,order_number_mobile:0,icon:"icon-hcm-home-solid"}),function(t){var n;e.category_list=i("orderBy")(t,"order_number_pc"),b()(n=e.category_list).call(n,(function(e){var t;"portal"!==e.id&&(e.classify_list=i("orderBy")(e.classify_list,"order_number_pc"),b()(t=e.classify_list).call(t,(function(e){e.applications=i("orderBy")(e.applications,"order_number_pc")})))}))}(l),e.category_more_show=h()(a=e.category_list).call(a,(function(t){return t.id===e.categoryMoreShow}))[0]||e.category_list[e.currentCategoryIndex>0?e.currentCategoryIndex:0],e.current_sub_category_id&&(e.current_category_id=Number(t.params.category),e.category_more_show=e.getSubCategory(e.category_more_show,e.current_sub_category_id)),e.getMostUsedApps(),e.new_side_nav)&&(e.initValue=d.getCache("currentMenuTab"),!e.initValue&&(e.initValue=null===(s=e.category_list)||void 0===s||null===(c=s[0])||void 0===c?void 0:c.name),e.currentMenuTab=m()(r=e.category_list).call(r,(function(t){return t.name===e.initValue})));null===(o=e.initAfter)||void 0===o||o.call(e)})),e.scrollListener=null===(j=document.getElementsByClassName("category-content")[0])||void 0===j?void 0:j.addEventListener("scroll",(function(){var e=m()(v).call(v,".category-content").scrollTop();l.setScrollTop(e)}));var T=l.getAnchorClassify();e.timer=p()((function(){var e;T?(null===(e=m()(v).call(v,".menu-classify-item[classify-id='".concat(T,"']"))[0])||void 0===e||e.scrollIntoView(),m()(v).call(v,".category-content").css({opacity:1})):m()(v).call(v,".category-content").css({opacity:1}).eq(0).scrollTop(l.scrollTop)}),500),e.getWorkBench()},e.getWorkBench=function(){e.isWorkbench&&"1"===e.workbenchType&&(g.callHcmOpenApi("hcm.workbench.home.page.list",{target:0}).then((function(t){e.workbenchList=_()(t).call(t,(function(e){var t,n;(null===(t=e.children)||void 0===t?void 0:t.length)&&b()(n=e.children).call(n,(function(t){t.id=t.id+"#"+t.range_type,t.disabled=function(){return!t.enabled||!e.enabled}}));return e.id=e.id+"#"+e.range_type,e})),e.currentWorkBench=e.workbenchList[0].id})),e.onWorkBenchChange=function(t){e.currentWorkBench=t,sessionStorage.setItem("workbrench_id",t),e.$broadcast("workbench_change",{value:t})})},e.getMenuStyleSetting=function(){var t,n;y.getStyleSetting(e.auth.company.id,null===(t=e.auth)||void 0===t||null===(n=t.employee)||void 0===n?void 0:n.id).then((function(t){var n,i,a,o;e.menu_style=t.menu_style,e.show_tips=t.show_tips,e.is_banner_menu=(null===(n=e.auth)||void 0===n||null===(i=n.company_setting)||void 0===i?void 0:i.is_banner_menu)||t.is_banner_menu||"0"!==(null===(a=e.auth)||void 0===a||null===(o=a.company_setting)||void 0===o?void 0:o.pc_main_side_index)}))},e.getMostUsedApps=r()(s.a.mark((function t(){var n,a,c;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=["myservice","favorite"],"pc",!e.show_new_portal){t.next=8;break}return t.next=5,o.getMostUsedAppList(n,"pc");case 5:a=t.sent,t.next=11;break;case 8:return t.next=10,g.callHcmOpenApi("hcm.home.widget.most.used.app.my",{});case 10:a=t.sent;case 11:e.most_used_apps=i("toObj")(a.list,"app_id"),c=(a.list[a.list.length-1]||{}).sequence,e.next_sequence=(void 0!==c?c:-1)+1;case 14:case"end":return t.stop()}}),t)}))),e.noCacheGetMostUsedApps=r()(s.a.mark((function t(){var n,a,c;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=["myservice","favorite"],"pc",!e.show_new_portal){t.next=8;break}return t.next=5,o.getMostUsedAppList(n,"pc",!0);case 5:a=t.sent,t.next=11;break;case 8:return t.next=10,g.callHcmOpenApi("hcm.home.widget.most.used.app.my",{});case 10:a=t.sent;case 11:e.most_used_apps=i("toObj")(a.list,"app_id"),c=(a.list[a.list.length-1]||{}).sequence,e.next_sequence=(void 0!==c?c:-1)+1;case 14:case"end":return t.stop()}}),t)}))),e.showMore=function(t,i,a){if(t&&t.stopPropagation(),e.currentCategoryIndex=a,e.current_sub_category_id=null,e.current_category_id=null,i.child)e.current_category_id=i.id;else{n.main_history_state={state:"index",param:{category:i.id}},i.classify_list&&1===i.classify_list.length&&"其他"===i.classify_list[0].name&&(i.classify_list[0].name="全部应用"),e.category_more_show=i;var o={category:"portal"!==i.id?i.id:"",sub_category:null};!e._dialog&&n.super_go("index",o,{location:"replace",notify:!1})}},e.showChild=function(t,i,a){e.current_sub_category_id=a,e.category_more_show=e.getSubCategory(i,a),e.current_category_id=i.id;var o={category:i.id,sub_category:a};!e._dialog&&n.super_go("index",o,{location:"replace",notify:!1})},e.getSubCategory=function(e,t){var n,i=angular.copy(e);return i.classify_list=_()(n=i.classify_list).call(n,(function(e){var n;return e.applications=null===(n=e.applications)||void 0===n?void 0:h()(n).call(n,(function(e){var n;return(null==e||null===(n=e.classify)||void 0===n?void 0:n.sub_category_id)===t})),e})),i},e.go_child=function(t){n.super_go(t.state,t.param,{inherit:!1},"terminal"!==e.display_type&&(e.is_open_new_page||t.open_new_page))},e.maskClick=function(e){e.stopPropagation()},e.collapseMenu=function(){var t,n;e.expand=!e.expand,window.storage.setItem("local",Object(x.a)("portalCollapseExpand"+(null===(t=e.auth)||void 0===t||null===(n=t.employee)||void 0===n?void 0:n.id)),e.expand),e.$broadcast("collapse-menu-plugins",e.expand)},e.appIsFavorite=function(t){return!!(e.most_used_apps||{})[t.id]},e.setFavoriteApp=function(t,i,a){var s;null==a||a.stopPropagation(),null==a||a.preventDefault();var c=m()(s=["员工服务","管理服务","全员服务"]).call(s,(function(e){return e===t.category.name}))?0:1;!i||e.most_used_apps[t.id].id?(i?o.delMostUsedApp(e.most_used_apps[t.id].id):e.show_new_portal?o.addMostUsedApp(e.auth.company.id,e.auth.employee.id,t.id,e.next_sequence,c,t.is_service,0):o.addMostUsedApp(e.auth.company.id,e.auth.employee.id,t.id,e.next_sequence,null,t.is_service,0)).then((function(){n.$broadcast("refresh_most_used_app")})):n.show_warning("默认应用请联系管理员取消！")},e.jumpTo=function(t,i){if(t.state||!t.href)if(null==i||i.stopPropagation(),null==i||i.preventDefault(),"show_dialog"===t.state)switch(t.param.dialog_name){case"chat_robot":e.$emit("chat-robot",t.param||{});break;default:n.show_warning("暂不支持")}else e.go_child(t);else null==i||i.stopPropagation()},e.editPersonalWorkBenchList=function(){w.getDialog(Object(k.a)("HcmWorkbenchPersonal","",!0,!0)).show().then((function(t){g.callHcmOpenApi("hcm.workbench.home.page.list",{target:0}).then((function(t){var n;e.workbenchList=_()(t).call(t,(function(e){var t,n;(null===(t=e.children)||void 0===t?void 0:t.length)&&b()(n=e.children).call(n,(function(t){t.id=t.id+"#"+t.range_type,t.disabled=function(){return!t.enabled||!e.enabled}}));return e.id=e.id+"#"+e.range_type,e})),-1===a()(n=e.workbenchList).call(n,(function(t){return t.id===e.currentWorkBench}))&&(e.currentWorkBench=workbenchList[0].id,sessionStorage.setItem("workbrench_id",e.currentWorkBench)),e.$broadcast("workbench_change",{value:e.currentWorkBench})}))}))},e.$on("refresh_most_used_app",(function(){e.noCacheGetMostUsedApps()})),e.$on("destroy",(function(){e.timer&&e.timer()}))}]),t.default={template:$.a,controller:"pcMainSideNavCtrl",title:"应用选择"}},ihkt:function(e,t){e.exports='<div class="hcm-breadcrumb" ng-hide="$ctrl.isReset">\n    <hc-breadcrumb\n        items="$ctrl.items"\n        on-change="$ctrl.onBreadcrumbChange"\n    ></hc-breadcrumb>\n</div>\n'},k37F:function(e,t){e.exports='<div class="hc-plugins-setting" ng-class="{\'plugins-setting-bg\':$ctrl.sortable_config.sort}"\n     ng-mouseup="$ctrl.mouseUp($event)" ng-mousemove="$ctrl.mouseMove($event)">\n    <div class="new-plugins" id="public" ng-class="{\'sort\':$ctrl.sortable_config.sort}" ng-show="$ctrl.isPublicShow()">\n        <div ng-repeat="plugin in $ctrl.publicPlugins track by $index" data-col=\'{{plugin.params.col}}\'\n             data-row=\'{{plugin.params.row}}\' data-size-x=\'{{plugin.params.sizeX}}\'\n             data-size-y=\'{{plugin.params.sizeY}}\'\n             ng-class="{\'resize\': $index===$ctrl.resizeIndex, \'moving\':$index===$ctrl.dragIndex}" class=\'plugin\'>\n            <home-widget-application ng-if="plugin.category.plugin===\'home-widget-application\'"\n                                     model="plugin"></home-widget-application>\n            <home-widget-dashboard ng-if="plugin.category.plugin===\'home-widget-dashboard\'"\n                                   model="plugin"></home-widget-dashboard>\n            <home-widget-hcm-dashboard ng-if="plugin.category.plugin===\'home-widget-hcm-dashboard\'"\n                                   model="plugin"></home-widget-hcm-dashboard>\n            <home-widget-message ng-if="plugin.category.plugin===\'home-widget-message\'"\n                                 model="plugin"></home-widget-message>\n            <home-widget-app-list ng-if="plugin.category.plugin===\'home-widget-app-list\'"\n                                  model="plugin"></home-widget-app-list>\n            <home-widget-calendar ng-if="plugin.category.plugin===\'home-widget-calendar\'"\n                                  model="plugin"></home-widget-calendar>\n            <home-widget-count ng-if="plugin.category.plugin===\'home-widget-count\'"\n                               model="plugin"></home-widget-count>\n            <div class="drag-mask" ng-if="$ctrl.sortable_config.sort" ng-mousedown="$ctrl.dragStart($event,$index)">\n                <div class="personal-operate">\n                    <span class="icon icon-hcm-edit" title="修改"\n                          ng-if="[\'dashboard_child\', \'count_data\'].includes(plugin.key)"\n                          ng-click="$ctrl.edit_plugin(plugin,$index)"></span>\n                    <span class="icon icon-hcm-copy" title="复制插件配置" ng-if="$ctrl.is_admin"\n                          ng-click="$ctrl.copy_plugin_config(plugin)"></span>\n                    <span class="icon icon-hcm-trash" title="删除" ng-click="$ctrl.delete_plugin(plugin)"></span>\n                </div>\n                <div class="tip">拖拽进行移动</div>\n                <div class="plugin-resize-handle icon icon-hcm-arrow-amplification-reverse"\n                     ng-mousedown="$ctrl.resizeStart($event,$index)"\n                ></div>\n            </div>\n        </div>\n    </div>\n\n    <div class="new-plugins" id="private" ng-class="{\'sort\':$ctrl.sortable_config.sort}"\n         ng-show="$ctrl.isPrivateShow()">\n        <div ng-repeat="plugin in $ctrl.privatePlugins track by $index" data-col=\'{{plugin.params.col}}\'\n             data-row=\'{{plugin.params.row}}\' data-size-x=\'{{plugin.params.sizeX}}\'\n             data-size-y=\'{{plugin.params.sizeY}}\'\n             ng-class="{\'resize\': $index===$ctrl.resizeIndex, \'moving\':$index===$ctrl.dragIndex}" class=\'plugin\'>\n            <home-widget-application ng-if="plugin.category.plugin===\'home-widget-application\'"\n                                     model="plugin"></home-widget-application>\n            <home-widget-dashboard ng-if="plugin.category.plugin===\'home-widget-dashboard\'"\n                                   model="plugin"></home-widget-dashboard>\n            <home-widget-hcm-dashboard ng-if="plugin.category.plugin===\'home-widget-hcm-dashboard\'"\n                                   model="plugin"></home-widget-hcm-dashboard>\n            <home-widget-message ng-if="plugin.category.plugin===\'home-widget-message\'"\n                                 model="plugin"></home-widget-message>\n            <home-widget-app-list ng-if="plugin.category.plugin===\'home-widget-app-list\'"\n                                  model="plugin"></home-widget-app-list>\n            <home-widget-calendar ng-if="plugin.category.plugin===\'home-widget-calendar\'"\n                                  model="plugin"></home-widget-calendar>\n            <home-widget-count ng-if="plugin.category.plugin===\'home-widget-count\'"\n                               model="plugin"></home-widget-count>\n            <home-widget-time-my-unusual ng-if="plugin.category.plugin===\'home-widget-time-my-unusual\'"\n                                         model="plugin"></home-widget-time-my-unusual>\n            <home-widget-growth-record ng-if="plugin.category.plugin === \'home-widget-growth-recor\'"\n                                           model="\'plugin\'"></home-widget-growth-record>\n            <home-widget-inner-recruit-job ng-if="plugin.category.plugin === \'home-widget-inner-recruit-job\'"\n                                           model="\'plugin\'"></home-widget-inner-recruit-job>\n            <home-widget-recruit-interview-calendar\n                ng-if="plugin.category.plugin === \'home-widget-recruit-interview-calendar\'"\n                model="plugin"></home-widget-recruit-interview-calendar>\n            <div class="drag-mask" ng-if="$ctrl.sortable_config.sort" ng-mousedown="$ctrl.dragStart($event,$index)">\n                <div class="personal-operate">\n                    <span class="icon icon-hcm-edit" title="修改"\n                          ng-if="[\'dashboard_child\', \'count_data\', \'hcm_dashboard_child\'].includes(plugin.key)"\n                          ng-click="$ctrl.edit_plugin(plugin,$index)"></span>\n                    <span class="icon icon-hcm-copy" title="复制插件配置" ng-if="$ctrl.is_admin"\n                          ng-click="$ctrl.copy_plugin_config(plugin)"></span>\n                    <span class="icon icon-hcm-trash" title="删除" ng-click="$ctrl.delete_plugin(plugin)"></span>\n                </div>\n                <div class="tip">拖拽进行移动</div>\n                <span class="plugin-resize-handle icon icon-hcm-arrow-amplification-reverse"\n                      ng-mousedown="$ctrl.resizeStart($event,$index)"\n                ></span>\n            </div>\n        </div>\n    </div>\n\n    <div class="operate" ng-class="{hover:$ctrl.operate}" ng-mouseover="$ctrl.operate=true"\n         ng-mouseleave="$ctrl.operate=false"\n         ng-if="!$ctrl.sortable_config.sort">\n        <div class="details">\n            <div ng-repeat="item in $ctrl.portal_operate" ng-click="item.click($ctrl)"\n                 ng-if="item.show">\n                {{item.label}}\n            </div>\n        </div>\n        <div class="icon icon-hcm-add"></div>\n    </div>\n\n    <div class="layout_confirm" ng-if="$ctrl.sortable_config.sort">\n        <div class="operate-content">\n            <div class="btn-pc primary" ng-click="$ctrl.add_plugins()">新增插件</div>\n            <div class="btn-pc secondary" ng-click="$ctrl.cancel_adjust_layout()">取消</div>\n            <div class="btn-pc primary" ng-click="$ctrl.save_adjust_layout()">保存布局</div>\n        </div>\n        <div class="tip-content">\n            <div class="primary">\n                请拖拽卡片调整卡片的布局，再点击保存布局即可生效\n            </div>\n            <div class="secondary">\n                备注：取消 - 不保存当前布局直接退出\n            </div>\n        </div>\n    </div>\n</div>\n\n\n'},"kzQ+":function(e,t){e.exports='<div class="employee-selector ng-hide pop-window" ng-show="is_select" ng-init="init()" ng-cloak>\n    <div ng-show="is_select">\n        <div class="search-box">\n            <div class="input">\n                <input placeholder="搜索{{current_org.name}}：首字母、全字母、姓名" type="search" autocapitalize="off"\n                       autocorrect="off"\n                       autocomplete="off"\n                       spellcheck="false" ng-model="search_key">\n            </div>\n        </div>\n\n        <div class="search-content" ng-if="client==\'pc\'">\n            <div>\n                <div class="search-home"\n                     ng-hide="is_org_show||is_group_select||search_key!=\'\'">\n                    <div>\n                        <div class="list-search-area">\n                            <div ng-repeat="_p in plugin" class="list-search-item  tg" ng-click="exec_plugin(_p)">\n                                <div class="icon circle-icon">\n                                    <div class="{{_p.icon}}"></div>\n                                </div>\n                                <div class="content">\n                                    <div class="name">{{_p.title}}</div>\n                                    <div class="desc">{{_p.desc}}</div>\n                                </div>\n                                <div class="icon-hcm-arrow-right tag"></div>\n                            </div>\n                            <div class="list-search-item tg" ng-repeat="item in top_org"\n                                 ng-click="show_depart(item.id)">\n                                <div class="icon">\n                                    <div class="icon-organizational"></div>\n                                </div>\n                                <div class="content">\n                                    <div class="name">{{item.name}}</div>\n                                    <div class="desc">组织架构</div>\n                                </div>\n                                <div class="icon-hcm-arrow-right tag"></div>\n                            </div>\n                            <div class="list-search-item tg" ng-click="show_depart(my_org.id)" ng-show="my_org!=null">\n                                <div class="icon">\n                                    <div class="icon-organizational"></div>\n                                </div>\n                                <div class="content">\n                                    <div class="name">{{my_org.name}}</div>\n                                    <div class="desc">我的部门</div>\n                                </div>\n                                <div class="icon-hcm-arrow-right tag"></div>\n                            </div>\n                        </div>\n                        <div class="list-banner">常用联系人</div>\n                        <div class="list-person">\n                            <div class="list-person-item tg" ng-repeat="_e in search_history track by $index"\n                                 ng-click="select(_e)">\n                                <div class="icon">\n                                    <img ng-src="{{_e.photo|hcPhoto:46}}">\n                                </div>\n                                <div class="content">\n                                    <div class="name">{{_e.name}}</div>\n                                    <div class="position">{{_e.department}}-{{_e.job_title}}</div>\n                                </div>\n                                <div class="select-oper"\n                                     ng-class="{\'blue icon-check-circle-2\':selected_id.indexOf(_e.id)>-1,\'gray icon-check-circle-2\':pre_selected_id.indexOf(_e.id)>-1}"></div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class="search-org" ng-show="is_org_show&& search_key==\'\'">\n                    <div>\n                        <div class="org-bread">\n                            <div>\n                                <span class="org-bread-item tg" ng-click="show_home()">最近</span>\n                                <span ng-repeat="_t in org_bread"\n                                      ng-click="show_depart(_t.id)">\n                            <span class="org-bread-tag icon-hcm-arrow-right"></span>\n                            <span class="org-bread-item tg">{{_t.name}}</span>\n                        </span>\n                            </div>\n                        </div>\n                        <div ng-show="is_org_loading && !current_org.id" class="next">加载中...</div>\n                        <div ng-hide="is_org_loading">\n                            <div class="list-banner" ng-show="current_org.employee_list.length>0">\n                                直属员工\n                                <div class="select-all" ng-hide="single_select" ng-click="select_all()">全选</div>\n                            </div>\n                            <div class="org-person-list list-person">\n                                <div class="list-person-item tg" ng-repeat="_e in current_org.employee_list"\n                                     ng-click="select(_e)">\n                                    <div class="icon">\n                                        <img ng-src="{{_e.photo|hcPhoto:46}}">\n                                    </div>\n                                    <div class="content">\n                                        <div class="name">{{_e.name}}</div>\n                                        <div class="position">{{_e.department}}-{{_e.job_title}}</div>\n                                    </div>\n                                    <div class="select-oper"\n                                         ng-class="{\'blue icon-check-circle-2\':selected_id.indexOf(_e.id)>-1,\'gray icon-check-circle-2\':pre_selected_id.indexOf(_e.id)>-1}"></div>\n                                </div>\n                            </div>\n                            <div class="list-banner" ng-show="current_org.child_list.length>0">下级部门</div>\n                            <div class="org-child-list">\n                                <div class="org-child tg" ng-repeat="_p in current_org.child_list"\n                                     ng-click="show_depart(_p.id)">\n                                    <div class="content">{{_p.name}}</div>\n                                    <div class="icon-hcm-arrow-right tag"></div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class="group-selector"\n                     ng-show="is_group_select&& search_key==\'\'">\n                    <div>\n                        <div class="group-selector-item company tg" ng-click="group_select({id:\'\',name:\'公司大厅\'})"\n                             ng-show="public_open">\n                            <div class="group-photo company">\n                                <div class="icon-house-2-1"></div>\n                            </div>\n\n                            <div class="content">\n                                公司大厅\n                            </div>\n                            <div class="select-oper blue icon-check-circle-2" ng-show="selected_group.id==\'\'"></div>\n                        </div>\n                        <div ng-repeat="_c in group_data" class="group-selector-item tg"\n                             ng-click="group_select(_c)">\n                            <div class="group-photo">\n                                <img ng-repeat="_p in _c.members_photo track by $index" ng-src="{{_p|hcPhoto:46}}">\n                            </div>\n                            <div class="content">\n                                {{_c.name}}\n                            </div>\n                            <div class="select-oper blue icon-check-circle-2" ng-show="selected_group.id==_c.id"></div>\n                        </div>\n                    </div>\n                </div>\n                <div class="search-result list-person" ng-show="search_key!=\'\'">\n                    <div>\n                        <div ng-hide="is_group_select">\n                            <div class="list-person-item tg" ng-repeat="_e in search_result.list"\n                                 ng-click="select(_e)">\n                                <div class="icon">\n                                    <img ng-src="{{_e.photo|hcPhoto:64}}">\n                                </div>\n\n                                <div class="content">\n                                    <div class="name">{{_e.name}}</div>\n                                    <div class="position">{{_e.department}}-{{_e.job_title}}</div>\n                                </div>\n                                <div class="select-oper"\n                                     ng-class="{\'blue icon-check-circle-2\':selected_id.indexOf(_e.id)>-1,\'gray icon-check-circle-2\':pre_selected_id.indexOf(_e.id)>-1}"></div>\n                            </div>\n                            <list-next list-controller="search_result"></list-next>\n                        </div>\n                        <div ng-show="is_group_select">\n                            <div ng-repeat="_c in group_search_data.list" class="group-selector-item tg"\n                                 ng-click="group_select(_c)">\n                                <div class="group-photo">\n                                    <img ng-repeat="_p in _c.members_photo track by $index" ng-src="{{_p|hcPhoto:46}}">\n                                </div>\n                                <div class="content">\n                                    {{_c.name}}\n                                    <span class="desc"></span>\n                                </div>\n                                <div class="select-oper blue icon-check-circle-2"\n                                     ng-show="selected_group.id==_c.id"></div>\n                            </div>\n                            <list-next list-controller="group_search_data"></list-next>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <div class="search-content" i-scroll="search_content" ng-if="client==\'mobile\'">\n            <div>\n                <div class="search-home"\n                     ng-hide="is_org_show||is_group_select||search_key!=\'\'">\n                    <div>\n                        <div class="list-search-area">\n                            <div ng-repeat="_p in plugin" class="list-search-item  tg" ng-click="exec_plugin(_p)">\n                                <div class="icon circle-icon">\n                                    <div class="{{_p.icon}}"></div>\n                                </div>\n                                <div class="content">\n                                    <div class="name">{{_p.title}}</div>\n                                    <div class="desc">{{_p.desc}}</div>\n                                </div>\n                                <div class="icon-hcm-arrow-right tag"></div>\n                            </div>\n                            <div class="list-search-item tg" ng-repeat="item in top_org"\n                                 ng-click="show_depart(item.id)">\n                                <div class="icon">\n                                    <div class="icon-organizational"></div>\n                                </div>\n                                <div class="content">\n                                    <div class="name">{{item.name}}</div>\n                                    <div class="desc">组织架构</div>\n                                </div>\n                                <div class="icon-hcm-arrow-right tag"></div>\n                            </div>\n                            <div class="list-search-item tg" ng-click="show_depart(my_org.id)" ng-show="my_org!=null">\n                                <div class="icon">\n                                    <div class="icon-organizational"></div>\n                                </div>\n                                <div class="content">\n                                    <div class="name">{{my_org.name}}</div>\n                                    <div class="desc">我的部门</div>\n                                </div>\n                                <div class="icon-hcm-arrow-right tag"></div>\n                            </div>\n                        </div>\n                        <div class="list-banner">常用联系人</div>\n                        <div class="list-person">\n                            <div class="list-person-item tg" ng-repeat="_e in search_history track by $index"\n                                 ng-click="select(_e)">\n                                <div class="icon">\n                                    <img ng-src="{{_e.photo|hcPhoto:46}}">\n                                </div>\n                                <div class="content">\n                                    <div class="name">{{_e.name}}</div>\n                                    <div class="position">{{_e.department}}-{{_e.job_title}}</div>\n                                </div>\n                                <div class="select-oper"\n                                     ng-class="{\'blue icon-hcm-right-circle\':selected_id.indexOf(_e.id)>-1,\'gray icon-hcm-right-circle\':pre_selected_id.indexOf(_e.id)>-1}"></div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class="search-org" ng-show="is_org_show&& search_key==\'\'">\n                    <div>\n                        <div class="org-bread">\n                            <div>\n                                <span class="org-bread-item tg" ng-click="show_home()">最近</span>\n                                <span ng-repeat="_t in org_bread"\n                                      ng-click="show_depart(_t.id)">\n                            <span class="org-bread-tag icon-hcm-arrow-right"></span>\n                            <span class="org-bread-item tg">{{_t.name}}</span>\n                        </span>\n                            </div>\n                        </div>\n                        <div ng-show="is_org_loading && !current_org.id" class="next">加载中...</div>\n                        <div ng-hide="is_org_loading">\n                            <div class="list-banner" ng-show="current_org.employee_list.length>0">\n                                直属员工\n                                <div class="select-all" ng-hide="single_select" ng-click="select_all()">全选</div>\n                            </div>\n                            <div class="org-person-list list-person">\n                                <div class="list-person-item tg" ng-repeat="_e in current_org.employee_list"\n                                     ng-click="select(_e)">\n                                    <div class="icon">\n                                        <img ng-src="{{_e.photo|hcPhoto:46}}">\n                                    </div>\n                                    <div class="content">\n                                        <div class="name">{{_e.name}}</div>\n                                        <div class="position">{{_e.department}}-{{_e.job_title}}</div>\n                                    </div>\n                                    <div class="select-oper"\n                                         ng-class="{\'blue icon-hcm-right-circle\':selected_id.indexOf(_e.id)>-1,\'gray icon-hcm-right-circle\':pre_selected_id.indexOf(_e.id)>-1}"></div>\n                                </div>\n                            </div>\n                            <div class="list-banner" ng-show="current_org.child_list.length>0">下级部门</div>\n                            <div class="org-child-list">\n                                <div class="org-child tg" ng-repeat="_p in current_org.child_list"\n                                     ng-click="show_depart(_p.id)">\n                                    <div class="content">{{_p.name}}</div>\n                                    <div class="icon-hcm-arrow-right tag"></div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class="group-selector"\n                     ng-show="is_group_select&& search_key==\'\'">\n                    <div>\n                        <div class="group-selector-item company tg" ng-click="group_select({id:\'\',name:\'公司大厅\'})"\n                             ng-show="public_open">\n                            <div class="group-photo company">\n                                <div class="icon-homepage"></div>\n                            </div>\n\n                            <div class="content">\n                                公司大厅\n                            </div>\n                            <div class="select-oper blue icon-hcm-right-circle" ng-show="selected_group.id==\'\'"></div>\n                        </div>\n                        <div ng-repeat="_c in group_data" class="group-selector-item tg"\n                             ng-click="group_select(_c)">\n                            <div class="group-photo">\n                                <img ng-repeat="_p in _c.members_photo track by $index" ng-src="{{_p|hcPhoto:46}}">\n                            </div>\n                            <div class="content">\n                                {{_c.name}}\n                            </div>\n                            <div class="select-oper blue icon-hcm-right-circle"\n                                 ng-show="selected_group.id==_c.id"></div>\n                        </div>\n                    </div>\n                </div>\n                <div class="search-result list-person" ng-show="search_key!=\'\'">\n                    <div>\n                        <div ng-hide="is_group_select">\n                            <div class="list-person-item tg" ng-repeat="_e in search_result.list"\n                                 ng-click="select(_e)">\n                                <div class="icon">\n                                    <img ng-src="{{_e.photo|hcPhoto:64}}">\n                                </div>\n\n                                <div class="content">\n                                    <div class="name">{{_e.name}}</div>\n                                    <div class="position">{{_e.department}}-{{_e.job_title}}</div>\n                                </div>\n                                <div class="select-oper"\n                                     ng-class="{\'blue icon-hcm-right-circle\':selected_id.indexOf(_e.id)>-1,\'gray icon-hcm-right-circle\':pre_selected_id.indexOf(_e.id)>-1}"></div>\n                            </div>\n                            <list-next list-controller="search_result"></list-next>\n                        </div>\n                        <div ng-show="is_group_select">\n                            <div ng-repeat="_c in group_search_data.list" class="group-selector-item tg"\n                                 ng-click="group_select(_c)">\n                                <div class="group-photo">\n                                    <img ng-repeat="_p in _c.members_photo track by $index" ng-src="{{_p|hcPhoto:46}}">\n                                </div>\n                                <div class="content">\n                                    {{_c.name}}\n                                    <span class="desc"></span>\n                                </div>\n                                <div class="select-oper blue icon-hcm-right-circle"\n                                     ng-show="selected_group.id==_c.id"></div>\n                            </div>\n                            <list-next list-controller="group_search_data"></list-next>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class="selected-area" ng-show="selected.length>0&&!single_select">\n            <div ng-repeat="_selected in selected" ng-click="un_select(_selected)">\n                <img ng-src="{{_selected.photo|hcPhoto:40}}">\n            </div>\n        </div>\n        <bottom-menu menu="bottom_menu"></bottom-menu>\n    </div>\n</div>'},l6uO:function(e,t){e.exports='<div class="portal-plugin-item-set message-set" ng-init="initScheme()">\n    <div class="choose-scheme">\n        <div class="scheme-step">\n            <div class="step-content">\n                <div class="line"></div>\n                <div class="step" ng-repeat="item in scheme_step track by $index"\n                     ng-class="{active:($index+1<=current_scheme_step)}">\n                    <div class="icon">{{$index+1}}</div>\n                    <div>{{item.label}}</div>\n                </div>\n            </div>\n        </div>\n        <div class="scheme-content">\n            <div class="first-step choose-plugin flexbox" ng-if="current_scheme_step===1">\n                <div ng-repeat="item in plugin.children" ng-click="choose_plugin(item)">\n                    {{item.label}}\n                </div>\n            </div>\n            <div class="second-step" ng-if="current_scheme_step===2">\n                <div class="setting">\n                    <hc-form model="scheme_form"></hc-form>\n                </div>\n                <div class="preview">\n                    <home-widget-message model="add_plugin_config"></home-widget-message>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n'},lIYI:function(e,t){e.exports='<div ng-if="$ctrl.searchKey && $ctrl.app_list.length">\n    <widget-header\n        name="功能应用"\n        result-count="$ctrl.total"\n        on-hide-search="$ctrl.onHideSearch()"\n        show-all-model="{state: \'search_result\', params: {index: $ctrl.searchKey, group:\'app\'}}"\n    ></widget-header>\n    <widget-item\n            ng-repeat="app in $ctrl.app_list"\n            search-data="app"\n            search-key="$ctrl.searchKey"\n            icon="app.icon"\n            on-hide-search="$ctrl.click(app)"\n            forward-model="{state: app.state, params: app.param}"\n    ></widget-item>\n</div>\n'},lPa1:function(e,t){e.exports='<div class="home-widget">\n    <div class="home-widget-header flexbox">\n        <div class="menu">\n            \x3c!-- <div class="icon-hcm-calendar"\n                 ng-class="{selected:true}">\n                {{"日历"}}\n            </div> --\x3e\n            \x3c!--<div class="refresh icon-hcm-refresh" ng-click="refreshData()"></div>--\x3e\n            <div class="select-calendar-category">\n                <select ng-change="$ctrl.changeCategory()"\n                        ng-model="$ctrl.calendar_category"\n                        ng-options="_c.id as _c.label for _c in $ctrl.calendarCategories">\n                    \x3c!-- <option ng-repeat="_c in $ctrl.calendarCategories track by $index"\n                            value="_c.key"\n                        >{{_c.label}}</option> --\x3e\n                </select>\n            </div><div class="icon icon-hcm-info-normal" ng-if="$ctrl.calendar_category===\'attend\' && $ctrl.show_tip"\n            hc-title="{{$ctrl.statisticInfo}}" options="{mode: \'tip\', seconds: 0}"></div>\n        </div>\n        <div class="calendar-header">\n            <div class="btn left icon-hcm-arrow-left-double" ng-click="$ctrl.calendarMinus(\'y\')"></div>\n            <div class="btn left icon-hcm-arrow-left" ng-click="$ctrl.calendarMinus(\'m\')"></div>\n            <div class="text">{{$ctrl.calendar_year}}年{{$ctrl.calendar_month}}月</div>\n            <div class="btn right icon-hcm-arrow-right" ng-click="$ctrl.calendarPlus(\'m\')"></div>\n            <div class="btn right icon-hcm-arrow-right-double" ng-click="$ctrl.calendarPlus(\'y\')"></div>\n        </div>\n    </div>\n    <div class="home-widget-content">\n        <table class="calendar-content">\n            <tr class="weekday">\n                <th ng-repeat="_w in $ctrl.weeks track by $index">\n                    <div class=\'week-item\'>\n                        {{_w}}\n                    </div>\n                </th>\n            </tr>\n            <tr ng-repeat="_c in $ctrl.calendar_data">\n                <td ng-repeat="_d in _c track by $index">\n                    <div ng-if="_d" ng-click="$ctrl.selectDate(_d.date)" class="calendar-item"\n                         ng-class="{current_date:_d.date==$ctrl.current_date,selected_date:_d.date==$ctrl.selected_date}">\n                        <div class="day">{{_d.label}}\n                        </div>\n                        <div class="desc" ng-class="{\'is_important\':_d.high_light}"\n                             ng-if="$ctrl.calendar_category===\'moon\'">{{_d.lunar_date}}</div>\n                        <div class="sche {{$ctrl.month_calendar_data[_d.date]|timeAttendItemClass:[]}}"\n                             ng-if="$ctrl.calendar_category===\'attend\'">\n                            {{$ctrl.month_calendar_data[_d.date]|timeAttendItem}}\n                        </div>\n                    </div>\n                </td>\n            </tr>\n        </table>\n    </div>\n</div>\n'},m5Re:function(e){e.exports=JSON.parse('{"tip":"","fields":[{"key":"data","label":"数据定义","component":"hc-input-mask","options":{"tip":"在此处定义图形需要使用的数据源","singleLine":true,"width":"col-12","placeholder":"请输入标识","required":false}},{"key":"drill","label":"穿透定义","component":"hc-input-script","options":{"singleLine":true,"mode":"json","width":"col-12","placeholder":"请输入穿透定义","required":false}},{"key":"countTitle","label":"统计标题","component":"hc-input","options":{"singleLine":true,"width":"col-12","placeholder":"请输入","required":false}},{"key":"formula","label":"取数公式","component":"hc-input-compute","options":{"singleLine":true,"width":"col-12","placeholder":"请输入取数公式","required":false,"need_check":false,"returnFormat":"content","formula_type":"only_formula","tip":"根据数据源的key获取计算结果并进行二次处理，可不填。eg:LIST_MAX(main, \'master_id\')"}},{"key":"getCountKey","label":"取数字段","component":"hc-input","options":{"singleLine":true,"width":"col-12","placeholder":"请输入","required":false,"tip":"对返回结果进行取值 \\n1. 返回结果为列表时取第一条数据对应该字段的值，\\n2. 返回结果为字典时直接取该字段的值，\\n3. 不填该字段则直接取返回结果 \\n（这里的返回结果指取数公式处理后的结果，没有取数公式的话则为数据源返回的第一条数据）"}},{"key":"require","label":"刷新依赖","component":"hc-input-script","options":{"singleLine":true,"mode":"json","width":"col-12","placeholder":"请输入过滤条件","required":false}}]}')},nCIt:function(e,t,n){e.exports=n.p+"resources/images/4d37f0528c81ffdb6a00e276ee70d187.png"},nI6X:function(e,t,n){"use strict";n.r(t);n("pNMO"),n("4Brf");var i=n("FLGM"),a=n.n(i),o=n("+hqv"),s=(n("srGB"),n("1hbj"));n("opRW");n("tB8/").controller("searchEmpList",["$controller","$scope","BaseCRUDService","$timeout","$rootScope","$state","contextService","$filter","empHistoryService","SpecialistSearchService",function(e,t,n,i,c,r,l,_,d,p){var u=n.getModelService("JobInformation");e(o.a,{$scope:t,CRUDService:u,InfoDialog:Object(s.a)("JobInformation","search")}),t.initAfter=function(){t.model_meta&&t.model_meta.advance_query&&(t.model_meta.advance_query.close=!0),t.list_model.$setRowSelector(0),t.model_meta.description="关于"+r.params.index+"的搜索结果",$(".list-content").get(0).style.height=$(window).height()-106+"px"},t.defaultAction=function(e){if("mobile"===t.client){var n=p.getPathList(e,t.model_meta);d().pushHistory(n)}c.super_go("emp",{id:e.employee_id})},t.getMetaState=function(){return"search"},t.getFilterDict=function(){var e,t=_("dateFormat")(new Date,"yyyy-MM-dd"),n={begin_date:{lte:t},end_date:{gt:t},"employee.search_string":{like:r.params.index}},i=l.getContext("auth").company_setting.EMP_SEARCH_NEED_CHARGE,o=a()(e=l.getContext("auth").manager_departs).call(e,(function(e){return e.id}));return"1"==i&&(n["department.origin_id"]={child_include:o}),n},t.message_to=function(e){t.$emit("article-new",{to_employee:e.employee_id,callback:function(e){c.super_go("feed",{biz_id:e.feed.biz_id})}})}}])},njAX:function(e,t,n){"use strict";var i=n("o+MX"),a=n.n(i),o=n("ZbhI"),s=n.n(o),c=n("KYsz"),r=n.n(c),l=n("5Imb"),_=n.n(l),d=n("ESYO"),p=n.n(d),u=n("4Tcp"),m=n.n(u),g=n("SQzl"),h=n.n(g);n("j0Sh");window.app.controller("checkBrowserDialogController",["$scope",function(e){var t=[{key:"chrome",src:_.a,name:"Chrome",version:"v56.0以上"},{key:"edge",src:p.a,name:"Edge",version:"v79.0以上"},{key:"ie",src:m.a,name:"IE",version:"v10.0以上"},{key:"chrome",src:h.a,name:"360极速",version:"v12.0以上"}];e.init=function(){e.setDialogOperates(),e.browsers=r()(t).call(t,(function(t,n,i){var o;return~s()(o=e.params.unsupportedBrowser).call(o,n.key)?t:a()(t).call(t,[n])}),[]),localStorage.setItem("checkBrowser","true")},e.setDialogOperates=function(){e.$dialog.operates([{label:"好的我知道了",func:e.$dialog.dialog_close,default:!0}])}}]),t.a={controller:"checkBrowserDialogController",title:"温馨提示",template:' <div class="browser-dialog" ng-init="init()" >\n                    <div class="dialog-title">\n                        <span>推荐使用下列浏览器</span>\n                    </div>\n                    <div class="icon-wrapper">\n                        <div ng-repeat="browser in browsers" class="browser-item">\n                            <img ng-src= "{{browser.src}}" class="icon">\n                            <span class="browser-name">{{browser.name}}</span>\n                            <span class="browser-version">{{browser.version}}</span>\n                        </div>\n                    </div>     \n                    <div class="dialog-text">\n                        <span>您好，您当前的浏览器内核版本较低，请尽快升级避免影响正常体验</span>\n                    </div>\n                </div> ',width:"680",height:"398"}},ohwz:function(e,t,n){e.exports=n.p+"resources/images/65df08527f2dbfb993161812409033bd.png"},p4uW:function(e,t,n){"use strict";var i=n("OBge"),a=n.n(i),o=n("mrSG"),s=n("v8m2"),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.d)(t,e),t.prototype.getMeta=function(){return Object(o.c)(this,void 0,a.a,(function(){return Object(o.e)(this,(function(e){return this,[2,s.fields]}))}))},t}(n("VxaH").a);t.a=c},pMRX:function(e,t){e.exports='<div class="pc-main-nav" ng-init="init()">\n    <div class="nav-body hcm-nav-content pc-main-menu" ng-class="{\'open-menu\': openMenu}">\n        <div class="category-list hcm-nav" ng-class="{\n                 \'collapse-menu\':!expand,\n                 \'expand-menu\':expand,\n                 \'multi-view-height\':multi_view_config.position===\'top\',\n                 \'full-height\':multi_view_config.position!==\'top\'\n             }">\n            <hc-tabs\n                value="initValue"\n                class="tabs"\n                on-value-change="tabsValueChange"\n                >\n                <hc-tab-pane\n                    ng-repeat="category in category_list track by $index"\n                    label="category.name"\n                    name="category.name"\n                    hide-count=true\n                    is-selected-animate-style=true\n                ></hc-tab-pane>\n            </hc-tabs>\n        </div>\n\n        <div class="category-content">\n            <div class="menu-classify-item"\n                ng-repeat="classify in currentMenuTab.classify_list track by $index">\n                <div class="classify-header" ng-if="classify.name && classify.applications.length">{{classify.name}}\n                </div>\n                <div class="classify-body">\n                    <div class="classify-body-item-container" ng-repeat="app in classify.applications track by $index" >\n                        <a class="classify-body-item" \n                            ng-click="close($event, app)"\n                            ng-attr-target="{{is_open_new_page||app.open_new_page?\'_blank\':\'\'}}"\n                            ng-href="{{app.href}}">\n                            <hc-icon app="app" options="\'icon-left\'"></hc-icon>\n                            <span class="label" hcm-key="{{app.id}}" \n                                hc-title="{{app_title_description ? app.description : app.name}}"\n                                options="{mode: \'tip\', showOnOverflow: !app_title_description, \'onOverflowY\': true, tipStyle: {\'max-width\':\'200px\',\'word-wrap\':\'break-word\'}}"\n                            >\n                                {{app.name}}\n                            </span>\n                            <span class="collect" ng-click="setFavoriteApp(app, appIsFavorite(app), $event)"\n                                ng-class="appIsFavorite(app) ? \'icon-hcm-evaluation-solid\' : \'icon-hcm-evaluation\'"></span>                \n                        </a>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class="close" ng-click="close($event)">\n            <span>关闭</span>\n            <span class="icon-hcm-delete"></span>\n        </div>\n    </div>\n    <div class="mask" ng-show="openMenu" ng-click="close($event)"></div>\n</div>'},pt87:function(e,t,n){"use strict";n("sMBO");var i=n("ZbhI"),a=n.n(i),o=n("UtpJ"),s=n.n(o),c=n("RXMP"),r=n.n(c),l=n("M5Mt"),_=n.n(l),d=n("0vOt");d.a.factory("$hcDialog1",["$timeout","$state","$q","$http","$templateCache","$compile","$rootScope","$controller","$animate","$ocLazyLoad",function(e,t,n,i,o,c,l,d,p,u){var m=[];return{getDialog:function(t){return{options:t,name:function(e){return this.options.name=e,this},params:function(e){return this.options.params=e,this},show:function(t){return function(t,i){var a=n.defer(),o=l.$new();o.$dialog=t,o.params=i||t.options.params||{};var s={};return t.options.templateProvider?s.$template=t.options.templateProvider().then((function(e){return e})):s.$template=n.when(t.options.template),n.all(s).then((function(n){var i='<hc-dialog ng-show="$dialog.isActive"></hc-dialog>';if(i=$(i).html(n.$template),t.options.element=i,o.$dialog.dialog_close=function(){t.isActive=!1;for(var n=m.length;n--;n>=0)m[n].options.element===r&&_()(m).call(m,n,1);e((function(){r.remove()}),320)},o.$dialog.resolve_data=function(e){a.resolve(e)},o.$dialog.reject_data=function(e){a.reject(e)},o.$dialog.notify_data=function(e){a.notify(e)},t.options.controller){var s=d(t.options.controller,{$scope:o},!0)();i.data("$ngControllerController",s)}o.$dialog.scope=o;var r=c(i)(o),l=$(document.body);l.addClass("hc-dialog-show"),l.append(r),t.isActive=!0,m.push(t),o.loaded&&o.loaded(r)})),a.promise}(this,t)}}},closeAll:function(){r()(angular).call(angular,s()(m).call(m,0),(function(e){e.dialog_close()}))},closeTarget:function(e){r()(angular).call(angular,s()(m).call(m,0),(function(t){~a()(e).call(e,t.options.name)&&t.dialog_close()}))}}}]),d.a.factory("frameworkSelectorService",["$hcDialog1",function(e){return{newArticle:function(t){return e.getDialog({controller:"newArticleItemCtrl",template:n("Tp/3")}).params(t).show()}}}])},qg9n:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJAAAACQCAYAAADnRuK4AAAACXBIWXMAAEJwAABCcAFu8l9tAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAedSURBVHgB7d1bbhNXHMfx/zkOKqFUdaVWqqpKdd4qcIWRgER9YZIuAFgBYQVJV5BkBSErAFYA3UAyPJVLJYwUUN/iPLQvPNSVSFKV+Jz+z4Qhl5LEl3O1fx8pFaJWxh5/58zMmTEmAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADPBEEQ9StZpkk2hKRq8RdK5eu/5TklBgF5ZsIhKZZJiMbR/8dvRktrur/+bHWJEoGAPPphcmZZE82f/kjR3BWdW78/yVsUOQTkCcdzj+OZ7fbxZjR6J9R07BEhIA96jaeUQkQIyLF+4ynFHhECcmjQeEoxR4SAHLEVTynWiBCQA7bjKcUYEQKyzFU8pdgiQkAWuY6nFFNECMgSX/GUYokIAVngO55SDBEhoAGFiqdkIqqMq8vNPG9TAJKgb6HjMXj5td0d8ZACqRD0JYZ49onal99MbL75c6NJnmEE6kNc8eyRUt+mAHAM1KMY4ymNjasvfB8LYQTqQczxGP9uUY08Q0Bdij0eQ+r3t8f6XCbBqVKIxxg7TziIjk0q8WjSrRBzQQjoBKnEY2ihg9yIj7OwYyQVD48+r56uTVAAGIE+IrV4OkJPUyAYgY5IMR5cTI0E4ukdAnoP8fQHARHiGcTIB4R4BjPSASGewY1sQIjHjpEMCPHYM3IBIR67RiogxGPfyASEeNwYiYAQjztDHxDicWuoA0I87g1tQIjHj6EMCPH4M3QBIR6/hiogxOPf0ASEeMIYioAQTzjJB4R4wko6IMQTXrIBIZ44JBkQ4olHcgEhnrgkFRDiiU8yASGeOCUREOKJV/QBIZ64RR0Q4olftAEhnjREGRDiSUd0ASGetEQVEOJJTzQBIZ40RREQ4klX8IAQT9qCBoR40hcsIMQzHIIEhHiGh/eARjmeWpZVP9uSN5WkS7zia7yE6t5yRJM6tKmFyl8/z71/YcogvAbE8SxzPPOUAJvx1K9kGVXEAq/u7LTHmi/R7ShaUhWV4593OaA+NbPA78oiJcBWPMWIsyMX+tloypBeP1+9TxHzEtDeFijXKAG24vl+Kqud0XJNF7uqAZ6Poruvnq/+TJFy/q3NZkVWhDRfS+392/R6ZSueC1ezxhjJX7Wgr2lAQtDUV99O1N78sfELRcj5t/XwVjg36Fbog82RpyLlQ47H2gbDu4nZi5MzUR47Ot2FmZU5puUGRc7mATOfKGw42mDau0Jdju3A2ukIVNFygSJn9WyLTxQcjrZV3hijG4WcjUD1KT5w1nEfONuMx9ZB8ynaY+NqIsR3ox7H2QiktbxNEbM9Scij7U0Px3rV3bfUoIg4CchsjSLi2WYXlyd4Rc6RB7oihz8gPoWdpUi5iOfCj1nD15mm0HFNhzgJiF9klLsvVxdGRYcyGlHWAzK7rxjnfVxeVRckr5MnHVJRXWwdI8vOqEpD8xAUE/e3ZIiqWYoPvGpbvTy+vAPA/Pmdgwu01kcgjiejiAzT/TzmtfRyu0d9Mps7vyP/0pLumR8zqXvx6swyWeTgGEhcokgM381gIu/2kSYefnvv/u83SJq3eVnEfkBaR3Ga6Tce7WViryPUUjePMxdzPxZPyeaUg9WAzOksifCnmQFGnk1yTdNSN6/HxFMR/q4A2B2B3oWf5Aqy2xLqETlkXtP6s9XF0x5ndltSyhen3Qmgtb0R02pAUoadZg91zLP+JM954U52Y+VrOukx5kyrfm3m4Um7rYOU1CtkieXTeHMAHeYUPvgBs6QVfhJW7z447TWZcM5vyzmxTfNd33+k6dHrp/l9ssRyQGFO4UPEY968c1tUq5BsmE9Z8PxFZnPjOe41FdHwBVW+JnZDbtOsCafbpfLvbG6d03fIImu3c4S6fcN1PAdD4Terxj/f8X4/cz3brohW5Pvdolkmv1FV/un7mlsRz7ieblm+FcTaCKQ1Nfx/SlHnvFJudbNSyhDkgYuRQlaq/MT3Ppu1F8fnVLxRuiZI1HitV/UOP17ujy3mNfrYSRen2mJ/mcVzpP64isewuAuT/iYQecvkN3vp1dO1rg4azdmJ2JaLPBtbPfxr9KExWBz4kz78Fylb4XgWW45uQrMWkNCiQV6ugel8V+o73e6yyhlZPRwxdO/DRrba1UbWL3sBCV11m4/OOdCl4pS5B3ylfD6uS7s+9LaRDcLeMRCJFv+3Rtb1F45R3FqiQ99aonNF4iXvFG8Ux1WOl9XvuuqXtYCU0A/4ADUjK8yKEI/fnlV3B9l3n/2H2rufkD97Z005HwG/5DWSvz1LzQPPf96cqWolZnlYvG4tJl6mEvRA8my4z3BKVo8M6temX/Ab39NstPkMuDIrndRLrSjf/pRaNg/46pM/rbmYnzLPm0e3Jr95mxVFzV7vtSkueJr7m/nsVZoJWHMRuovJwHK5WqjHQlAzRDRHno89xacylVgUQtw+ZmEfYjEv/sgW6kTxnLRY62eL33uzNB+MiiYfR/1tQjF3BNqO/KDiw5hH5npUh0eZCrVjvC3FyblJMamoZGYmwHzGcpILUzOzfJL44dZTE8T+RJ1qSyXbfFG03dEceaRvFgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA+w+LuVxEi+m0mQAAAABJRU5ErkJggg=="},ro7U:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var core_js_modules_es_symbol__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("pNMO"),core_js_modules_es_symbol__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_symbol__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es_symbol_description__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("4Brf"),core_js_modules_es_symbol_description__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_symbol_description__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es_array_join__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("oVuX"),core_js_modules_es_array_join__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_array_join__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("sMBO"),core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("07d7"),core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_es_regexp_exec__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("rB9j"),core_js_modules_es_regexp_exec__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es_regexp_exec__WEBPACK_IMPORTED_MODULE_5__),core_js_modules_es_regexp_to_string__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("JfAA"),core_js_modules_es_regexp_to_string__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_es_regexp_to_string__WEBPACK_IMPORTED_MODULE_6__),core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("UxlC"),core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_7__),core_js_modules_es_string_search__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("hByQ"),core_js_modules_es_string_search__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(core_js_modules_es_string_search__WEBPACK_IMPORTED_MODULE_8__),core_js_modules_es_string_split__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("EnZy"),core_js_modules_es_string_split__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(core_js_modules_es_string_split__WEBPACK_IMPORTED_MODULE_9__),_babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("LYCE"),_babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_10__),_babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("HnXd"),_babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_11__),_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("qjzJ"),_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_12__),_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("fHi0"),_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_13__),_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("OWCx"),_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_14__),_babel_runtime_corejs3_core_js_stable_parse_int__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("lHQ6"),_babel_runtime_corejs3_core_js_stable_parse_int__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_parse_int__WEBPACK_IMPORTED_MODULE_15__),_babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("Kwsy"),_babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_16___default=__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_16__),_babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("ZbhI"),_babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_17___default=__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_17__),_babel_runtime_corejs3_helpers_typeof__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("nhkr"),_babel_runtime_corejs3_helpers_typeof__WEBPACK_IMPORTED_MODULE_18___default=__webpack_require__.n(_babel_runtime_corejs3_helpers_typeof__WEBPACK_IMPORTED_MODULE_18__),_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("04Ix"),_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_19___default=__webpack_require__.n(_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_19__),_babel_runtime_corejs3_core_js_stable_instance_reverse__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("3xDC"),_babel_runtime_corejs3_core_js_stable_instance_reverse__WEBPACK_IMPORTED_MODULE_20___default=__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_reverse__WEBPACK_IMPORTED_MODULE_20__),_babel_runtime_corejs3_core_js_stable_array_from__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("0lTi"),_babel_runtime_corejs3_core_js_stable_array_from__WEBPACK_IMPORTED_MODULE_21___default=__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_array_from__WEBPACK_IMPORTED_MODULE_21__),_babel_runtime_corejs3_core_js_stable_set_interval__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__("IeeE"),_babel_runtime_corejs3_core_js_stable_set_interval__WEBPACK_IMPORTED_MODULE_22___default=__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_set_interval__WEBPACK_IMPORTED_MODULE_22__),_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__("o+MX"),_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_23___default=__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_23__),_babel_runtime_corejs3_core_js_stable_instance_sort__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__("guyh"),_babel_runtime_corejs3_core_js_stable_instance_sort__WEBPACK_IMPORTED_MODULE_24___default=__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_sort__WEBPACK_IMPORTED_MODULE_24__),_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__("5PDf"),_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_25___default=__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_25__),_babel_runtime_corejs3_regenerator__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__("a0dU"),_babel_runtime_corejs3_regenerator__WEBPACK_IMPORTED_MODULE_26___default=__webpack_require__.n(_babel_runtime_corejs3_regenerator__WEBPACK_IMPORTED_MODULE_26__),_babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__("M5Mt"),_babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_27___default=__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_27__),_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__("RXMP"),_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_28___default=__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_28__),_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__("FLGM"),_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_29___default=__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_29__),_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__("+oHS"),_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_30___default=__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_30__),_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_31__=__webpack_require__("mnMc"),_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_31___default=__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_31__),regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_32__=__webpack_require__("ls82"),regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_32___default=__webpack_require__.n(regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_32__),_babel_runtime_corejs3_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_33__=__webpack_require__("SPx3"),_babel_runtime_corejs3_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_33___default=__webpack_require__.n(_babel_runtime_corejs3_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_33__),_main_pc_html__WEBPACK_IMPORTED_MODULE_34__=__webpack_require__("9qd1"),_main_pc_html__WEBPACK_IMPORTED_MODULE_34___default=__webpack_require__.n(_main_pc_html__WEBPACK_IMPORTED_MODULE_34__),_main_pc_scss__WEBPACK_IMPORTED_MODULE_35__=__webpack_require__("azoG"),_main_pc_scss__WEBPACK_IMPORTED_MODULE_35___default=__webpack_require__.n(_main_pc_scss__WEBPACK_IMPORTED_MODULE_35__),_feedback_feedback_user_info_controller__WEBPACK_IMPORTED_MODULE_36__=__webpack_require__("JWgx"),_common_framework_base_base_list_controller__WEBPACK_IMPORTED_MODULE_37__=__webpack_require__("+hqv"),_common_utils_super_json__WEBPACK_IMPORTED_MODULE_38__=__webpack_require__("8Auy"),_base_search_search_widget_search_widget_directive__WEBPACK_IMPORTED_MODULE_39__=__webpack_require__("F8aG"),_base_search_specialist_search_specialist_search_component__WEBPACK_IMPORTED_MODULE_40__=__webpack_require__("HNFB"),_base_search_specialist_search_specialist_search_service__WEBPACK_IMPORTED_MODULE_41__=__webpack_require__("Utim"),_hcm_common_menu_controller__WEBPACK_IMPORTED_MODULE_42__=__webpack_require__("PaGH"),_hcm_breadcrumb_controller__WEBPACK_IMPORTED_MODULE_43__=__webpack_require__("KcY4"),_hcm_navigation_controller__WEBPACK_IMPORTED_MODULE_44__=__webpack_require__("sPAL"),_browserDialog_controller__WEBPACK_IMPORTED_MODULE_45__=__webpack_require__("njAX"),_common_utils_compatibility__WEBPACK_IMPORTED_MODULE_46__=__webpack_require__("j5MU"),_app__WEBPACK_IMPORTED_MODULE_47__=__webpack_require__("0vOt"),_base_index_showMessage_showMessage__WEBPACK_IMPORTED_MODULE_48__=__webpack_require__("vl5y"),_common_framework_model_dialog_controller__WEBPACK_IMPORTED_MODULE_49__=__webpack_require__("1hbj"),_common_framework_base_custom_dialog__WEBPACK_IMPORTED_MODULE_50__=__webpack_require__("mshF");function ownKeys(e,t){var n=_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_30___default()(e);if(_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_14___default.a){var i=_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_14___default()(e);t&&(i=_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_25___default()(i).call(i,(function(t){return _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_13___default()(e,t).enumerable}))),n.push.apply(n,i)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n,i=null!=arguments[t]?arguments[t]:{};if(t%2)_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_28___default()(n=ownKeys(Object(i),!0)).call(n,(function(t){_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_19___default()(e,t,i[t])}));else if(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_12___default.a)_babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_11___default()(e,_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_12___default()(i));else{var a;_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_28___default()(a=ownKeys(Object(i))).call(a,(function(t){_babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_10___default()(e,t,_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_13___default()(i,t))}))}}return e}_app__WEBPACK_IMPORTED_MODULE_47__.a.controller("PCMainCtrl",["AuthService","dataService","$timeout","messageService","circleGroupService","contextService","$scope","$rootScope","$state","$location","$hcDialog","templateService","IndexService","BaseCRUDService","hcAutoCopyService","SpecialistSearchService","MenuStyleService","$http","$filter","commonSelectorService","LanguageService","watermark",function(AuthService,dataService,$timeout,messageService,circleGroupService,contextService,$scope,$rootScope,$state,$location,$hcDialog,templateService,IndexService,BaseCRUDService,hcAutoCopyService,SpecialistSearchService,MenuStyleService,$http,$filter,commonSelectorService,LanguageService,watermark){var _this=this;$scope.init=_babel_runtime_corejs3_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_33___default()(_babel_runtime_corejs3_regenerator__WEBPACK_IMPORTED_MODULE_26___default.a.mark((function _callee3(){var _auth$company_setting,_auth$company_setting2,_auth$company_setting3,_auth$company_setting4,_auth$company_setting5,_context,_auth$company_setting6,_auth$company_setting7,_auth$company_setting8,_auth$company_setting9,_auth$company_setting10,_auth$company_setting11,_auth$company_setting12,_auth$company_setting13,_context2,_auth$company_setting14,_auth$company_setting15,_auth$company_setting16,_auth$company_setting17,_auth$company_setting18,_auth$company_setting19,_auth$company_setting20,_auth$company_setting21,_auth$company_setting22,_auth$company_setting23,_auth$company_setting24,_auth$company_setting25,_$scope$auth2,_$scope$auth2$employe,_auth$company_setting27,_$scope$auth3,_$scope$auth3$company,_$scope$circle_notify,_$scope$auth5,_$scope$auth5$company,_document$querySelect,_document$querySelect2,_document$getElementB,_document$getElementB2,_document$getElementB3,_document$getElementB4,auth,message_result,watermark_txt_name,watermark_txt_cell_phone,isIE;return _babel_runtime_corejs3_regenerator__WEBPACK_IMPORTED_MODULE_26___default.a.wrap((function _callee3$(_context11){for(;;)switch(_context11.prev=_context11.next){case 0:return $scope.side_bar_controller={},$scope.hasSystemManagerAuth=!1,$scope.is_operate_robot_show=[],$rootScope.main_history_state={},auth=contextService.getContext("auth"),$scope.auth=auth,$scope.isSSO=AuthService.isSSO(),$scope.is_onlyoneowner=!!auth&&"onlyoneowner"in auth.roles,$scope.is_hcm_sys_manager=!!auth&&"hcm-sys-manager"in auth.roles,$scope.is_manager=!!$scope.auth&&$scope.auth.is_sys_manager,$scope.circle_close=null===(_auth$company_setting=auth.company_setting)||void 0===_auth$company_setting?void 0:_auth$company_setting.IS_CIRCLE_PAUSE,$scope.circle_name=null===(_auth$company_setting2=auth.company_setting)||void 0===_auth$company_setting2?void 0:_auth$company_setting2.CircleName,$scope.is_remote_url=!(null===(_auth$company_setting3=auth.company_setting)||void 0===_auth$company_setting3?void 0:_auth$company_setting3.close_remote_url)&&!auth.collaborator,$scope.open_pre_emp_enter=null===(_auth$company_setting4=auth.company_setting)||void 0===_auth$company_setting4?void 0:_auth$company_setting4.open_pre_emp_enter,$scope.online_service_open=(null===(_auth$company_setting5=auth.company_setting)||void 0===_auth$company_setting5?void 0:_auth$company_setting5.ONLINE_SERVICE_OPEN)&&_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_31___default()(_context=_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_30___default()(auth.roles)).call(_context,null===(_auth$company_setting6=auth.company_setting)||void 0===_auth$company_setting6?void 0:_auth$company_setting6.ONLINE_SERVICE_ROLE),$scope.hcm_robot_open=null===(_auth$company_setting7=auth.company_setting)||void 0===_auth$company_setting7?void 0:_auth$company_setting7.HCM_ROBOT_OPEN,$scope.third_set_password=null===(_auth$company_setting8=auth.company_setting)||void 0===_auth$company_setting8?void 0:_auth$company_setting8.third_set_password,$scope.hide_immediate_agency=null===(_auth$company_setting9=auth.company_setting)||void 0===_auth$company_setting9?void 0:_auth$company_setting9.hide_immediate_agency,$scope.is_banner_menu=null==auth||null===(_auth$company_setting10=auth.company_setting)||void 0===_auth$company_setting10?void 0:_auth$company_setting10.is_banner_menu,$scope.show_change_company=null==auth||null===(_auth$company_setting11=auth.company_setting)||void 0===_auth$company_setting11?void 0:_auth$company_setting11.show_change_company,$scope.unsupportedBrowser=(null==auth||null===(_auth$company_setting12=auth.company_setting)||void 0===_auth$company_setting12||null===(_auth$company_setting13=_auth$company_setting12.unsupported_browser)||void 0===_auth$company_setting13?void 0:_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_29___default()(_context2=_auth$company_setting13.split(",")).call(_context2,(function(e){return e.toLowerCase()})))||[],$scope.backgroundImg=window.cdn_domain+window.hcm_wengen+"/img?index=".concat(auth.company.top_menu_img)+window.hcm_env_post,$scope.company_list=[],$scope.show_company_list=!1,$scope.show_sub_menu_list=!1,$scope.specialist_search_temp=null,$scope.display_type=$state.params.display_type,$scope.show_portal=null!==(_auth$company_setting14=null===(_auth$company_setting15=auth.company_setting)||void 0===_auth$company_setting15?void 0:_auth$company_setting15.open_portal)&&void 0!==_auth$company_setting14?_auth$company_setting14:null,$scope.pc_main_side_index=null!==(_auth$company_setting16=null===(_auth$company_setting17=auth.company_setting)||void 0===_auth$company_setting17?void 0:_auth$company_setting17.pc_main_side_index)&&void 0!==_auth$company_setting16?_auth$company_setting16:null,$scope.custom_logout_tips=null===(_auth$company_setting18=auth.company_setting)||void 0===_auth$company_setting18?void 0:_auth$company_setting18.custom_logout_tips,$scope.custom_kickout_tips=(null===(_auth$company_setting19=auth.company_setting)||void 0===_auth$company_setting19?void 0:_auth$company_setting19.custom_kickout_tips)||"",$scope.enable_breadcrumb=null==auth||null===(_auth$company_setting20=auth.company_setting)||void 0===_auth$company_setting20?void 0:_auth$company_setting20.enable_breadcrumb,$scope.enable_hcm_navigation=!0,$scope.isWorkbench=null==auth||null===(_auth$company_setting21=auth.company_setting)||void 0===_auth$company_setting21?void 0:_auth$company_setting21.open_workbench,$scope.workbenchType=(null==auth||null===(_auth$company_setting22=auth.company_setting)||void 0===_auth$company_setting22?void 0:_auth$company_setting22.workbench_switch_type)||"1",$scope.is_open_new_page=null===(_auth$company_setting23=auth.company_setting)||void 0===_auth$company_setting23?void 0:_auth$company_setting23.open_new_page,$scope.show_back=$state.params.show_back,sessionStorage.removeItem("workbrench_id"),$scope.contact_list=(null==auth||null===(_auth$company_setting24=auth.company_setting)||void 0===_auth$company_setting24||null===(_auth$company_setting25=_auth$company_setting24.customer_service)||void 0===_auth$company_setting25?void 0:_auth$company_setting25.header_menu)||[{key:"after_sale",label:"售后咨询热线",icon:"icon-hcm-phonecall",content:"400-018-8700转3"},{key:"complaints",label:"投诉建议",icon:"icon-hcm-recommended",content:"400-018-8700转9"}],_context11.next=41,SpecialistSearchService.getPluginsConfig(auth.roles).then((function(e){return $scope.specialist_search_temp=e,e.my_plugins.length>0}));case 41:return $scope.specialist_permission=_context11.sent,$scope.specialist_state=!1,$scope.open_message_dialog=!0,$scope.isFirst=1,$scope.menuChange=function(e,t,n){n||null==e||e.stopPropagation(),$scope.$broadcast("openMenu",t)},_context11.next=48,LanguageService.initLanguage($scope.auth.language);case 48:if(_context11.sent){_context11.next=50;break}$rootScope.show_warning("初始化语言失败，请稍后重试");case 50:return templateService.getTemplate("header_menu_button.json").then(function(){var _ref2=_babel_runtime_corejs3_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_33___default()(_babel_runtime_corejs3_regenerator__WEBPACK_IMPORTED_MODULE_26___default.a.mark((function _callee2(data){var _$scope$auth,_$scope$auth$employee,list,custom_pkg_list;return _babel_runtime_corejs3_regenerator__WEBPACK_IMPORTED_MODULE_26___default.a.wrap((function _callee2$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:if(list=data.template_config.service,_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_28___default()(list).call(list,(function(e){e.translation_key&&"zh_cn"!==$scope.auth.language&&(e.label=$filter("translate")(e.translation_key))})),$scope.menu_list=$scope.simpleFuncParse((null==$scope||null===(_$scope$auth=$scope.auth)||void 0===_$scope$auth||null===(_$scope$auth$employee=_$scope$auth.employee)||void 0===_$scope$auth$employee?void 0:_$scope$auth$employee.id)?list:_babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_27___default()(list).call(list,list.length-1,list.length)),custom_pkg_list=data.template_config.custom_pkg_list,null==custom_pkg_list?void 0:custom_pkg_list.length)try{_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_28___default()(custom_pkg_list).call(custom_pkg_list,function(){var _ref3=_babel_runtime_corejs3_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_33___default()(_babel_runtime_corejs3_regenerator__WEBPACK_IMPORTED_MODULE_26___default.a.mark((function _callee(item){var _yield$templateServic,template_config;return _babel_runtime_corejs3_regenerator__WEBPACK_IMPORTED_MODULE_26___default.a.wrap((function _callee$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,templateService.getTemplate(item.index);case 2:_yield$templateServic=_context3.sent,template_config=_yield$templateServic.template_config,eval(template_config);case 5:case"end":return _context3.stop()}}),_callee)})));return function(e){return _ref3.apply(this,arguments)}}())}catch(e){console.log(e)}case 5:case"end":return _context4.stop()}}),_callee2)})));return function(e){return _ref2.apply(this,arguments)}}()),$state.params.next&&$timeout((function(){var e=JSON.parse($state.params.next);$rootScope.super_go(e.state,e.param,e.option)}),1e3),$rootScope.$on("mobile_synchronize_job",(function(e,t){$scope.web_socket_message=t,$scope.$broadcast("showConfirmBox","showConfirmBox")})),$scope.searchcompparams={is_show_result:!0},MenuStyleService.getStyleSetting($scope.auth.company.id,null===(_$scope$auth2=$scope.auth)||void 0===_$scope$auth2||null===(_$scope$auth2$employe=_$scope$auth2.employee)||void 0===_$scope$auth2$employe?void 0:_$scope$auth2$employe.id).then((function(e){var t;$scope.menu_style=e.menu_style,$scope.show_tips=e.show_tips,$scope.is_banner_menu=(null==auth||null===(t=auth.company_setting)||void 0===t?void 0:t.is_banner_menu)||e.is_banner_menu})),$scope.circle_notify||($scope.circle_notify={}),_context11.next=58,circleGroupService.getGroupUnread().count;case 58:return $scope.circle_notify.circle_unread=_context11.sent,_context11.next=61,messageService.getMessageUnread();case 61:if(message_result=_context11.sent,!(null===(_auth$company_setting27=auth.company_setting)||void 0===_auth$company_setting27?void 0:_auth$company_setting27.ONLINE_SERVICE_READ)){_context11.next=67;break}return _context11.next=65,dataService.callHcmOpenApi("feedback.outer.unread.status",{});case 65:$scope.feedback_unread_status=_context11.sent,$rootScope.$on("feedback_unread_status",(function(e,t){$scope.$apply((function(){$scope.feedback_unread_status=t.unread_status}))}));case 67:$scope.circle_notify.message_unread=message_result.unread_count,$scope.circle_notify.high_level=message_result.high_level,1===$scope.isFirst&&$scope.open_message_dialog&&(null===(_$scope$auth3=$scope.auth)||void 0===_$scope$auth3||null===(_$scope$auth3$company=_$scope$auth3.company_setting)||void 0===_$scope$auth3$company?void 0:_$scope$auth3$company.high_level_message_control)&&(null===(_$scope$circle_notify=$scope.circle_notify)||void 0===_$scope$circle_notify?void 0:_$scope$circle_notify.high_level)>0&&(console.log($scope.isFirst,$scope.open_message_dialog),$scope.showHighLevelMessage(),$scope.isFirst=2),dataService.callHcmOpenApi("hcm.application.my.tab.app",{}).then((function(e){var t,n,i,a;$scope.tab_list=_babel_runtime_corejs3_core_js_stable_instance_sort__WEBPACK_IMPORTED_MODULE_24___default()(t=_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_29___default()(n=$scope.simpleFuncParse((i=e,a=_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_30___default()($scope.auth.roles),_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_25___default()(i).call(i,(function(e){return e.roles?angular.isArray(e.roles)?$filter("getArrEqual")(a,e.roles).length:_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_31___default()(a).call(a,e.roles):e}))))).call(n,(function(e){return e.description="function"==typeof e.description?e.description():e.description,e.contact_list="function"==typeof e.contact_list?e.contact_list():e.contact_list,e}))).call(t,(function(e,t){return e.sequence-t.sequence}))})),$rootScope.$on("circle_threads_unread",(function(e,t){$scope.$apply((function(){$scope.circle_notify||($scope.circle_notify={}),$scope.circle_notify.circle_unread=t}))})),$rootScope.$on("kickout",(function(e,t){var n;"terminal"===$state.params.display_type?$scope.logout({mode:"terminal"}):$hcDialog.getDialog({controller:function(){},template:_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_23___default()(n='\n                            <div class="browser-dialog" ng-init="$ctrl.$onInit()" style="height: 100%">\n                                <div style="font-size:24px;font-weight: bold">'.concat($filter("isValidValue")($scope.custom_kickout_tips.split("#")[0])?$scope.custom_kickout_tips.split("#")[0]:"您已在其他浏览器登录，当前登录已失效",'</div>\n                                <div style="font-size:16px;margin-top: 50px">')).call(n,$filter("isValidValue")($scope.custom_kickout_tips.split("#")[1])?$scope.custom_kickout_tips.split("#")[1]:"请刷新浏览器重新登录","</div>\n                            </div> "),no_border:!0,width:"680",height:"398"}).show()})),$rootScope.$on("logout",(function(e,t){var n;"terminal"===$state.params.display_type?$scope.logout({mode:"terminal"}):$hcDialog.getDialog({controller:function(){},template:_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_23___default()(n='\n                            <div class="browser-dialog" ng-init="$ctrl.$onInit()" style="height: 100%">\n                                <div style="font-size:24px;font-weight: bold">'.concat($filter("isValidValue")($scope.custom_logout_tips.split("#")[0])?$scope.custom_logout_tips.split("#")[0]:"由于您长时间无操作，当前登录已失效",'</div>\n                                <div style="font-size:16px;margin-top: 50px">')).call(n,$filter("isValidValue")($scope.custom_logout_tips.split("#")[1])?$scope.custom_logout_tips.split("#")[1]:"请刷新浏览器重新登录","</div>\n                            </div> "),no_border:!0,width:"680",height:"398"}).show()})),$rootScope.$on("circle_message_unread",(function(e,t){$scope.$apply((function(){var e,n;$scope.circle_notify||($scope.circle_notify={}),$scope.circle_notify.message_unread=t.unread_count,$scope.circle_notify.high_level=t.high_level,2===$scope.isFirst&&(null===(e=$scope.auth)||void 0===e||null===(n=e.company_setting)||void 0===n?void 0:n.high_level_message_control)&&(null==t?void 0:t.high_level)>0&&$scope.open_message_dialog&&(console.log($scope.isFirst,$scope.open_message_dialog),$scope.showHighLevelMessage())}))})),$rootScope.$on("circle_message_content",(function(e,t){Notification.requestPermission().then((function(e){console.log(e),"granted"===e&&new Notification(t.sender,{body:t.content,icon:"/img?type=photo&index="+t.icon+"&size=46"})}))})),$rootScope.$on("grant_result",(function(e,t){$scope.$apply((function(){$rootScope.show_warning("已通过系统唯一拥有者授权，您可以操作系统设置了"),$scope.hasSystemManagerAuth=!0}))})),$rootScope.$on("is_banner_menu_change",(function(e,t){var n;$scope.is_banner_menu=(null==auth||null===(n=auth.company_setting)||void 0===n?void 0:n.is_banner_menu)||t.is_banner_menu})),$scope.add_items=[],$scope.circle_close||$scope.add_items.push({name:"message-item",caption:$filter("translate")("common_main_pc_add_items_message"),icon:"icon-hcm-chat",func:function(){$scope.$broadcast("article-new",{callback:function(e){$rootScope.super_go("feed",{biz_id:e.feed.biz_id})}})}}),$scope.add_items.push({name:"vote-item",caption:$filter("translate")("common_main_pc_add_items_vote"),icon:"icon-hcm-vote",func:function(){$rootScope.super_go("new_vote")}}),$scope.feedback_list=[{name:"new_feedback",caption:$filter("translate")("Submit feedback"),icon:"icon-hcm-edit",func:$scope.go_custom_service},{name:"my_feedback",caption:$filter("translate")("My feedback"),icon:"icon-hcm-library-box",func:function(){$scope.is_feedback_show=!1,$rootScope.super_go("my_feedback",{})}}],$scope.checkBrowser()||localStorage.getItem("checkBrowser")||$timeout((function(){$hcDialog.getDialog(_browserDialog_controller__WEBPACK_IMPORTED_MODULE_45__.a).params({unsupportedBrowser:$scope.unsupportedBrowser}).show()}),3e3),watermark_txt_name="",watermark_txt_cell_phone="",$scope.auth.employee&&(watermark_txt_name=$scope.auth.employee.name),$scope.auth.user&&(watermark_txt_cell_phone=$scope.auth.user.cell_phone),watermark.addFullScreenWatermarkWhenConfig({watermark_txt:watermark_txt_name+" \n "+watermark_txt_cell_phone,ele_selector:"body",watermark_fontsize:"20px"}),(null===(_$scope$auth5=$scope.auth)||void 0===_$scope$auth5||null===(_$scope$auth5$company=_$scope$auth5.company_setting)||void 0===_$scope$auth5$company?void 0:_$scope$auth5$company.show_new_portal)&&(null===(_document$querySelect=document.querySelector(".pc-main-frame"))||void 0===_document$querySelect||_document$querySelect.classList.add("new-portal")),isIE=function(){return!!window.ActiveXObject||"ActiveXObject"in window},isIE()&&(null===(_document$querySelect2=document.querySelector(".pc-main-frame"))||void 0===_document$querySelect2||_document$querySelect2.classList.add("ie")),"0"!==$scope.pc_main_side_index&&IndexService.getMyApplication("pc",!0).then((function(e){$scope.show_portal&&!$scope.new_side_nav&&_babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_27___default()(e).call(e,0,0,{id:"portal",name:$filter("translate")("portal"),number:0,order_number_pc:0,order_number_mobile:0,icon:"icon-hcm-home-solid"});!function(e){var t;$scope.app_category_list=$filter("orderBy")(e,"order_number_pc"),_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_28___default()(t=$scope.app_category_list).call(t,(function(e){var t;"portal"!==e.id&&(e.classify_list=$filter("orderBy")(e.classify_list,"order_number_pc"),_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_28___default()(t=e.classify_list).call(t,(function(e){e.applications=$filter("orderBy")(e.applications,"order_number_pc")})))}))}(e)})),$scope.isWorkbench&&"0"===$scope.workbenchType&&dataService.callHcmOpenApi("hcm.workbench.home.page.list",{target:0}).then((function(e){$scope.workbenchList=_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_29___default()(e).call(e,(function(e){return e.id=e.id+"#"+e.range_type,e})),$scope.currentWorkBench=e[0],sessionStorage.setItem("workbrench_id",e[0].id),$scope.$broadcast("workbench_change",{value:e[0].id})})),null===(_document$getElementB=document.getElementById("back-nav"))||void 0===_document$getElementB||null===(_document$getElementB2=_document$getElementB.firstChild)||void 0===_document$getElementB2||_document$getElementB2.addEventListener("mouseover",(function(){$scope.fixedIsHover=!0,$(".pc-main-frame #back-nav .hc-dragging").css({animation:"0.5s ease-in-out 0s 1 normal none running dragg-in",right:"10px",opcity:"1"}),clearInterval($.data(_this,"timer")),$.data(_this,"timer",_babel_runtime_corejs3_core_js_stable_set_interval__WEBPACK_IMPORTED_MODULE_22___default()((function(){$scope.fixedIsHover||($(".pc-main-frame #back-nav .hc-dragging").css({animation:"0.5s ease-in-out 0s 1 normal none running dragg-out",right:"-16px",opcity:"0.6"}),clearInterval($.data(this,"timer")))}),2e3))})),null===(_document$getElementB3=document.getElementById("back-nav"))||void 0===_document$getElementB3||null===(_document$getElementB4=_document$getElementB3.firstChild)||void 0===_document$getElementB4||_document$getElementB4.addEventListener("mouseout",(function(){$scope.fixedIsHover=!1}));case 95:case"end":return _context11.stop()}}),_callee3)}))),$scope.showHighLevelMessage=function(){$scope.open_message_dialog=!1,messageService.messageHighLevelList(1e3).then((function(e){e.count>0&&(e.list[0].go_param.title?$hcDialog.getDialog(_base_index_showMessage_showMessage__WEBPACK_IMPORTED_MODULE_48__.default).size("large").title(e.list[0].go_param.title).params(e).show().then((function(){$scope.open_message_dialog=!0})):$hcDialog.getDialog(_base_index_showMessage_showMessage__WEBPACK_IMPORTED_MODULE_48__.default).size("large").params(e).show().then((function(){$scope.open_message_dialog=!0})))}))},$scope.smoothFade=function(e,t,n,i,a,o){var s=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],c=_babel_runtime_corejs3_core_js_stable_array_from__WEBPACK_IMPORTED_MODULE_21___default()(document.querySelector(e).children);t&&_babel_runtime_corejs3_core_js_stable_instance_reverse__WEBPACK_IMPORTED_MODULE_20___default()(c).call(c),o&&(a=o/c.length),_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_28___default()(c).call(c,(function(e,t){var o,c;e.setAttribute("style",s?_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_23___default()(o=_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_23___default()(c="transition: all ".concat(n,"ms ")).call(c,i," ")).call(o,t*a,"ms "):"")}))},$scope.showAssistDocument=function(){var e,t,n=__webpack_require__("iok0"),i=[];_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_29___default()(e=n.toString().split(".state(")).call(e,(function(e,t){t>0&&i.push(e.split(",")[0].replace(/"/g,""))}));var a=["model","meta_state"];if(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_31___default()(i).call(i,$state.current.name)){t="/"+$state.current.name;var o=[];_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_28___default()(a).call(a,(function(e){$state.params[e]&&o.push(e+"="+$state.params[e])})),t=t+"?"+o.join("&")}else t="/"+$state.current.name;window.open("https://wiki.hcmcloud.cn/help/"+t.hashCode())},$scope.show_specialist_search=function(){$scope.smoothFade("#nav-list",!0,300,"cubic-bezier(0.2727, 0.0986, 0.8333, 1)",null,300),$scope.specialist_state=!0},$scope.hide_specialist_search=function(){$scope.smoothFade("#nav-list",!1,300,"cubic-bezier(0.2727, 0.0986, 0.8333, 1)",null,200,!1),$scope.specialist_state=!1},$scope.funcParse=function(e){var t={$hcDialog:$hcDialog,SCOPE:$scope,STATE:$state,MOMENT:_common_framework_base_base_list_controller__WEBPACK_IMPORTED_MODULE_37__.a,commonSelectorService:commonSelectorService,dataService:dataService,ROOTSCOPE:$rootScope,CommonInfoDialog:_common_framework_model_dialog_controller__WEBPACK_IMPORTED_MODULE_49__.a};return _common_utils_super_json__WEBPACK_IMPORTED_MODULE_38__.a.jsonEval(e,t)},$scope.simpleFuncParse=function(e){var t={$hcDialog:$hcDialog,SCOPE:$scope,STATE:$state,MOMENT:_common_framework_base_base_list_controller__WEBPACK_IMPORTED_MODULE_37__.a,AUTH:$scope.auth,$rootScope:$rootScope,commonSelectorService:commonSelectorService,dataService:dataService};return _common_utils_super_json__WEBPACK_IMPORTED_MODULE_38__.a.simpleJsonEval(e,t)},$scope.go_index=function(){$rootScope.main_history_state.state?$state.go($rootScope.main_history_state.state,$rootScope.main_history_state.param,{location:"replace"}):$state.go("index",{location:"replace"})},$scope.go_circle=function(){$rootScope.super_go("threads")},$scope.go_message=function(){$rootScope.super_go("messages",{type:"notify",message_display:"notify"})},$scope.goHCMCompanyTempMetaManager=function(){$rootScope.super_go("common_model_list",{model:"HCMCompanyTempMeta"})},$scope.go_pre_emp_enter=function(){window.location.href=location.protocol+"//"+window.location.host+"/pre_emp_enter"+window.hcm_env_pre},$scope.go_custom_service=function(){$scope.is_feedback_show=!1,$hcDialog.getDialog(_feedback_feedback_user_info_controller__WEBPACK_IMPORTED_MODULE_36__.a).size("auto-height").show({mode:"new"}).then((function(){$rootScope.super_go("my_feedback",{},{reload:!0})}))},$scope.change_behalf=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";commonSelectorService.treeListSelectorDialog({selectorModel:"Employee",role:e,title:$filter("translate")("emp_select")||"人员选择器",state:"treeListSelector_agent",show_favorite:t,individual_key:n}).then((function(e){dataService.callHcmOpenApi("auth/change_privileged",{employee_id:e.id}).then((function(t){window.storage.clear("session"),t.redirect?($rootScope.show_warning($filter("translate")("change_user_success")),window.location.href=t.redirect):e.id===t.employee.id&&($rootScope.show_warning($filter("translate")("change_user_success")),window.location.href=location.protocol+"//"+location.host+location.pathname+location.search+"#/index"+window.hcm_env_post,window.location.reload())}))}))},$scope.cancel_behalf=function(){dataService.callHcmOpenApi("auth/cancel_privileged",{}).then((function(e){window.storage.clear("session"),e.redirect?($rootScope.show_warning($filter("translate")("change_back_user")),window.location.href=e.redirect):e.employee.id&&($rootScope.show_warning($filter("translate")("change_back_user")),window.location.href=location.protocol+"//"+location.host+location.pathname+location.search+"#/index"+window.hcm_env_post,window.location.reload())}))},$scope.change_developer_mode=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];dataService.callHcmOpenApi("auth/change_developer_mode",{developer_temp:e}).then((function(e){$rootScope.show_warning($filter("translate")("change_develop_mode_success")),window.location.reload()}))},$scope.cancel_developer_mode=function(){dataService.callHcmOpenApi("auth/cancel_developer_mode",{}).then((function(e){$rootScope.show_warning($filter("translate")("cancel_develop_mode_success")),window.location.reload()}))},$scope.change_operation_mode=function(){dataService.callHcmOpenApi("auth/change_operation_mode",{}).then((function(e){$rootScope.show_warning($filter("translate")("change_operation_mode_success")),window.location.reload()}))},$scope.cancel_operation_mode=function(){dataService.callHcmOpenApi("auth/cancel_operation_mode",{}).then((function(e){$rootScope.show_warning($filter("translate")("change_operation_mode_success")),window.location.reload()}))},$scope.backgroundTask=function(){$rootScope.super_go("common_model_list",{model:"BackgroundTaskGroup",filter_dict:{operator_id:$scope.auth.employee.id}},{inherit:!1})},$scope.go_setting=function(){$scope.is_onlyoneowner||$scope.is_hcm_sys_manager?$state.go("main.setting.single",{model:"CompanyInfoManagement",c_model:"CompanyInfoManagement",id:null}):$state.go("main.setting.common_model_list",{model:"CustomerInCharge"})},$scope.carousel_controller={},$rootScope.get_carousel_controller=function(){return $scope.carousel_controller},$scope.file_preview_controller={},$rootScope.get_file_preview_controller=function(){return $scope.file_preview_controller},$scope.click_user_box=function(e){var t;null==e||e.stopPropagation(),"change_company"!==(null===(t=e.target)||void 0===t?void 0:t.id)&&($scope.is_user_box_show=!$scope.is_user_box_show,$scope.show_sub_menu_list=!1)},$scope.close_user_box=function(){$scope.is_user_box_show=!1,$scope.show_company_list=!1,$scope.show_sub_menu_list=!1},$scope.handleMenuClick=function(e,t){t.func()},$scope.click_operate_add=function(e){$scope.is_operate_add_show=!$scope.is_operate_add_show},$scope.click_operate_robot=function(e){$scope.is_operate_robot_show[e]=!$scope.is_operate_robot_show[e]},$scope.close_operate_robot=function(e){$scope.is_operate_robot_show[e]=!1},$scope.click_feedback=function(e){$scope.is_feedback_show=!$scope.is_feedback_show},$scope.show_robot=function(e){_common_framework_base_custom_dialog__WEBPACK_IMPORTED_MODULE_50__.a.getCustomDialogCtrl("HCMChatDialog").then((function(t){$hcDialog.getDialog(t).show(_objectSpread({target:"HCMRobot"},e))}))},$scope.show_ai=function(e){_common_framework_base_custom_dialog__WEBPACK_IMPORTED_MODULE_50__.a.getCustomDialogCtrl("HCMChatStreamDialog").then((function(t){$hcDialog.getDialog(t).show(_objectSpread({target:"HCMAI"},e))}))},$scope.show_client_robot=function(e){_common_framework_base_custom_dialog__WEBPACK_IMPORTED_MODULE_50__.a.getCustomDialogCtrl("HCMChatDialog").then((function(t){$hcDialog.getDialog(t).show({target:"HCMRobot",code:e})}))},$scope.create_order=function(e){$hcDialog.getDialog(Object(_common_framework_model_dialog_controller__WEBPACK_IMPORTED_MODULE_49__.a)("SSCOrder","client")).params({mode:"new",data:{auth_code:e}}).size("normal").show().then((function(e){}))},$scope.show_order=function(e){console.log("show_order"+e),$rootScope.super_go("common_model_category_list",{model:"SSCOrder",meta_state:"client",category_field:"status",filter_dict:{auth_code:e}})},$scope.close_robot=function(){$scope.is_feedback_show=!1},$scope.close_feedback=function(){$scope.is_feedback_show=!1},$scope.close_operate_add=function(){$scope.is_operate_add_show=!1},$scope.set_password=function(){$state.go("set_password",{})},$scope.set_message=function(){$state.go("set_message",{})},$scope.go_my_profile=function(){$state.go("emp",{id:""})},$scope.remote_help=_babel_runtime_corejs3_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_33___default()(_babel_runtime_corejs3_regenerator__WEBPACK_IMPORTED_MODULE_26___default.a.mark((function e(){var t,n,i,a=arguments;return _babel_runtime_corejs3_regenerator__WEBPACK_IMPORTED_MODULE_26___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=!(a.length>0&&void 0!==a[0])||a[0],n=function(e){return/^1[3-9]\d{9}$/.test(e.collaborator_mobile)||"请输入正确的手机号"},e.t0=t,!e.t0){e.next=7;break}return e.next=6,$hcDialog.simpleForm("用途信息填写",[{key:"collaborator_name",label:"协作者姓名",component:"hc-input",options:{required:!0,singleLine:!0,placeholder:"请输入协作者姓名"}},{key:"collaborator_mobile",label:"协作者手机号",component:"hc-input",options:{type:"tel",required:!0,singleLine:!0,placeholder:"请输入协作者手机号码"}},{key:"max_age",label:"使用时长(小时)",component:"hc-input",options:{type:"number",required:!0,singleLine:!0,default:24,placeholder:"请输入使用时长(小时)"}},{key:"description",label:"用途",component:"hc-text-area",options:{singleLine:!0,maxlength:50,placeholder:"请描述协助链接的用途"}}],void 0,{validRule:[n]});case 6:e.t0=e.sent;case 7:i=e.t0,AuthService.remote_help($location.$$absUrl,t&&i).then((function(e){hcAutoCopyService.copy(e)?$rootScope.show_warning("已复制:\n".concat(e),null,3e3):$hcDialog.getDialog({controller:function(){},template:'<copy-content model="params"></copy-content>'}).params(e).name("copyContent").size("small").title("远程协助").show()}));case 9:case"end":return e.stop()}}),e)}))),$scope.LogoutDelBind=function(){AuthService.logoutAndDelBind().then((function(){var e=contextService.getContext("auth");if(e.sso&&e.sso.sso_type)"customer_sso"===e.sso.sso_type&&e.sso.logout_url?window.location.href=e.sso.logout_url:window.location.href=location.protocol+"//"+window.location.host+"/login?sso="+e.sso.sso_type+"&app_type="+window.app_type;else{var t="",n=encodeURIComponent(window.location.href);window.app_type?t+="&app_type="+window.app_type+"&next="+n:t+="&app_type=service&next="+n,window.location.replace(window.hcm_wengen+"/login"+(window.hcm_env_pre?window.hcm_env_pre:"?")+t)}}))},$scope.logout=function(e){AuthService.logout().then((function(){var t=contextService.getContext("auth");if(t.sso&&"idm_pc"===t.sso.sso_type)window.location.href=t.sso_logout_url;else if(t.sso&&t.sso.sso_type)"customer_sso"===t.sso.sso_type&&t.sso.logout_url?window.location.href=t.sso.logout_url:window.location.href=location.protocol+"//"+window.location.host+"/login?sso="+t.sso.sso_type+"&app_type="+window.app_type;else{var n="";if(e&&"object"===_babel_runtime_corejs3_helpers_typeof__WEBPACK_IMPORTED_MODULE_18___default()(e))for(var i=0,a=_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_30___default()(e);i<a.length;i++){var o,s,c;if(0===i)n+=window.hcm_env_pre?_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_23___default()(o="&".concat(a[i],"=")).call(o,e[a[i]]):_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_23___default()(s="".concat(a[i],"=")).call(s,e[a[i]]);else n+=_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_23___default()(c="&".concat(a[i],"=")).call(c,e[a[i]])}n.length<=1&&(n+="app_type=service"),_babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_17___default()(n).call(n,"app_type")>-1||(window.app_type?n+="&app_type="+window.app_type:n+="&app_type=service"),window.location.replace(window.hcm_wengen+"/login"+(window.hcm_env_pre?window.hcm_env_pre:"?")+n)}}))},$scope.change_company=function(){var e=_babel_runtime_corejs3_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_33___default()(_babel_runtime_corejs3_regenerator__WEBPACK_IMPORTED_MODULE_26___default.a.mark((function e(t){return _babel_runtime_corejs3_regenerator__WEBPACK_IMPORTED_MODULE_26___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $scope.show_company_list=!1,e.next=3,AuthService.logout();case 3:return e.next=5,dataService.callHcmOpenApi("auth.user.bind.company",{user_id:$scope.auth.user.id,company_id:t.id});case 5:$rootScope.show_warning("切换企业成功"),AuthService.getAuth(!1).then((function(e){$rootScope.super_go("index"),_babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_16___default()((function(){window.location.reload()}),300)}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$scope.show_company_panel=function(){var e=_babel_runtime_corejs3_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_33___default()(_babel_runtime_corejs3_regenerator__WEBPACK_IMPORTED_MODULE_26___default.a.mark((function e(t){var n,i,a;return _babel_runtime_corejs3_regenerator__WEBPACK_IMPORTED_MODULE_26___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("change_company"!==t.key){e.next=9;break}return e.next=3,dataService.callHcmOpenApi("auth.user.get.bind.company",{user_id:$scope.auth.user.id});case 3:$scope.company_list=e.sent,n=$("#change_company")[0].getBoundingClientRect(),i=n.top,a=n.left,$(".user_box .company-list").css({top:i,left:a-181}),$scope.show_company_list=!0,e.next=10;break;case 9:$scope.show_company_list=!1;case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$scope.handleMouseEnter=function(){var e=_babel_runtime_corejs3_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_33___default()(_babel_runtime_corejs3_regenerator__WEBPACK_IMPORTED_MODULE_26___default.a.mark((function e(t,n){var i,a,o;return _babel_runtime_corejs3_regenerator__WEBPACK_IMPORTED_MODULE_26___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$scope.show_company_panel(n);case 2:if("show_sub"!==n.type){e.next=12;break}return $scope.currentSubMenu=n,e.next=6,dataService.callHcmOpenApi(n.sub_list_api,n.sub_list_api_params||{});case 6:$scope.sub_menu_list=e.sent,i=$("#".concat(n.key))[0].getBoundingClientRect(),a=i.top,o=i.left,$(".user_box .sub-menu-list").css({top:a,left:o-181}),$scope.show_sub_menu_list=!0,e.next=13;break;case 12:$scope.show_sub_menu_list=!1;case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),$scope.resolve_sub_menu=function(e){var t,n;$scope.show_sub_menu_list=!1,null===(t=(n=$scope.currentSubMenu).sub_resolve_func)||void 0===t||t.call(n,e)},$scope.isCurrentCompany=function(e){return e.id===$scope.auth.company.id},$scope.go_login_company=function(){window.location.replace(window.hcm_wengen+"/login/company"+window.hcm_env_pre)},$scope.$on("win_body_click_event",(function(){$scope.close_user_box()})),$scope.$on("chat-robot",(function(e,t){$scope.show_robot(t)})),$scope.re_select_company=function(){$state.go("com_select",{},{location:"replace"})},$scope.$on("article-new",(function(e,t){$scope.$broadcast("article-new-event",t)})),$scope.$on("employee-select",(function(e,t){$scope.$broadcast("employee-select-event",t)})),$scope.$on("circle-group-select",(function(e,t){$scope.$broadcast("circle-group-select-event",t)})),$scope.$on("article-comment",(function(e,t){$scope.$broadcast("article-comment-event",t)})),$scope.$on("group-member-select",(function(e,t){$scope.$broadcast("group-member-select-event",t)})),$scope.$on("hcm_navigation_items",(function(e,t){$scope.hcm_navigation_items=t})),$scope.$on("hcm_navigation_callback",(function(e,t){var n;_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_28___default()(n=_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_30___default()(t)).call(n,(function(e){$scope[e]=t[e]}))})),$scope.$on("enter-full-screen",(function(e,t){$scope.is_full_screen=!0})),$scope.$on("quit-full-screen",(function(e,t){$scope.is_full_screen=!1})),$scope.$on("enable_hcm_navigation",(function(e,t){$scope.enable_hcm_navigation=t})),$scope.enter_full_screen=function(){$scope.is_full_screen=!0},$scope.quit_full_screen=function(){$scope.is_full_screen=!1},$scope.goToMyServiceList=function(){$rootScope.super_go("my_service_list",{})},$scope.checkBrowser=function(){var e,t=Object(_common_utils_compatibility__WEBPACK_IMPORTED_MODULE_46__.a)(),n=[];return _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_28___default()(e=["ie","edge","chrome","safari"]).call(e,(function(e){var t;~_babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_17___default()(t=$scope.unsupportedBrowser).call(t,e)||n.push(e)})),_babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_17___default()(n).call(n,t.type.toLowerCase())<0?"TencentMeeting"===t.type:"IE"===t.type?_babel_runtime_corejs3_core_js_stable_parse_int__WEBPACK_IMPORTED_MODULE_15___default()(t.version)>=10:"Edge"===t.type?_babel_runtime_corejs3_core_js_stable_parse_int__WEBPACK_IMPORTED_MODULE_15___default()(t.version)>=79:"Chrome"===t.type?_babel_runtime_corejs3_core_js_stable_parse_int__WEBPACK_IMPORTED_MODULE_15___default()(t.version)>=56:"Safari"===t.type||void 0},$scope.show_terminal_header=function(){return"index"===$state.current.name&&"terminal"===$state.params.display_type},$scope.show_side_nav=function(){return"0"!==$scope.pc_main_side_index},$scope.showNav=function(){$(".pc-main-frame .hcm-nav-side").addClass("is-hover")},$scope.hideNav=function(){$(".pc-main-frame .hcm-nav-side").removeClass("is-hover"),$scope.category_more_show=null},$scope.toggleCategory=function(e){var t;"portal"!==e.id?(null===(t=$scope.category_more_show)||void 0===t?void 0:t.id)===e.id?$scope.category_more_show=null:$scope.category_more_show=e:$rootScope.super_go("index")},$scope.jumpTo=function(e,t){if(e.state||!e.href)if(null==t||t.stopPropagation(),null==t||t.preventDefault(),"show_dialog"===e.state)switch(e.param.dialog_name){case"chat_robot":$scope.$emit("chat-robot",e.param||{});break;default:$rootScope.show_warning("暂不支持")}else $scope.go_child(e);else null==t||t.stopPropagation()},$scope.go_child=function(e){$rootScope.super_go(e.state,e.param,{inherit:!1},$scope.is_open_new_page)},$scope.show_workbench=function(e){$hcDialog.dropdownList($scope.workbenchList,$scope.currentWorkBench,angular.element(e.target)).then((function(e){e.id!==$scope.currentWorkBench.id&&($scope.$broadcast("workbench_change",{value:e.id}),$scope.currentWorkBench=e,sessionStorage.setItem("workbrench_id",e.id)),$rootScope.super_go("index",{category:null})}))},$scope.goBack=[{icon:"icon-hcm-back",caption:"返回",handler:function(){window.history.back()}}],$scope.$state=$state}])},"s6+L":function(e,t){e.exports='<div class="general-role-error-box">\n    <div class="info">\n        <div class="has-company" ng-show="app_company">\n            <img ng-src="{{app_company.logo|companyLogo:74}}">\n\n            <div class="name">{{app_company.name}}</div>\n            <div class="error-info">\n                <div ng-repeat="_info in company_error_info">{{_info}}</div>\n            </div>\n        </div>\n        <div ng-hide="app_company" class="error-info">\n            <div ng-repeat="_info in common_error_info">{{_info}}</div>\n        </div>\n    </div>\n    <div ng-click="re_bind()" class="oper">\n        重新绑定\n    </div>\n</div>\n'},sBfz:function(e,t){e.exports='\x3c!-- 搜索弹窗 默认界面 --\x3e\n<div class="search-home" ng-show="index===\'\'">\n    <div class="search-home-banner">\n        <div class="search-title">{{\'search_the_entire_system\'|translate}}</div>\n        <div ng-repeat="_class in models" class="search-title-item">\n            <div class="name">{{_class.group_name}}</div>\n        </div>\n    </div>\n    <div class="search-history">\n        <div class="search-head">\n            <div class="title">{{\'historical_searches\'|translate}}</div>\n            <div class="icon-hcm-trash icon" ng-click="clearHistory()"></div>\n        </div>\n\n        <div class="search-item" ng-if="models_index" ng-repeat="_item in history track by $index">\n            <employee-list-item ng-if="!(dynamicMode&&develop)" object="_item"></employee-list-item>\n            <search-result-item ng-if="dynamicMode&&develop"\n                                search-data="_item"\n                                on-operate-default="operateDefault(_item)"\n                                has-operate-default="hasOperateDefault"\n            ></search-result-item>\n        </div>\n    </div>\n</div>\n\x3c!--搜索弹窗 结果界面--\x3e\n<div class="search-mini" ng-show="index!==\'\'">\n    \x3c!--正在搜索--\x3e\n    <div class="search-null" ng-show="result_count<1">\n        <span ng-show="is_searching">正在玩命搜索...</span>\n        <span ng-hide="is_searching">没搜到任何结果哦！<br>换个关键词试试？</span>\n    </div>\n    \x3c!--搜索结果--\x3e\n    <div class="search-block" ng-if="result_count>0" ng-repeat="_class in models">\n        \x3c!--标题--\x3e\n        <div class="title">{{_class.group_name}}</div>\n\n        \x3c!--结果列表--\x3e\n        <div class="search-item" ng-if="!(dynamicMode&&develop)" ng-repeat="_item in result[_class.group_key].list">\n            <dynamic-common-item item="_class.view"\n                                 object="_item">{{_class.view}}</dynamic-common-item>\n        </div>\n        <div class="search-item" ng-if="dynamicMode && develop">\n            <search-result-item\n                ng-repeat="emp in emp_list"\n                search-data="emp"\n                search-key="searKey"\n                icon\n                on-operate-default="operateDefault(emp)"\n                has-operate-default="hasOperateDefault"\n            ></search-result-item>\n        </div>\n\n        \x3c!--查看其它--\x3e\n        <div class="search-more tg" ng-show="result_count>3"\n             ng-click="go_class(_class.group_key)">\n            <span class="icon icon-hcm-check"></span>\n            <span>查看其他{{result_count}}个{{_class.group_name}}</span>\n        </div>\n    </div>\n</div>\n'},sGGm:function(e,t){window.app.factory("homeWidgetAttendCalendarService",["$rootScope","dataService","$q",function(e,t,n){return{getDataList:function(e,n,i,a,o,s,c){return t.callHcmOpenApi("time.data.list",{begin_date:e,end_date:n,result_items:o,depart_id:i,employee_ids:a,page_index:s,page_size:c})},getDataListByEmp:function(e,n,i){return t.callHcmOpenApi("time.data.employee.list",{begin_date:e,end_date:n,employee_id:i})}}}])},sPAL:function(e,t,n){"use strict";n("sMBO"),n("07d7"),n("JfAA");var i=n("/FZm"),a=n.n(i),o=n("RXMP"),s=n.n(o),c=n("nhkr"),r=n.n(c),l=n("+oHS"),_=n.n(l),d=n("mnMc"),p=n.n(d),u=n("5PDf"),m=n.n(u),g=n("mrSG"),h=n("gMty"),v=n.n(h),f=(n("s6nd"),function(){function e(e,t,n,i,a,o,s,c,r){this.$controller=e,this.$scope=t,this.$rootScope=n,this.$element=i,this.$state=a,this.dataService=o,this.baseCRUDService=s,this.$hcSteps=c,this.$filter=r}return e.prototype.$onInit=function(){var e=this,t=this.baseCRUDService.getModelService(this.$state.params.nav_model);this.$controller("BaseComplexParentCtrl",{$scope:this.$scope,CRUDService:t,InfoDialog:null}),this.$scope.getParams=function(t){return angular.extend({model:t.model,nav_model:e.$state.params.nav_model,nav_meta_state:e.$state.params.nav_meta_state,c_model:t.model,meta_state:t.meta_state,parent_field:t.parent_id,appoint:t.appoint,caption:t.label,hide:t.hide,func:t.func},t.params)},this.$scope.initAfter=function(){var t,i,a,o,s,c,r,l,_,d,p,u,g=m()(t=e.$scope.nav_items).call(t,(function(t){return e.$scope.isCurrent(t)})).length>0;e.$scope.$emit("enable_hcm_navigation",g),e.$scope.$emit("hcm_navigation_items",e.$scope.nav_items),e.$scope.$emit("hcm_navigation_callback",{setNavigationCurrent:n}),e.$scope.steps_model||(e.$scope.steps_model=e.$hcSteps.createHcSteps({meta:e.$scope.nav_items,current:e.$scope.current_nav,direction:null!==(o=null===(a=null===(i=e.$scope.base_config)||void 0===i?void 0:i.navigation)||void 0===a?void 0:a.direction)&&void 0!==o?o:"horizontal",callback:e.$scope.goChild,type:"navigate"===(null===(c=null===(s=e.$scope.base_config)||void 0===s?void 0:s.navigation)||void 0===c?void 0:c.type)?"navigate":"steps",size:(null===(l=null===(r=e.$scope.base_config)||void 0===r?void 0:r.navigation)||void 0===l?void 0:l.size)||"small",stepsLength:(null===(d=null===(_=e.$scope.base_config)||void 0===_?void 0:_.navigation)||void 0===d?void 0:d.stepsLength)||5,validator:null===(u=null===(p=e.$scope.base_config)||void 0===p?void 0:p.navigation)||void 0===u?void 0:u.validator}))},this.$scope.getMetaState=function(){return e.$state.params.nav_meta_state||null},this.$scope.isCurrent=function(t){var n,i,a,o,s,c,l;if(p()(n=e.$state).call(n,t.nav_name)&&t.params_key&&function(t){var n,i,a;try{for(var o=Object(g.i)(t.params_key),s=o.next();!s.done;s=o.next()){var c=s.value;return(null===(a=t.params)||void 0===a?void 0:a[c])===e.$state.params[c]}}catch(e){n={error:e}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}}(t))return!0;if(t.no_model||!function(e,n){var i,a,o;if((null==t?void 0:t.jump_state)===n)return!0;try{for(var s=Object(g.i)(null!==(o=null==e?void 0:e.list)&&void 0!==o?o:[]),c=s.next();!c.done;c=s.next()){if(c.value.jump_state===n)return!0}}catch(e){i={error:e}}finally{try{c&&!c.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}return!1}(t,e.$state.current.name))return!1;if(t.params){var d=function(n){if(void 0===t.params[n])return"continue";var i="object"===r()(t.params[n])?!function e(t,n){if(_()(t).length!==_()(n).length)return!1;for(var i in t)if("object"===r()(t[i])||"object"===r()(n[i])){if(!e(t[i],n[i]))return!1;if(t[i]!==n[i])return!1}return!0}(JSON.parse(e.$state.params[n]),t.params[n]):e.$state.params[n]!==(null===(s=t.params[n])||void 0===s?void 0:s.toString());return e.$state.params[n]&&i?{value:!1}:void 0};try{for(var u=Object(g.i)(_()(null!==(o=null==t?void 0:t.params)&&void 0!==o?o:{})),m=u.next();!m.done;m=u.next()){var h=d(m.value);if("object"===r()(h))return h.value}}catch(e){i={error:e}}finally{try{m&&!m.done&&(a=u.return)&&a.call(u)}finally{if(i)throw i.error}}}if(e.$state.params.base_object_str!==(null===(c=null==t?void 0:t.params)||void 0===c?void 0:c.base_object_str))return!1;if(!e.$state.params.c_model)return!0;if(t.meta_state&&t.meta_state!==e.$state.params.meta_state)return!1;if(null===(l=null==t?void 0:t.params)||void 0===l?void 0:l.c_model){var v=t.params.c_model===e.$state.params.c_model;return t.params.meta_state?v&&t.params.meta_state===e.$state.params.meta_state:v}return!0},this.$scope.child_states={base:"common_model_view_base",multi:"common_model_view_multi",single:"common_model_view_single"};var n=function(){e.$scope.setCurrentNav()};this.$scope.setNavigationAttachment=function(){return Object(g.c)(e,void 0,void 0,(function(){var e,t,n;return Object(g.e)(this,(function(i){var o;switch(i.label){case 0:return e=this.$filter("valueToFunc")(this.$scope.base_config.navigation.attachment.api_name)(),t=this.$filter("valueToFunc")(this.$scope.base_config.navigation.attachment.api_params)(this.$scope.getEnvironmentParams()),[4,this.dataService.callHcmOpenApi(e,t)];case 1:return n=i.sent(),s()(o=this.$scope.nav_items).call(o,(function(e){var t,i;e.step_attachment=null===(i=null===(t=a()(n))||void 0===t?void 0:t.call(n,(function(t){return t.key===e.key})))||void 0===i?void 0:i.attachment})),[2]}}))}))}},e.$inject=["$controller","$scope","$rootScope","$element","$state","dataService","BaseCRUDService","$hcSteps","$filter"],e}()),y={template:v.a,controller:f};window.app.component("hcmNavigation",y)},skWO:function(e,t){e.exports='<div class="home-widget" ng-class="message_show_control.is_dynamic ? \'dynamic\' : \'static\'">\n    <div class="home-widget-header flexbox" ng-init="init()">\n        <div class="menu">\n            <div ng-repeat="item in menu" class=" menu_left {{item.icon}}"\n                 ng-class="{selected:currentMenu===item.key}" ng-if="item.float===\'left\'"\n                 ng-click="refreshData(item.key)">\n                {{item.label}}\n            </div>\n            <div class="icon-hcm-arrow-right menu_right_sys"  ng-if="dynamic_controller" ng-click="ge_message_list(currentMenu )"></div>\n            <div ng-repeat="item in menu" class=" menu_right "\n                 ng-class="{selected:currentMenu===item.key}" ng-if="item.float===\'right\'"\n                 ng-click="ge_message_list(currentMenu )">\n                {{item.label}}\n            </div>\n\n        </div>\n        <div class="btn_right" ng-show="currentMenu != \'task_collect\'">\n            <span></span>\n            <select title="page"\n                    class="select"\n                    ng-model="page_size"\n                    ng-show="!message_show_control.is_dynamic"\n                    ng-change="refreshData()">\n                <option ng-repeat="x in sizes track by $index">{{x + pageText}}</option>\n            </select>\n        </div>\n\n    </div>\n    \x3c!-- 标准插件是home-widget-body，但是无法满足消息轮播，顾换成自己的样式  --\x3e\n    <div class="home-widget-body-dynamic" ng-if="message_show_control.is_dynamic &&message_list.length>10">\n        <div class="message" ng-repeat="_msg in message_list" ng-click="jump(_msg,$event)"\n             ng-if="currentMenu != \'task_collect\'">\n            <div class="title">\n                <div class="message-content">\n                    <span title={{_msg.content}}>{{_msg.content|convertFromHtml}}</span>\n                </div>\n                <div class="message-time">\n                    \x3c!--消息通知是send_date，预警是update_time，create_time--\x3e\n                    <span>{{(_msg[\'send_date\']|timeStampToDate|beforeCurrentTime)\n                    || (_msg[\'update_time\']|beforeCurrentTime)\n                    || (_msg[\'create_time\']|beforeCurrentTime)}}</span>\n                </div>\n                <div ng-if="currentMenu === \'work_wan\'" class="message-icon icon icon-hcm-trash"\n                     ng-click="message_down(_msg,$event)">\n                </div>\n            </div>\n        </div>\n        \x3c!--轮播使用--\x3e\n        <div class="message" ng-repeat="_msg in message_list" ng-click="jump(_msg,$event)"\n             ng-if="currentMenu != \'task_collect\'">\n            <div class="title">\n                <div class="message-content">\n                    <span title={{_msg.content}}>{{_msg.content|convertFromHtml}}</span>\n                </div>\n                <div class="message-time">\n                    \x3c!--消息通知是send_date，预警是update_time，create_time--\x3e\n                    <span>{{(_msg[\'send_date\']|timeStampToDate|beforeCurrentTime)\n                    || (_msg[\'update_time\']|beforeCurrentTime)\n                    || (_msg[\'create_time\']|beforeCurrentTime)}}</span>\n                </div>\n                <div ng-if="currentMenu === \'work_warn\'"  class="message-icon icon icon-hcm-trash"\n                     ng-click="message_down(_msg,$event)">\n                </div>\n            </div>\n        </div>\n        <div class="message" ng-repeat="_msg in message_list" ng-click="jump(_msg,$event)"\n             ng-if="currentMenu != \'task_collect\'">\n            <div class="title">\n                <div class="message-content">\n                    <span title={{_msg.content}}>{{_msg.content|convertFromHtml}}</span>\n                </div>\n                <div class="message-time">\n                    \x3c!--消息通知是send_date，预警是update_time，create_time--\x3e\n                    <span>{{(_msg[\'send_date\']|timeStampToDate|beforeCurrentTime)\n                    || (_msg[\'update_time\']|beforeCurrentTime)\n                    || (_msg[\'create_time\']|beforeCurrentTime)}}</span>\n                </div>\n                <div ng-if="currentMenu === \'work_warn\'"  class="message-icon icon icon-hcm-trash"\n                     ng-click="message_down(_msg,$event)">\n                </div>\n            </div>\n        </div>\n        <div class="message" ng-repeat="_msg in message_list" ng-click="jump(_msg,$event)"\n             ng-if="currentMenu != \'task_collect\'">\n            <div class="title">\n                <div class="message-content">\n                    <span title={{_msg.content}}>{{_msg.content|convertFromHtml}}</span>\n                </div>\n                <div class="message-time">\n                    \x3c!--消息通知是send_date，预警是update_time，create_time--\x3e\n                    <span>{{(_msg[\'send_date\']|timeStampToDate|beforeCurrentTime)\n                    || (_msg[\'update_time\']|beforeCurrentTime)\n                    || (_msg[\'create_time\']|beforeCurrentTime)}}</span>\n                </div>\n                <div ng-if="currentMenu === \'work_warn\'" class="message-icon icon icon-hcm-trash"\n                     ng-click="message_down(_msg,$event)">\n                </div>\n            </div>\n        </div>\n        <div class="process_collect" ng-if="currentMenu === \'task_collect\'">\n            <div class="process" ng-repeat="_msg in message_list" ng-click="jump(_msg,$event)">\n                <div class="process_content">\n                    <div class="count" title={{_msg.count}}>\n                        {{_msg.count}}\n                    </div>\n                    <div class="content" title={{_msg.name}}>{{_msg.name}}</div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="home-widget-body-static" ng-if="message_show_control.is_dynamic && message_list.length<11">\n        <div class="no-data-static" ng-if="message_list && message_list.length<1">\n            <hc-svg class="hcm-no-content-static" options="{icon:\'hcm-no-content\'}"></hc-svg>\n            <div class="no-content-label-static">当前没有内容</div>\n        </div>\n        <div class="message-static" ng-repeat="_msg in message_list" ng-click="jump(_msg,$event)"\n             ng-if="currentMenu != \'task_collect\'">\n            <div class="title-static">\n                <div class="message-content-static">\n                    <span title={{_msg.content}}>{{_msg.content|convertFromHtml}}</span>\n                </div>\n                <div class="message-time-static">\n                    \x3c!--消息通知是send_date，预警是update_time，create_time--\x3e\n                    <span>{{(_msg[\'send_date\']|timeStampToDate|beforeCurrentTime)\n                    || (_msg[\'update_time\']|beforeCurrentTime)\n                    || (_msg[\'create_time\']|beforeCurrentTime)}}</span>\n                </div>\n                <div ng-if="currentMenu === \'work_warn\'"  class="message-icon-static icon icon-hcm-trash"\n                     ng-click="message_down(_msg,$event)">\n                </div>\n            </div>\n        </div>\n\n        <div class="process_collect-static" ng-if="currentMenu === \'task_collect\'">\n            <div class="process-static" ng-repeat="_msg in message_list" ng-click="jump(_msg,$event)">\n                <div class="process_content-static">\n                    <div class="count-static" title={{_msg.count}}>\n                        {{_msg.count}}\n                    </div>\n                    <div class="content-static" title={{_msg.name}}>{{_msg.name}}</div>\n                </div>\n            </div>\n        </div>\n\x3c!--        <div class="load-more-message-static" ng-if="haveMoreMessage" ng-click="getMessageList()">点击加载更多...</div>--\x3e\n        <div class="load-more-message-static"\n             ng-if="message_list.length>1 && !haveMoreMessage && currentMenu != \'task_collect\'">\n            已经没有更多了\n        </div>\n    </div>\n    <div class="home-widget-body-static" ng-if="!message_show_control.is_dynamic">\n        <div class="no-data-static" ng-if="message_list&&message_list.length<1">\n            <hc-svg class="hcm-no-content-static" options="{icon:\'hcm-no-content\'}"></hc-svg>\n            <div class="no-content-label-static">当前没有内容</div>\n        </div>\n        <div class="message-static" ng-repeat="_msg in message_list" ng-click="jump(_msg,$event)"\n             ng-if="currentMenu != \'task_collect\'">\n            <div class="title-static">\n                <div class="message-content-static">\n                    <span title={{_msg.content}}>{{_msg.content|convertFromHtml}}</span>\n                </div>\n                <div class="message-time-static">\n                    \x3c!--消息通知是send_date，预警是update_time，create_time--\x3e\n                    <span>{{(_msg[\'send_date\']|timeStampToDate|beforeCurrentTime)\n                    || (_msg[\'update_time\']|beforeCurrentTime)\n                    || (_msg[\'create_time\']|beforeCurrentTime)}}</span>\n                </div>\n                <div ng-if="currentMenu === \'work_warn\'"  class="message-icon-static icon icon-hcm-trash"\n                     ng-click="message_down(_msg,$event)">\n                </div>\n            </div>\n        </div>\n\n        <div class="process-collect-static" ng-if="currentMenu === \'task_collect\'">\n            <div class="process-static" ng-repeat="_msg in message_list" ng-click="jump(_msg,$event)">\n                <div class="process-content-static">\n                    <div class="count-static" title={{_msg.count}}>\n                        {{_msg.count}}\n                    </div>\n                    <div class="content-static" title={{_msg.name}}>{{_msg.name}}</div>\n                </div>\n            </div>\n        </div>\n        <div class="load-more-message-static" ng-if="haveMoreMessage" ng-click="getMessageList()">点击加载更多...</div>\n        <div class="load-more-message-static"\n             ng-if="message_list.length>1 && !haveMoreMessage && currentMenu != \'task_collect\'">\n            已经没有更多了\n        </div>\n\n    </div>\n</div>\n'},smUh:function(e,t){e.exports='<div class="article-comment-box ng-hide pop-window" ng-show="is_comment" ng-init="init()" ng-cloak>\n    <div class="article-comment ng-hide" ng-show="is_comment">\n        <div class="header">\n            <div class="header-title">\n                <span ng-show="reply!=null">回复&nbsp;{{reply.name}}</span>\n                <span ng-hide="reply!=null">评论</span>\n            </div>\n            <div class=\'oper tg\'>{{is_commenting ? \'发送中\' : \'\'}}</div>\n        </div>\n        <div class="comment-operate">\n            <div ng-click="start_to_employee_select()">\n                <span class="icon icon-hcm-at" ng-class="{disabled:group.group_type==2}"></span>\n            </div>\n        </div>\n        <div class="input">\n                <textarea class=\'comment-input\' contentEditable class=\'f15\'\n                          placeholder="说点什么吧..."\n                          ng-model="comment_text" ng-change="content_change()"></textarea>\n\n            <div class="content-length" ng-class="{\'overflow\':content_length_overflow}">{{content_length}}/150</div>\n        </div>\n        <div class="comment-at" ng-show="comment_at.length>0">\n            <div ng-repeat="_emp in comment_at" class="tg" ng-click="un_at_employee(_emp)">\n                {{_emp.name}}\n            </div>\n        </div>\n\n\n        <footer>\n            <hc-list-btn model="list_btn_model"></hc-list-btn>\n        </footer>\n    </div>\n</div>\n'},"tB8/":function(e,t,n){var i=n("KHwQ").module("myApp");e.exports=i},tpJm:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJAAAACQCAYAAADnRuK4AAAACXBIWXMAAEJwAABCcAFu8l9tAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAS3SURBVHgB7d1NThxHGIfxfxUfyc5zg7S4QECyLXkV5gSObzA+AWaZWIhBFnJ2CScw3ICcwGRlKcaCHCBO5wZ4aWaoSveYJI4iho+3Grp6np+MsMyYxeihp7uHeksCAAAAAAAAAAAAAAAAAACwcmpQcTTs+fH8QM5/I8Xl+p80g6J07JyOQwh75YONA3VIYwEtHf6wJp0Nq7/2hM+4/TA6XS8fDUt1QCMBLb17uakYhsJFyhD0pHz4/FiZSx4Q8VzZSRVRP/eIkgZUvNse+KhXwlWVYW60Uq4MT5Qpr4SqeDaF6yj8eO6ZMpYsoProoxm9yjJxfq2+WlWmkgU0F/VYuImexnPLylSygKp7Hdk+CXfNyxGQePm6ORcLZSrpSTRuyPl7yhQBwYSAYEJAMCEgmBAQTAgIJgQEEwKCCQHBhIBgQkAwISCYEBBMCAgmBAQTAoIJAcFkXmi14u2LVe/dY8ldceVGPFGIH4J0cBvr8AmopSaDKc4WX1VBfFuvWLg6V/1x9UvL5tLhdinnd8Ppx72m1uLzEtZSPixuTuKxKepl5n5h4XXxZlioAQTUVjEOlE5RRXRU/LqdfPkQAbVQ8eZlofRjcXreK/mRiIDa6MuPTQ1b6LmFxaTDLwioheppHVHuQA1wiqv1lZ0SIaCWiiGuV59KNcA7WU/O//1eQivVg6fCyPerkPaUOiTnkw3C4D5Qi5WPviurT4Nr/JfJCbhfCK81bVZBTHeCzhGoYybRxbB3ycMICO1AQDAhIJgQEEwICCYEBBMCggkBwYSAYEJAMCEgmBAQTAgIJgQEEwKCCQHBhIBgQkAwISCYEBBMCAgmBAQTAoIJAcGEgGBCQDAhIJgQEEwICCYEBBMCgknKgJoaDNl9IfypTBFQK7hsn7uEAYWfhRsJsZmJrLchWUAhal+4tigd1wM1lalkAdU7wzQ127jLfNCOMpb0KiyO3FNxLnQNYef3h893lbGkAdUTQkNQX0R0qfpo/f7+xjNlLvl9oPMB2StqaMp6N4SdP+5/31cHNHIjcXIkGvm+YtgSIf0jKh6EGPpdOPL8rbFJ9edT1of1x2TbRmlVTj05f0+zJIYPiq4M4/F+U7sG3qVb2ergfO/OA6FzeC8MJgQEk84E1NSmspgu6+2eJltjhy/WqhPV+qqmt3S4Pbm/EkenT7t4wtpGWR+B/NnCj/W21vps+6J6S8fJDsUckW5FtgGd7/s5uODLPb8w15l7LW2WbUCT+0rTJNzWERfLNqDoXDH9AZr+dSTBZTxMCAgmBAQTAoIJAcGEgGBCQDAhIJgQEEyyDah60/TSlR/1u/WaRc5/pVuS769zRFdWFU1VvVt/tPT2xZ5myad4BtMfk26hQ7YBBcVjf1lB1UGoekI3hf+IQb8pkXzPgebP6vXkLGC8AZ9wjkG2AZUrw5PqRynrdeV3pEy5nDrrq7Awf/aTWLh4LS5oSwllHVB9FApBT8RL2dXEsJV6mEP294Ema/E/DXQohYtV8bx/sDFUYp24kXg+0KFfXZMx5Or/qnPFuN5EPLVLr4NzU/+yvYtuUP1ofO3kljWbyurjuArnlzA/3p1ccAAAAAAAAAAAAAAAAAAAALTWX53gT1R56C6pAAAAAElFTkSuQmCC"},tvXb:function(e,t){e.exports='<div class="hc-show-plugins">\n</div>\n'},"uMe+":function(e,t){e.exports='<div class="portal-plugins-setting" ng-init="init()">\n    <div class="choose-plugin">\n        <div ng-repeat="item in pluginsConfig" class="item" ng-click="choose_plugins(item)">\n            <div class="icon {{item.icon}}"></div>\n            <div class="text-content">{{item.label}}</div>\n        </div>\n    </div>\n</div>\n'},v6AK:function(e,t,n){n("7xSq").factory("messageService",["listCacheService","listCacheService2","dataService","$q",function(e,t,n,i){return{getMessageUnread:function(){return n.callHcmOpenApi("message.unread.count",{except:"10001"},null,!0)},getMessageStatus:function(){return n.callHcmOpenApi("message.status",{},null,!0)},getMessage:function(e){return n.callHcmOpenApi("message.get",{id:e},null,!0)},messageList:function(e,n){return t({class:"message_list",type:e},"message.list",{type:e,key_words:n})},messageHighLevelList:function(e){return n.callHcmOpenApi("message.list",{level:e,ch_read:!1})},warnMessageList:function(e,n,i){var a=1;return"warn_done"===e&&(a=2),t(null,"get.warn.message.list",{page_size:n,to:i,status:a})},messageSetRead:function(e){return n.callHcmOpenApi("message.set.read",{id:e},null,!0)},messageDelete:function(e){return n.callHcmOpenApi("message.batch.delete",{ids:e})},messageBatchSetRead:function(){return n.callHcmOpenApi("batch.set.message.read",{})},messageBatchDelete:function(){return n.callHcmOpenApi("batch.remove.notify",{})}}}])},v8m2:function(e){e.exports=JSON.parse('{"tip":"","fields":[{}]}')},vl5y:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var core_js_modules_es_symbol__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("pNMO"),core_js_modules_es_symbol__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_symbol__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es_symbol_description__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("4Brf"),core_js_modules_es_symbol_description__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_symbol_description__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("ZbhI"),_babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_2__),_showMessage_html__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("U5sc"),_showMessage_html__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_showMessage_html__WEBPACK_IMPORTED_MODULE_3__),_showMessage_scss__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("L6CN"),_showMessage_scss__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_showMessage_scss__WEBPACK_IMPORTED_MODULE_4__),moment__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("wd/R"),moment__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_5__),PDFObject=__webpack_require__("JcNw");window.app.controller("showMessageController",["$controller","$scope","dataService","documentPreviewService",function($controller,$scope,dataService,documentPreviewService){if($scope.readed=function(e){(0==$scope.now||$scope.now>$scope.sended)&&dataService.callHcmOpenApi("message.set.read ",{id:e}).then((function(){$scope.sended=$scope.now}))},$scope.changeStatus=function(e){switch(e){case 1:return function(){return!$scope.ifOldCanClick};case 2:return function(){return!$scope.ifNewCanClick}}},$scope.resetOperate=function(){$scope.$dialog.operates([{key:333,label:"上一条",hide:!$scope.ifOldCanClick,func:function func(){if($scope.ifNewCanClick=!0,$scope.now-1>=0){if($scope.now=$scope.now-1,$scope.title=$scope.params.list[$scope.now].title.description,$scope.time=moment__WEBPACK_IMPORTED_MODULE_5___default()($scope.params.list[$scope.now].send_date).format("YYYY-MM-DD HH:mm:ss"),$scope.message=$scope.params.list[$scope.now].content,$scope.message_type=$scope.params.list[$scope.now].message_type,$scope.go_param=$scope.params.list[$scope.now].go_param,$scope.ifOldCanClick=!0,$scope.go_param=eval($scope.go_param),$scope.file_list_str="",$scope.file_list_str_preview="",$scope.go_param&&$scope.go_param.download_file_index&&$scope.go_param.download_file_type&&$scope.go_param.download_file_index.length===$scope.go_param.download_file_type.length)for(var i=0;i<$scope.go_param.download_file_index.length;i++){var _context;-1===_babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_2___default()(_context=["xls","xlsx","png","jpg","jpeg","pdf"]).call(_context,$scope.go_param.download_file_type[i])?""===$scope.file_list_str?$scope.file_list_str=$scope.go_param.download_file_index[i]:$scope.file_list_str=$scope.file_list_str+"#"+$scope.go_param.download_file_index[i]:""===$scope.file_list_str_preview?$scope.file_list_str_preview=$scope.go_param.download_file_index[i]:$scope.file_list_str_preview=$scope.file_list_str_preview+"#"+$scope.go_param.download_file_index[i]}$scope.show_file=0!==$scope.file_list_str.length,$scope.show_file_preview=0!==$scope.file_list_str_preview.length,0==$scope.now&&($scope.ifOldCanClick=!1)}else $scope.ifOldCanClick=!1;$scope.resetOperate()},default:!1,disabled:$scope.changeStatus(1)},{key:999,label:"下一条",hide:!$scope.ifNewCanClick,func:function func(){if($scope.ifOldCanClick=!0,$scope.now+1<$scope.params.count){if($scope.now=$scope.now+1,$scope.title=$scope.params.list[$scope.now].title.description,$scope.time=moment__WEBPACK_IMPORTED_MODULE_5___default()($scope.params.list[$scope.now].send_date).format("YYYY-MM-DD HH:mm:ss"),$scope.message=$scope.params.list[$scope.now].content,$scope.message_type=$scope.params.list[$scope.now].message_type,$scope.go_param=$scope.params.list[$scope.now].go_param,$scope.ifNewCanClick=!0,$scope.go_param=eval($scope.go_param),$scope.file_list_str="",$scope.file_list_str_preview="",$scope.go_param&&$scope.go_param.download_file_index&&$scope.go_param.download_file_type&&$scope.go_param.download_file_index.length===$scope.go_param.download_file_type.length)for(var i=0;i<$scope.go_param.download_file_index.length;i++){var _context2;-1===_babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_2___default()(_context2=["xls","xlsx","png","jpg","jpeg","pdf"]).call(_context2,$scope.go_param.download_file_type[i])?""===$scope.file_list_str?$scope.file_list_str=$scope.go_param.download_file_index[i]:$scope.file_list_str=$scope.file_list_str+"#"+$scope.go_param.download_file_index[i]:""===$scope.file_list_str_preview?$scope.file_list_str_preview=$scope.go_param.download_file_index[i]:$scope.file_list_str_preview=$scope.file_list_str_preview+"#"+$scope.go_param.download_file_index[i]}$scope.show_file=0!==$scope.file_list_str.length,$scope.show_file_preview=0!==$scope.file_list_str_preview.length,$scope.now==$scope.params.list.length-1&&($scope.ifNewCanClick=!1),$scope.readed($scope.params.list[$scope.now].id)}else $scope.ifNewCanClick=!1;$scope.resetOperate()},default:!0,disabled:$scope.changeStatus(2)},{key:123,label:"确认",func:function(){var e;null===(e=$scope.$dialog)||void 0===e||e.dialog_close()},hide:function(){return!window.app}}])},$scope.title=$scope.params.list[0].title.description,$scope.time=moment__WEBPACK_IMPORTED_MODULE_5___default()($scope.params.list[0].send_date).format("YYYY-MM-DD HH:mm:ss"),$scope.message=$scope.params.list[0].content,$scope.message_type=$scope.params.list[0].message_type,$scope.go_param=eval($scope.params.list[0].go_param),$scope.file_list_str="",$scope.file_list_str_preview="",$scope.go_param&&$scope.go_param.download_file_index&&$scope.go_param.download_file_type&&$scope.go_param.download_file_index.length===$scope.go_param.download_file_type.length)for(var i=0;i<$scope.go_param.download_file_index.length;i++){var _context3;-1===_babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_2___default()(_context3=["xls","xlsx","png","jpg","jpeg","pdf"]).call(_context3,$scope.go_param.download_file_type[i])?""===$scope.file_list_str?$scope.file_list_str=$scope.go_param.download_file_index[i]:$scope.file_list_str=$scope.file_list_str+"#"+$scope.go_param.download_file_index[i]:""===$scope.file_list_str_preview?$scope.file_list_str_preview=$scope.go_param.download_file_index[i]:$scope.file_list_str_preview=$scope.file_list_str_preview+"#"+$scope.go_param.download_file_index[i]}if($scope.show_file=0!==$scope.file_list_str.length,$scope.show_file_preview=0!==$scope.file_list_str_preview.length,$scope.multi_image_data_preview={options:{readOnly:!0,not_download:!1,not_preview:!1,hide_name:!1}},$scope.multi_image_data={options:{readOnly:!0,not_download:!1,not_preview:!0,hide_name:!1}},$scope.now=0,$scope.sended=0,$scope.ifOldCanClick=!1,$scope.ifNewCanClick=!0,$scope.readed($scope.params.list[$scope.now].id),$scope.params.count>1?$scope.ifNewCanClick=!0:$scope.ifNewCanClick=!1,$scope.resetOperate(),$scope.$dialog.setClose((function(){$scope.$dialog.resolve_data(),$scope.$dialog.dialog_close()})),"pc"===$scope.client){var file_name=$scope.params.list[0].go_param.file_name;PDFObject.embed(window.location.protocol+"//"+window.location.host+window.hcm_wengen+"/document/get_pdf_by_index/".concat(file_name,"?temp=use&index=")+$scope.go_param.file_index+window.hcm_env_post,"#printAppointDismissal")}}]),__webpack_exports__.default={controller:"showMessageController",template:_showMessage_html__WEBPACK_IMPORTED_MODULE_3___default.a,title:"重要消息预览",name:"showMessageDialog"}},w2Ej:function(e,t,n){"use strict";var i=function(){function e(e,t,n){this.$timeout=e,this.baseCRUDService=t,this.dataService=n,this.crudService=this.baseCRUDService.getModelService("HomeWidgetMostUsedApp")}return e.prototype.getAllMostUsedAppList=function(e,t,n){return this.dataService.callHcmOpenApi("hcm.home.widget.most.used.app.my.all",{category:e,target:t,role:n})},e.prototype.getMostUsedAppList=function(e,t,n){return void 0===n&&(n=!1),this.dataService.callHcmOpenApi("hcm.home.widget.most.used.app.my",{category:e,target:t},"session,0.015",n)},e.prototype.addMostUsedApp=function(e,t,n,i,a,o,s){return void 0===o&&(o=!1),this.crudService.createItem({company_id:e,employee_id:t,app_id:n,is_service:o,sequence:i,category:a,target:s})},e.prototype.delMostUsedApp=function(e){return this.crudService.removeItem(e)},e.$inject=["$timeout","BaseCRUDService","dataService"],e}();window.app.service("homeWidgetMyAppService",i)},wxWo:function(e){e.exports=JSON.parse('{"tip":"","fields":[{"label":"轮播图图片","key":"carousel_data","component":"hc-input-upload-multiple","options":{"type":"img","length":5,"file_type":["jpeg"],"src_type":"img","upload_img":true}},{"key":"drill","label":"穿透定义","component":"hc-input-script","options":{"singleLine":true,"mode":"json","width":"col-12","placeholder":"请输入穿透定义","required":false}}]}')},xfL1:function(e,t){e.exports='<div id="visit_path" class="visit_path_block">\n    <ui class="path_item_block" ng-click="module_name_click()">\n        <li class="path-item path-logo-cloud icon-organizational"></li>\n        <li class="path-item">{{modulename}}</li>\n    </ui>\n    <ui class="path_item_block" ng-click="_item.click_item(_item.item_id)" ng-repeat="_item in visitpathlist">\n        <li class="path-item path-logo-arrow icon-hcm-arrow-right"></li>\n        <li class="path-item">{{_item.item_name}}</li>\n    </ui>\n</div>'},xpeM:function(e,t,n){n("IkEK")},"yA+9":function(e,t,n){n("IW72")},yT68:function(e){e.exports=JSON.parse('{"tip":"","fields":[{"key":"title","label":"插件标题","component":"hc-input","options":{"data_type":"string","maxlength":40,"placeholder":"请输入插件标题","require":"true","singleLine":true}},{"label":"列表模型","key":"model","component":"hc-super-selector","options":{"data_type":"string","individual_name":"name_description","placeholder":"请输入列表模型","returnFormat":"name","selectorObject":"hcm.db.object","maxlength":40,"require":true,"singleLine":true}},{"key":"state","label":"列表场景","component":"hc-input","options":{"data_type":"string","maxlength":40,"placeholder":"请输入列表场景","singleLine":true}},{"key":"operates","label":"操作定义","component":"hc-input-json","options":{"data_type":"JSON","singleLine":true}}]}')},ycMW:function(e,t,n){e.exports='<style>\n    div {\n        text-align: center;\n        margin-left: auto;\n        margin-right: auto;\n        /*margin-top: 10%;*/\n    }\n\n    .wx_login {\n        width: 100%;\n        height: 100%;\n        font-size: 14px;\n    }\n\n    .wx_login .pc_img {\n        width: 80%;\n        position: relative;\n        margin: 0 auto;\n        margin-top: 20%;\n        background: transparent;\n    }\n\n    .wx_login .confirm {\n        position: relative;\n        margin-top: 20%;\n        width: 100%;\n        text-align: center;\n    }\n\n    .wx_login .tip {\n        position: relative;\n        color: #b7b7b7;\n        left: 0;\n        right: 0;\n    }\n\n    .wx_login .icon {\n        color: #2ce3a9;\n    }\n\n    .wx_login .button {\n        background-color: #2ce3a9;\n        color: #ffffff;\n        position: relative;\n        top: 30px;\n        left: 0;\n        width: 50%;\n        min-width: 200px;\n        line-height: 40px;\n        box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.1);\n    }\n\n    .wx_login .button:active,\n    .wx_login .button:hover {\n        background-color: #28b88a;\n    }\n</style>\n<div class="wx_login">\n    <img class="pc_img" src="'+n("NJvz")+'">\n    \x3c!-- <div ng-hide="isLogin"><h3>PC微信登录确认</h3></div> --\x3e\n    <div class="confirm">\n        <div class="tip" ng-show="isLogin">\n            <h3><span class="icon icon-hcm-right-circle-solid"></span>恭喜您，登录成功!</h3>\n        </div>\n        <div ng-show="!isLogin" class="button" ng-click="login()">点击登录PC客户端</div>\n    </div>\n</div>\n'},"ypA+":function(e,t){e.exports='<div class="pc-main-nav" ng-init="init()">\n    <div class="nav-body hcm-nav-content">\n        <div class="category-list hcm-nav" \n             ng-if="!is_banner_menu&&display_type!==\'terminal\'"\n             ng-class="{\n                 \'collapse-menu\':!expand,\n                 \'expand-menu\':expand,\n                 \'multi-view-height\':multi_view_config.position===\'top\',\n                 \'full-height\':multi_view_config.position!==\'top\'\n             }">\n            <div class="item-container hcm-nav-fixed">\n                <div ng-repeat="category in category_list track by $index" class="category-item">\n                    <div class="nav-item" ng-click="showMore($event, category, $index)" hcm-key="{{category.id}}"\n                        ng-class="{\'selected\': !current_category_id&&category_more_show.id === category.id}"\n                        hc-title="{{category.name}}"\n                        options="{mode: \'tip\', seconds: 0,showOnOverflow:true,direction:\'row\'}">\n                        <span class="icon {{category.icon || \'icon-hcm-cloud\'}}"></span>\n                        <span class="label" data-index="{{$index+1}}">{{ category.name }}</span>\n                        <span class="icon right icon-hcm-arrow-right"\n                            ng-if="category_more_show.id === category.id"></span>\n                    </div>\n                    <div ng-repeat="sub_category in category.child"\n                        ng-if="sub_category.category_id===current_category_id"\n                        ng-click="showChild($event, category,sub_category.id)"\n                        ng-class="{\'selected\': sub_category.id===current_sub_category_id}" class="nav-item child-item">\n                        <span class="icon {{sub_category.icon || \'icon-hcm-cloud\'}}"></span>\n                        <span class="label">{{ sub_category.name }}</span>\n                    </div>\n                </div>\n            </div>\n            <div class="hcm-nav-foot" ng-click="collapseMenu()" ng-class="{\'collapse-menu\':!expand,\'expand-menu\':expand,}">\n                <div class="text">\n                    <div class="foot-icon" ng-class="expand?\'icon-hcm-arrow-left-double\':\'icon-hcm-arrow-right-double\'">\n                    </div>\n                    <span ng-if="expand" class="desc">{{\'Collapse\'|translate}}</span>\n                </div>\n            </div>\n        </div>\n\n        <div class="category-content" ng-class="{portal: category_more_show.id === \'portal\'}" id="{{\'c_\' + category_more_show.id}}">\n            <div class="workbench-tabs" ng-show="isWorkbench && workbenchType === \'1\' && category_more_show.id === \'portal\'">\n                <hc-tabs value="currentWorkBench"\n                         ng-hide="workbenchList && !workbenchList.length"\n                         disable-scroll-into-view="true"\n                         on-value-change="onWorkBenchChange">\n                    <hc-tab-pane\n                        ng-repeat="tab in workbenchList track by $index"\n                        label="tab.name"\n                        name="tab.id"\n                        hide-count=true\n                        is-selected-new-style=true\n                        children="tab.children"\n                        is-multi-level-single-line=true\n                        visual-parent-tab=true\n                    ></hc-tab-pane>\n                </hc-tabs> \n                <span class="icon icon-hcm-set" ng-click="editPersonalWorkBenchList()" hc-title="维护个人工作台" options="{mode: \'tip\'}"></span>\n               \n            </div>\n            <hc-show-plugins class="new-menu-style" ng-style="{\'height\':(isWorkbench && workbenchType === \'1\' && category_more_show.id === \'portal\')? \'calc(100% - 40px)\': \'100%\'}" ng-if="category_more_show.id === \'portal\'&&show_new_portal&&display_type!==\'terminal\'">\n            </hc-show-plugins>\n            <hc-plugins-setting class="new-menu-style" ng-if="category_more_show.id === \'portal\'&&!show_new_portal&&display_type!==\'terminal\'">\n            </hc-plugins-setting>\n            \x3c!-- <portal class="new-menu-style" ng-if="category_more_show.id === \'portal\'"></portal> --\x3e\n            <div class="menu-classify-item" ng-if="category_more_show.id !== \'portal\'&&classify.applications.length&&display_type!==\'terminal\'"\n                ng-repeat="classify in category_more_show.classify_list track by $index" classify-id="{{classify.id}}">\n                <div class="classify-header" ng-if="classify.name && classify.applications.length" data-index="{{(show_portal?currentCategoryIndex+1:currentCategoryIndex) + \'.\' + ($index+1)}}">{{classify.name}}\n                </div> \n                <div class="classify-body">\n                    <div class="classify-body-item-container" ng-repeat="app in classify.applications track by $index">\n                        <a class="classify-body-item"\n                            ng-click="jumpTo(app, $event)" \n                            ng-href="{{app.href}}"\n                            ng-attr-target="{{is_open_new_page||app.open_new_page?\'_blank\':\'\'}}"\n                            >\n                            <hc-icon app="app" options="\'icon-left\'"></hc-icon>\n                            <span class="label" hcm-key="{{app.id}}" data-index="{{$index+1}}"\n                                hc-title="{{app_title_description ? app.description : app.name}}" \n                                options="{mode: \'tip\', showOnOverflow: !app_title_description, \'onOverflowY\': true, tipStyle:{\'max-width\':\'200px\',\'word-wrap\':\'break-word\'}}"\n                                >\n                                {{app.name}}\n                            </span>\n                            <span class="collect" ng-click="setFavoriteApp(app, appIsFavorite(app), $event)"\n                                ng-class="appIsFavorite(app) ? \'icon-hcm-evaluation-solid\' : \'icon-hcm-evaluation\'"></span>                \n                        </a>\n                    </div>\n                </div>\n            </div>\n            <div id="terminal-item" ng-if="display_type===\'terminal\'">\n                <div class="classify-body">\n                    <div class="classify-body-item-container" ng-repeat="app in terminal_apps track by $index" >\n                        <a class="classify-body-item"\n                            ng-click="jumpTo(app, $event)" \n                            ng-href="{{app.href}}">\n                            <hc-icon app="app" options="\'icon-top\'"></hc-icon>\n                            <span class="label" hcm-key="{{app.id}}" \n                                hc-title="{{app_title_description ? app.description : app.name}}" \n                                options="{mode: \'tip\', showOnOverflow: !app_title_description, \'onOverflowY\': true, tipStyle:{\'max-width\':\'200px\',\'word-wrap\':\'break-word\'}}"\n                                >\n                                {{app.name}}\n                            </span>            \n                        </a>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n'},ysBk:function(e,t){e.exports='<div class="home-widget-emp-card-info-mobile" ng-init="init()" ng-if="client===\'mobile\'">\n    <div class="emp-card-sign">\n        <span class="text">{{emp_slogan}}</span>\n        <span class="icon icon-hcm-edit" ng-repeat="item in model_meta.extend"\n              ng-if="item[\'key\']==\'show_sign\'&& !item[\'value\'].hide" ng-click="editSlogan()"></span>\n    </div>\n    <hc-list-new class="emp-card-height"  model="list_model"></hc-list-new>\n</div>\n'},"z+oF":function(e,t){e.exports='<div class="home-widget">\n    <div class="home-widget-body">\n        <hc-announce></hc-announce>\n    </div>\n</div>'},z1A0:function(e,t){e.exports='<div ng-init="init()" ng-style="{\'height\':\'100%\'}">\n    <home-widget-common-container tabs="$ctrl.tabs" operates="$ctrl.operates" current-tab="$ctrl.currentTab">\n        <home-widget-body-list-container options="$ctrl.options" no-advance-query="false">\n        </home-widget-body-list-container>\n    </home-widget-common-container>\n</div>\n'},zlw7:function(e,t,n){"use strict";n.r(t);var i=n("FLGM"),a=n.n(i),o=n("5PDf"),s=n.n(o),c=n("lHQ6"),r=n.n(c),l=n("WxoT"),_=n.n(l),d=(n("PCLm"),n("+lK5"),n("qePV"),n("07d7"),n("JfAA"),n("KYsz")),p=n.n(d),u=n("o+MX"),m=n.n(u),g=n("526F"),h=n.n(g),v=n("ZbhI"),f=n.n(v),y=n("M5Mt"),b=n.n(y),w=n("mnMc"),x=n.n(w),k=n("guyh"),M=n.n(k),E=n("RXMP"),O=n.n(E),A=n("/FZm"),S=n.n(A),C=n("Kwsy"),D=n.n(C),P=n("mrSG"),j=n("8xC1"),I=n("k37F"),T=n.n(I),B=(n("vXi1"),n("UAhV")),L=(n("E0Ah"),n("gsMG"),n("XNyo"),n("+oHS")),R=n.n(L),W=function(){function e(e,t){this.$q=e,this.dataService=t}return e.prototype.pluginsConfig=function(){var e=this.$q.defer();return this.dataService.callHcmOpenApi("portal.plugins.config",{},null,!0).then((function(t){var n,i,o={};a()(t).call(t,(function(e){o[e.category_key]?o[e.category_key].children.push(e):(o[e.category_key]=angular.copy(e.category),o[e.category_key].children=[e])})),e.resolve(s()(n=a()(i=R()(o)).call(i,(function(e){return o[e]}))).call(n,(function(e){return e.children.length>0})))})),e.promise},e.prototype.getPlugins=function(){return this.dataService.callHcmOpenApi("portal.plugins.list",{},null,!0)},e.prototype.getSharedPlugins=function(){return this.dataService.callHcmOpenApi("portal.plugins.share.list",{},null,!0)},e.prototype.getPersonalPlugins=function(){return this.dataService.callHcmOpenApi("portal.plugins.person.list",{},null,!0)},e.prototype.getMyPlugins=function(e){return void 0===e&&(e=!0),this.dataService.callHcmOpenApi("portal.plugins.my",{standard:e},null,!0)},e.prototype.modifyPlugins=function(e,t){return void 0===t&&(t=!0),this.dataService.callHcmOpenApi("portal.plugins.modify",{info:e,standard:t},null,!0)},e.prototype.resetPlugins=function(){return this.dataService.callHcmOpenApi("portal.plugins.reset",{},null,!0)},e.$inject=["$q","dataService"],e}();j.a.service("hcPluginsSettingService",W);n("DcX3");var U,H,K=document.getElementsByTagName("body")[0].getBoundingClientRect().width;K>1279&&K<1680?(U=42,H=10):K>1679&&K<1920?(U=52,H=12):K>1919?(U=62,H=12):(U=30,H=10);var q=function(){function e(e,t,n,i,a,o,s,c){this.$scope=e,this.$rootScope=t,this.$element=n,this.hcPluginsSettingService=i,this.contextService=a,this.$hcDialog=o,this.dataToolService=s,this.hcAutoCopyService=c,this.resizeConfig={startFlag:!1,position:{startX:0,startY:0,startWidth:0,startHeight:0},operatingPluginElement:null},this.dragConfig={startFlag:!1,position:{startX:0,startY:0,startLeft:0,startTop:0},operatingPluginElement:null}}return e.prototype.$onInit=function(){var e,t,n,i,a=this;this.roles=null!==(t=null===(e=this.contextService.getContext("auth"))||void 0===e?void 0:e.roles)&&void 0!==t?t:{},this.is_admin=null===(n=this.roles)||void 0===n?void 0:n.onlyoneowner,this.is_onlyoneowner=null===(i=this.roles)||void 0===i?void 0:i.onlyoneowner;var o=document.getElementsByClassName("category-content")[0].getBoundingClientRect().width;this.grid=Math.min(r()((o/24).toString(),10),70),this.getMyPlugins(),D()((function(){a.calcPlugin(["public","private"])}),300),this.setOperate(),this.sortable_config={sort:!1,animation:300},this.$scope.$on("collapse-menu-plugins",(function(e,t){var n=a.getCurMaxRow(a.publicPlugins)-1,i=a.getCurMaxRow(a.privatePlugins)-1;if(t){var o,s;a.calcPlugin(["public","private"]),S()(o=a.$element).call(o,"#public").height(n*a.grid),S()(s=a.$element).call(s,"#private").height(i*a.grid)}else{var c,l,_,d,p=24*(a.grid+7.5);S()(c=a.$element).call(c,".hc-plugins-setting").css("width",p),S()(l=a.$element).call(l,"#public").height(n*(a.grid+7.5)),S()(_=a.$element).call(_,"#private").height(i*(a.grid+7.5)),O()(d=["public","private"]).call(d,(function(e){var t,n;S()(t=S()(n=a.$element).call(n,"#"+e)).call(t,".plugin").each((function(e,t){var n=r()(t.getAttribute("data-size-x"),10)*(a.grid+7.5)-H,i=r()(t.getAttribute("data-size-y"),10)*(a.grid+7.5)-H,o=(r()(t.getAttribute("data-col"),10)-1)*(a.grid+7.5)+H/2,s=(r()(t.getAttribute("data-row"),10)-1)*(a.grid+7.5)+H/2;t.setAttribute("style","width:"+n+"px;height:"+i+"px;left:"+o+"px;top:"+s+"px")}))}))}}))},e.prototype.isPublicShow=function(){return!M()(this.sortable_config)||"public"===this.settingType},e.prototype.isPrivateShow=function(){return!M()(this.sortable_config)||"private"===this.settingType},e.prototype.getMyPlugins=function(){var e=this;this.hcPluginsSettingService.getMyPlugins(!1).then((function(t){var n,i;e.privatePlugins=t.person,e.publicPlugins=t.share;var a=e.getCurMaxRow(e.publicPlugins)-1;S()(n=e.$element).call(n,"#public").height(a*e.grid);var o=e.getCurMaxRow(e.privatePlugins)-1;S()(i=e.$element).call(i,"#private").height(o*e.grid)}))},e.prototype.calcPlugin=function(e){var t,n=this;S()(t=this.$element).call(t,".hc-plugins-setting").css("width",24*this.grid),O()(e).call(e,(function(e){var t,i;S()(t=S()(i=n.$element).call(i,"#"+e)).call(t,".plugin").each((function(e,t){var i=r()(t.getAttribute("data-size-x"),10)*n.grid-H,a=r()(t.getAttribute("data-size-y"),10)*n.grid-H,o=(r()(t.getAttribute("data-col"),10)-1)*n.grid+H/2,s=(r()(t.getAttribute("data-row"),10)-1)*n.grid+H/2;t.setAttribute("style","width:"+i+"px;height:"+a+"px;left:"+o+"px;top:"+s+"px")}))}))},e.prototype.removePluginStyle=function(e){var t,n,i;S()(t=this.$element).call(t,".hc-plugins-setting").removeAttr("style"),S()(n=S()(i=this.$element).call(i,"#"+e)).call(n,".plugin").each((function(e,t){t.removeAttribute("style")}))},e.prototype.modifyPlugins=function(e){var t=this;this.hcPluginsSettingService.modifyPlugins(e||this.plugins,!1).then((function(e){t.plugins=e,t.$rootScope.show_warning("修改成功")}))},e.prototype.resetPlugins=function(){var e=this;this.hcPluginsSettingService.resetPlugins().then((function(t){e.privatePlugins=e.plugins=t,e.$rootScope.show_warning("修改成功")}))},e.prototype.setOperate=function(){this.portal_operate=[{key:"adjust_layout",label:"调整共享布局",click:this.adjust_share_layout,show:this.is_admin},{key:"adjust_layout",label:"调整个人布局",click:this.adjust_private_layout,show:!0}]},e.prototype.add_plugins=function(){var e=this,t=this;this.$hcDialog.getDialog({controller:"portalPluginsSetting",template:n("uMe+")}).params({}).title("新增插件").show().then((function(n){var i,a,o;if(console.log(n),x()(i=["app_list","time_my_unusual"]).call(i,null===(o=null==n?void 0:n.category)||void 0===o?void 0:o.key)&&S()(a=e.plugins).call(a,(function(e){return e.category_key===n.category.key})))e.$rootScope.show_warning("主页中已经存在“"+n.category.label+"”插件");else{var s,c;"dashboard"===n.category.key?(s=8,c=6):"message"===n.category.key?(s=8,c=4):"calendar"===n.category.key?(s=8,c=8):"app_list"===n.category.key?(s=12,c=6):(s=6,c=4);var r=e.getCurMaxRow();n.params=Object(P.a)({sizeX:s,sizeY:c,col:1,row:r},n.params),n.is_dynamic&&(n.params.is_dynamic=n.is_dynamic,n.params.message_show_sort=n.message_show_sort),"public"===t.settingType?n.shared_type="public":n.shared_type="private",t.plugins.push(n)}}))},e.prototype.copy_plugin_config=function(e){this.$rootScope.show_warning("已复制到剪贴板")},e.prototype.delete_plugin=function(e){var t,n;b()(t=this.plugins).call(t,f()(n=this.plugins).call(n,e),1)},e.prototype.edit_plugin=function(e,t){var n=this,i=Object(P.a)({"home-widget-message":B.a},this.dataToolService.getWidget());"dashboard_child"===e.key?this.$hcDialog.getDialog(i[e.category.plugin]).params(e.params).show().then((function(e){this.plugins[t]=e})):"count_data"===e.key?this.$hcDialog.getDialog(i[e.category.plugin]).params(e.params).show().then((function(e){n.plugins[t].params=e.params})):"hcm_dashboard_child"===e.key&&this.$hcDialog.getDialog(i[e.category.plugin]).params(e.params).show().then((function(t){h()(e,t)}))},e.prototype.adjust_share_layout=function(e){var t;e.sortable_config.sort=!0,e.settingType="public",e.removePluginStyle(e.settingType),e.plugins=e.publicPlugins,e.temPlugins=JSON.parse(_()(e.publicPlugins));var n=S()(t=e.$element).call(t,"#public");0===n.height()?n.height(8*U):n.height(n.height()+U)},e.prototype.adjust_private_layout=function(e){var t;e.sortable_config.sort=!0,e.settingType="private",e.removePluginStyle(e.settingType),e.plugins=e.privatePlugins,e.temPlugins=JSON.parse(_()(e.privatePlugins));var n=S()(t=e.$element).call(t,"#private");0===n.height()?n.height(8*U):n.height(n.height()+U)},e.prototype.cancel_adjust_layout=function(){var e,t;this.sortable_config.sort=!1,"public"===this.settingType?this.publicPlugins=this.temPlugins:this.privatePlugins=this.temPlugins;var n=this.getCurMaxRow(this.temPlugins);("public"===this.settingType?S()(e=this.$element).call(e,"#public"):S()(t=this.$element).call(t,"#private")).height((n-1)*this.grid),this.calcPlugin([this.settingType])},e.prototype.save_adjust_layout=function(){var e,t,n;if(this.checkAllPluginsIsOverlap())this.$rootScope.show_warning("插件有重叠，请调整后再保存");else{var i=m()(e=this.publicPlugins).call(e,this.privatePlugins);this.modifyPlugins(i),this.sortable_config.sort=!1;var a=this.getCurMaxRow();("public"===this.settingType?S()(t=this.$element).call(t,"#public"):S()(n=this.$element).call(n,"#private")).height((a-1)*this.grid),this.calcPlugin([this.settingType])}},e.prototype.checkAllPluginsIsOverlap=function(){for(var e=0;e<this.plugins.length;e++)for(var t=e+1;t<this.plugins.length;t++)if(this.checkIsOverlap(this.plugins[e].params,this.plugins[t].params))return!0;return!1},e.prototype.checkIsOverlap=function(e,t){return e.col+e.sizeX>t.col&&t.col+t.sizeX>e.col&&e.row+e.sizeY>t.row&&t.row+t.sizeY>e.row},e.prototype.mouseUp=function(e){var t,n,i;(this.resizeConfig.startFlag||this.dragConfig.startFlag)&&(this.resizeConfig.startFlag&&(this.resizeEnd(),i=this.getCurMaxRow()),this.dragConfig.startFlag&&(this.dragEnd(),i=this.getCurMaxRow()),("public"===this.settingType?S()(t=this.$element).call(t,"#public"):S()(n=this.$element).call(n,"#private")).height((i+3)*U))},e.prototype.getCurMaxRow=function(e){var t;return p()(t=e||this.plugins).call(t,(function(e,t){var n=t.params.row+t.params.sizeY;return n>e&&(e=n),e}),1)},e.prototype.mouseMove=function(e){this.resizeConfig.startFlag?this.resizeMove(e):this.dragConfig.startFlag&&this.dragMove(e)},e.prototype.resizeStart=function(e,t){e.stopPropagation(),this.resizeIndex=t,this.resizeConfig.startFlag=!0,this.resizeConfig.position.startX=e.clientX,this.resizeConfig.position.startY=e.clientY,this.resizeConfig.operatingPluginElement=e.currentTarget.parentElement.parentElement,this.resizeConfig.position.startWidth=this.resizeConfig.operatingPluginElement.clientWidth,this.resizeConfig.position.startHeight=this.resizeConfig.operatingPluginElement.clientHeight},e.prototype.resizeMove=function(e){if(this.resizeConfig.startFlag){var t=e.clientX-this.resizeConfig.position.startX,n=this.resizeConfig.position.startWidth+t,i=e.clientY-this.resizeConfig.position.startY,a=this.resizeConfig.position.startHeight+i;"app_list"!==this.plugins[this.resizeIndex].category.key&&(this.resizeConfig.operatingPluginElement.style.width=n+"px"),this.resizeConfig.operatingPluginElement.style.height=a+"px"}},e.prototype.resizeEnd=function(){var e;this.resizeConfig.startFlag=!1;var t=this.resizeConfig.operatingPluginElement.clientWidth,n=this.resizeConfig.operatingPluginElement.clientHeight,i=Math.floor((t-this.resizeConfig.position.startWidth)/U),a=(t-this.resizeConfig.position.startWidth)%U;(a>-(U-H)&&a<0||a>H)&&i++;var o=Math.floor((n-this.resizeConfig.position.startHeight)/U),s=(n-this.resizeConfig.position.startHeight)%U;(s>-(U-H)&&s<0||s>H)&&o++;var c,r,l=Number(this.resizeConfig.operatingPluginElement.getAttribute("data-size-x")),_=Number(this.resizeConfig.operatingPluginElement.getAttribute("data-size-y"));this.resizeConfig.operatingPluginElement.style.width="",this.resizeConfig.operatingPluginElement.style.height="","dashboard"===this.plugins[this.resizeIndex].category.key?(c=8,r=6):"message"===this.plugins[this.resizeIndex].category.key?(c=8,r=4):"calendar"===this.plugins[this.resizeIndex].category.key?(c=8,r=8):(c=6,r=4);var d=Math.max(l+i,c),p=Math.max(_+o,r);this.plugins[this.resizeIndex].params.col+d>24&&(d=25-this.plugins[this.resizeIndex].params.col),"app_list"===this.plugins[this.resizeIndex].category.key?this.plugins[this.resizeIndex].params.sizeX=l:this.plugins[this.resizeIndex].params.sizeX=d,this.plugins[this.resizeIndex].params.sizeY=p,~f()(e=["dashboard","hcm_dashboard","hcm_dashboard_child"]).call(e,this.plugins[this.resizeIndex].category.key)&&this.$rootScope.$broadcast("onContainerResize"),this.resizeConfig.operatingPluginElement=null,this.resizeIndex=NaN},e.prototype.dragStart=function(e,t){e.stopPropagation(),this.dragIndex=t,this.dragConfig.startFlag=!0,this.dragConfig.position.startX=e.clientX,this.dragConfig.position.startY=e.clientY,this.dragConfig.operatingPluginElement=e.currentTarget.parentElement,this.dragConfig.position.startLeft=this.dragConfig.operatingPluginElement.offsetLeft,this.dragConfig.position.startTop=this.dragConfig.operatingPluginElement.offsetTop},e.prototype.dragMove=function(e){if(this.dragConfig.startFlag){var t=e.clientX-this.dragConfig.position.startX,n=e.clientY-this.dragConfig.position.startY,i=this.dragConfig.position.startLeft+t,a=this.dragConfig.position.startTop+n;this.dragConfig.operatingPluginElement.style.left=i+"px",this.dragConfig.operatingPluginElement.style.top=a+"px"}},e.prototype.dragEnd=function(){this.dragConfig.startFlag=!1;var e=this.dragConfig.operatingPluginElement.offsetLeft,t=this.dragConfig.operatingPluginElement.offsetTop,n=Math.round((e-this.dragConfig.position.startLeft)/U),i=Math.round((t-this.dragConfig.position.startTop)/U),a=Number(this.dragConfig.operatingPluginElement.getAttribute("data-col")),o=Number(this.dragConfig.operatingPluginElement.getAttribute("data-row"));this.dragConfig.operatingPluginElement.style.left="",this.dragConfig.operatingPluginElement.style.top="";var s=Math.max(a+n,1),c=Math.max(o+i,1);this.plugins[this.dragIndex].params.sizeX+s>24&&(s=25-this.plugins[this.dragIndex].params.sizeX),this.plugins[this.dragIndex].params.row=c,this.plugins[this.dragIndex].params.col=s,this.dragConfig.operatingPluginElement=null,this.dragIndex=NaN},e.$inject=["$scope","$rootScope","$element","hcPluginsSettingService","contextService","$hcDialog","dataToolService","hcAutoCopyService"],e}();j.a.component("hcPluginsSetting",{bindings:{model:"<"},controller:q,template:T.a});n("rB9j"),n("EnZy");var z=n("6UaR"),F=n.n(z),V=n("tvXb"),N=n.n(V),Y=(n("zIl2"),n("4mDm"),n("5s+n"),n("PKPk"),n("3bBZ"),n("OBge")),G=n.n(Y),J=function(){function e(e,t){this.dataService=e,this.$q=t}return e.prototype.getPlugins=function(e,t,n){return Object(P.c)(this,void 0,void 0,(function(){var i,o,s=this;return Object(P.e)(this,(function(c){switch(c.label){case 0:return void 0===t?[3,2]:[4,this.dataService.callHcmOpenApi("hcm.workbench.get.portal",{target:"pc"===e?0:1,id_:t,range_type:n})];case 1:return o=c.sent(),[3,4];case 2:return[4,this.dataService.callHcmOpenApi("portal.plugins.class.list",{target:"pc"===e?0:1})];case 3:o=c.sent(),c.label=4;case 4:return i=o,t?[4,G.a.all(a()(i).call(i,(function(e){return Object(P.c)(s,void 0,void 0,(function(){var t,n;return Object(P.e)(this,(function(i){switch(i.label){case 0:return t={},e.board_number?[4,this.dataService.callHcmOpenApi("report.platform.info.by.number",{number:e.board_number,default:null})]:[3,2];case 1:return n=i.sent(),t={context:Object(P.a)(Object(P.a)({},e.context_params),e.extra_context_params),components:null==n?void 0:n.meta_info.components,color:null==n?void 0:n.meta_info.color,groups:(null==n?void 0:n.meta_info.groups)||[]},[3,3];case 2:t={context:e.context_params,components:e.params,groups:e.groups||[]},i.label=3;case 3:return t&&0!==R()(t).length?[2,t]:[2,{}]}}))}))})))]:[3,6];case 5:return[2,c.sent()];case 6:return[2,a()(i).call(i,(function(e){var t=e.params;return t&&0!==R()(t).length?{components:t}:[]}))]}}))}))},e.$inject=["dataService","$q"],e}();window.app.service("showPluginsService",J);n("vjaz"),n("mRH6");var Q=n("UtpJ"),X=n.n(Q),Z=n("eLKs"),ee=n.n(Z),te=n("T7v6"),ne=n.n(te),ie=(n("/Zuj"),n("w2Ej"),n("eR5k")),ae=function(){function e(e,t,n,i,o,s,c,r,l,_,d){this.$scope=e,this.$rootScope=t,this.contextService=n,this.IndexService=i,this.homeWidgetMyAppService=o,this.CompanyMetaService=s,this.templateService=c,this.$q=r,this.$filter=l,this.$hcDialog=_,this.$element=d,this.page_index=1,this.hideMobile={target:"mobile"},this.client=window.client,this.adjust_my_app=function(){var e=this,t=this.auth.employee.id,n=this.auth.company.id,i=this;this.$hcDialog.getDialog(ie.a).params({category:"myService"===this.currentTab?0:1}).title("myService"===this.currentTab?this.$filter("translate")("common_home_widget_my_app_setting_service"):this.$filter("translate")("common_home_widget_my_app_setting_app")).show().then((function(o){var s,c,r,l,_,d=m()(s=m()(c=a()(r=o.data_to_add).call(r,(function(a){return i.homeWidgetMyAppService.crudService.createItem({company_id:n,employee_id:t,app_id:a.id,is_service:a.is_service,sequence:a.sequence,category:"myService"===e.currentTab?0:1,target:0})}))).call(c,a()(l=o.data_to_modify).call(l,(function(e){return e.favor_id&&i.homeWidgetMyAppService.crudService.editItem(e.favor_id,{company_id:n,employee_id:t,app_id:e.id,sequence:e.sequence})})))).call(s,a()(_=o.data_to_del).call(_,(function(e){return e.id&&i.homeWidgetMyAppService.crudService.removeItem(e.id)})));i.$q.all(d).then((function(){i.$rootScope.show_warning(e.$filter("translate")("common_home_widget_my_app_modify_success")),i.$rootScope.$broadcast("refresh_most_used_app",i)}))}))},this.go_app=function(e,t){if("pc"!==window.client||e.state||!e.href)if(null==t||t.preventDefault(),this.beforeJumpToApp(e),e.is_service)this.$rootScope.super_go("my_service_summary",{id:e.id});else if(e.url)window.open(e.url);else{var n={};try{"string"==typeof e.param?e.param&&(n=JSON.parse(e.param)):n=e.param}catch(e){}e.link?window.open(location.protocol+"//"+window.location.host+"/"+e.pathname+"#/"+e.link,"_self"):this.$rootScope.super_go(e.state,n,null,e.open_new_page||this.is_open_new_page)}else null==t||t.stopPropagation()},this.beforeJumpToApp=function(e,t){if(null==t||t.stopPropagation(),"show_dialog"!==e.state);else switch(e.param.dialog_name){case"chat_robot":this.$scope.$emit("chat-robot",e.param||{});break;default:this.$rootScope.show_warning("暂不支持")}},this.listenTouchSwipe=function(){var e,t,n,i,a,o=this,s=S()(e=this.$element).call(e,".app-list")[0],c=function(e){t=e.touches[0].pageX,n=e.touches[0].pageY};s.addEventListener("touchstart",c);var r=function(e){i=e.touches[0].pageX,a=e.touches[0].pageY};s.addEventListener("touchmove",r);var l=function(e){var s=i-t,c=a-n;Math.abs(s)>Math.abs(c)&&s>0?(e.preventDefault(),o.page_index>1&&o.changePage(o.page_index-1)):Math.abs(s)>Math.abs(c)&&s<0&&(e.preventDefault(),o.page_index<o.index_list.length&&o.changePage(o.page_index+1)),t=n=i=a=0};s.addEventListener("touchend",l),this.$scope.$on("destroy",(function(){s.removeEventListener("touchstart",c),s.removeEventListener("touchmove",r),s.removeEventListener("touchend",l)}))}}return e.prototype.$onInit=function(){var e,t,n,i,a,o,s,c,r,l,_,d=this;null===(a=this.boardCtrl)||void 0===a||a.componentRegister(this.options.key,this),this.tabs=[{key:"myService",label:this.$filter("translate")("common_home_widget_my_app_service"),func:ee()(e=this.tabChange).call(e,this)},{label:this.$filter("translate")("common_home_widget_my_app_frequent"),key:"myApplication",func:ee()(t=this.tabChange).call(t,this)}],this.operates=[{label:this.$filter("translate")("common_home_widget_my_app_setting"),key:"myService",func:ee()(n=this.adjust_my_app).call(n,this)},{label:this.$filter("translate")("common_home_widget_my_app_setting"),key:"myApplication",func:ee()(i=this.adjust_my_app).call(i,this)}],this.currentTab=this.tabs[0].key,this.auth=this.contextService.getContext("auth"),this.is_open_new_page="pc"===this.client&&(null!==(c=null===(s=null===(o=this.auth)||void 0===o?void 0:o.company_setting)||void 0===s?void 0:s.open_new_page)&&void 0!==c?c:null),this.app_title_description=null!==(_=null===(l=null===(r=this.auth)||void 0===r?void 0:r.company_setting)||void 0===l?void 0:l.app_title_description)&&void 0!==_?_:null,this.initMenu(),this.$scope.$on("refresh_most_used_app",(function(){d.getMostUsedApps()}))},e.prototype.tabChange=function(e){this.currentTab!==e&&(this.currentTab=e,this.initMenu())},e.prototype.initMenu=function(){var e=this;this.IndexService.getMyApplication("pc"===this.client?"pc":"mobile","list").then((function(t){var n=t;e.my_app_dic={},O()(n).call(n,(function(t){e.my_app_dic[t.id]?e.my_app_dic[t.id].push(t):e.my_app_dic[t.id]=[t]})),e.getMostUsedApps(),"mobile"===window.client&&e.listenTouchSwipe()}))},e.prototype.getMostUsedApps=function(){var e,t=this;this.homeWidgetMyAppService.getAllMostUsedAppList("myService"===this.currentTab?["myservice"]:["favorite"],"pc"===this.client?"pc":"mobile",null===(e=this.options)||void 0===e?void 0:e.role).then((function(e){var n,i,o,s,c=[];try{var r,l="string"==typeof e.role_apps?null!==(n=JSON.parse(e.role_apps||"{}").role_apps)&&void 0!==n?n:{}:null!==(i=e.role_apps)&&void 0!==i?i:{},_=null!==(s=null===(o=null==e?void 0:e.role_app_recommend)||void 0===o?void 0:o.template_config)&&void 0!==s?s:{};angular.extend(l,_),c=p()(r=R()(t.auth.roles)).call(r,(function(e,n){var i=t.$filter("getValue")(l,[n]);return null==i||O()(i).call(i,(function(e){e.from_role=!0})),m()(e).call(e,i||[])}),[])}catch(e){c=[]}var d=m()(c).call(c,e.personal_apps.list);t.app_list=[],a()(d).call(d,(function(e){var n,i=angular.copy(S()(n=t.my_app_dic[e.app_id]||[]).call(n,(function(t){return!!t.is_service==!!e.is_service})));t.$filter("isValidValue")(i)&&(i.from_role=e.from_role,t.app_list.push(i))})),t.refreshPaging()}))},e.prototype.refreshPaging=function(){var e,t,n=this;this.index_list=a()(e=Object(P.h)(Array(Math.ceil(this.app_list.length/8)))).call(e,(function(e,t){return t+1})),this.app_slice_list=a()(t=this.index_list).call(t,(function(e){var t;return X()(t=n.app_list).call(t,8*(e-1),8*e)})),this.index_list.length&&this.page_index>=this.index_list.length&&this.changePage(this.index_list.length)},e.prototype.changePage=function(e){this.page_index=e,$(".home-widget-my-app .item-container").css({left:"-"+100*(e-1)+"%"}),"mobile"===window.client&&this.$scope.$apply()},e.$inject=["$scope","$rootScope","contextService","IndexService","homeWidgetMyAppService","CompanyMetaService","templateService","$q","$filter","$hcDialog","$element"],e}();window.app.component("homeWidgetMyApp",{bindings:{options:"<"},require:{boardCtrl:"?^hcPortalBoard"},controller:ae,template:ne.a});var oe=n("TTrh"),se=n.n(oe),ce=n("wd/R"),re=n("UoIc"),le=n.n(re),_e=(n("v8yx"),n("xWLQ"),function(){function e(e,t,n,i,a,o,s,c){this.$scope=e,this.$rootScope=t,this.$element=n,this.$timeout=i,this.$filter=a,this.dataService=o,this.contextService=s,this.templateService=c,this.client=window.client}return e.prototype.$onInit=function(){var e,t,n,i;return Object(P.c)(this,void 0,void 0,(function(){var a,o,s,c,r,l,_,d,p,u=this;return Object(P.e)(this,(function(m){switch(m.label){case 0:return null===(e=this.boardCtrl)||void 0===e||e.componentRegister(this.options.key,this),[4,this.templateService.getTemplate("time_attend_calendar_config.json")];case 1:return a=m.sent(),this.go_state=null===(i=null===(n=null===(t=null==a?void 0:a.template_config)||void 0===t?void 0:t.go_unusual)||void 0===n?void 0:n.new_url)||void 0===i||i,[4,this.getCountMeta()];case 2:return o=m.sent(),this.offset_days=o.offset_days,[4,this.get_mon_range()];case 3:return s=m.sent(),c=s.begin_moment,r=s.end_moment,this.begin_date=c.format("YYYY-MM-DD"),this.end_date=r.format("YYYY-MM-DD"),this.year_month=r.format("YYYY-MM"),l=c.split("-")[1]+"."+c.split("-")[2],_=r.split("-")[1]+"."+r.split("-")[2],d=l+"-"+_,this.tabs=[{key:"my_unusual",label:this.$filter("translate")("attendance_abnormality"),postscript:{content:"（"+d+"）",target:"mobile"}}],this.tip=this.$filter("translate")("time_for_statistics")+": "+d,this.operates=[{key:"my_unusual",label:this.$filter("translate")("to_handle"),target:"mobile",func:function(){u.goToMyUnusual()}}],p=this,[4,this.getCount(o)];case 4:return p.count_list=m.sent(),[2]}}))}))},e.prototype.get_mon_range=function(){return Object(P.c)(this,void 0,void 0,(function(){var e;return Object(P.e)(this,(function(t){switch(t.label){case 0:return ce().subtract(this.offset_days,"day"),this.contextService.getContext("auth").company_setting.TIME_MONTH_RANGE,[4,this.dataService.callHcmOpenApi("get.current.time.month.range",{offset_days:this.offset_days})];case 1:return[2,{begin_moment:(e=t.sent())[0],end_moment:e[1]}]}}))}))},e.prototype.getCountMeta=function(){var e,t,n,i,o,s,c,r,l,_,d;return Object(P.c)(this,void 0,void 0,(function(){var p,u,m,g,h,v,f;return Object(P.e)(this,(function(y){switch(y.label){case 0:return p=this.go_state?"emp":"myUnusual",u=this.go_state?"AttendDataDetailEmpStatistics":"AttendData",[4,this.dataService.callHcmOpenApi("hcm.model.meta",{biz_type:"list",model:u,state:p},"application")];case 1:return m=y.sent(),g=null!==(t=null===(e=null==m?void 0:m.list_config)||void 0===e?void 0:e.category_field)&&void 0!==t?t:"attend_detail.attend_item",h=0<=(h=null!==(s=null===(o=null===(i=null===(n=null==m?void 0:m.extend)||void 0===n?void 0:S()(n).call(n,(function(e){return"offset_days"===(null==e?void 0:e.key)})))||void 0===i?void 0:i.value)||void 0===o?void 0:o.offset_days)&&void 0!==s?s:0)&&h<=31?se()(h):0,v=null!==(l=null===(r=null===(c=null==m?void 0:m.extend)||void 0===c?void 0:S()(c).call(c,(function(e){return"result_class_map"===(null==e?void 0:e.key)})))||void 0===r?void 0:r.value)&&void 0!==l?l:{work_early:"yellow-theme",work_late:"orange-theme",work_absence:"red-theme"},f=null!==(d=null===(_=null==m?void 0:m.list_config)||void 0===_?void 0:_.category_list)&&void 0!==d?d:[{id:"work_absence",name:"旷工"},{id:"work_late",name:"迟到"},{id:"work_early",name:"早退"}],f=a()(f).call(f,(function(e){var t;return Object(P.a)(Object(P.a)({},e),{class:null!==(t=null==v?void 0:v[e.id])&&void 0!==t?t:"red-theme"})})),[2,{category_field:g,category_list:f,offset_days:h}]}}))}))},e.prototype.getCount=function(e){return Object(P.c)(this,void 0,void 0,(function(){var t,n,i,o,s,c;return Object(P.e)(this,(function(r){switch(r.label){case 0:return t=e.category_field,n=e.category_list,i=this.go_state?"emp":"myUnusual",o=this.go_state?"AttendDataDetailEmpStatistics":"AttendData",[4,this.dataService.callHcmOpenApi("hcm.model.count",{count_by:"id",group_by:[t],model:o,filter_dict:{date:{gte:this.begin_date,lte:this.end_date},employee_id:this.contextService.getContext("auth").employee.id},page_size:999,extra_property:{state:i}})];case 1:return s=r.sent(),c=this.$filter("toObj")(s.list,t),[2,a()(n).call(n,(function(e){var t;return e.count=(null===(t=c[e.id])||void 0===t?void 0:t.id)||0,e}))]}}))}))},e.prototype.goToMyUnusual=function(){return Object(P.c)(this,void 0,void 0,(function(){var e;return Object(P.e)(this,(function(t){return this.go_state?(e={model:"AttendDataDetailEmpStatistics",meta_state:"emp",advance_filter_dict:{begin_date:this.begin_date,end_date:this.end_date}},this.$rootScope.super_go("common_model_category_list",e)):(e="pc"===this.client?{advance_filter_dict:{begin_date:this.begin_date,end_date:this.end_date}}:{advance_filter_dict:{year_month:this.year_month}},this.$rootScope.super_go("time_my_unusual",e)),[2]}))}))},e.$inject=["$scope","$rootScope","$element","$timeout","$filter","dataService","contextService","templateService"],e}());window.app.component("homeWidgetTimeMyUnusual",{controller:_e,bindings:{options:"<"},require:{boardCtrl:"?^hcPortalBoard"},template:le.a});var de=n("PH9r"),pe=n.n(de),ue=n("yDEG"),me=(n("DOKX"),n("0xni"),n("wxWo")),ge=n("VxaH"),he=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(P.d)(t,e),t.prototype.getMeta=function(){return Object(P.c)(this,void 0,G.a,(function(){return Object(P.e)(this,(function(e){return this,[2,me.fields]}))}))},t}(ge.a),ve=function(e){function t(t,n,i,a,o,s){var c=e.call(this,n,i)||this;return c.$scope=t,c.hcDialog=n,c.timeout=i,c.dataService=a,c.element=o,c.$filter=s,c}return Object(P.d)(t,e),t.prototype.$onInit=function(){var e,t,n;return Object(P.c)(this,void 0,void 0,(function(){var i,o=this;return Object(P.e)(this,(function(s){var c,r;return i=this,this.carousel_model=[],null===(e=this.boardCtrl)||void 0===e||e.componentRegister(this.key,this),this.imgArr=a()(c=(null===(n=null===(t=this.options)||void 0===t?void 0:t.carousel_data)||void 0===n?void 0:n.split("#"))||[]).call(c,(function(e){return""+window.cdn_domain+window.hcm_wengen+(o.options.img_handler||"/img")+"?index="+e+window.hcm_env_post})),O()(r=this.imgArr).call(r,(function(e){i.carousel_model.push({index:e})})),this.$scope.$watch("$ctrl.options",(function(e,t){e!==t&&o.$onInit()}),!0),[2]}))}))},t.prototype.$onResize=function(){this.$scope.$broadcast("collapse-menu-plugins")},t.prototype.getSettingPanel=function(){return Object(ue.c)(he)},t.prototype.$onRender=function(){return Object(P.c)(this,void 0,void 0,(function(){return Object(P.e)(this,(function(t){switch(t.label){case 0:return[4,e.prototype.$onRender.call(this)];case 1:return t.sent(),[2]}}))}))},t.$inject=["$scope","$hcDialog","$timeout","dataService","$element","$filter"],t}(ue.a);window.app.component("homeWidgetCarousel",{bindings:{options:"<",key:"<",context:"="},require:{boardCtrl:"?^hcmBoard"},template:pe.a,controller:ve});var fe=n("z+oF"),ye=n.n(fe),be=(n("SwrD"),n("2dDx")),we=n.n(be),$e=(n("bkjC"),n("sMBO"),function(){function e(e,t){this.$timeout=e,this.dataService=t}return e.prototype.getData=function(){return Object(P.c)(this,void 0,void 0,(function(){return Object(P.e)(this,(function(e){var t;switch(e.label){case 0:return[4,this.dataService.callHcmOpenApi("hcm.model.list",{model:"Announce",filter_str:null,filter_dict:{publish_state:1},page_index:1,page_size:10,extra_property:{state:"query",filter_params:{meta_state:"query"},only_list:!0},biz_type:"list"})];case 1:return[2,a()(t=e.sent().list).call(t,(function(e){return{announce_time:e.announce_time,name:e.name,category:e.category,id:e.id}}))]}}))}))},e.prototype.getAnnounce=function(e){return Object(P.c)(this,void 0,void 0,(function(){return Object(P.e)(this,(function(t){switch(t.label){case 0:return[4,this.dataService.callHcmOpenApi("hcm.model.get",{model:"Announce",fields:null,from_:"view",id_:e,state:"query"})];case 1:return[2,t.sent()]}}))}))},e.$inject=["$timeout","dataService"],e}());window.app.service("hcAnnounceService",$e);var xe=n("mJ0u"),ke=function(){function e(e,t,n,i,a){this.$scope=e,this.$rootScope=t,this.$element=n,this.$hcDialog=i,this.hcAnnounceService=a,this.client=window.client}return e.prototype.$onInit=function(){return Object(P.c)(this,void 0,void 0,(function(){var e,t,i=this;return Object(P.e)(this,(function(a){switch(a.label){case 0:return e=this,t=this,[4,this.hcAnnounceService.getData()];case 1:return t.arrAnnounce=a.sent(),0===this.arrAnnounce.length&&(this.arrAnnounce=[{name:"暂无公告"}]),D()((function(){n.e(92).then(n.bind(null,"TaHA")).then((function(t){var n=t.Swiper,a=t.Autoplay;n.use([a]),i.container=new n(".announce-container",{allowTouchMove:!0,direction:"vertical",loop:!0,autoplay:{delay:3e3,disableOnInteraction:!1},on:{click:function(t){var n=t.clickedSlide,a=n.getAttribute("data-id");a&&n&&("pc"===i.client?i.$rootScope.super_go("common_model_single_view",{id:a,model:"Announce",meta_state:"query"}):e.$hcDialog.getDialog(Object(xe.a)("Announce","query")).params({id:a}).show())}}})}))}),0),this.$scope.$on("collapse-menu-plugins",(function(){D()((function(){var t;null===(t=e.container)||void 0===t||t.update()}),100)})),[2]}}))}))},e.prototype.stopSwipe=function(){this.container.autoplay.stop()},e.prototype.startSwipe=function(){this.container.autoplay.start()},e.$inject=["$scope","$rootScope","$element","$hcDialog","hcAnnounceService"],e}();window.app.component("hcAnnounce",{bindings:{model:"<"},controller:ke,template:we.a});var Me=function(){function e(){}return e.prototype.$onInit=function(){var e;null===(e=this.boardCtrl)||void 0===e||e.componentRegister(this.options.key,this)},e}();window.app.component("homeWidgetAnnounce",{bindings:{options:"<"},require:{boardCtrl:"?^hcPortalBoard"},template:ye.a,controller:Me});var Ee=n("QQ65"),Oe=n.n(Ee),Ae=(n("PPZ0"),function(){function e(e,t){this.$timeout=e,this.$hcDialog=t}return e.prototype.getMyData=function(){return Object(P.c)(this,void 0,void 0,(function(){return Object(P.e)(this,(function(e){switch(e.label){case 0:return[4,this.$hcDialog.getDialog().params({}).show()];case 1:return[2,e.sent()]}}))}))},e.$inject=["$timeout","$hcDialog"],e}());window.app.service("homeWidgetUserGuideListService",Ae);n("zYGM");var Se=function(){function e(e,t,n,i){var a=this;this.$scope=e,this.$rootScope=t,this.$element=n,this.$timeout=i,this.client=window.client,this.model="UserGuide",this.tabs=[{key:"test",label:"使用指引"}],this.operates=[{label:"更多",key:"test",func:function(){a.$rootScope.super_go("user_guide",{meta_state:"viewpage"})}}],this.currentTab=this.tabs[0].key}return e.prototype.$onInit=function(){var e;null===(e=this.boardCtrl)||void 0===e||e.componentRegister(this.options.key,this)},e.$inject=["$scope","$rootScope","$element","$timeout"],e}();window.app.component("homeWidgetUserGuideList",{controller:Se,template:Oe.a,bindings:{options:"<"},require:{boardCtrl:"?^hcPortalBoard"}});var Ce=n("5Y2l"),De=n.n(Ce),Pe=(n("66N3"),function(){function e(e,t){this.$timeout=e,this.$hcDialog=t}return e.prototype.getMyData=function(){return Object(P.c)(this,void 0,void 0,(function(){return Object(P.e)(this,(function(e){switch(e.label){case 0:return[4,this.$hcDialog.getDialog().params({}).show()];case 1:return[2,e.sent()]}}))}))},e.$inject=["$timeout","$hcDialog"],e}());window.app.service("homeWidgetIndustryInformationListService",Pe);var je=n("p4uW"),Ie=function(){function e(e,t,n,i){var a=this;this.$scope=e,this.$rootScope=t,this.$element=n,this.$timeout=i,this.client=window.client,this.model="IndustryInformation",this.tabs=[{key:"test",label:"行业资讯"}],this.operates=[{label:"更多",key:"test",func:function(){a.$rootScope.super_go("industry_information",{meta_state:"viewpage"})}}],this.currentTab=this.tabs[0].key}return e.prototype.$onInit=function(){var e;null===(e=this.boardCtrl)||void 0===e||e.componentRegister(this.key,this)},e.prototype.$onResize=function(){},e.prototype.getSettingPanel=function(){return Object(ue.c)(je.a)},e.prototype.$onRender=function(){return Object(P.c)(this,void 0,void 0,(function(){return Object(P.e)(this,(function(e){return[2]}))}))},e.$inject=["$scope","$rootScope","$element","$timeout"],e}();window.app.component("homeWidgetIndustryInformationList",{controller:Ie,template:De.a,bindings:{key:"<",context:"=",options:"<"},require:{boardCtrl:"?^hcmBoard"}});n("H3Dw");var Te=n("a0dU"),Be=n.n(Te),Le=(n("ls82"),n("SPx3")),Re=n.n(Le),We=n("1hbj"),Ue=(n("srGB"),n("0Xdj"));n("9Fhn"),n("9DwR"),n("zl2E");window.app.directive("homeWidgetEmpCardNew",[function(){return{restrict:"EA",template:n("EC8D"),scope:{options:"="},controller:[function(){}]}}]),window.app.directive("homeWidgetEmpCardNewPc",[function(){return{restrict:"EA",template:n("/kcl"),scope:{options:"="},controller:["$scope","$state","$rootScope","$hcDialog","$controller","contextService","BaseCRUDService","dataService","$filter",function(e,t,n,i,o,c,l,_,d){var p=e.options.is_base?"BaseEmployee":"Employee",u=l.getModelService(p);o(Ue.a,{$scope:e,CRUDService:u,InfoDialog:Object(We.a)(p)}),e.initBeforeAsync=Re()(Be.a.mark((function t(){var n,i,a,o,c,r;return Be.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.options.hide_slogan){t.next=3;break}t.next=17;break;case 3:return t.next=5,_.callHcmOpenApi("hcm.model.list",{model:"EmployeeSlogan",filter_dict:{employee_id:e.auth.employee.id}});case 5:if(n=t.sent,e.slogan_data=n.list,!e.slogan_data.length){t.next=11;break}e.emp_slogan=n.list[0].slogan,t.next=17;break;case 11:return t.next=13,_.callHcmOpenApi("hcm.model.meta",{model:"EmployeeSlogan",biz_type:"info",state:"home"});case 13:c=t.sent,r=s()(i=c.extend).call(i,(function(e){return"company_default"===e.key})),e.company_default=r.length>0?null===(a=r[0])||void 0===a||null===(o=a.value)||void 0===o?void 0:o.default:"",e.emp_slogan=e.company_default;case 17:case"end":return t.stop()}}),t)}))),e.setTitle=function(e){},e.getMetaState=function(){return"empCard"},e.getItemID=function(){return e.auth.employee.id},e.initAfter=function(){var n,i="mobile"===e.client?4:3;e.view_btn_model.$setShowMax(i),e.emp_id=t.params.id,e.extendModel={},a()(n=e.view_model.viewMeta.extend).call(n,(function(t){e.extendModel[t.key]=t.value}))},e.individualParse=function(e){var t;return a()(t=e.fields).call(t,(function(e){if("photo"===e.key){var t=e.options.photo_size.split(",");switch(window.screen.width){case 1680:t[0]=r()(1.25*t[0]),t[1]=r()(1.25*t[1]);break;case 1920:t[0]=r()(1.5*t[0]),t[1]=r()(1.5*t[1])}e.options.photo_size=t[0]+","+t[1]}})),e},e.empProfile=function(){n.super_go("emp")},e.editSlogan=Re()(Be.a.mark((function t(){var n;return Be.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.getDialog(Object(We.a)("EmployeeSlogan","home")).size("small").show({mode:e.slogan_data.length?"edit":"new",data:e.slogan_data.length?e.slogan_data[0]:null,alter:{employee_id:e.auth.employee.id}});case 2:n=t.sent,e.emp_slogan=n.slogan;case 4:case"end":return t.stop()}}),t)})))}]}}]),window.app.directive("homeWidgetEmpCardNewMobile",[function(){return{restrict:"EA",template:n("21L5"),scope:{},controller:["$scope","$state","$rootScope","$hcDialog","$controller","contextService","BaseCRUDService","dataService",function(e,t,n,i,a,o,c,r){var l=c.getModelService("Employee");a(Ue.a,{$scope:e,CRUDService:l,InfoDialog:Object(We.a)("Employee")}),e.initBeforeAsync=Re()(Be.a.mark((function t(){var n,i,a,o,c,l,_;return Be.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(null===(n=e.options)||void 0===n?void 0:n.hide_slogan)){t.next=3;break}t.next=20;break;case 3:return t.next=5,r.callHcmOpenApi("hcm.model.list",{model:"EmployeeSlogan",filter_dict:{employee_id:e.auth.employee.id}});case 5:return i=t.sent,t.next=8,r.callHcmOpenApi("message.unread.count",{});case 8:if(e.unread_count=t.sent,e.slogan_data=i.list,!e.slogan_data.length){t.next=14;break}e.emp_slogan=i.list[0].slogan,t.next=20;break;case 14:return t.next=16,r.callHcmOpenApi("hcm.model.meta",{model:"EmployeeSlogan",biz_type:"info",state:"home"});case 16:l=t.sent,_=s()(a=l.extend).call(a,(function(e){return"company_default"===e.key})),e.company_default=_.length>0?null===(o=_[0])||void 0===o||null===(c=o.value)||void 0===c?void 0:c.default:"",e.emp_slogan=e.company_default;case 20:case"end":return t.stop()}}),t)}))),e.setTitle=function(e){},e.getFilterDict=function(){return{id:e.auth.employee.id}},e.getMetaState=function(){return"empNewCard"},e.editSlogan=Re()(Be.a.mark((function t(){var n;return Be.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.getDialog(Object(We.a)("EmployeeSlogan","home")).size("small").show({mode:e.slogan_data.length?"edit":"new",data:e.slogan_data.length?e.slogan_data[0]:null,alter:{employee_id:e.auth.employee.id}});case 2:n=t.sent,e.emp_slogan=n.slogan;case 4:case"end":return t.stop()}}),t)}))),e.showProcessTask=Re()(Be.a.mark((function t(){var n;return Be.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.getDialog(Object(We.a)("EmployeeSlogan","home")).size("small").show({mode:e.slogan_data.length?"edit":"new",data:e.slogan_data.length?e.slogan_data[0]:null,alter:{employee_id:e.auth.employee.id}});case 2:n=t.sent,e.emp_slogan=n.slogan;case 4:case"end":return t.stop()}}),t)}))),e.getItemID=function(){return e.auth.employee.id},e.empProfile=function(){n.super_go("user_profile")},e.empWorkflow=function(){n.super_go("workflow_center_pending")},e.unreadMessage=function(){n.super_go("messages_multi",{caption:"待处理",meta_state:"task",model:"Message",c_model:"Message"})}}]}}]);n("pMV1");window.app.directive("homeWidgetEmpCardSsc",[function(){return{restrict:"EA",template:n("WGhI"),scope:{},controller:["$scope","AuthService","$state","$element","$rootScope","$hcDialog","$controller","contextService","BaseCRUDService","dataService","$filter",function(e,t,n,i,o,s,c,l,_,d,p){var u,m,g=_.getModelService("Employee");c(Ue.a,{$scope:e,CRUDService:g,InfoDialog:Object(We.a)("Employee")}),e.iconUpOrDown=!0,e.changeIcon=function(){e.iconUpOrDown=!e.iconUpOrDown},e.openRobot=function(){e.$emit("chat-robot",{})},e.goEdit=function(){o.super_go("user_profile",{id:e.auth.employee.id})},e.model=!0,e.changeStatus=function(t){e.iconUpOrDown=!0,e.options.change(t.id).then((function(n){n&&(e.model=t.id)}))},e.go_pending=function(){o.super_go("workflow_center_pending")},e.options={list:[{id:0,name:"离线"},{id:1,name:"在线"}],change:(m=Re()(Be.a.mark((function e(t){return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",d.callHcmOpenApi("hcm.model.action.params",{params:{status:t},model:"SSCWorkCenter",action:"change_seat_status"}));case 1:case"end":return e.stop()}}),e)}))),function(e){return m.apply(this,arguments)}),default:(u=Re()(Be.a.mark((function e(){return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.callHcmOpenApi("hcm.model.action.params",{model:"SSCWorkCenter",action:"get_seat_status",params:{}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(){return u.apply(this,arguments)}),form_mode:"new"},e.undone=0,e.nowJobDays=0,e.daysOfInJob=0,e.nameAndJob="",e.types={},e.showStatus=!1,e.initBeforeAsync=Re()(Be.a.mark((function e(){return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),e.setTitle=function(e){},e.getMetaState=function(){return"empCard"},e.getItemID=function(){return e.auth.employee.id},e.initAfter=function(){var i,o,s,c,r,l,_,p,u,m="mobile"===e.client?4:3;e.view_btn_model.$setShowMax(m),e.emp_id=n.params.id,e.extendModel={},a()(i=e.view_model.viewMeta.extend).call(i,(function(t){e.extendModel[t.key]=t.value})),e.options.default().then((function(t){e.model=t})),d.callHcmOpenApi("hcm.model.list",{model:"WorkFlowInstanceAssignment",extra_property:{state:"pending"},filter_dict:{"wf_inst_detail.wf_def_type":{in:["hand","wait"]},"wf_inst_detail.wf_def_key":{"not in":["submit"]},finish:null,"wf_inst.state":"running",state:0}}).then((function(t){t.count?e.undone=t.count>99?"99+":t.count:e.undone=0})),e.nowJobDays=null===(o=e.view_model.data)||void 0===o||null===(s=o.anniversary_title)||void 0===s?void 0:s.onduty_days,e.daysOfInJob=null===(c=e.view_model.data)||void 0===c||null===(r=c.anniversary_title)||void 0===r?void 0:r.entry_days,e.nameAndJob=e.view_model.data.name+"    "+e.view_model.data.position.name,e.types={type_1:null===(l=e.view_model.data)||void 0===l||null===(_=l.anniversary_title)||void 0===_?void 0:_.anniversary_title,type_2:null===(p=e.view_model.data)||void 0===p||null===(u=p.employee_dynamic_subset)||void 0===u?void 0:u.annual_title};try{t.checkRole("cm-ssc-manager"),e.showStatus=!0}catch(e){}try{t.checkRole("cm-ssc-seat"),e.showStatus=!0}catch(e){}},e.individualParse=function(e){var t;return a()(t=e.fields).call(t,(function(e){if("photo"===e.key){var t=e.options.photo_size.split(",");switch(window.screen.width){case 1680:t[0]=r()(1.25*t[0]),t[1]=r()(1.25*t[1]);break;case 1920:t[0]=r()(1.5*t[0]),t[1]=r()(1.5*t[1])}e.options.photo_size=t[0]+","+t[1]}})),e}}]}}]);var He=n("OpN1"),Ke=n.n(He),qe=(n("0es6"),function(){function e(e,t,n,i,a,o,s){this.$rootScope=e,this.$element=t,this.$timeout=n,this.$filter=i,this.dataService=a,this.homeWidgetCalendarService=o,this.contextService=s}return e.prototype.$onInit=function(){var e,t,n,i,o,s,c;return Object(P.c)(this,void 0,void 0,(function(){var l,_,d,p,u,m,g,h=this;return Object(P.e)(this,(function(v){var f;switch(v.label){case 0:return null===(e=this.boardCtrl)||void 0===e||e.componentRegister(this.options.key,this),this.current_date=ce().format("YYYY-MM-DD"),this.selected_date=this.current_date,this.auth=this.contextService.getContext("auth"),this.tabs=[{key:"calendar_assistant",label:this.$filter("translate")("time_attendance_calendar")}],this.operates=[{key:"calendar_assistant",label:this.$filter("translate")("common_menu_style_show_more"),target:"mobile",func:function(){h.goToMyCalendar()}}],l=null!==(i=null===(n=null===(t=this.options)||void 0===t?void 0:t.params)||void 0===n?void 0:n.content_type)&&void 0!==i?i:"begin_end_punch",_=ce(this.current_date),d=_.weekday(),p=_.clone().subtract(d<6?d+1:0,"day"),u=p.clone().add(6,"day"),[4,this.dataService.callHcmOpenApi("time.calendar.get.assistant.days",{start_date:p.format("YYYY-MM-DD"),end_date:u.format("YYYY-MM-DD")})];case 1:return m=v.sent(),this.day_list=a()(m).call(m,(function(e){var t;return Object(P.a)(Object(P.a)({},e),{label:r()(X()(t=e.date).call(t,8,10),10),high_light:!!e.festival})})),[4,this.dataService.callHcmOpenApi("time.employee.schedule.for.calendar.assistant",{begin_date:null===(o=this.day_list)||void 0===o?void 0:o[0].date,end_date:null===(s=this.day_list)||void 0===s?void 0:s[(null===(c=this.day_list)||void 0===c?void 0:c.length)-1].date})];case 2:return g=v.sent(),this.week_schedule={},O()(f=this.day_list).call(f,(function(e){var t,n,i,a,o,s,c=e.date,r=null==g?void 0:g[c],_=r?r.is_begin_punch?null===(n=null===(t=r.work_begin_time)||void 0===t?void 0:t.split(" "))||void 0===n?void 0:n[1]:h.$filter("translate")("time_unnecessarily_punch"):h.$filter("translate")("time_without_scheduling"),d=r?r.is_end_punch?null===(a=null===(i=r.work_end_time)||void 0===i?void 0:i.split(" "))||void 0===a?void 0:a[1]:h.$filter("translate")("time_unnecessarily_punch"):h.$filter("translate")("time_without_scheduling");!function(){var e,t,n,i,a,c,p,u,m,g,v,f,y,b,w,$;o={label:h.$filter("translate")("time_begin_punch_record"),content:null!==(i=null===(n=null===(t=null===(e=null==r?void 0:r.begin_punch_record)||void 0===e?void 0:e.punch_time)||void 0===t?void 0:t.split(" "))||void 0===n?void 0:n[1])&&void 0!==i?i:_,class:(null==r?void 0:r.begin_punch_record)?"":"invalid"},s={label:h.$filter("translate")("time_end_punch_record"),content:null!==(u=null===(p=null===(c=null===(a=null==r?void 0:r.end_punch_record)||void 0===a?void 0:a.punch_time)||void 0===c?void 0:c.split(" "))||void 0===p?void 0:p[1])&&void 0!==u?u:d,class:(null==r?void 0:r.end_punch_record)?"":"invalid"},"first_last_punch"===l&&(o={label:h.$filter("translate")("time_first_punch_record"),content:null!==(f=null===(v=null===(g=null===(m=null==r?void 0:r.first_punch_record)||void 0===m?void 0:m.punch_time)||void 0===g?void 0:g.split(" "))||void 0===v?void 0:v[1])&&void 0!==f?f:_,class:(null==r?void 0:r.first_punch_record)?"":"invalid"},s={label:h.$filter("translate")("time_last_punch_record"),content:null!==($=null===(w=null===(b=null===(y=null==r?void 0:r.last_punch_record)||void 0===y?void 0:y.punch_time)||void 0===b?void 0:b.split(" "))||void 0===w?void 0:w[1])&&void 0!==$?$:d,class:(null==r?void 0:r.last_punch_record)?"":"invalid"})}(),h.week_schedule[c]=Object(P.a)(Object(P.a)({},null!=r?r:{}),{punch_begin_desc:o,punch_end_desc:s})})),this.date_schedule=this.week_schedule[this.selected_date],[2]}}))}))},e.prototype.selectedDate=function(e){return Object(P.c)(this,void 0,void 0,(function(){return Object(P.e)(this,(function(t){return this.selected_date=e,this.date_schedule=this.week_schedule[this.selected_date],[2]}))}))},e.prototype.goToMyCalendar=function(){this.$rootScope.super_go("time_view_employee",{date:this.selected_date})},e.$inject=["$rootScope","$element","$timeout","$filter","dataService","homeWidgetCalendarService","contextService"],e}());window.app.component("homeWidgetTimeCalendarAssistant",{controller:qe,template:Ke.a,require:{boardCtrl:"?^hcPortalBoard"},bindings:{options:"=?"}});var ze=n("7QQP"),Fe=n.n(ze),Ve=(n("cho9"),function(){function e(e,t){this.$timeout=e,this.$hcDialog=t}return e.prototype.getMyData=function(){return Object(P.c)(this,void 0,void 0,(function(){return Object(P.e)(this,(function(e){switch(e.label){case 0:return[4,this.$hcDialog.getDialog().params({}).show()];case 1:return[2,e.sent()]}}))}))},e.$inject=["$timeout","$hcDialog"],e}());window.app.service("homwWidgetMessageTaskService",Ve);var Ne=function(){function e(e,t,n,i,a){var o,s,c,r,l=this;this.$scope=e,this.$rootScope=t,this.$element=n,this.$timeout=i,this.$filter=a,this.client=window.client,this.model="Message",this.tabs=[{key:"task",label:this.$filter("translate")("common_home_widget_message_task_todo"),func:ee()(o=this.refreshData).call(o,this),postscript:{content:""}},{key:"task_done",label:this.$filter("translate")("common_home_widget_message_task_done"),func:ee()(s=this.refreshData).call(s,this),postscript:{content:""}}],this.operates=[{key:"task",label:"更多",func:ee()(c=this.jump).call(c,this)},{key:"task_done",label:"更多",func:ee()(r=this.jump).call(r,this)}],this.hideHeader={target:"pc"},this.currentTab=this.tabs[0].key,this.filterDict={is_task_done:1},this.$rootScope.$on("task_message_refresh",(function(e,t){var n=(new Date).getTime().toString();"task"!==l.currentTab&&"task_done"!==l.currentTab?l.refreshData("task",n):l.refreshData(l.currentTab,n)}))}return e.prototype.jump=function(){this.$rootScope.super_go("common_model_category_list",{model:"Message",filter_dict:this.filterDict,meta_state:"todoMessage"})},e.prototype.refreshData=function(e,t){this.filterDict="task"===e?{is_task_done:1,timestamp:t}:{is_task_done:2,timestamp:t}},e.prototype.$onInit=function(){var e,t=this;null===(e=this.boardCtrl)||void 0===e||e.componentRegister(this.key,this),window.addEventListener("message",(function(e){var n;e.data.undone&&(t.count_undone=e.data.undone),e.data.done&&(t.count_done=e.data.done),a()(n=t.tabs).call(n,(function(e){e.postscript.content="task"===e.key?'<div class="unread">'+(t.count_undone?t.count_undone>99?"99+":t.count_undone:"")+"</div>":'<div class="unread">'+(t.count_done?t.count_done>99?"99+":t.count_done:"")+"</div>"}))}))},e.prototype.getSettingPanel=function(){return Object(ue.c)(je.a)},e.prototype.$onResize=function(){},e.$inject=["$scope","$rootScope","$element","$timeout","$filter"],e}();window.app.component("homeWidgetMessageTask",{controller:Ne,template:Fe.a,bindings:{options:"<",key:"<",context:"="},require:{boardCtrl:"?^hcmBoard"}});var Ye=n("9bPn"),Ge=n.n(Ye),Je=(n("nHDf"),n("+hqv"));window.app.directive("homeWidgetGrowthRecord",[function(){return{restrict:"EA",template:Ge.a,scope:{options:"<"},require:{boardCtrl:"?^hcPortalBoard"},controller:["$scope","$rootScope","$element","$filter","dataService","contextService","$controller","BaseCRUDService",function(e,t,n,i,a,o,s,c){s(Je.a,{$scope:e,CRUDService:c.getModelService(e.options.params.model),InfoDialog:null}),e.initBefore=function(){var t;null===(t=e.boardCtrl)||void 0===t||t.componentRegister(e.options.key,e)},e.getMetaState=function(){var t;return null!==(t=e.options.params.state)&&void 0!==t?t:"portal_plugins"},e.getFilterDict=function(){var t,n,i,a,o=null!==(t=null===(n=e.options.params)||void 0===n?void 0:n.filter_dict)&&void 0!==t?t:{};return e.paging.page_size=(null!==(i=null===(a=e.options.params)||void 0===a?void 0:a.page_size)&&void 0!==i?i:"pc"===window.client)?3:1,(null==o?void 0:o.release_range)&&(o.release_range=e.auth.jobs[0].department_id),angular.extend({},{job_class:e.job_class,status:"1",delivery:1},o)}}]}}]);var Qe=n("/443"),Xe=n.n(Qe);n("TuQ3");window.app.directive("homeWidgetInnerRecruitJob",[function(){return{restrict:"EA",template:Xe.a,scope:{options:"<"},require:{boardCtrl:"?^hcPortalBoard"},controller:["$scope","$rootScope","$element","$filter","dataService","contextService","$controller","BaseCRUDService",function(e,t,n,i,a,o,s,c){var r;e.job_class=null!==(r=e.options.params.job_class)&&void 0!==r?r:"内部招聘",s(Je.a,{$scope:e,CRUDService:c.getModelService("ReleaseJobMgr"),InfoDialog:null}),e.initBefore=function(){var t,n,i;null===(t=e.boardCtrl)||void 0===t||t.componentRegister(e.options.key,e),e.tabs=[{key:"inner-recruit",label:null!==(n=e.options.params.label)&&void 0!==n?n:"行内竞聘",func:function(){return!0}}],e.operates=[{key:"inner-recruit",label:null!==(i=e.options.params.more_label)&&void 0!==i?i:"更多",func:function(){l()}}]},e.getMetaState=function(){var t;return null!==(t=e.options.params.state)&&void 0!==t?t:"portal_plugins"},e.getFilterDict=function(){var t,n,i,a,o=null!==(t=null===(n=e.options.params)||void 0===n?void 0:n.filter_dict)&&void 0!==t?t:{},s={};return e.paging.page_size=(null!==(i=null===(a=e.options.params)||void 0===a?void 0:a.page_size)&&void 0!==i?i:"pc"===window.client)?3:1,s="内部招聘"===e.job_class?{is_open:!0,"job_release_range.depart_id":e.auth.jobs[0].department_id,status:"1"}:{job_class:e.job_class,status:"1",delivery:1},angular.extend({},s,o)};var l=function(){"内部招聘"===e.job_class?t.super_go("recruit_inner_job_list",{}):t.super_go("common_model_view_multi",{c_model:"ReleaseJobMgr",meta_state:"internal",key:"recommend_job_list",model:"RecruitRecommend",nav_state:"internal",advance_filter_dict:{job_class:e.job_class}})}}]}}]);var Ze=n("DAXO"),et=n.n(Ze),tt=(n("po+d"),n("bmIa"),function(){function e(e,t,n,i,a,o,s,c){this.$rootScope=e,this.$element=t,this.$timeout=n,this.$filter=i,this.dataService=a,this.homeWidgetCalendarService=o,this.contextService=s,this.TimeCommonService=c,this.weeks=["一","二","三","四","五","六","日"],this.single_click=!1,this.contextAuth=this.contextService.getContext("auth")}return e.prototype.$onInit=function(){return Object(P.c)(this,void 0,void 0,(function(){return Object(P.e)(this,(function(e){return this.month_calendar_data={},this.current_date=this.selected_date=ce().format("YYYY-MM-DD"),this.year=this.calendar_year=ce(this.current_date).year(),this.month=this.calendar_month=ce(this.current_date).month()+1,this.employee_id=this.contextAuth.employee.id,this.setCalendar(this.calendar_year,this.calendar_month),[2]}))}))},e.prototype.calendarMinus=function(e,t){"m"===t?1===this.calendar_month?(this.calendar_month=12,this.calendar_year=this.calendar_year-1):this.calendar_month=this.calendar_month-1:this.calendar_year=this.calendar_year-1,e&&this.setCalendar(this.calendar_year,this.calendar_month)},e.prototype.calendarPlus=function(e,t){"m"===t?12===this.calendar_month?(this.calendar_month=1,this.calendar_year=this.calendar_year+1):this.calendar_month=this.calendar_month+1:this.calendar_year=this.calendar_year+1,e&&this.setCalendar(this.calendar_year,this.calendar_month)},e.prototype.setCalendar=function(e,t){return Object(P.c)(this,void 0,void 0,(function(){var n;return Object(P.e)(this,(function(i){switch(i.label){case 0:return n=this,[4,this.homeWidgetCalendarService.getCalendarWithLunar(e,t)];case 1:return n.calendar_data=i.sent(),this.getInterviewData(this.TimeCommonService.getMonthBegin(e,t),this.TimeCommonService.getMonthEnd(e,t)),[2]}}))}))},e.prototype.getInterviewData=function(e,t){return Object(P.c)(this,void 0,void 0,(function(){var n,i;return Object(P.e)(this,(function(o){switch(o.label){case 0:return[4,this.dataService.callHcmOpenApi("hcm.model.list",{model:"InterviewerTask",filter_dict:{employee_id:this.employee_id,notice_date:{gte:e,lte:t}},extra_property:{state:"calendar",only_list:!0,sorts:[{key:"notice_date",type:"asc"}]}},null,!0)];case 1:return n=o.sent(),(i=this).month_calendar_data={},n=n.list,a()(n).call(n,(function(e){i.month_calendar_data[e.notice_date.substring(0,10)]||(i.month_calendar_data[e.notice_date.substring(0,10)]=[]),i.month_calendar_data[e.notice_date.substring(0,10)].push(e)})),[2]}}))}))},e.prototype.refreshInterviewData=function(){if(this.single_click)this.$rootScope.show_warning("数据刷新中，请勿重复刷新。","warning");else{this.single_click=!0,this.$rootScope.show_waiting();var e=this.TimeCommonService.getMonthBegin(this.calendar_year,this.calendar_month),t=this.TimeCommonService.getMonthEnd(this.calendar_year,this.calendar_month);this.getInterviewData(e,t),this.single_click=!1,this.$rootScope.show_warning("刷新成功","warning"),this.$rootScope.hide_waiting()}},e.prototype.checkInterviewDetail=function(e,t){if(this.selected_date=e,"v1"===this.contextAuth.company_setting.REC_INTERVIEW_VERSION)this.$rootScope.super_go("interviewer_task",{filter_dict:{notice_date:{eq:e}}});else if("v2"===this.contextAuth.company_setting.REC_INTERVIEW_VERSION){var n=e.split("-"),i=r()(n[0],10),a=r()(n[1],10),o=r()(n[2],10);a+1>12?(i+=1,a=1):a+=1,this.$rootScope.super_go("common_model_list",{model:"InterviewerTask",meta_state:"newInterviewCenter",filter_dict:{notice_date:{eq:e}},advance_filter_dict:{notice_date:{gte:e,lte:i+"-"+a+"-"+o}}})}},e.$inject=["$rootScope","$element","$timeout","$filter","dataService","homeWidgetCalendarService","contextService","TimeCommonService"],e}());window.app.component("homeWidgetRecruitInterviewCalendar",{controller:tt,template:et.a,bindings:{model:"<?"}});var nt=n("z1A0"),it=n.n(nt),at=(n("G8Sl"),n("yT68")),ot=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(P.d)(t,e),t.prototype.getMeta=function(){return Object(P.c)(this,void 0,G.a,(function(){return Object(P.e)(this,(function(e){return this,[2,at.fields]}))}))},t}(ge.a),st=n("8Auy"),ct=function(){function e(e,t,n,i,a){var o=this;this.$scope=e,this.$rootScope=t,this.$element=n,this.dataService=i,this.$state=a,this.client=window.client,this.funcParse=function(e){var t={SCOPE:o.$scope,STATE:o.$state,location:window.location,history:window.history,document:document,dataService:o.dataService};return st.a.jsonEval(e,t,{})}}return e.prototype.$onInit=function(){var e,t=this;null===(e=this.boardCtrl)||void 0===e||e.componentRegister(this.key||this.options.key,this),this.$scope.super_go=function(e,n,i,a){t.$rootScope.super_go(e,n,i,a)},this.options&&R()(this.options).length>0&&(this.tabs=[{label:this.options.title,key:"index"}],this.operates=this.funcParse(this.options.operates)),this.$scope.$watch("$ctrl.options",(function(e,n){e!==n&&(t.tabs=[{label:t.options.title,key:"index"}],t.operates=t.funcParse(t.options.operates))}))},e.prototype.getSettingPanel=function(){return Object(ue.c)(ot)},e.$inject=["$scope","$rootScope","$element","dataService","$state"],e}();window.app.component("homeWidgetCommonList",{bindings:{model:"=ngModel",options:"<?",key:"<?"},controller:ct,template:it.a,require:{boardCtrl:"?^hcmBoard"}});var rt=n("Jvcg"),lt=n.n(rt);n("1uYX");window.app.component("homeWidgetCarouselInfo",{template:lt.a,require:{boardCtrl:"?^hcPortalBoard"},controller:["$scope","$controller","BaseCRUDService","$filter",function(e,t,i,a){var o;return Object(P.c)(this,void 0,void 0,(function(){var s;return Object(P.e)(this,(function(c){return s=i.getModelService("CarouselInformation"),t(Je.a,{$scope:e,CRUDService:s,InfoDialog:null}),null===(o=e.$ctrl.boardCtrl)||void 0===o||o.componentRegister("carousel_info",e),e.getMetaState=function(){return"homepage"},e.no_advance_query=!0,e.fetchDataSuccess=function(t){t.list.length<=1||D()((function(){n.e(92).then(n.bind(null,"TaHA")).then((function(t){var n=t.Swiper,i=t.Autoplay,a=t.Pagination,o=t.Navigation;n.use([a,i,o]),e.swiper=new n(".swiper-container",{direction:"horizontal",allowTouchMove:!1,loop:!0,pagination:{el:".carousel-pagination",clickable:!0},autoplay:{delay:3e3,disableOnInteraction:!1},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}})}))}),1e3)},e.chooseTimeTemplate=function(e,t,n){return n?a("infoDefault")(a(n)(a("hcListCellData")(e,t))):a("infoDefault")(a("hcListCellData")(e,t))},[2]}))}))}]});var _t=n("xAfy"),dt=function(){function e(e,t,n,i,a,o,s){this.$scope=e,this.showPluginsService=t,this.$element=n,this.hcPluginSettingService=i,this.$hcBoard=a,this.contextService=o,this.$compile=s,this.client=window.client,this.initExpendFlag=!1,this.board_models=[]}return e.prototype.$onInit=function(){var e,t;return Object(P.c)(this,void 0,void 0,(function(){var n,i,a=this;return Object(P.e)(this,(function(o){var s,c;switch(o.label){case 0:return'<hcm-board model="board" ng-repeat="board in $ctrl.board_models track by $index"></hcm-board>',S()(s=this.$element).call(s,".hc-show-plugins").html('<hcm-board model="board" ng-repeat="board in $ctrl.board_models track by $index"></hcm-board>'),this.childScope=this.$scope.$new(),this.$compile(S()(c=this.$element).call(c,".hc-show-plugins"))(this.childScope),(null===(t=null===(e=this.contextService.getContext("auth"))||void 0===e?void 0:e.company_setting)||void 0===t?void 0:t.open_workbench)?[3,2]:[4,this.initBoard()];case 1:return o.sent(),D()((function(){a.renderBoard()})),[3,3];case 2:sessionStorage.getItem("workbrench_id")&&(n=sessionStorage.getItem("workbrench_id").split("#")[0],i=sessionStorage.getItem("workbrench_id").split("#")[1],this.initBoard(n,i),D()((function(){a.renderBoard()}))),o.label=3;case 3:return this.$scope.$on("workbench_change",(function(e,t){var n,i,o,s;a.board_models=null,null===(s=a.childScope)||void 0===s||s.$destroy(),S()(n=a.$element).call(n,"hcm-board").remove();S()(i=a.$element).call(i,".hc-show-plugins").html('<hcm-board model="board" ng-repeat="board in $ctrl.board_models track by $index"></hcm-board>'),a.childScope=a.$scope.$new(),a.$compile(S()(o=a.$element).call(o,".hc-show-plugins"))(a.childScope);var c=t.value.split("#")[0],r=t.value.split("#")[1];a.initBoard(c,r),D()((function(){a.renderBoard()}))})),[2]}}))}))},e.prototype.initBoard=function(e,t){return Object(P.c)(this,void 0,void 0,(function(){var n,i,o=this;return Object(P.e)(this,(function(s){switch(s.label){case 0:return[4,this.showPluginsService.getPlugins(this.client,e,t)];case 1:return n=s.sent(),"pc"!==this.client||e?[3,3]:[4,this.hcPluginSettingService.getMyPlugins()];case 2:(i=s.sent().person).length&&n.push({components:i}),s.label=3;case 3:return this.board_models=[],O()(n).call(n,(function(e,t){var n,i,s,c;(null===(n=e.components)||void 0===n?void 0:n.length)&&(o.board_models[t]=o.$hcBoard.createBoard().setLazyContainer("pc"===o.client?S()(s=o.$element).call(s,".hc-show-plugins"):angular.element(".ui-view > .home-page.new-index > .plugin-flow")),F()(e.color)&&(null===(i=o.board_models[t])||void 0===i||i.setColor(e.color)),o.board_models[t].setComponent(a()(c=e.components).call(c,(function(e){return Object(P.a)(Object(P.a)({},e),{key:e.key||"component_"+Object(_t.g)()})})),e.groups).setContext(e.context))})),[2]}}))}))},e.prototype.renderBoard=function(){return Object(P.c)(this,void 0,void 0,(function(){return Object(P.e)(this,(function(e){var t;return O()(t=this.board_models).call(t,(function(e){e.refreshBoard()})),[2]}))}))},e.$inject=["$scope","showPluginsService","$element","hcPluginsSettingService","$hcBoard","contextService","$compile"],e}();window.app.component("hcShowPlugins",{controller:dt,template:N.a});n("vl5y");window.app.controller("PCIndexCtrl",["$q","$scope","$rootScope","$state","contextService","dataService","ApplicationService","IndexService","$filter","AuthService","$hcDialog","messageService",function(e,t,n,i,o,c,l,d,p,u,m,g){t.init=function(){t.auth=o.getContext("auth");var e=function(){i.go("set_password_no_bottom",{next:_()({state:"index",params:{}})})};t.auth&&t.auth.company_setting&&t.auth.company_setting.isUserHadChangePassword&&t.auth.user&&c.callHcmOpenApi("user.need.change.password",{user_id:t.auth.user.id}).then((function(t){t&&e()})),t.auth&&t.auth.user&&0===t.auth.user.exist_password&&t.auth.company_setting.FirstLoginSetPassword?e():0===t.menu_style&&d.getMyApplication("pc").then((function(e){var n;t.application_category=p("orderBy")(e,"number"),t.show_portal=t.auth.company_setting.open_portal;var a=i.params.category?r()(i.params.category):null,o=s()(n=t.application_category).call(n,(function(e){return e.id===a}))[0];t.show_portal&&!o||t.categoryChange(o||t.application_category[0])}))},t.showPortal=function(){t.show_portal=!0,n.super_go("index",{category:""},{location:"replace",notify:!1})},t.categoryChange=function(e){var o;e||n.show_warning("未开通任何应用 请先开通"),t.show_portal=!1,n.main_history_state={state:"index",param:{category:e.id}},t.curr_application_category=e.id,t.application_data=a()(o=e.applications).call(o,(function(e){if(e.is_service)e.href=location.pathname+i.href("my_service_summary",{id:e.id});else if(e.url)e.href=e.url;else{var t={};try{"string"==typeof e.param?e.param&&(t=JSON.parse(e.param)):t=e.param}catch(e){}e.href=location.pathname+i.href(e.state,t)}return e})),t.$broadcast("main_index_refresh"),n.super_go("index",{category:e.id},{location:"replace",notify:!1})}}])}}]);